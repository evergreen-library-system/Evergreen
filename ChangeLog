commit 2b8b05e91cc60c0905fc70e81cc5f0439e136c25
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 12 17:26:39 2012 -0400

    Security fix: For auth, give same stacktrace for all cases of LOGIN_FAILED
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	3	Open-ILS/src/c-apps/oils_auth.c

commit a240047ce1181d080dbaeb781da5b07cf4ed7033
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jun 11 14:16:34 2012 -0400

    Security fix: Prevent login by deleted and barred users
    
    An existing comment in the code suggested that we thought we were already
    keeping barred users out.  LP #1010671 brings up that deleted users were
    not being kept out.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

16	2	Open-ILS/src/c-apps/oils_auth.c

commit a01a0dd51c932da0c5236002610d905035edb570
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Jun 11 16:12:54 2012 -0400

    Security fix for Launchpad Bug 1003052.
    
    Bug reported by James Fournie:
    
    Revoking the UPDATE_MARC permission doesn't actually seem to prevent a
    user from editing a record. Our use case is that we would like a user
    to create new records but not edit existing MARC records.
    
    Changing CREATE_MARC to UPDATE_MARC in OpenILS::Application::Cat's
    biblio_record_replace_marc() method seems to fix the problem.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm

commit ee3ed2229e9bcc920e4aba8b7eabe3d3c72a0ee6
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jun 13 10:12:05 2012 -0400

    Fix in-transit hold retarget
    
    Tell the abort transit function to not commit our editor on us, basically.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Transit.pm

commit 03167d0719938f6fcf14dfe648fdeb4c0b70c3a5
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 8 09:26:25 2012 -0400

    Remove unsafe thesaurus/control-set mapping
    
    Evergreen 2.2 and beyond includes new Authority Control Set functionality
    intended to allow the definition of locally defined authority control
    headings.  The primary mechanism for determining which Control Set is used
    by any given authority record is to look at the thesaurus fixed field
    (mnemonic: Subj), which currently must be uniquely linked to a Control Set.
    Failing that (in the case of no thesaurus code at all), there is a backup
    mechanism: if the thesaurus value for the authority record is missing or not
    used by any configured Control Set then Evergreen will look at the first Main
    Entry (1xx) field in the record, and find a control set which uses this field.
    This is, obviously, not perfect, but for non-overlapping authority field
    schemes, it works very well.
    
    However, the seed data for Evergreen currently includes the "no attempt to
    code" value of "|" in the set of thesauri that point to the LoC Control Set.
    This value ("|") is also the default value for the Subj fixed field.  This
    means that the fallback mechanism is very likely never reached, and anything
    short of fully specifying an appropriate thesaurus code for any non-LoC
    authority record will run afoul of a similar outcome as the bib-data loss
    situation described in bug #983487.
    
    We can avoid this situation in most cases by /not/ tying the "|" thesaurus
    value to the LoC control set.
    
    This commit accomplishes this goal by allowing the Control Set for a thesaurus
    to be NULL, removing the Control Set for "|" and removing the Control Set
    recorded for records with "|" as the thesaurus value, thereby forcing Main
    Entry inspection on any use of the authority record where Control Set is
    required.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0717.data.safer-control-set-defaults.sql
13	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
9	1	Open-ILS/web/js/ui/default/cat/authority/list.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0717.data.safer-control-set-defaults.sql

commit 6689a84cce89f60cbac8d0cc55be018043c0da5f
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Jun 12 09:03:31 2012 -0400

    Serial Note Sort Fix
    
    Serial notes are currently sorting backwards from what is intended
    (and what is expected based on other interfaces).  This was caused
    by adding a sort to the middle-layer code which resulted in an
    unwanted double reverse.
    
    [whitespace adjustment by LFW per request of DBS]
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	1	Open-ILS/xul/staff_client/server/serial/notes.xul

commit b6575fd5961b7431ff54e48eefce6be55766e84c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Apr 19 22:37:56 2012 -0400

    fix double-click in Holdings Maintenance
    
    so that it won't attempt to spawn the Item Editor for non-items
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	1	Open-ILS/xul/staff_client/server/cat/copy_browser.js

commit 6da7dfe6e84a19e7717ddd9865bf6a146fbd7cbd
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Jun 11 11:18:08 2012 -0400

    Show Vandelay Buckets in Manage Record Buckets
    
    The 'Manage Record Buckets' view is currently filtered to show
    only 'staff_client' type buckets.  This expands the filter to
    include 'vandelay_queue' buckets.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/record_buckets.js

commit 2b56acffb83db22797ad2a1ddefd2382fe5f92e6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 8 15:51:50 2012 -0400

    Load Vandelay queue list in Inspect Queue
    
    When the Inspect Queue tab is opened, ensure the list of queues for the
    default selected type (bib queues) is loaded.
    
    https://bugs.launchpad.net/evergreen/+bug/1010636
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 3d4fefcba3aa568ddecceb2a70402cf367a20854
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Tue Apr 10 16:12:13 2012 -0400

    LP#845096 - coded_value_map_id_seq doesn't have a proper last_value
    
    Thanks to Kathy Lussier for the original report.  Kathy discovered
    that users were unable to add new Coded Value Maps via the staff client.
    
    With some log digging, I discovered the culprit was a rash of
    primary key errors.
    
    With help from Dan Scott, I was able to rectify this via a quick bit
    of SQL which properly sets the last_value in the sequence.
    
    Thanks, Kathy and Dan!
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
9	0	Open-ILS/src/sql/Pg/upgrade/0716.coded_value_map_id_seq_fix.sql
7	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0716.coded_value_map_id_seq_fix.sql

commit 27959a57b75dca8f41aeaee3d1d066ba672b7bd6
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Jun 7 10:32:59 2012 -0400

    Fix broken non-RSS bookbag feeds
    
    This commit addresses LP#1010036 by defining a stub 'description()'
    method.  Lack of such a method was causing internal server errors
    for other kinds of feeds.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat/Feed.pm

commit d903689dc0dc34cf8ecb41733b6e8c423f3cb783
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Wed Jun 6 14:47:30 2012 -0700

    LP1009752: activate purchase orders with patron requests
    
    Simple typo: "actor_hold_request" should be "action_hold_request".
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit f17d2d7fc723cd642d48c7b1406d6b728a41d67c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Jun 6 23:19:10 2012 -0400

    Update 2.1.2 DB schema upgrade script
    
    As part of the march to 2.1.2, and in time for 2.2.0, update the
    2.1.1-2.1.2 update script.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

70	16	Open-ILS/src/sql/Pg/version-upgrade/2.1.1-2.1.2-upgrade-db.sql

commit 83e1b23d1a1eb658e52e98b1233a7db6a32a70cb
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Jun 6 17:43:33 2012 -0400

    Add TPAC translations
    
    We're still working out our translation update process; new PO files can
    fairly easily slip through the net. Fix that for TPAC, which is a pretty
    big deal for 2.2.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2352	0	build/i18n/po/tpac/ar-AR.po
2457	0	build/i18n/po/tpac/cs-CZ.po
2373	0	build/i18n/po/tpac/de-DE.po
2447	0	build/i18n/po/tpac/en-CA.po
2447	0	build/i18n/po/tpac/en-GB.po
2352	0	build/i18n/po/tpac/es-ES.po
2461	0	build/i18n/po/tpac/fr-CA.po
2352	0	build/i18n/po/tpac/he-IL.po
2352	0	build/i18n/po/tpac/hu-HU.po
2352	0	build/i18n/po/tpac/hy-AM.po
2352	0	build/i18n/po/tpac/oc-FR.po
2467	0	build/i18n/po/tpac/pt-BR.po
2352	0	build/i18n/po/tpac/ru-RU.po
2352	0	build/i18n/po/tpac/sv-SE.po
46	22	build/i18n/po/tpac/tpac.pot
2354	0	build/i18n/po/tpac/tr-TR.po
 create mode 100644 build/i18n/po/tpac/ar-AR.po
 create mode 100644 build/i18n/po/tpac/cs-CZ.po
 create mode 100644 build/i18n/po/tpac/de-DE.po
 create mode 100644 build/i18n/po/tpac/en-CA.po
 create mode 100644 build/i18n/po/tpac/en-GB.po
 create mode 100644 build/i18n/po/tpac/es-ES.po
 create mode 100644 build/i18n/po/tpac/fr-CA.po
 create mode 100644 build/i18n/po/tpac/he-IL.po
 create mode 100644 build/i18n/po/tpac/hu-HU.po
 create mode 100644 build/i18n/po/tpac/hy-AM.po
 create mode 100644 build/i18n/po/tpac/oc-FR.po
 create mode 100644 build/i18n/po/tpac/pt-BR.po
 create mode 100644 build/i18n/po/tpac/ru-RU.po
 create mode 100644 build/i18n/po/tpac/sv-SE.po
 create mode 100644 build/i18n/po/tpac/tr-TR.po

commit b4c3edad17b46035a27d1e885b75b87e711c15e8
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jun 4 18:15:57 2012 -0400

    Commit i18n POT file changes after 'make newpot'
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	build/i18n/po/circ.properties/circ.properties.pot
2186	2193	build/i18n/po/fm_IDL.dtd/fm_IDL.dtd.pot
25	45	build/i18n/po/tpac/tpac.pot

commit e0efa32f9ff2f5d846849844b6c5a409c5fd145b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Jun 6 16:39:10 2012 -0400

    Import updated translations from Launchpad
    
    Lebbeous Fogle-Weekley originally imported these updated translations
    from Launchpad. Dan Scott just weeded out a few metadata-only changes
    to PO files that didn't need to be pushed to git.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

11	11	build/i18n/po/Searcher.js/de-DE.po
14	14	build/i18n/po/Searcher.js/pt-BR.po
7	4	build/i18n/po/XULTermLoader.js/de-DE.po
6	6	build/i18n/po/XULTermLoader.js/pt-BR.po
32	4	build/i18n/po/admin.properties/cs-CZ.po
29	3	build/i18n/po/admin.properties/de-DE.po
32	4	build/i18n/po/admin.properties/en-CA.po
32	4	build/i18n/po/admin.properties/en-GB.po
29	3	build/i18n/po/admin.properties/es-ES.po
40	6	build/i18n/po/admin.properties/fr-CA.po
29	3	build/i18n/po/admin.properties/hy-AM.po
29	3	build/i18n/po/admin.properties/oc-FR.po
37	5	build/i18n/po/admin.properties/pt-BR.po
29	3	build/i18n/po/admin.properties/ru-RU.po
49	11	build/i18n/po/admin.properties/tr-TR.po
47	27	build/i18n/po/authority.js/cs-CZ.po
43	23	build/i18n/po/authority.js/de-DE.po
47	27	build/i18n/po/authority.js/en-CA.po
47	27	build/i18n/po/authority.js/en-GB.po
41	21	build/i18n/po/authority.js/es-ES.po
48	28	build/i18n/po/authority.js/fr-CA.po
46	26	build/i18n/po/authority.js/hy-AM.po
43	23	build/i18n/po/authority.js/oc-FR.po
48	28	build/i18n/po/authority.js/pt-BR.po
8	8	build/i18n/po/capture.js/pt-BR.po
158	30	build/i18n/po/cat.properties/cs-CZ.po
132	19	build/i18n/po/cat.properties/de-DE.po
157	29	build/i18n/po/cat.properties/en-CA.po
147	101	build/i18n/po/cat.properties/en-GB.po
138	66	build/i18n/po/cat.properties/es-ES.po
153	29	build/i18n/po/cat.properties/fr-CA.po
140	109	build/i18n/po/cat.properties/hy-AM.po
147	23	build/i18n/po/cat.properties/pt-BR.po
147	116	build/i18n/po/cat.properties/ru-RU.po
124	17	build/i18n/po/cat.properties/tr-TR.po
56	17	build/i18n/po/circ.properties/cs-CZ.po
36	10	build/i18n/po/circ.properties/de-DE.po
59	18	build/i18n/po/circ.properties/en-CA.po
53	107	build/i18n/po/circ.properties/en-GB.po
51	14	build/i18n/po/circ.properties/es-ES.po
53	16	build/i18n/po/circ.properties/fr-CA.po
48	134	build/i18n/po/circ.properties/hy-AM.po
53	16	build/i18n/po/circ.properties/pt-BR.po
53	139	build/i18n/po/circ.properties/ru-RU.po
31	9	build/i18n/po/common.properties/cs-CZ.po
21	5	build/i18n/po/common.properties/de-DE.po
30	8	build/i18n/po/common.properties/en-CA.po
28	31	build/i18n/po/common.properties/en-GB.po
29	7	build/i18n/po/common.properties/es-ES.po
34	12	build/i18n/po/common.properties/fr-CA.po
27	33	build/i18n/po/common.properties/hy-AM.po
21	5	build/i18n/po/common.properties/oc-FR.po
32	10	build/i18n/po/common.properties/pt-BR.po
27	33	build/i18n/po/common.properties/ru-RU.po
8	4	build/i18n/po/conify.dtd/cs-CZ.po
7	3	build/i18n/po/conify.dtd/de-DE.po
8	4	build/i18n/po/conify.dtd/en-CA.po
9	5	build/i18n/po/conify.dtd/en-GB.po
7	3	build/i18n/po/conify.dtd/es-ES.po
8	4	build/i18n/po/conify.dtd/fr-CA.po
7	3	build/i18n/po/conify.dtd/hy-AM.po
11	7	build/i18n/po/conify.dtd/pt-BR.po
7	3	build/i18n/po/conify.dtd/ru-RU.po
7	3	build/i18n/po/conify.js/cs-CZ.po
7	3	build/i18n/po/conify.js/de-DE.po
8	4	build/i18n/po/conify.js/en-CA.po
9	5	build/i18n/po/conify.js/en-GB.po
7	3	build/i18n/po/conify.js/es-ES.po
7	3	build/i18n/po/conify.js/fr-CA.po
7	3	build/i18n/po/conify.js/hy-AM.po
7	3	build/i18n/po/conify.js/pt-BR.po
7	3	build/i18n/po/conify.js/ru-RU.po
7	3	build/i18n/po/conify.js/tr-TR.po
1726	2554	build/i18n/po/db.seed/cs-CZ.po
1357	2113	build/i18n/po/db.seed/de-DE.po
1652	2471	build/i18n/po/db.seed/en-CA.po
1565	3527	build/i18n/po/db.seed/en-GB.po
1493	2144	build/i18n/po/db.seed/es-ES.po
1816	2418	build/i18n/po/db.seed/fr-CA.po
1813	3952	build/i18n/po/db.seed/hy-AM.po
1347	2099	build/i18n/po/db.seed/oc-FR.po
1687	2478	build/i18n/po/db.seed/pt-BR.po
1530	3604	build/i18n/po/db.seed/ru-RU.po
1287	2039	build/i18n/po/db.seed/tr-TR.po
3032	2309	build/i18n/po/fm_IDL.dtd/cs-CZ.po
2897	2190	build/i18n/po/fm_IDL.dtd/de-DE.po
2978	2252	build/i18n/po/fm_IDL.dtd/en-CA.po
2971	2269	build/i18n/po/fm_IDL.dtd/en-GB.po
2901	2191	build/i18n/po/fm_IDL.dtd/es-ES.po
2889	2182	build/i18n/po/fm_IDL.dtd/fr-CA.po
2970	2268	build/i18n/po/fm_IDL.dtd/hy-AM.po
2957	2236	build/i18n/po/fm_IDL.dtd/pt-BR.po
2962	2260	build/i18n/po/fm_IDL.dtd/ru-RU.po
3310	2074	build/i18n/po/fm_IDL.dtd/tr-TR.po
330	286	build/i18n/po/ils_events.xml/cs-CZ.po
320	282	build/i18n/po/ils_events.xml/de-DE.po
330	289	build/i18n/po/ils_events.xml/en-CA.po
332	502	build/i18n/po/ils_events.xml/en-GB.po
334	303	build/i18n/po/ils_events.xml/es-ES.po
324	513	build/i18n/po/ils_events.xml/fr-CA.po
323	503	build/i18n/po/ils_events.xml/hy-AM.po
326	288	build/i18n/po/ils_events.xml/pt-BR.po
323	500	build/i18n/po/ils_events.xml/ru-RU.po
723	68	build/i18n/po/lang.dtd/ar-AR.po
898	165	build/i18n/po/lang.dtd/cs-CZ.po
759	75	build/i18n/po/lang.dtd/de-DE.po
827	89	build/i18n/po/lang.dtd/en-CA.po
821	99	build/i18n/po/lang.dtd/en-GB.po
756	78	build/i18n/po/lang.dtd/es-ES.po
1182	404	build/i18n/po/lang.dtd/fr-CA.po
822	100	build/i18n/po/lang.dtd/hy-AM.po
809	93	build/i18n/po/lang.dtd/pt-BR.po
803	86	build/i18n/po/lang.dtd/ru-RU.po
2671	1156	build/i18n/po/lang.dtd/tr-TR.po
150	4	build/i18n/po/offline.properties/cs-CZ.po
139	4	build/i18n/po/offline.properties/de-DE.po
140	36	build/i18n/po/offline.properties/en-CA.po
142	38	build/i18n/po/offline.properties/en-GB.po
136	19	build/i18n/po/offline.properties/es-ES.po
133	27	build/i18n/po/offline.properties/fr-CA.po
128	41	build/i18n/po/offline.properties/hy-AM.po
141	7	build/i18n/po/offline.properties/pt-BR.po
130	38	build/i18n/po/offline.properties/ru-RU.po
138	6	build/i18n/po/offline.properties/tr-TR.po
67	10	build/i18n/po/opac.dtd/cs-CZ.po
59	11	build/i18n/po/opac.dtd/de-DE.po
63	36	build/i18n/po/opac.dtd/en-CA.po
63	25	build/i18n/po/opac.dtd/en-GB.po
56	9	build/i18n/po/opac.dtd/es-ES.po
53	51	build/i18n/po/opac.dtd/fr-CA.po
46	8	build/i18n/po/opac.dtd/he-IL.po
53	42	build/i18n/po/opac.dtd/hy-AM.po
46	8	build/i18n/po/opac.dtd/oc-FR.po
71	12	build/i18n/po/opac.dtd/pt-BR.po
51	7	build/i18n/po/opac.dtd/ru-RU.po
53	12	build/i18n/po/opac.dtd/tr-TR.po
18	14	build/i18n/po/opac.js/cs-CZ.po
23	19	build/i18n/po/opac.js/de-DE.po
18	23	build/i18n/po/opac.js/en-CA.po
19	15	build/i18n/po/opac.js/en-GB.po
17	22	build/i18n/po/opac.js/es-ES.po
19	24	build/i18n/po/opac.js/fr-CA.po
17	22	build/i18n/po/opac.js/hy-AM.po
15	20	build/i18n/po/opac.js/oc-FR.po
36	31	build/i18n/po/opac.js/pt-BR.po
16	21	build/i18n/po/opac.js/ru-RU.po
15	11	build/i18n/po/opac.js/sv-SE.po
16	12	build/i18n/po/opac.js/tr-TR.po
178	13	build/i18n/po/patron.properties/cs-CZ.po
151	5	build/i18n/po/patron.properties/de-DE.po
170	7	build/i18n/po/patron.properties/en-CA.po
164	40	build/i18n/po/patron.properties/en-GB.po
151	5	build/i18n/po/patron.properties/es-ES.po
150	40	build/i18n/po/patron.properties/fr-CA.po
148	38	build/i18n/po/patron.properties/hy-AM.po
155	9	build/i18n/po/patron.properties/pt-BR.po
145	38	build/i18n/po/patron.properties/ru-RU.po
151	5	build/i18n/po/patron.properties/tr-TR.po
6	6	build/i18n/po/pickup_and_return.js/pt-BR.po
28	14	build/i18n/po/pull_list.js/tr-TR.po
49	13	build/i18n/po/register.js/cs-CZ.po
48	12	build/i18n/po/register.js/de-DE.po
49	13	build/i18n/po/register.js/en-CA.po
50	14	build/i18n/po/register.js/en-GB.po
47	11	build/i18n/po/register.js/es-ES.po
48	12	build/i18n/po/register.js/fr-CA.po
48	12	build/i18n/po/register.js/hy-AM.po
50	14	build/i18n/po/register.js/pt-BR.po
48	12	build/i18n/po/register.js/ru-RU.po
45	9	build/i18n/po/register.js/tr-TR.po
8	4	build/i18n/po/reservation.js/cs-CZ.po
7	3	build/i18n/po/reservation.js/de-DE.po
8	4	build/i18n/po/reservation.js/en-CA.po
9	5	build/i18n/po/reservation.js/en-GB.po
7	3	build/i18n/po/reservation.js/es-ES.po
7	3	build/i18n/po/reservation.js/fr-CA.po
7	3	build/i18n/po/reservation.js/hy-AM.po
12	8	build/i18n/po/reservation.js/pt-BR.po
7	3	build/i18n/po/reservation.js/ru-RU.po
16	4	build/i18n/po/selfcheck.js/cs-CZ.po
15	3	build/i18n/po/selfcheck.js/de-DE.po
17	5	build/i18n/po/selfcheck.js/en-CA.po
17	5	build/i18n/po/selfcheck.js/en-GB.po
15	3	build/i18n/po/selfcheck.js/es-ES.po
15	3	build/i18n/po/selfcheck.js/fr-CA.po
15	3	build/i18n/po/selfcheck.js/hy-AM.po
18	6	build/i18n/po/selfcheck.js/pt-BR.po
15	3	build/i18n/po/selfcheck.js/ru-RU.po
52	4	build/i18n/po/serial.properties/cs-CZ.po
51	3	build/i18n/po/serial.properties/de-DE.po
52	4	build/i18n/po/serial.properties/en-CA.po
63	4	build/i18n/po/serial.properties/en-GB.po
51	3	build/i18n/po/serial.properties/es-ES.po
65	17	build/i18n/po/serial.properties/fr-CA.po
51	3	build/i18n/po/serial.properties/hy-AM.po
65	18	build/i18n/po/serial.properties/pt-BR.po

commit 48f331f864bd152d535e3eeb7453a3af936c7d03
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 5 17:44:37 2012 -0400

    Address LP #983487: Avoid clobbering bib records at authority merge
    
    If you've set up a relationship between bib record and authority records
    based on arbitrary sets of controlling and controlled fields, but your
    authority records don't have the right Subj fixed field value
    corresponding to a control set that defines the controlling and
    controlled fields you're using, authority merge operations may wipe out
    lots of bib data.
    
    Yamil Suarez encountered this bug in testing, and in his case what he
    needed to do was set the Subj fixed field in his authority records to
    'A' to match his Song Title Index (see the launchpad bug referened
    above).
    
    Previously, you could not actually save the Subj fixed field in the MARC
    editor (which showed HeadSubj instead of Subj for authority records, and
    didn't work).  Now you can.
    
    Thanks to Mike Rylander for help in figuring out the above.
    
    To provide additional protection against merging authority records when
    they might not be linked with the right control set, the Manage
    Authorities interface will now also show you the linked control set for
    any given records.
    
    The implementation of that last bit incidentally meant making sure flesh
    and flesh_fields get passed through to PermaCrud for retrieve() calls via
    the Javascript openils.PermaCrud wrapper.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	1	Open-ILS/src/templates/cat/authority/list.tt2
5	1	Open-ILS/web/js/dojo/openils/PermaCrud.js
42	8	Open-ILS/web/js/ui/default/cat/authority/list.js
2	2	Open-ILS/xul/staff_client/server/cat/marcedit.xul

commit 70549fc6d80138c0ae5e40c8dad20872a7f169d1
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 5 09:17:52 2012 -0400

    Move 2.0.11 upgrade script into version_upgrade dir
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

0	501	Open-ILS/src/sql/Pg/2.0.10-2.0.11-upgrade-db.sql
501	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.10-2.0.11-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/2.0.10-2.0.11-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.10-2.0.11-upgrade-db.sql

commit 173814a3879ad7a07f93777d12815e09da4209be
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu May 10 13:56:41 2012 -0400

    Add the 2.0.10-2.0.11 upgrade script.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

501	0	Open-ILS/src/sql/Pg/2.0.10-2.0.11-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/2.0.10-2.0.11-upgrade-db.sql

commit 0d911b2deddd4da6ee19d6db389e47a7e8b86baf
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Jun 2 20:06:30 2012 -0400

    Distinguish route-to-cataloging exception circ messages
    
    It appears as though a copy-and-paste error introduced duplicate keys in
    circ.properties, which in turn makes newer versions of the Translate
    Toolkit unhappy and results in empty translated files. Tracing through
    the pertinent code in xul/staff_client/server/circ/util.js, it looks
    like the desired key was for "not_found" for the second "cataloging" key
    - so change that accordingly.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit aa202b8a38d324a38ed0d8bd8552cc134f522c26
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Jun 2 19:51:55 2012 -0400

    Fix check for duplicate strings in i18n properties
    
    We had the core of the check in place - just failed to check the
    property we were iterating over. Doh.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	2	build/i18n/tests/check_properties.py

commit a1f162511387dc526a62caa9dbbf488ad5cae8f1
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 9 10:30:17 2012 -0400

    LP975422 patron search from portal/splash page
    
    make it consider the "Patron circulation summary is horizontal" library setting
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

3	5	Open-ILS/xul/staff_client/server/index.xhtml

commit 6221c8988575adaf7960c2af8036c1ab986a97e9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu May 3 16:36:38 2012 -0400

    TPAC: Prevent unitialized variable warnings in My Account (repair)
    
    The logic in the second IF test was slightly altered by the fix.  An
    undef value for username_unlimit should result in executing the block.
    Since org setting values are stored as real boolean values, I simplified
    the test to a simple if(!username_unlimit) test.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit acaf02983269ac9a12442eea179451ed9e5185a9
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Apr 10 23:34:24 2012 -0400

    TPAC: Prevent unitialized variable warnings in My Account
    
    Viewing a user's account preferences would trigger two uninitialized
    variable warnings if the corresponding org unit settings were not set.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 8b2282731b14c166b5b0b64044d01d9f138a4a10
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 23 15:17:50 2012 -0400

    ACQ guarantee no PO re-activation
    
    Prevent the possibility of double PO activation by preventing it within
    the API.  There have been reports in the wild of double-activation, even
    though the UI is supposed to prevent it.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 4bf9e821db2756f93a8ca149ffebfdaa9a3f9d7a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jun 1 15:43:54 2012 -0400

    Fix broken menu entries under "Other -> Booking" in patron interface
    
    This issue was reported to me by Steve Callender.  The menu entries
    under "Other -> Booking" had all stopped working.
    
    There's a catalog of URL constants under window.urls sometimes, and
    formerly (or other times?) at xulG.urls for XUL-based staff client
    interfaces.  There's a new-tab-opening method that needed to be more
    flexible when looking for that catalog.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/web/js/dojo/openils/XUL.js

commit 765db53ef7bff1129641e24e7d1b5d0cf954f16f
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Thu May 31 23:31:11 2012 -0400

    lp#1007248: tweak order in which pgt rows are renumbered
    
    Need to renumber from highest to lowest.  Because the primary
    key constraint is not deferred, doing the renumbering in a single
    statement will fail if there is overlap between the set of
    existing pgt.id values and the set of {pgt.id + 100}.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	1	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql

commit efedb3be5075d11f9c60c2f9814d5cdcd6c1f540
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri May 25 14:41:18 2012 -0400

    TPAC bookbag CGI param changed to bbid
    
    To avoid propagating a generic URL parameter like 'id', which can be
    picked up by other pages and cause breakage, use 'bbid' instead.  Also,
    clear the 'bbid' param from the my-account tabs.
    
    While we're in there, silence an uninitialized string warning.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
8	8	Open-ILS/src/templates/opac/myopac/lists.tt2
1	1	Open-ILS/src/templates/opac/parts/myopac/base.tt2

commit 518118a3114d4faa5a8b690c11fee08f54cdadef
Author: Jeff Davis <jdavis@sitka.bclibraries.ca>
Date:   Wed Apr 11 12:04:19 2012 -0400

    LP#856708 - Scrolling/div size issues in action trigger interface
    
    The event definition content pane does not properly accommodate its contents.
    In the Event Definitions tab, the list of event definitions exceeds the height of the
    pane, but you can't scroll all the way down to the bottom of the list -- some of the
    content gets cut off. Likewise, when editing an event definition, you can't scroll
    all the way to the bottom of the page; the Cancel and Save buttons are cut off, and
    you have to use the Tab key to move the focus down to those buttons, which forces
    the pane to scroll to the bottom so that they're visible.
    
    Signed-off-by: Jeff Davis <jdavis@sitka.bclibraries.ca>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/src/templates/conify/global/action_trigger/event_definition.tt2

commit 6ea45e80f34eadec2a2477c7f45df41c1669e32e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri May 25 14:54:23 2012 -0400

    Stamping upgrade for ACQ org setting group
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
12	0	Open-ILS/src/sql/Pg/upgrade/0715.data.add_acq_config_group.sql
0	6	Open-ILS/src/sql/Pg/upgrade/XXXX.data.add_acq_config_group.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0715.data.add_acq_config_group.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.add_acq_config_group.sql

commit 671976a54756dd226205ac2fc756f03cf9a29267
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Apr 11 21:56:56 2012 -0400

    Group acquisition OU settings in a new "Acquisitions" group
    
    As seen in LP867465, the current grouping of acquisition OU settings
    under the generic "lib" group leads to confusion about which
    context "default shelf location" and the like apply to. Creating a new
    "Acquisitions" group will help clarify that current ambiguity.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	9	Open-ILS/src/sql/Pg/950.data.seed-values.sql
6	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.add_acq_config_group.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.add_acq_config_group.sql

commit a5ee0ed4d2d0fa029e86050fdb7a826363b109d9
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue May 8 14:20:24 2012 -0400

    Acq: Use scope to constrain choice of lineitem alerts
    
    This commit addresses this launchpad bug:
    https://bugs.launchpad.net/evergreen/+bug/996033
    
    The controlled vocabulary of acq lineitem alert text is set up in an
    interface labeled "Line Item Alerts" in the staff client admin menu. In
    the PO and selection list interfaces (where alerts can be applied), we
    will limit the user to selecting alerts from those owned at the user's
    workstation org unit (or its ancestors).
    
    When we display applied alerts, we can also display the shortname of the
    org unit at which the alert text is defined (the owning_lib column).
    This should help clarify what's going on with alerts that have already
    been applied using alert text from another org unit.
    
    [Amended since original reference on Launchpad to also show the
    owning_lib's shortname when confirming alerts at receive time.]
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

21	3	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 7fbf365a628ce6da7debd46b853371e478d118bb
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri May 25 03:26:15 2012 -0400

    README: Backport changes to README from master (27320c83)
    
    The OpenSRF prereq had already been bumped to 2.1 in the rel_2_2 branch,
    which was unexpected as the same change had not occurred in master.
    However, we can apply the other diffs from 27320c83 here:
    
    Use a title that fits into the DIG documentation more smoothly, and
    be consistent about sentence-style capitalization of sub-headings.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

3	3	README

commit f44f3f730d761aeea9926a8d15e486aa59b47084
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue May 22 16:22:14 2012 -0400

    TPAC: recover the ability to override hold placement failures
    
    There is a certain class of hold failure events (e.g. HOLD_EXISTS,
    HOLD_ITEM_CHECKED_OUT) that can be overridden by patrons when they have
    the correct override permission.  This change recovers that ability,
    which was recently removed with 99e8fc893a.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 1f1235905d934446f0732e842bd0be91f33e7b73
Author: Jason Stephenson <jason@sigio.com>
Date:   Fri May 18 22:51:14 2012 -0400

    Add libnet-https-any-perl as precise deb requirement in Makefile.install.
    
    Business::OnlinePayment::PayPal requires it, and it does not always want
    to install from CPAN. It says it require either Net-SSLeay or
    Crypt-SSLeay but the CPAN package never wants to install unless they
    both are installed. The deb package for Ubuntu seems to do the right
    thing.
    
    Signed-off-by: Jason Stephenson <jason@sigio.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/src/extras/Makefile.install

commit d87ff5e89609bdc1434952ddb4306f8f483009f7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed May 16 15:55:23 2012 -0400

    Vandelay authority existing queue search repair
    
    When searching for an existing authority queue, search for an authority
    queue, not a bib queue.  Apart from simply not working, the query will
    fail with an "invalid input value for enum vandelay.bib_queue_queue_type"
    and result in a client-side error.
    
    https://bugs.launchpad.net/evergreen/+bug/989391
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 27cfefce8b098f5acc210c73c7c992aba070998e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon May 14 12:46:44 2012 -0400

    Avoid collisions of normalized values going into metabib.browse_entry
    
    This fixes a bug that prevented successful reingestion of bib records
    during the 2.1->2.2 upgrade in some cases.  Reported by George Duimovich.
    
    Key part here:
    
    > ERROR: duplicate key value violates unique constraint
    > "browse_entry_value_key"
    > DETAIL: Key (value)=(545575) already exists.
    > CONTEXT: SQL statement "INSERT INTO metabib.browse_entry (value) VALUES
    >                     (metabib.browse_normalize(ind_data.value,
    
    George confirmed that the changes to the version upgrade script fixed
    the problem for him.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
78	0	Open-ILS/src/sql/Pg/upgrade/0711.schema.reingest_avoid_collision_better.sql
11	3	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0711.schema.reingest_avoid_collision_better.sql

commit 172ebd640cbed0a6fbebcfdb3e0ff494f4f35ee4
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri May 11 15:59:37 2012 -0400

    Be more prepared for malformed serial holding code data in upgrade scripts
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
27	0	Open-ILS/src/sql/Pg/upgrade/0710.schema.stricter-could-be-holding-code.sql
17	2	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0710.schema.stricter-could-be-holding-code.sql

commit 0c04d111f824fc6ddb936982072b303d3899ec63
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri May 11 10:45:39 2012 -0400

    Move PLPERL dropping outside of 2.1-2.2 upgrade transaction
    
    Sites might have added custom PLPERL database functions for migrations,
    data clean up, etc, so don't make the success of the 2.1-2.2 upgrade
    hinge on a database schema that exactly matches vanilla Evergreen;
    just move it outside of the upgrade transaction and output a reassuring
    note.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

9	4	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 6238c9e0cbdd778c5a6944023d0ab305ccc77a01
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Apr 18 12:05:20 2012 -0400

    Add missing weights fm_IDL entries
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	0	Open-ILS/examples/fm_IDL.xml

commit 7f46dc3ada677bbfdd056e3da6dd01e7482abb51
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu May 10 16:19:26 2012 -0400

    In the 2.1-2.2 upgrade script, move 0691 into a failures-are-ok zone
    
    Mainly because it's already covered in the 2.1.1-2.1.2 upgrade script.
    Thanks to George Duimovich for pointing this out in LP #997759.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

19	13	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 749de68d7d24f4007095149c7b90d090b782ab8a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu May 10 11:05:54 2012 -0400

    Version Upgrade Cleanup
    
    Merge tacked on transactions into the "primary" transaction.
    Add in 0708 for tracking purposes.
    
    Separate 0672 and 0679+0680 in the version-to-version upgrade script
    They're all potentially slow.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

6352	6346	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 123751f55c82babf83ad9a219722c3d15cbcca2e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri May 4 09:18:10 2012 -0400

    Check if transaction needs closing after adding billings
    
    This addresses the issue where issuing refunds results in a negative
    ballance and it is then impossible to close the transaction by creating
    new billings.
    
    https://bugs.launchpad.net/evergreen/+bug/758982
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit b3ef0085bcdf7eb64f1098f930614781f52652cd
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon May 7 14:13:17 2012 -0400

    Nearest Hold: Look at 100 instead of 10 holds
    
    At the suggestion of Mike Rylander.
    
    Because DB-wise the extra 90 IDs isn't a big deal, and this way we get more
    chances to capture (or block renewal, etc).
    
    Jeff Godin claims they have done this and it has produced no issues for them.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 6bbd80935eb8c973e2b70301723cfca665ea4584
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon May 7 11:59:10 2012 -0400

    Hold Capture: Run permit tests on "old" holds
    
    Because we shouldn't be trusting that the copies are still valid.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 6da6518478c447015c946742524908d7d4a11a68
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon May 7 11:40:41 2012 -0400

    Hold Editing: Retarget on some changes
    
    The main thing to cover is pickup library, but check a few other things too.
    
    Note that most of what is being checked likely doesn't change in any normal
    workflows or interfaces, but it looks like they could anyway later.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

15	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 4604b1cf21eecf7ab3ffb500235fb0182a335e1e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon May 7 11:00:14 2012 -0400

    Hold Targeter: Ensure old best still valid
    
    Re-using a now invalid copy is a bad idea for various reasons.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

16	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 69dc5150c697e525f3c2ff41b3f578e5912e2b16
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Apr 13 13:26:59 2012 -0400

    Default email/phone hold pickup in TPac
    
    Like JSPac does, but currently without the check of having phone/email.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/web/js/ui/default/opac/staff.js
1	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit dfb7054c3a943e98f2c95d4e598e48c6e20f402e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed May 9 08:42:58 2012 -0400

    Retarget Local Holds: Use part ID properly
    
    Because the mapping ID is meaningless unless you only create one part at a
    time, assign them only once in the order you created them, etc.
    
    Which I think pretty much describes most of my original test cycle.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit c1cc6340e8f28a1180021650b52946f5b3d63057
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue May 8 11:25:23 2012 -0400

    TPAC: Keep site() and depth() out of basic search box when widgets suffice
    
    This is a short term but working solution to the problem described here:
    https://bugs.launchpad.net/evergreen/+bug/986196
    
    Now when you have a selection for site on the advanced search page, it
    doesn't lead to redundant site() and depth() terms in your basic search
    query box.
    
    Item type selections and search class selections (keyword/author/etc)
    can still lead to ugliness in the advanced search box, but that's
    because in the advanced search page you get a multi-select widget for
    item type and in a basic search page you only get a single-select
    dropdown, so there's not a clean way to map your advanced page
    selections to basic page selections.  Search classes are kind of the
    same issue, since you have three dropdowns on the advanced search page
    and one on the basic.
    
    So the "bigger" problem is one that we will have to solve later, but for
    the common case at least we don't get the extra site() and depth() for
    now.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

19	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit 0f077d46f7d01d3e9d9242bbbdd261f4cf8a8666
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon May 7 15:42:35 2012 -0400

    Fix hold has copy at lookup
    
    Filter on available or reshelving, and add more hold type support for lookup
    purposes (parts and issuance holds).
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

18	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit d75dd05fa05cac8d7f0133ba77c40bf4282a9bbf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri May 4 10:33:43 2012 -0400

    Adding a small pile of missing permissions
    
    ADMIN_ADDRESS_ALERT
    VIEW_ADDRESS_ALERT
    ADMIN_COPY_LOCATION_GROUP
    ADMIN_USER_ACTIVITY_TYPE
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
10	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
48	0	Open-ILS/src/sql/Pg/upgrade/0709.data.misc_missing_perms.sql
49	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0709.data.misc_missing_perms.sql

commit 9fb4226e07fa22cf53aabee8c2c11a364bb70f59
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri May 4 12:07:35 2012 -0400

    TPAC: repair staff client End link for showing last record
    
    In the embedded TPAC, when staff clicks the End link in the record
    detail page to jump to the last record in the search results, it now
    makes an intermediate jump through search code, which locates the last
    record in the set (via CGI param find_last) then redirects to the record
    detail page for the last record.  With this approach, we don't have to
    pre-fetch the entire set of record IDs just to render the paging links.
    Tip o' the hat to Mike R. for the design suggestion.
    
    https://bugs.launchpad.net/evergreen/+bug/984070
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

13	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/src/templates/opac/parts/js.tt2

commit 88a04e578b611c186cb652205ade0423373c761b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sat Apr 28 14:12:53 2012 -0400

    TPAC: more intelligent detail paging #1
    
    Only fetch a small page of records at a time when generating the paging
    links in the detail page.
    
    Part 2 will be to repair the 'Last' record button in the staff client,
    which will not work with this change.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

3	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
3	2	Open-ILS/src/templates/opac/parts/record/body.tt2

commit f1e0d8845dadabd42fb01ad063c38d3d9455fc27
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed May 9 09:08:13 2012 -0400

    TPac: Barcodes default to starting with digits
    
    Because otherwise there is likely to be a lot of confusion when barcodes no
    longer work, at all, for login when groups have no barcode regex.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 4e093729f14085270072ee71d4c0d09b86cfcb52
Author: Bradley M. Kuhn <bkuhn@ebb.org>
Date:   Sat Apr 28 09:39:12 2012 -0400

    Consensus was reached to remove editor-specific globs from .gitignore.
    
    In a highly overengineered discussion out of scope with the actual breadth
    of this very minor issue, everyone has come to the conclusion that
    editor-specific globs don't really belong in the project's .gitignore,
    given that git permits a global-level ignore file for users.
    
    Instead, a HACKING file is herein added, with its first entry to explain
    how developers can set the own global gitignore.
    
    Signed-off-by: Bradley M. Kuhn <bkuhn@ebb.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	3	.gitignore
67	0	HACKING
 create mode 100644 HACKING

commit 0ad1554bbe7883f39e4a764355ba32a180eb5aea
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Apr 18 10:41:27 2012 -0400

    AutoSuggest: Escape ampersands properly
    
    This fixes an issue reported by Yamil Suarez.
    
    If you had relatively technical users composing searches with
    QueryParser syntax, or if they were just typing ampersands for any
    other reason, AutoSuggest would behave as if the ampersand marked the end
    of user input.
    
    This is fixed by applying the correct URI-encoding function for the
    situation.
    
    To be clear, QueryParser syntax does not actually affect suggestions;
    such syntax is ignored.  AutoSuggest is not search.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/web/js/dojo/openils/AutoSuggestStore.js

commit ce1f440f8c4f444e6984ddd2a3bdbb21b8ea802a
Author: Steven Callender <stevecallender@esilibrary.com>
Date:   Tue May 8 17:15:14 2012 -0400

    lp996776: Patch to fix the response if no configured status is detected.
    
    SIP response messages that use circulation_status where defaulting to just 1
    rather than 01 if the status was not detected. Since SIP needs a 2 character
    response, this was causing issues in some 3rd party devices. Added quoting
    around the 01 to force the 2 characters.
    
    Signed-off-by: Steven Callender <stevecallender@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Item.pm

commit 8cf4831ccebc781f4096775d6350725a4dad9c77
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Mar 30 15:58:32 2012 -0400

    Stop saving patron barcode in cookies
    
    This causes bad interactions between patron windows and normal catalog
    windows. Examples:
    
    Load a patron, load place hold catalog in patron window. Future loads of
    non-patron catalogs will default to this patron.
    
    Load Patron A from written note, and open Place Hold catalog. Start
    searching for the item Patron A wants.
    Get interupted by Patron B calling. Load Patron B, and open Place Hold
    catalog. Search, place a hold for Patron B.
    Return to Patron A, find item, go to place hold. Find Patron B's barcode
    populated.
    
    Instead, teach the staff javascript, that already knows how to load hold
    preferences, how to grab the barcode from xulG. This barcode should be
    specific to the patron window the catalog is embedded in, and won't 'leak'
    to other catalog interfaces.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	12	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
9	21	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	2	Open-ILS/src/templates/opac/parts/place_hold.tt2
11	5	Open-ILS/web/js/ui/default/opac/staff.js
1	4	Open-ILS/xul/staff_client/server/patron/holds.js

commit 18a89cc2a1b948ab342003ad8f856483033f048e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue May 8 12:52:02 2012 -0400

    Roll back libjs version to 1.7.0
    
    The install version of libjs (Spidermonkey) had been bumped to the
    latest, 1.8.5, but it turned out that the tests for that had probably
    been run on a system that had an old version of libjs source and/or
    installed headers/libraries in place, as building libjs 1.8.5 is a
    different beast entirely (different directory structure, etc).
    
    In addition, there are several bugs along the lines of
    https://rt.cpan.org/Public/Bug/Display.html?id=75058 that strongly
    suggest that libjs-1.8.5 is not compatible with the
    JavaScript::SpiderMonkey 0.21 Perl module.
    
    Therefore, roll back to the tried-and-true libjs 1.7.0.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	1	Open-ILS/src/extras/Makefile.install

commit d8c27f7aa7714989de9c317b691273ad6ab944c7
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Mon May 7 11:08:06 2012 -0700

    We can't assume that 0526 was in fact run previously so we need to drop these more safely
    to avoid producing an error if 0526 wasn't run previously
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	3	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 6f87ece52f6ee0f63cd67550c9cd4a72d286f7eb
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue May 8 09:25:19 2012 -0400

    fix typo in CC payment form
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/templates/circ/selfcheck/payment.tt2

commit 3a6391ea3f3a46dccbea39071aebccd56be7f8f1
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Mon May 7 10:57:30 2012 -0700

    Upgrade 0704 was missing from the 2.1-2.2 upgrade script.
    
    That upgrade added a parameter to search.query_parser_fts, without it,
    Evergreen passes 11 parameters to the database but the searches fail because
    there's only a 10 parameter function in the database.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

342	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit bcfe998dec4de62a55c08ce899b6e35a21f25d81
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri May 4 14:46:16 2012 -0400

    Stamping upgrade for 'inheritied' typo repair
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0708.data.fix_inheritied_typo.sql
0	7	Open-ILS/src/sql/Pg/upgrade/XXXX.data.fix_inheritied_typo.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0708.data.fix_inheritied_typo.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.fix_inheritied_typo.sql

commit d9cbe999e08c42f39cb44bf15e21a7a39d1e14f6
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri May 4 14:14:12 2012 -0400

    Fix "inheritied" typo in global flag
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
7	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.fix_inheritied_typo.sql
2	2	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
1	1	Open-ILS/src/templates/opac/parts/org_selector.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.fix_inheritied_typo.sql

commit 74576fdd67bda07aad95d7164c521243d4c95b38
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri May 4 13:55:55 2012 -0400

    Fix typo in TPAC noticed by Warren Layton
    
    Expiration needs to be spelled correctly; Warren Layton pointed out the
    typo while working on a translation of the derived tpac.pot file. Many
    thanks, Warren!
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/myopac/main_payment_form.tt2
1	1	build/i18n/po/tpac/tpac.pot

commit 946e4c5b1111d5352e14c783df0f4edef7267d30
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri May 4 12:23:19 2012 -0400

    Add missing upgrade scripts 0705, 0707 to point-to-point upgrade script
    
    These come from bugfixes I pushed to master and rel_2_2 on 28 April 2012
    without remembering to address the point-to-point version upgrade script.
    
    See c208754eafadb005439800f7fedd33241fca7b65 (LP #980199) and
    89438b46fc39270ac3d47345cd99caacf6b6dee1 (LP #919279).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

52	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit fcac52e93c675fb28aeb17295c534d5986886139
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Apr 9 16:31:06 2012 -0400

    Prereqs: Remove Ubuntu Hardy references
    
    We no longer support Ubuntu Hardy 8.04, so ditch any references to it in
    the prerequisite installer.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	9	Open-ILS/src/extras/Makefile.install

commit e625cada38ea808b6a52c766e065c4700142209e
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Apr 9 16:29:46 2012 -0400

    Prereqs: update to latest available versions
    
    * JavaScript-SpiderMonkey: from 0.20 to 0.21
    * libjs: from 1.7.0 to 185-1.0.0
    * yaz: from 4.2.17 to 4.2.32
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	3	Open-ILS/src/extras/Makefile.install

commit f0f22b278cfc903561dc2d819e05f41c7ebe1e2c
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Apr 9 16:23:08 2012 -0400

    Prereqs: Remove references to CentOS / RHEL
    
    The prereqs were focused on the 5.x series for CentOS and RHEL, which is
    hella-out-of-date and never really worked anyway. Get rid of the noise
    to focus on the signal.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	91	Open-ILS/src/extras/Makefile.install

commit a63fd6ce5d3007803a71d42b823aa32613f14cc8
Author: Dan Wells <dbw2@calvin.edu>
Date:   Wed Apr 25 15:56:20 2012 -0400

    Allow subscriptions at org units without volumes
    
    Subscriptions are sometimes owned at the consortium or system
    level, so forcing can_have_vols() to be true was incorrect.
    
    This commit removes those checks.  In addition, we also remove
    some dead code and make the subscription org unit selector
    consistent with the distribution org unit selector.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	0	Open-ILS/xul/staff_client/server/serial/manage_dists.js
3	0	Open-ILS/xul/staff_client/server/serial/manage_items.js
24	330	Open-ILS/xul/staff_client/server/serial/manage_subs.js
1	1	Open-ILS/xul/staff_client/server/serial/ssub_editor.js

commit 5e57d647a3b29b296dfc5036d6a5e54ad84651df
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu May 3 16:44:14 2012 -0400

    Add indexes to 2.1.2 upgrade script to speed up acq search
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

12	0	Open-ILS/src/sql/Pg/version-upgrade/2.1.1-2.1.2-upgrade-db.sql

commit dc1675b9f79091e4657fda4e41b5c5571c143ea1
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 26 11:09:14 2012 -0400

    Add ISSN fix to the version upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

24	0	Open-ILS/src/sql/Pg/version-upgrade/2.1.1-2.1.2-upgrade-db.sql

commit aedf2bde4e4610ef0e2de01f2fbef1b827822b2a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 2 15:23:06 2012 -0400

    Address date sorting in Item Status and Copy Buckets interfaces, too
    
    > The sort_value function for the date columns being used in those
    > interfaces had no error protection, and were returning empty strings
    > upon failure.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	7	Open-ILS/xul/staff_client/chrome/content/util/list.js
1	4	Open-ILS/xul/staff_client/server/admin/offline_manage_xacts.js
178	32	Open-ILS/xul/staff_client/server/circ/util.js
0	1	Open-ILS/xul/staff_client/server/patron/bill2.js
0	2	Open-ILS/xul/staff_client/server/patron/bill_details.js
0	1	Open-ILS/xul/staff_client/server/patron/bill_history.js
0	1	Open-ILS/xul/staff_client/server/patron/search_result.js
0	2	Open-ILS/xul/staff_client/server/patron/standing_penalties.js
74	60	Open-ILS/xul/staff_client/server/patron/util.js

commit c4bfb05af96266a580974c375a4b78045bf1064f
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed May 2 14:01:00 2012 -0400

    Fix date sorting in patron-related XUL interfaces
    
    Null time stamps are now converted to dates in the Middle Paleolithic
    era so they always sort as the lowest date.
    
    Seriously, this is the minimum possible date you can express with a JavaScript
    date object.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	2	Open-ILS/xul/staff_client/chrome/content/util/date.js
17	1	Open-ILS/xul/staff_client/server/patron/util.js

commit 3501dd8f265bce21c1952d0ea46b439f4c9386c6
Author: Jeff Godin <jgodin@tadl.org>
Date:   Tue Apr 17 10:46:22 2012 -0400

    Fix LP 984039: correct Syndetic Kirkus Reviews
    
    Use correct "filename" component of URL for retrieving Kirkus
    Reviews content from Syndetic Solutions.
    
    Correct filename confirmed by Bowker technical support, and by
    empirical tests.
    
    Signed-off-by: Jeff Godin <jgodin@tadl.org>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/Syndetic.pm

commit 61cca819d8ee767a907bc1dbd54c3921beb226ee
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Apr 3 14:45:10 2012 -0400

    Fix some "null" instead of blank values in JSPac
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/web/opac/skin/default/js/holds.js
5	3	Open-ILS/web/opac/skin/default/js/myopac.js

commit 28e63defd7f546638f28cb009f3b7f39d35a6069
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 1 01:52:56 2012 -0400

    Release notes: clean up and introduce TPAC
    
    General clean-up of the release notes for consistency and to support
    PDF output:
    
    * Reformat line-widths to 80 characters or less
    * Mark interface window and element names as bold
    * Fix up some formatting glitches and headers
    * Make the "Documentation is available..." note standard & separated
      by one line; I suspect we will want to modify this globally, so it
      will be easier if it is consistent.
    
    Also, give a brief introduction to the TPAC and mention the forthcoming
    JSPAC deprecation in the next feature release.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

323	108	docs/RELEASE_NOTES_2_2.txt

commit 93fd461a6a4708d89b4a2326463cb33a5199286c
Author: Kathy Lussier <klussier@masslnc.org>
Date:   Tue May 1 01:26:28 2012 -0400

    LP992377: More 2.2 release notes from Kathy Lussier
    
    Kathy Lussier <klussier@masslnc.org> contributed significant additions
    to the 2.2 release notes in https://bugs.launchpad.net/bugs/992377 -
    thanks Kathy!
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

158	11	docs/RELEASE_NOTES_2_2.txt

commit 5fff64eb680041e027ec5f2e387c7b5fd855bcb0
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Apr 30 07:22:01 2012 -0400

    additions to release notes for 2.2
    
    Written by Sally Fortin <sfortin@esilibrary.com>
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

132	8	docs/RELEASE_NOTES_2_2.txt

commit 22b5b0b235e0e5b3fb8fba97c7aec50977f12d81
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Mar 21 16:33:39 2012 -0400

    Vandelay match set permission additions
    
    Allow retrieve access for match points with the VIEW_IMPORT_MATCH_SET
    permission (in addition to ADMIN_IMPORT_MATCH_SET).
    
    Adds 2 new permissions to the database:
    
    ADMIN_IMPORT_MATCH_SET
    VIEW_IMPORT_MATCH_SET
    
    From Jason Stephenson resolving conflicts:
    > Conflicts:
    >
    > 	Open-ILS/src/sql/Pg/950.data.seed-values.sql
    >
    > I had to change the ids of the new permissions because another branch
    > had used one of the ids since this branch was last rebased.  I also edited
    > the ids in the upgrade script to match what is in 950.data.seed-values.sql.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	2	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
5	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
29	0	Open-ILS/src/sql/Pg/upgrade/0707.data.vandelay_perms_etc.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0707.data.vandelay_perms_etc.sql

commit d95ae9ee2c58b5c3ce13a738f4960a5849ca3786
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Apr 28 15:52:54 2012 -0400

    Update POT files for translators
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	2	build/i18n/po/XULTermLoader.js/XULTermLoader.js.pot
240	184	build/i18n/po/acq.js/acq.js.pot
28	2	build/i18n/po/admin.properties/admin.properties.pot
39	19	build/i18n/po/authority.js/authority.js.pot
4	2	build/i18n/po/capture.js/capture.js.pot
197	16	build/i18n/po/cat.properties/cat.properties.pot
35	9	build/i18n/po/circ.properties/circ.properties.pot
20	4	build/i18n/po/common.properties/common.properties.pot
6	2	build/i18n/po/conify.dtd/conify.dtd.pot
23	7	build/i18n/po/conify.js/conify.js.pot
1519	2173	build/i18n/po/db.seed/db.seed.pot
2886	2178	build/i18n/po/fm_IDL.dtd/fm_IDL.dtd.pot
403	311	build/i18n/po/ils_events.xml/ils_events.xml.pot
754	65	build/i18n/po/lang.dtd/lang.dtd.pot
136	2	build/i18n/po/offline.properties/offline.properties.pot
45	4	build/i18n/po/opac.dtd/opac.dtd.pot
23	12	build/i18n/po/opac.js/opac.js.pot
150	4	build/i18n/po/patron.properties/patron.properties.pot
45	8	build/i18n/po/register.js/register.js.pot
9	2	build/i18n/po/reservation.js/reservation.js.pot
20	3	build/i18n/po/selfcheck.js/selfcheck.js.pot
50	2	build/i18n/po/serial.properties/serial.properties.pot
22	22	build/i18n/po/tpac/tpac.pot

commit cb08c47491ca8269b7e51f4750b080b71fde5c89
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Apr 28 14:12:43 2012 -0400

    Update translations from Launchpad
    
    Includes a small update to the update_pofiles to make it easier for
    release managers and release maintainers to run translation updates.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	5	build/i18n/po/AutoFieldWidget.js/es-ES.po
6	6	build/i18n/po/Searcher.js/de-DE.po
10	10	build/i18n/po/Searcher.js/es-ES.po
178	0	build/i18n/po/Searcher.js/pt-BR.po
5	5	build/i18n/po/admin.properties/fr-CA.po
26	19	build/i18n/po/auth.properties/ar-AR.po
5	5	build/i18n/po/capture.js/de-DE.po
28	25	build/i18n/po/capture.js/fr-CA.po
5	5	build/i18n/po/cat.properties/cs-CZ.po
8	22	build/i18n/po/cat.properties/de-DE.po
16	14	build/i18n/po/cat.properties/pt-BR.po
4	4	build/i18n/po/circ.properties/cs-CZ.po
10	44	build/i18n/po/circ.properties/de-DE.po
14	138	build/i18n/po/circ.properties/fr-CA.po
31	152	build/i18n/po/circ.properties/pt-BR.po
26	37	build/i18n/po/common.properties/de-DE.po
11	39	build/i18n/po/common.properties/fr-CA.po
22	22	build/i18n/po/conify.dtd/de-DE.po
5	5	build/i18n/po/conify.dtd/en-GB.po
6	6	build/i18n/po/conify.dtd/fr-CA.po
16	16	build/i18n/po/conify.js/de-DE.po
16	13	build/i18n/po/db.seed/cs-CZ.po
34	18	build/i18n/po/db.seed/de-DE.po
17	1001	build/i18n/po/db.seed/fr-CA.po
31	31	build/i18n/po/db.seed/oc-FR.po
108	60	build/i18n/po/db.seed/pt-BR.po
6	6	build/i18n/po/fm_IDL.dtd/cs-CZ.po
10	10	build/i18n/po/fm_IDL.dtd/de-DE.po
5	14	build/i18n/po/fm_IDL.dtd/es-ES.po
28	28	build/i18n/po/fm_IDL.dtd/fr-CA.po
18	41	build/i18n/po/fm_IDL.dtd/pt-BR.po
5	8	build/i18n/po/ils_events.xml/de-DE.po
13	233	build/i18n/po/ils_events.xml/pt-BR.po
41	24	build/i18n/po/lang.dtd/cs-CZ.po
74	74	build/i18n/po/lang.dtd/de-DE.po
6	158	build/i18n/po/lang.dtd/fr-CA.po
28	246	build/i18n/po/lang.dtd/hy-AM.po
74	255	build/i18n/po/lang.dtd/pt-BR.po
34	31	build/i18n/po/offline.properties/cs-CZ.po
17	17	build/i18n/po/offline.properties/de-DE.po
43	81	build/i18n/po/offline.properties/pt-BR.po
9	9	build/i18n/po/opac.dtd/cs-CZ.po
214	153	build/i18n/po/opac.dtd/de-DE.po
8	6	build/i18n/po/opac.dtd/es-ES.po
25	19	build/i18n/po/opac.dtd/pt-BR.po
6	6	build/i18n/po/opac.dtd/ru-RU.po
59	56	build/i18n/po/opac.dtd/tr-TR.po
18	7	build/i18n/po/opac.js/de-DE.po
13	13	build/i18n/po/opac.js/tr-TR.po
6	6	build/i18n/po/patron.properties/de-DE.po
9	7	build/i18n/po/patron.properties/es-ES.po
23	69	build/i18n/po/patron.properties/pt-BR.po
6	6	build/i18n/po/pickup_and_return.js/de-DE.po
5	5	build/i18n/po/pickup_and_return.js/es-ES.po
9	6	build/i18n/po/pickup_and_return.js/pt-BR.po
4	4	build/i18n/po/pull_list.js/cs-CZ.po
6	6	build/i18n/po/pull_list.js/de-DE.po
26	25	build/i18n/po/register.js/de-DE.po
26	26	build/i18n/po/register.js/pt-BR.po
13	13	build/i18n/po/reports.js/de-DE.po
43	27	build/i18n/po/reservation.js/pt-BR.po
22	13	build/i18n/po/selfcheck.js/de-DE.po
22	18	build/i18n/po/selfcheck.js/pt-BR.po
635	0	build/i18n/po/serial.properties/pt-BR.po
6	4	build/i18n/scripts/update_pofiles
 create mode 100644 build/i18n/po/Searcher.js/pt-BR.po
 create mode 100644 build/i18n/po/serial.properties/pt-BR.po

commit af3f2e21273694d1acdc30ab92a544a0fb109182
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Apr 5 11:46:05 2012 -0400

    Constrain serial.issuance.holding_code to be valid JSON or NULL
    
    This avoids serial.materialize_holding_code() failing on bad data.  The
    upgrade script will actually throw away bad values for
    serial.issuance.holding_code.  This is no real loss, since bad data
    there prevents any serials functions around the row in question from
    working properly anyway.
    
    This problem was reported by Martha Driscoll and Ben Shum.
    
    *Also* put a couple of changes missed from the 0700 upgrade script into
    210.schema.serials.sql.
    
    Fix new serial constraint upgrades
    
    1. None of the upgrades so far have moved is_json() from the public
    to the evergreen schema.  That's probably a separate issue, but it
    should be safe to call it unqualified, and that's what the rest of
    the upgrade file does, so we will too.
    
    2. Add a specific SET CONSTRAINT to avoid deferred trigger problems
    when ALTERing the table.
    
    3. Make sure that the unwanted columns on materialized_holding_code
    do not exist regardless of your upgrade path.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
9	9	Open-ILS/src/sql/Pg/210.schema.serials.sql
74	0	Open-ILS/src/sql/Pg/upgrade/0706.schema.serial-holding-code-constraint.sql
14	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0706.schema.serial-holding-code-constraint.sql

commit e68fb0bda30287417a0066b6a41f3b426735c4e2
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Mar 9 14:20:09 2012 -0500

    Remove the "print_nav.tt2" from the TTPAC Password Reset
    
    We no longer use "print_nav.tt2" in TTPAC, but it was still
    displaying on the password reset page.  This branch removes it.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	25	Open-ILS/src/templates/opac/parts/printnav.tt2
0	1	Open-ILS/src/templates/opac/password_reset.tt2
 delete mode 100644 Open-ILS/src/templates/opac/parts/printnav.tt2

commit 6988310be3ee6f2f74dff63a90855cfe01ad96aa
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Apr 12 15:34:02 2012 -0400

    Add missing ADMIN_ORG_UNIT_CUSTOM_TREE permission
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
3	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
20	0	Open-ILS/src/sql/Pg/upgrade/0705.data.custom-org-tree-perms.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0705.data.custom-org-tree-perms.sql

commit 111b65b05119afff2bc286ee3ba9f1f2ffb9a8ea
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Apr 26 21:56:23 2012 -0400

    TPAC: Instrument the search results page
    
    Because we want to know why search results can be slowish, add timelog()
    entries to pertinent locations in Search.pm.
    
    Quick results on my laptop with the concerto set:
      * 10 results = 1.1 seconds for get_records_and_facets()
      * 50 results = 4.2 seconds for get_records_and_facets()
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

43	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit a34bd33836bacb8e7b16f4a4af95a436a1eb75ef
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Apr 25 16:19:45 2012 -0400

    Apply timelog() to TPAC record detail page
    
    Early suggestion from results is that we either need to use unapi.bre more
    smartly, or optimize it further.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

10	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
13	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit a695983e105767743f1957f49a05f74afec3e514
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Apr 25 15:20:46 2012 -0400

    Instrument the TPAC: add timelog() method to EGCatLoader
    
    Meant for timing how long events take to generate a single TPAC page,
    the timelog() method will provide timing in microsecond granularity of
    various events required to build the page.
    
    To invoke: $self->timelog("Event description...");
    
    Builds up a context variable named "timing" containing a list of
    arrays; each array entry contains a time and the event description.
    
    Disabled by default; to enable, set DEBUG_TIMING = 1 in
    OpenILS/WWW/EGCatLoader.pm
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

19	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
8	1	Open-ILS/src/templates/opac/parts/footer.tt2

commit 216096a1accf7d8f7946aecbb86a883d5db76415
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Sat Apr 28 10:27:19 2012 -0400

    tweak wording - ChangeLogs are generated during release
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	ChangeLog

commit 1073368467d91eea10a6824280590eae88e5f74c
Author: Bradley M. Kuhn <bkuhn@ebb.org>
Date:   Sat Apr 28 10:03:09 2012 -0400

    ChangeLog shouldn't merely be empty; it should tell reader where to find a change log.
    
    Signed-off-by: Bradley M. Kuhn <bkuhn@ebb.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

3	1	ChangeLog

commit 6a0fa00219007fb8fcac99e35ef8b5a2ecd387ab
Author: Bradley M. Kuhn <bkuhn@ebb.org>
Date:   Fri Apr 27 23:36:19 2012 -0400

    autoreconf -f -i appears to clobber our own INSTALL file with the "standard" one.
    
    autoreconf -i seems to still work correctly for building Evergreen, therefore,
    we should recommend developers do that.
    
    Signed-off-by: Bradley M. Kuhn <bkuhn@ebb.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	README

commit 459d4cf766bbc7d412a21efd6813d643682160a1
Author: Bradley M. Kuhn <bkuhn@ebb.org>
Date:   Fri Apr 27 22:08:38 2012 -0400

    AUTHORS, NEWS, and INSTALL files should actually have reasonable content if they exist.
    
    Specifically, this commit:
       * simply points INSTALL to README via symlink, since install instructions are there.
       * AUTHORS now notes that Evergreen keeps its authors in the git log.
       * NEWS now explains where release notes are.
    
    Signed-off-by: Bradley M. Kuhn <bkuhn@ebb.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

3	1	AUTHORS
1	237	INSTALL
1	1	NEWS
 mode change 100644 => 120000 INSTALL

commit bd8c274bd9680461f5df7e20fe8121ce8fe9ce72
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Apr 17 16:48:43 2012 -0400

    Clean up and refine serial note support, part 3
    
    Add needed menu entries for invoking the serial notes editor from
    the list in the Items tab.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

8	2	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/xul/staff_client/server/locale/en-US/serial.properties
92	3	Open-ILS/xul/staff_client/server/serial/manage_items.js
6	0	Open-ILS/xul/staff_client/server/serial/manage_items.xul
5	0	Open-ILS/xul/staff_client/server/serial/notes.xul
3	0	Open-ILS/xul/staff_client/server/serial/serctrl_main.xul

commit e644726e69cc83827abc3bc9560eac13e4e902a3
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Apr 17 17:35:26 2012 -0400

    Clean up and refine serial note support, part 2
    
    Because of the way our notes are being rendered, a handful of
    special XML characters can break the note interface when editing.
    These characters are now properly encoded as entities.
    
    Also, editing of newlines presents a similar issue with different
    consequences, and it is handled similarly but separately.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

7	2	Open-ILS/xul/staff_client/server/serial/notes.xul

commit 53d9790901432f2e6343010b4275efa4a5c59c9e
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Apr 17 17:34:06 2012 -0400

    Clean up and refine serial note support, part 1
    
    This commit fixes a number of minor problems with serial notes:
    
    1) Serial notes are currently returned in "random" (database)
    order.  Adding a create_date sort is a sensible default.
    
    2) If you have many notes, they start to display in a squashed and
    unreadable fashion.  Switching from a groupbox to a styled vbox
    provides a simple workaround.
    
    3) It is currently impossible to display newlines in notes.  We can
    deal with this by changing the display style.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

8	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
4	4	Open-ILS/xul/staff_client/server/serial/notes.xul

commit 9f8e12a96067505b7bf151a2355f8a7cb5925bc4
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Apr 17 16:02:49 2012 -0400

    Limit excess serial data fetching
    
    Overfetching and duplication of data in the interface is both
    inefficient and bug-inducing.  This reduces a couple big offenders.
    
    First, in the items tab, we will store distribution and subscription
    data separately, rather than duplicating for every row.  Second, we
    will only redraw rows as needed rather than refresh the whole list so
    often.  Finally, we no longer need to lookup call numbers separately,
    as they are included in the one-time distribution fetch.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
79	28	Open-ILS/xul/staff_client/server/serial/manage_items.js

commit fc557f7d63e51ce566e9d03c219e8c4eea1d23d6
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 30 15:32:53 2012 -0400

    unsaved data loophole
    
    The Start/Previous/Next/End/Search Results buttons in the staff client OPAC
    wrapper do not fire unsaved data warnings for the MARC editor when changing
    records. This plugs that hole, but it's not a complete solution, as you can
    still move away from the record by clicking on hyperlinks in the OPAC View,
    though that's less likely to happen.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>

43	15	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
8	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
1	0	Open-ILS/xul/staff_client/chrome/content/util/browser.js
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties

commit 135fbead09eb44194dfe141af3d2d2594ee24e09
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Apr 22 15:40:00 2012 -0400

    Bootstrap via "autoreconf -f -i" instead of "autogen.sh"
    
    It has always been potentially confusing to maintain two shell scripts
    named "autogen.sh" for two distinct purposes in Evergreen. Take
    advantage of "autoreconf" that is packaged with autoconf for dev
    bootstrapping purposes and trash the old "autogen.sh" as a result.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	1	README
0	21	autogen.sh
 delete mode 100755 autogen.sh

commit ddc639e91de3de0f6be31b363a632ecceb2023db
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Apr 13 09:53:32 2012 -0400

    Better Prediction for Incomplete Chronologies
    
    While relatively rare, some journals record only the year on the
    cover, even if they come out monthly or weekly.  This commit
    expands our previous support for serials with no chronology at
    all to cover serials with partial chronology.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

34	19	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm

commit b36bf07cd6b1f3fb957503ac5699737bf0a49446
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Apr 13 17:18:58 2012 -0400

    Acq: Refactor General Search for more smarts and speed
    
    This started in response to problems discussed around
    https://bugs.launchpad.net/evergreen/+bug/967824 , but it really
    addresses a distinct issue from that bug.
    
    Acq General Search relies on lots of joins to make several tables in Acq
    searchable by attributes of any of the other tables for rows that happen
    to be related.  This is about 1) making better joins and 2) making fewer
    joins when you don't need them all for a given search.
    
    Much thanks to Mike Rylander for help figuring out how to efficiently
    implement the joins needed for acq.invoice, which is the tricky part.
    
    Less importantly, but still significant for some searches, we also need
    case insensitivity for searching on user-linked fields (General Search
    always lets you search by any of username/family name/given name/barcode
    for these fields) in order to take advantage of some indexes for speed.
    
    This diagram of key Acq relationships is helpful:
    
    https://docs.google.com/drawings/d/15ExkiYvq0skfobbocvPWxwdZkb7aykEZpLGfbP9PL04/view
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

50	18	Open-ILS/examples/fm_IDL.xml
72	30	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Search.pm

commit 612ed38c9f0867a4392406bc84bb70abc8172f52
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Thu Apr 12 17:19:40 2012 -0400

    lp#980303: don't complain about missing plperl
    
    Now that use of PL/PERL has been dropped in favor of
    using PL/PERLU for all Perl SPs, settings-tester.pl need not
    check for it.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Dan Scott <dan.scott@laurentian.ca>

0	1	Open-ILS/src/support-scripts/settings-tester.pl

commit e1c40efe362c7e617eb81fca37f0a1f231ba327e
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Apr 11 00:08:41 2012 -0400

    TPAC: Clear params when viewing lists in search results
    
    Per LP977353, search terms are propagating when the list is being viewed
    in "results" (HTML View), and therefore those search terms block the
    display of most or all of the items in the list. Therefore, do not
    propagate the other CGI params to the mkurl() call.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

5	1	Open-ILS/src/templates/opac/myopac/lists.tt2

commit 592dc44c00ecea111636f7290264f5cdb5931a26
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Apr 6 14:52:20 2012 -0400

    Add pref_ou query filter for preferred library searching
    
    Include the user's "preferred search library" (as set in search
    preferences, falling back to home OU) in searches, specifically for the
    purposes of ensuring that located URIs at the user's preferred library
    would trigger hits where physical copies would be out of scope.
    
    Practical example:
    
    1. User sets preferred search library to BR1.
    
    2. They jump onto the catalogue, log in (which changes their search org
      to their preferred search library of BR1), but then for some reason
      change their search org in the org selector to BR3.
    
    3. They issue a search for "Harry Potter and the Philosopher's Stone".
      BR3 doesn't hold any copies or have any located URIs, but SYS1 (BR1's
      parent) has a PotterMore licence and has added their 856 $9 SYS1 to a
      bib record.
    
    As it currently stands, User is out of luck; they won't see any hits in
    search results as there are no copies or located URIs in the BR3 scope.
    
    The proposed enhancement would, however, make the search results contain
    a hit for "Harry Potter and the Philosopher's Stone" at the user's
    preferred search library.
    
    Sites can trigger the preferred library as part of the query filters
    using the "pref_ou(SHORTNAME)" syntax.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    
    Conflicts:
    
    	Open-ILS/src/sql/Pg/002.schema.config.sql

10	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
11	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm
6	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
7	2	Open-ILS/src/sql/Pg/300.schema.staged_search.sql
341	0	Open-ILS/src/sql/Pg/upgrade/0704.schema.query_parser_fts.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0704.schema.query_parser_fts.sql

commit a22cade28f2f9a712507b16c7613b4445844c969
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Apr 11 14:58:26 2012 -0400

    Nicer staff searches display in record details
    
    Specifically, don't make us scroll down a few hundred pixels to see the
    actual page content.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

0	1	Open-ILS/src/templates/opac/parts/record/body.tt2
3	3	Open-ILS/web/css/skin/default/opac/style.css

commit f8dfc40d33fafdbf10810fc320736e7100e7ae3e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Apr 10 13:15:09 2012 -0400

    fix sort bug introduced with multi-sort
    
    The bug happens on columns without a defined sort_value
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	2	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit 5c8d88ad61b434dc03bd912d6cd58ede3fc958e6
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Apr 10 12:57:16 2012 -0400

    Fix bill selection in the billing interface
    
    We were looking for the checkbox column to be the first treecell in a treerow,
    but the ever-present line number column now takes up that position.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/xul/staff_client/server/patron/bill2.js

commit 5e33b7c1afcf509887dad2d2d8a8a1c76179b465
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Apr 9 16:22:06 2012 -0400

    Bump 2.2 beta version number in upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 161eac08101524a72592fe9c8610ab8e0c881729
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Apr 9 09:37:57 2012 -0400

    i18n: Robustify db-seed-i18n.py parsing
    
    Faced with the perplexing use of a space before a comma in
    oils_i18n_gettext() keys, db-seed-i18n.py's regex failed. The solution
    for a sloppy regex? More powerful regex!
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	2	build/i18n/scripts/db-seed-i18n.py

commit e28d5faf7c455a624534d7ea8720fed509efff04
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Mar 27 00:12:43 2012 -0400

    TPAC: Integrate i18n for TPAC into build process
    
    Support the "standard" i18n build process for internationalization by
    integrating the TPAC string extraction (via xgettext.pl) and update /
    install bits. Also, add the base POT file to support translation in
    Launchpad.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	2	Open-ILS/src/templates/opac/myopac/main_pay.tt2
21	15	build/i18n/Makefile
2348	0	build/i18n/po/tpac/tpac.pot
 create mode 100644 build/i18n/po/tpac/tpac.pot

commit a7a0007367e895a39c250b4518d23f4a124e9ec8
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Apr 8 18:13:26 2012 -0400

    TPAC: Protect against requests for non-existent records
    
    If a record request is received for a record that does not exist (say,
    if 100 records have been loaded and someone submits a request for
    /eg/opac/record/399), rather than dying with a server error, return
    immediately.
    
    Eventually we'll want to provide an explicit "record was not
    found error" in the TPAC record details; for now the TPAC just displays
    zero bib detail.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 3c71b24ffb06049587db24c7bd4d70d135e6f790
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Feb 29 12:04:54 2012 -0500

    Protect against empty default_CD_modifiers in opensrf.xml
    
    If the app settings for the open-ils.search service in opensrf.xml had
    an empty (but not entirely missing) <default_CD_modifiers> element, then
    the open-ils.storage log would contain entries like the following:
    
    Use of uninitialized value $class in hash element at
    /usr/local/share/perl5/OpenILS/Application/Storage/QueryParser.pm
    
    Protect against that problem with more defensive code in QueryParser.pm.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit 7fae54ad0523f26c5202cffd5d06be8039e500cf
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Apr 9 11:27:53 2012 -0400

    Avoid too-strict controller checks when fleshing for cstore, reporter-store
    
    Move controller-verificiation from the beginning of recursive
    doFieldmapperSearch() to nearer the end, right before we recurse, so we
    only check the child class's controller if we're pcrud.  If we're not
    pcrud, code that calls doFieldmapperSearch() from the outside will have
    already done appropriate testing of the controller.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

15	17	Open-ILS/src/c-apps/oils_sql.c

commit 669f24eb9001f99a4f28432fcad5dd16d99a5f85
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Apr 3 14:39:00 2012 -0400

    Org Unit Custom Tree supports add directly after delete
    
    When deleting a node from the custom tree, it's necessary to save the
    tree store after the final call to store.deleteItem, or the delete
    operation will not complete.  Without this, it's not possible to add a
    remove org unit back into the custom tree without reloading the UI.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/web/js/ui/default/conify/global/actor/org_unit_custom_tree.js

commit aaa18533b331f918e8f23c6ccaf085af1a83590c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Apr 3 15:14:35 2012 -0400

    Org unit custom tree sort repairs
    
    Repairs a problem with detecting and storing the sort order of sibling
    nodes within custom trees.  The original problem was the result of
    comparing parent nodes for non-siblings because of a depth-first tree
    traversal.  Now we process siblings in level-order before processing
    child nodes.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	2	Open-ILS/web/js/ui/default/conify/global/actor/org_unit_custom_tree.js

commit 15c732e11d6a0f881532ce6c4e52f8a45a9e9f81
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Apr 9 08:59:55 2012 -0400

    Bug 957453: Fix error in database seed data
    
    The use of an explicit ID in creating a new
    action_trigger.event_definition row was followed by the use of the
    CURRVAL() function to grab the most recently issued value for
    the action_trigger.event_defintion_id_seq sequence - which happened to
    be 100, due to a previously issued SETVAL() on the sequence.
    
    This resulted in references to non-existent event definitions and thus
    an error in creating the stock database schema.
    
    By using an explicit ID for the dependent row, we avoid this error.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 8aa9c10e78c3d346b61947397733c4502d8e2b3f
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Apr 9 09:14:16 2012 -0400

    README: Clarify PostgreSQL 9.1 vs. 9.0 remote server docs
    
    Break out the PostgreSQL 9.1 or later instructions into their own
    subsection to clarify how the steps differ from PostgreSQL 9.0.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

12	5	README

commit 2ddb7f15e02c1e72533b28862da897487f9158e1
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Apr 8 15:47:10 2012 -0400

    TPAC: Show deleted record warning for deleted records
    
    At the cost of an extra database query per record displayed, we can
    properly activate the "This record has been deleted..." message. Prior
    to this commit, the message was embedded on every page but hidden via
    CSS - which isn't great for search engines or source-reading types.
    
    Now we only include & display the message if it has, in fact, been
    deleted.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Ben Shum <bshum@biblio.org>

8	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
3	3	Open-ILS/src/templates/opac/parts/record/body.tt2
6	0	Open-ILS/web/css/skin/default/opac/style.css

commit 8de722a74c713c5f32e012a84d7f8e597bfc54c3
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Tue Apr 3 10:13:20 2012 -0600

    Fixed a slight misspelling, as noted in https://bugs.launchpad.net/evergreen/+bug/915564
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0622.data.YAOUS-i18n-update.sql
1	1	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 57c2ae862323bc24fb55abe2795d0b321e91c0e4
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Apr 3 12:58:04 2012 -0400

    Revert "Serial Control: Use Dijit-based issuance editor"
    
    This reverts commit 37b324f53adb4fb90fe17ada72d44fca1d606e9f.
    
    This commit was regrettably merged without other commits from its
    branch on which it depends.

0	17	Open-ILS/src/templates/serial/edit_siss.tt2
0	5	Open-ILS/web/js/dojo/openils/serial/nls/serial.js
0	84	Open-ILS/web/js/ui/default/serial/edit_siss.js
10	27	Open-ILS/xul/staff_client/server/serial/manage_subs.js
24	1	Open-ILS/xul/staff_client/server/serial/siss_editor.xul
 delete mode 100644 Open-ILS/src/templates/serial/edit_siss.tt2
 delete mode 100644 Open-ILS/web/js/dojo/openils/serial/nls/serial.js
 delete mode 100644 Open-ILS/web/js/ui/default/serial/edit_siss.js

commit e5ec251df1ab72fb810ddcd81ced0884d25621a5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Apr 3 11:16:16 2012 -0400

    Fix failure of 'My Selection Lists' interface
    
    Addresses this bug: https://bugs.launchpad.net/evergreen/+bug/967824
    
    Recent changes to the mechanism of unified search (for which 'My
    Selection Lists' is a frontend) lacked code that respected
    the new join structure for some use cases.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	15	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Search.pm

commit cb41c8d214d0b30f8dec65a6e49de991621ea638
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Apr 3 09:33:24 2012 -0400

    Remove located URI scope notes from 2.2 Release Notes
    
    The located URI scope change occurred in the 2.1 time frame, not in 2.2,
    so remove from the Release Notes.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	31	docs/RELEASE_NOTES_2_2.txt

commit 08a27acaa4b2ed4c000b01e6f1dc22f40619c0dc
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 17:15:25 2012 -0400

    Add ui.hide_copy_editor_fields to baseline seed data
    
    Without it, the "Hide Fields" option in the copy editor will not
    function.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

23	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 1d0a166830343029ab3d182ee15f430f2a8929e1
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Apr 2 13:55:13 2012 -0400

    Tagging version
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application.pm
1	1	Open-ILS/xul/staff_client/chrome/content/main/about.html
1	1	Open-ILS/xul/staff_client/defaults/preferences/prefs.js
1	1	Open-ILS/xul/staff_client/windowssetup.nsi
4	4	README
2	2	configure.ac

commit c71207e7db4c6479f2e88e20bfc3e579050e3b19
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Apr 2 11:52:12 2012 -0400

    Update 2.1-2.2 version upgrade script for beta1
    
    Including missing chunks and missing commas.
    
    Moved 0693 to the end, it may exist in some 2.1 installs.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

457	31	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit fec48cdd66f2338a3cea762e840352d448426b3d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 2 13:41:00 2012 -0400

    Stamping upgrade script for "Org unit selective hiding and sorting in tpac library selector"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
45	0	Open-ILS/src/sql/Pg/upgrade/0702.schema.org_unit_opac_vis_and_sorting.sql
0	45	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0702.schema.org_unit_opac_vis_and_sorting.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit 69bf18f784625f011cda61ec7b82a1785ae2c5ae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 30 09:38:56 2012 -0400

    Custom Org Tree : Admin UI honors "activate" on new trees
    
    Previously, activating a new tree would work, but the UI did not update
    to reflect it.  Now the activate link correctly turns into a de-activate
    link and vice versa.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

16	2	Open-ILS/web/js/ui/default/conify/global/actor/org_unit_custom_tree.js

commit 218722deb2a57f8b1f94869e12602c1286c10aae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Mar 21 14:34:19 2012 -0400

    TPac: non-inherited org unit visibility : hide copy counts
    
    Avoid showing copy counts for non-opac-visible org units in the search
    results and record details page.  This is important when the
    'opac.org_unit.non_inheritied_visibility' global flag is enabled, as org
    units along the tree may be non-visible.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	1	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
2	0	Open-ILS/src/templates/opac/parts/result/copy_counts.tt2

commit 3ebff585f662cd57890113e02ef557e127facaf3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Mar 20 15:16:09 2012 -0400

    Custom Org Tree : Admin UI
    
    New UI for managing custom org unit trees.  (Only OPAC is supported for
    now).  Custom trees default to the same shape as the full org unit tree.
    Staff can remove nodes and re-order nodes.  Staff can also replace
    deleted nodes by dragging them from the reference tree on the left.
    
    Admin -> Server Admin -> Custom Org Unit Trees
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

73	0	Open-ILS/src/templates/conify/global/actor/org_unit_custom_tree.tt2
284	0	Open-ILS/web/js/ui/default/conify/global/actor/org_unit_custom_tree.js
1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/src/templates/conify/global/actor/org_unit_custom_tree.tt2
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/actor/org_unit_custom_tree.js

commit 0ea00f3eef4aa1da707563784386fb73a170e1ce
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 19 16:31:08 2012 -0400

    Custom Org Tree : tpac
    
    If configured and active, the tpac will now use the custom 'opac' tree
    for the org unit selectors.  This will be true in both the public
    catalog and the staff client catalog.  The staff client catalog will
    continue to display hidden org units.
    
    If the opac.org_unit.non_inheritied_visibility global flag is set, the
    public catalog will display child nodes of hidden org units in the
    custom tree.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

41	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
10	14	Open-ILS/src/templates/opac/parts/org_selector.tt2

commit 43999e0c9c6c6334e6c5e7b70a9c4c43327a5844
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 19 16:30:52 2012 -0400

    Custom Org Tree : DB and IDL
    
    Support for building custom org unit hierarchies for display purposes.
    Initially, this is meant to support custom OPAC trees, but the design
    leaves from for other types of trees.
    
    The only restrictions to custom org trees is that no org unit appear
    more once and that they in fact be tree-shaped.  Otherwise, any node
    can be the parent/child of any other node, regardless of ou_type, etc.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

39	0	Open-ILS/examples/fm_IDL.xml
16	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
21	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit 3f4ca6dd32b5ce2e36c91af836ee33cd5546fa1b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Mar 13 12:15:33 2012 -0400

    Repaired non-slim org unit fetching bug
    
    Fixed an old thinko.  When fetching a full org unit object, set the
    children org unit array value instead of clobbering the function.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/js/dojo/fieldmapper/OrgUtils.js

commit d047646aff7f5aca23ac2a86422e3c869ea3d405
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 12 12:22:22 2012 -0400

    TPac: non-inherited org unit visibility
    
    Adds support for displaying org units that are children of hidden org
    units in the tpac org unit selector.  A new global flag was added to
    control this behavior called "opac.org_unit.non_inheritied_visibility" /
    "Org Units Do Not Inherit Visibility".
    
    To avoid confusion / distorted org unit trees, children of hidden org
    units are left-padded one less for each hidden parent org unit.  For
    example, in the stock org tree, if Sys2 is opac_visible=false (and the
    global flag is enabled), the tree in the tpac would appear like so:
    
    Cons
    - Sys 1
    -- BR1
    --- SL1
    -- BR2
    - BR3
    - BR4
    
    Similarly, if CONS was also hidden, the whole tree would be shifted left
    by 1 pad depth.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql
33	14	Open-ILS/src/templates/opac/parts/org_selector.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit d22edb0073cbf85a2e9269e6049ed699f05456b7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 13:18:19 2012 -0400

    Revert "TPac: non-inherited org unit visibility"
    
    This reverts commit 1b7c563166d60ddee4a9c507f3eded07bc5e70c0.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	13	Open-ILS/src/sql/Pg/950.data.seed-values.sql
0	24	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql
14	33	Open-ILS/src/templates/opac/parts/org_selector.tt2
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit 0fa65039f42dd1abd142a60b589ff589b14f05cd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 13:18:18 2012 -0400

    Revert "Org unit sibling display sort order"
    
    This reverts commit dee33cc9da90762dea9b9aa13190c65e80f07577.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	1	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
1	2	Open-ILS/src/sql/Pg/005.schema.actors.sql
0	8	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit a9444ce7b7708e2bcf667855effa7e8ef07961dd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 13:18:17 2012 -0400

    Revert "Repaired non-slim org unit fetching bug"
    
    This reverts commit 706f1e86f0b9e4b5423b1b355bd30db422316068.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/js/dojo/fieldmapper/OrgUtils.js

commit f8f404b99447eb0b9af5e94399957394c29e66cb
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 13:18:15 2012 -0400

    Revert "Org unit sibling display sort order : admin UI"
    
    This reverts commit 1108cfc0b3978dc0fd80566a2b654edcf6b99d55.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	57	Open-ILS/src/templates/actor/org_unit/sibling_order.tt2
0	103	Open-ILS/web/js/ui/default/actor/org_unit/sibling_order.js
0	1	Open-ILS/web/opac/locale/en-US/lang.dtd
0	11	Open-ILS/xul/staff_client/chrome/content/main/menu.js
0	2	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
0	1	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
 delete mode 100644 Open-ILS/src/templates/actor/org_unit/sibling_order.tt2
 delete mode 100644 Open-ILS/web/js/ui/default/actor/org_unit/sibling_order.js

commit f709a4815ddb11f4cefcd65d6c41e586626df825
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 13:18:01 2012 -0400

    Revert "Stamping upgrade script for "Org unit selective hiding and sorting in tpac library selector""
    
    This reverts commit a25aa4e66ce4080bac65cd702a1e51542d5bae7e.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
0	32	Open-ILS/src/sql/Pg/upgrade/0702.schema.org_unit_opac_vis_and_sorting.sql
32	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/0702.schema.org_unit_opac_vis_and_sorting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit d5353f6cfee00eabfed3787275f3a83b21cbc61a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Apr 2 12:23:59 2012 -0400

    remove some cruft
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	13	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit dcaca3584b28f741849bc5954f9a89ec2c2486da
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 30 13:06:44 2012 -0400

    add context menu to xul list column headers
    
    for multi-sort options.  Also fix ascending vs descending internally (since the
    distinction is now exposed via labels)
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	0	Open-ILS/web/opac/locale/en-US/lang.dtd
122	29	Open-ILS/xul/staff_client/chrome/content/util/list.js
21	0	Open-ILS/xul/staff_client/chrome/content/util/sort.js
7	0	Open-ILS/xul/staff_client/server/OpenILS/util_overlay.xul
 create mode 100644 Open-ILS/xul/staff_client/chrome/content/util/sort.js

commit fc5ea41785d5f52fb18a10f657c574d937a464eb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 29 11:11:55 2012 -0400

    xul list secondary sorting
    
    For xul-based lists in the staff client (interfaces with a grey background),
    normal behavior is to sort the list when you left click a column header.
    
    This is still the case, but now if you control+click a column header, it sets
    up that column as a secondary sub-sort.  Control+clicking more columns will
    set up subsequent sub-sorts.
    
    Normal click a column header for primary sorting will clear out all previously
    defined sub-sorts.  Control+clicking when a primary column has not yet been
    normal clicked effectively does nothing.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

133	55	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit cb0f2fa74805e8f50d6906e9e37a08c0179d21c3
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 29 11:49:51 2012 -0400

    mitigate race conditions with ordinal line number column
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

38	21	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit 6ceac83b2ba88ffda97a0bc2fb1faa58d6aad7c6
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Wed Feb 29 16:42:10 2012 -0800

    Acq - fix cloning of picklists so that all lineitems are cloned with a 'new' state
    This prevents duplicated items on purchase orders when the picklists are cloned and
    other wacky problems.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit a25aa4e66ce4080bac65cd702a1e51542d5bae7e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 2 12:17:51 2012 -0400

    Stamping upgrade script for "Org unit selective hiding and sorting in tpac library selector"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
32	0	Open-ILS/src/sql/Pg/upgrade/0702.schema.org_unit_opac_vis_and_sorting.sql
0	32	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0702.schema.org_unit_opac_vis_and_sorting.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit 1108cfc0b3978dc0fd80566a2b654edcf6b99d55
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Mar 13 12:17:23 2012 -0400

    Org unit sibling display sort order : admin UI
    
    Adds a new menu entry for Local Admin called "Library Sort Order", where
    staff can configure via drag-n-drop the sibling display order for org
    units in the opac.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

57	0	Open-ILS/src/templates/actor/org_unit/sibling_order.tt2
103	0	Open-ILS/web/js/ui/default/actor/org_unit/sibling_order.js
1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
11	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
 create mode 100644 Open-ILS/src/templates/actor/org_unit/sibling_order.tt2
 create mode 100644 Open-ILS/web/js/ui/default/actor/org_unit/sibling_order.js

commit 706f1e86f0b9e4b5423b1b355bd30db422316068
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Mar 13 12:15:33 2012 -0400

    Repaired non-slim org unit fetching bug
    
    Fixed an old thinko.  When fetching a full org unit object, set the
    children org unit array value instead of clobbering the function.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/js/dojo/fieldmapper/OrgUtils.js

commit dee33cc9da90762dea9b9aa13190c65e80f07577
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 12 14:11:47 2012 -0400

    Org unit sibling display sort order
    
    Adds a new "sibling_order" column to actor.org_unit which specifies the
    order in which an org unit should be sorted as compared to its sibling
    org units in org unit trees.
    
    This commit adds the IDL/DB components.  It also updates the tpac and
    the generic get_org_tree API.  (Note, a follow-up commit will be pushed
    to remove some deprecated / reduntant org tree retrievals).
    
    Note that the sibling_order values do not have to be unique within each
    set of siblings.  The org unit name is still used as a tie-breaker sort,
    so if the sort order is left unset (i.e. all values are 0), org units
    will fall back to name-only sorting.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
2	1	Open-ILS/src/sql/Pg/005.schema.actors.sql
8	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit 1b7c563166d60ddee4a9c507f3eded07bc5e70c0
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 12 12:22:22 2012 -0400

    TPac: non-inherited org unit visibility
    
    Adds support for displaying org units that are children of hidden org
    units in the tpac org unit selector.  A new global flag was added to
    control this behavior called "opac.org_unit.non_inheritied_visibility" /
    "Org Units Do Not Inherit Visibility".
    
    To avoid confusion / distorted org unit trees, children of hidden org
    units are left-padded one less for each hidden parent org unit.  For
    example, in the stock org tree, if Sys2 is opac_visible=false (and the
    global flag is enabled), the tree in the tpac would appear like so:
    
    Cons
    - Sys 1
    -- BR1
    --- SL1
    -- BR2
    - BR3
    - BR4
    
    Similarly, if CONS was also hidden, the whole tree would be shifted left
    by 1 pad depth.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

13	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql
33	14	Open-ILS/src/templates/opac/parts/org_selector.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_opac_vis_and_sorting.sql

commit 37b324f53adb4fb90fe17ada72d44fca1d606e9f
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Mar 26 16:28:04 2012 -0400

    Serial Control: Use Dijit-based issuance editor
    
    The serial control interfaces use editors derived from the XUL
    copy editor, while the alternate control uses Dijit editors.  This
    commit takes a small step toward unification by using the Dijit
    issuance editor within the serial control interface, with the
    following benefits:
    
    1) Both controls will have a very similar editor look and feel
    2) Takes advantage of custom holding code wizard widget
    3) Future fixes and enhancements to the editors will apply easily
    to both controls
    4) Begin deprecating XUL serial editors
    
    This commit doesn't yet rip out the old issuance editor code, as
    that should wait until the transition is more complete.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

17	0	Open-ILS/src/templates/serial/edit_siss.tt2
5	0	Open-ILS/web/js/dojo/openils/serial/nls/serial.js
84	0	Open-ILS/web/js/ui/default/serial/edit_siss.js
27	10	Open-ILS/xul/staff_client/server/serial/manage_subs.js
1	24	Open-ILS/xul/staff_client/server/serial/siss_editor.xul
 create mode 100644 Open-ILS/src/templates/serial/edit_siss.tt2
 create mode 100644 Open-ILS/web/js/dojo/openils/serial/nls/serial.js
 create mode 100644 Open-ILS/web/js/ui/default/serial/edit_siss.js

commit 585cb6eda514ffa3d335c6bcbd481c682027faee
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Apr 2 11:37:10 2012 -0400

    Stamping Stat Cat Enhancements upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
62	0	Open-ILS/src/sql/Pg/upgrade/0701.schema.patron_stat_category_enhancements.sql
0	62	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.patron_stat_category_enhancements.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0701.schema.patron_stat_category_enhancements.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.patron_stat_category_enhancements.sql

commit 4d1b0959a3a75abe20f594298289e948dd9144a4
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Feb 28 13:43:00 2012 -0600

    Patron Stat Cat Enhancements: SQL upgrade statements
    
    Add SQL upgrade statements:  new table stat_cat_entry_default,
    new columns 'required' and 'allow_freetext' on actor.stat_cat,
    and new permissions to create, delete default entries.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

62	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.patron_stat_category_enhancements.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.patron_stat_category_enhancements.sql

commit 2c729df6fa6769f050ac27c0ab234aa3abcea5be
Author: Scott Prater <sprater@gmail.com>
Date:   Wed Mar 21 21:44:23 2012 -0500

    Patron Stat Cat Enhancements: Only show default entry for new patrons
    
    Only display the default entry when registering new patrons.
    Otherwise, display the saved value for the patron or nothing.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	3	Open-ILS/web/js/ui/default/actor/user/register.js

commit 18398232025f14f40237954bdf0ff959366636ff
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Feb 28 10:22:29 2012 -0600

    Patron Stat Cat Enhancements: Rearrange stat cat editor screen
    
    Rearrange the statistical categories editor interface to correctly
    display the "Archived" radio buttons along side the other radio
    buttons.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

7	7	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml

commit 2c12f39fc60a2454936bc54d6ed7926f0df646ae
Author: Scott Prater <sprater@gmail.com>
Date:   Wed Feb 15 21:28:46 2012 -0600

    Patron Stat Cat Enhancements: Fix values stored, then displayed in "Allow freetext" categories
    
    In the patron registration screen:  the widget dijit.form.FilteringSelect
    stores the option value, not the displayed value, unlike ComboBox; so store
    the FilteringSelect displayedValue, then set the FilteringSelect displayedValue
    with the value retrieved from the patron/stat_cat_entry map table.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

33	18	Open-ILS/web/js/ui/default/actor/user/register.js

commit 990df40fceb4e73dc529727b74f07443fe45163f
Author: Scott Prater <sprater@gmail.com>
Date:   Wed Jan 18 14:30:00 2012 -0600

    Patron Stat Cat Enhancements: Enforce stat_cat "allow_freetext" flag in patron registration screen
    
    If a patron statistical category is flagged to disallow user-provided
    entries, make the category form field a FilteringSelect box;  otherwise,
    make it a ComboBox.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

21	12	Open-ILS/web/js/ui/default/actor/user/register.js

commit e86cd48a46461341d8b8ad2d18e9c64b98cf3b8f
Author: Scott Prater <sprater@gmail.com>
Date:   Wed Jan 18 13:57:44 2012 -0600

    Patron Stat Cat Enhancements: Enforce stat_cat "required" flag in patron registration screen
    
    If a patron statistical category is flagged as required, make
    the category form field a required field, and validate it before
    submitting the form.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

20	1	Open-ILS/web/js/ui/default/actor/user/register.js

commit f1215a0ba81bb09b08b98c81672fb4b9534eaa5e
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 16:19:20 2011 -0600

    Patron Stat Cat Enhancements: Modify stat cat editor HTML to manipulate patron stat cat default entries.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

13	3	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml

commit 4a28c176b5ed10fc76a4831fc8bce3751dc8760b
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 16:17:35 2011 -0600

    Patron Stat Cat Enhancements: Modify stat cat editor javascript to manipulate patron stat cat default entries.
    
    Add functions, methods, variables to Statistical Categories Editor
    javascript to manage patron stat cat default entries.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

136	14	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.js

commit dd20011fc24a1820ba80606e153e301986d15df2
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 16:10:00 2011 -0600

    Patron Stat Cat Enhancements: Add language entities for default stat cat entry labels.
    
    Add label entities for setting a default entry;  rename staff.server.admin.stat_cat.edit_entry_name_submit
    to staff.server.admin.stat_cat.edit_entry_submit.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	1	Open-ILS/web/opac/locale/en-US/lang.dtd

commit 463d1af0d851db146f1b3d5da8ed3f1e14f9790c
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 16:06:19 2011 -0600

    Patron Stat Cat Enhancements: Add permissions for manipulating stat_cat_entry_default.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

9	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit ac21f2eb4f45103acafa89513fb92e49a6efc5b4
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:56:25 2011 -0600

    Patron Stat Cat Enhancements: Add Publisher actor methods for stat_cat_entry_default objects.
    
    Add methods actor_stat_cat_entry_default and actor_stat_cat_entry_default_ancestor
    to retrieve and populate stat_cat_entry_default objects.  Modify ranged_actor_stat_cat_entry
    and fleshed_actor_stat_cat to also include default entry objects, if present.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

70	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm

commit 234758498708a82c024f2af26720ebea5b77cd89
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:51:51 2011 -0600

    Patron Stat Cat Enhancements: Add Pg DBI actor::stat_cat_entry_default table and sequence.
    
    Add actor::stat_cat_entry_default->table and
    actor::stat_cat_entry_default->sequence.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

6	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/dbi.pm

commit f7522f2e0b631c92c9d1fb2efcaed4e54090a379
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:49:38 2011 -0600

    Patron Stat Cat Enhancements: Add CDBI package actor::stat_cat_entry_default.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/actor.pm

commit 3be0d23c88cc5db64002cb2f7d877116d5c13242
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:46:34 2011 -0600

    Patron Stat Cat Enhancements: Link CDBI actor::stat_cat_entry_default to parent entities.
    
    Add relations between actor::stat_cat and actor::stat_cat_entry to actor::stat_cat_entry_default.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI.pm

commit 75bdd9b0d70ff7010106210ec2349041e41a08cd
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:42:44 2011 -0600

    Patron Stat Cat Enhancements: Add OpenSRF CRUD methods for actor statistical category default entries.
    
    Added methods to create, delete, update default entries for patron statistical
    categories.  Modified create_stat_cat and create_stat_cat_entry to also create,
    update stat_cat_entry_default objects if present in the request.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

171	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/StatCat.pm

commit 53ab5197ecf61923e28f69c58d79cc4c56196e21
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:36:15 2011 -0600

    Patron Stat Cat Enhancements: Add OpenSRF methods for retrieving actor stat cat default entries.
    
    Added the methods 'fetch_stat_cat_entry_default' and
    'fetch_stat_cat_entry_default_by_stat_cat_and_org' for
    fetching stat_cat_entry_default objects.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

31	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm

commit 5c86f181a70433399a30f85a1be3a4da145d60a6
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:31:58 2011 -0600

    Patron Stat Cat Enhancements: Add event for ACTOR_STAT_CAT_ENTRY_DEFAULT_NOT_FOUND
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	2	Open-ILS/src/extras/ils_events.xml

commit f894f96cc00d99d7a164be748d85f661d9e24b97
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Dec 27 15:28:00 2011 -0600

    Patron Stat Cat Enhancements: Add stat_cat_entry_default IDL class
    
    Add stat_cat_entry_default IDL class, and links to actor.stat_cat and
    actor.stat_cat_entry
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

17	0	Open-ILS/examples/fm_IDL.xml

commit fa24df6e6d59cc052ca9ea38caaaa19a0096654d
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Mar 20 22:14:07 2012 -0500

    Patron Stat Cat Enhancements: Add default entry table to database
    
    Add actor.stat_cat_entry_default table to Pg database.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

17	0	Open-ILS/src/sql/Pg/005.schema.actors.sql

commit a489e2d4d26938be04e7a56e382967252b03e652
Author: Scott Prater <sprater@gmail.com>
Date:   Tue Mar 20 22:12:21 2012 -0500

    Patron Stat Cat Enhancements: Add 'allow free text' and 'required' flags
    
    Add database entities, controller mappings, and HTML/Javascript
    widgets to allow administrators to set and persist 'required'
    and 'allow free text' boolean flags for patron statistical categories
    in the Statistical Categories Editor.
    
    Signed-off-by: Scott Prater <sprater@gmail.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/actor.pm
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
40	33	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.js
19	11	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml

commit 8e6da90bcba10086504e947ad09c48764c42b4d2
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Apr 2 11:11:25 2012 -0400

    missing comma. tsbere++
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 10fbba1ea4a8c9446abc45bfc8037a02ddb9fabe
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Apr 2 10:19:02 2012 -0400

    FlattenerGrid (re)honors IDL column labels as default
    
    Linking the GridColumnPicker to FlattenerGrid killed the ability for the
    FlattenerGrid to fall back to the IDL column label when no label was
    defined in the markup.  This change adds a reloadStructure operation to
    GridColumnPicker.  FlattenerGrid uses this to pass the updated column
    labels (and any other changes) to gridcolumnpicker, which then updates
    the grid display to match.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/web/js/dojo/openils/widget/FlattenerGrid.js
10	0	Open-ILS/web/js/dojo/openils/widget/GridColumnPicker.js

commit a52131145f41fe3f19f5c4ae5ccf4cad392c1cf0
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 2 10:21:32 2012 -0400

    Stamping upgrade script for serials holdings display improvements
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
155	0	Open-ILS/src/sql/Pg/upgrade/0700.schema.serial-holding-groups.sql
0	155	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql
152	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0700.schema.serial-holding-groups.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql

commit 8d2f7b1c7540aba7156c08e493198331558c8ae4
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Mar 30 16:17:47 2012 -0400

    holding_type on serial.issuance not quite dead
    
    The holding_type field was removed from the serial control editor
    prematurely, and this missing data was a source of mild friction.
    We'll put it back for now.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql
6	5	Open-ILS/xul/staff_client/server/serial/siss_editor.js

commit 05e7270afeace61544059e05facbf51b710e99ce
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Mar 30 15:55:19 2012 -0400

    Simplify serial.materialized_holding_code
    
    Attempting to materialize holding_type and ind1/ind2 for less than
    perfect data causes problems.  Since we aren't actually using this
    data, let's get rid of these fields.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	9	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql

commit 0f3291546b37cd3722e3b64e78203c95282fc369
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Mar 29 17:07:23 2012 -0400

    Only load "new" serials display if we have data
    
    If we try to load the "new" serials display template, but have no
    data (for instance, if "Use fully compressed serial holdings" is
    false), we get a server error.
    
    Rather than wrap the whole template in an 'if', let's just not
    load it.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	1	Open-ILS/src/templates/opac/parts/record/issues.tt2

commit 5b69128dc054e4b8b79606f76fe614aca211151a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Mar 19 11:17:38 2012 -0400

    TPAC: ROWS 1 not appropriate here.
    
    I must have thrown this in as a misguided afterthought without testing
    it.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/020.schema.functions.sql
1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql

commit d944a3780a9106ed881738472e3259b8d77f7d46
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Mar 9 18:07:19 2012 -0500

    TPAC: follow-up to serials holdings paging fix
    
    Some how I didn't notice it before, but my last commit broke things.
    This unbreaks them.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial/OPAC.pm

commit d43eb99ba936155f01fe95f0bf66ff03aefc8fdb
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Mar 8 14:14:01 2012 -0500

    TPAC: serials display paging bugfix
    
    In the previous commit, paging at the deepest level of an expanded tree
    was broken.  This fixes that, and improves pager labeling a little bit.
    
    This also makes the default page size for holdings 12 instead of 10,
    since monthlies are a pretty common case, and why not show them all on
    one page.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial/OPAC.pm
59	21	Open-ILS/src/templates/opac/parts/record/issues-db.tt2

commit 5b109f49e3a94c26c8efb7bb55965f20b2f7850b
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Apr 2 07:20:33 2012 -0400

    TPAC: Improvement to serials display (under the "issues held" label)
    
    (All the following text assumes you're using "new" 2.0+ serials and that
    the org unit setting 'opac.fully_compressed_serial_holdings' is true
    in the context where you're browsing.)
    
    Today on the TPAC record detail page under the "issues held" label, you
    get a list of serial summary statements, which you can expand to a list of
    issuances for which items have been received.  You can place issuance-level
    holds on these.
    
    That existing interface just kind of burps up all your holdings within
    scope and doesn't show you what holdings belong to what org unit.
    Furthermore, it doesn't group your holdings into enumeration or
    chronology units, which can matter a lot if you've got 150 years of
    some daily newspaper and you're trying to browse through them in the
    OPAC.
    
    This new interface presents expanded serials holdings organized into a
    tree, with summaries placed under their org units and holdings grouped
    under their summaries under either chronology units (default) or
    enumeration ones, controlled by a new field on serial.distribution.
    There's also a new org unit setting that lets you change the default
    value for this new field in the Alternate Serial Control view to
    enumeration, if you want.
    
    Like the issues-held interface it's replacing, this knows how to deal
    with holdings where you have one unit per received item, or no units per
    received item, but its behavior is not yet defined for one unit per many
    items (the binding case).  The "regular" Serial Control view doesn't
    have a widget to control the new field on serial.distribution yet.
    These are the areas where I'd be interested in helping to close the
    gaps, before or after this is committed.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    
    Conflicts:
    
    	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
    	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
    	Open-ILS/web/css/skin/default/opac/style.css
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

27	1	Open-ILS/examples/fm_IDL.xml
5	0	Open-ILS/src/extras/ils_events.xml
126	4	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
8	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
633	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial/OPAC.pm
103	61	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Holding.pm
99	115	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
23	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
1	0	Open-ILS/src/sql/Pg/002.schema.config.sql
29	0	Open-ILS/src/sql/Pg/020.schema.functions.sql
89	0	Open-ILS/src/sql/Pg/210.schema.serials.sql
15	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
155	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql
15	5	Open-ILS/src/templates/opac/parts/header.tt2
53	11	Open-ILS/src/templates/opac/parts/record/copy_table.tt2
161	0	Open-ILS/src/templates/opac/parts/record/issues-db.tt2
40	0	Open-ILS/src/templates/opac/parts/record/issues-mfhd.tt2
2	65	Open-ILS/src/templates/opac/parts/record/issues.tt2
1	1	Open-ILS/src/templates/opac/parts/record/summary.tt2
34	0	Open-ILS/src/templates/serial/subscription.tt2
3	0	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/Serial/OPAC.pm
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.serial-holding-groups.sql
 create mode 100644 Open-ILS/src/templates/opac/parts/record/issues-db.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/issues-mfhd.tt2

commit 7cef76169d6c6f6f4ae3e6ea165d672783b34139
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 2 07:50:40 2012 -0400

    Stamping upgrade script for Copy Editor Field Hiding
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
27	0	Open-ILS/src/sql/Pg/upgrade/0699.data.org-setting-ui.hide_copy_editor_fields.sql
0	28	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.hide_copy_editor_fields.sql
25	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0699.data.org-setting-ui.hide_copy_editor_fields.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.hide_copy_editor_fields.sql

commit 64c9debfa75be900e34fd51bb0fec1fe7c06f8fa
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 16 15:54:59 2012 -0400

    prevent templates from changing unsafe fields
    
    in the Item Attribute Editor, for any of the fields are hidden via util.hide,
    and for statuses which shouldn't be changed (like from Checked Out to something else)
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

31	0	Open-ILS/xul/staff_client/server/cat/copy_editor.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 681a966c45610f34971e9f8dcc7b4a730695c873
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 15 13:52:20 2012 -0400

    wire up util.hide in the item attribute editor
    
    Currently, hidden elements may still be affected through templates.
    
    Thanks goes to MassLNC for this one.  Based on SC-D3 at
    http://www.esilibrary.com/esi/docs/?p=841, with some implementation
    simplifications.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
5	0	Open-ILS/xul/staff_client/server/cat/copy_editor.js
5	0	Open-ILS/xul/staff_client/server/cat/copy_editor.xul

commit 092c4579ad6d40680d471dfca8bd952da6c859b0
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 15 00:58:05 2012 -0400

    util.hide library
    
    Provides util.hide.generate_dialog and util.hide.generate_css.
    
    util.hide.generate_css takes one parameter, an org unit setting name for a
    setting of type array. It tests this setting and for every value in the array
    it looks for DOM elements with 'hideable' attributes containing those values.
    It adds the CSS classname 'hideme' to such elements, and removes 'hideme' from
    any non-matched elements that also have 'hideable' attributes.
    
    util.hide.generate_dialog takes the same setting parameter as generate_css, and
    an optional context org parameter (defaults to the workstation library). It pops
    up a dialog with a checkbox for every 'hideable' DOM element. Clicking 'OK' will
    update the org unit setting with every checked element, and it then calls
    generate_css to update the interface being affected.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

28	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.hide_copy_editor_fields.sql
189	0	Open-ILS/xul/staff_client/chrome/content/util/hide.js
8	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
1	0	Open-ILS/xul/staff_client/server/OpenILS/util_overlay.xul
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.hide_copy_editor_fields.sql
 create mode 100644 Open-ILS/xul/staff_client/chrome/content/util/hide.js

commit 131ad24c1c3dfba1c94731defb10318e62975751
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 15 13:16:24 2012 -0400

    move .hideme css to global.css
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/xul/staff_client/server/skin/global.css
0	2	Open-ILS/xul/staff_client/server/skin/patron_display.css
0	1	Open-ILS/xul/staff_client/server/skin/serial.css

commit 92e20a4348c30d4361a81f5a03a9a8efa499992e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 15 02:30:31 2012 -0400

    liberate this perm-cognizant lib menu generator
    
    for re-use in other interfaces
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

54	1	Open-ILS/xul/staff_client/chrome/content/util/widgets.js
8	54	Open-ILS/xul/staff_client/server/admin/do_not_auto_attempt_print_setting.js

commit c7c418a87d2284423f58a0d3e1a418c32a8b4ab6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 29 15:15:24 2012 -0400

    AutoGrid retains external search filters
    
    AutoGrid now caches the search passed to the most recent loadAll call
    separately from any filters passed via PCrudFilterDialog.  This allows
    AutoGrid to retain externally-supplied (persistent) filters (e.g.
    context org unit selector) while being able to easily remove filters
    passed via the filter dialog.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

18	4	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit 35169cd0fe5383c5b6a704da5d78ed42bde69c7b
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Mar 28 23:10:17 2012 -0400

    TPAC: Centralized preferred library indicator
    
    Create an explicit "Preferred library: Foobar" entry at the top of the
    page (on the same line as pagination information), and include a subtle
    checkmark to enable users to quickly jump to their "Search preferences"
    settings and change their preferred library.
    
    This enables us to remove the "(Preferred library)" note in the copy
    counts for search results.
    
    At the same time, move from a table display (for a single row? what?) to
    a simple div/span layout for the search results.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	0	Open-ILS/src/templates/opac/parts/pref_lib_display.tt2
1	0	Open-ILS/src/templates/opac/parts/record/body.tt2
1	1	Open-ILS/src/templates/opac/parts/result/copy_counts.tt2
6	9	Open-ILS/src/templates/opac/parts/result/paginate.tt2
9	0	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/templates/opac/parts/pref_lib_display.tt2

commit 9d38e1eee3a22bcc36b20305c9faf723fd79d0c7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 30 13:56:44 2011 -0400

    Remove block on mark-receive from non-PO UI
    
    Allow lineitem mark-received action to take place from lineitem table UI
    even when not viewing a PO (e.g. from search results)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	4	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 1c9afe4c64fa34a300ee58bb9ef4694abf5d46d5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Nov 22 16:53:30 2011 -0500

    ACQ: allow recv actions on copies from non-PO interface
    
    * Allow PO actions on copies, like recieve, unreceive, and cancel from
      non-PO interfaces like the picklist UI and lineitem search interfaces.
      Instead of relying on whether the user is viewing a PO, use the status
      of each copy to determine which actions are appropriate to display.
    
    * General cleanup and better arrangment of the copy actions hide/display
      logic
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

68	80	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 743552bb96f730e1ea20532ccb630d3ea825e298
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 25 16:03:12 2011 -0400

    Make ACQ Lineitem actions more readily accessible
    
    No longer limit PO-related lineitem actions to the PO view UI.  Instead,
    limit lineitem actions on the state of the lineitem.  This allows staff
    to perform PO-related (e.g. create invoice) directly from the LI search
    interface.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	3	Open-ILS/src/templates/acq/common/li_table.tt2
68	59	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit b922420e98cfb3fefdba1987c3c5d20dd5493ece
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 26 11:29:08 2012 -0400

    ACQ Upload import-copy option
    
    With the addition of the new Vandelay features in ACQ, the "Load bibs
    and Items" option was replaced with Vandeley import options.  In the
    context of ACQ, however, Vandelay is only concerned with importing bibs
    and not copies.  Subsequently, the user lost the ability to both create
    catalog records and catalog copies in one step during ACQ upload.
    
    The patch remedies that by providing a new "Load Items for Imported
    Records" option within the upload page.  When enabled, all successfully
    loaded ACQ copies will also be imported as real/catalog copies.
    
    Note that it's only added to the upload page, because all other ACQ
    interfaces assume that both bibs and copies should be created (e.g.
    during PO activation).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
6	0	Open-ILS/src/templates/acq/common/vlagent.tt2
1	1	Open-ILS/src/templates/acq/picklist/upload.tt2
4	1	Open-ILS/web/js/ui/default/acq/common/vlagent.js

commit 71ddf873dcb5127cb68843289b853fed60ed68fa
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Mar 20 18:44:42 2012 -0400

    Flattened searching: generalized data retrieval via public service
    
    For a better overview of what this feature is about than what I could
    write here, see docs/TechRef/Flattener/design.txt in this commit.
    
    This is the first new feature (as far as I know) to take advantage of
    PCRUD fleshing. Very briefly, imagine issuing a query to PCRUD with lots
    of arbitrarily deep fleshing, and getting back a set of flat rows with
    the fields you need for display/editing/whatever all neatly picked out
    as if ready to be displayed in a table or grid-based UI.
    
    FlattenerGrid, which knows how to use this, can potentially replace and avoid
    lots of relatively complex (AutoGrid + custom middle layer
    methods)-powered interfaces.  AutoGrid interfaces that just work with
    one fieldmapper class at a time, more or less, can just keep doing what
    they're doing. Little or no advantage to switcihing to flattened data
    in that case.
    
    FlattenerGrid is CRUD-complete and has lots of the same features as
    AutoGrid, where they make sense, such as the line numbers, checkboxes,
    the columnpicker, multisort, etc.  Sample instance at
    Open-ILS/exmpales/flattener_test.tt2 .
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	0	Open-ILS/examples/apache/eg_vhost.conf
1	0	Open-ILS/examples/apache/startup.pl
49	0	Open-ILS/examples/tt2/flattener_test.tt2
5	0	Open-ILS/src/extras/ils_events.xml
160	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Fielder.pm
401	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Flattener.pm
242	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/FlatFielder.pm
1	1	Open-ILS/src/templates/acq/picklist/user_request.tt2
1	1	Open-ILS/src/templates/conify/global/config/barcode_completion.tt2
1	1	Open-ILS/src/templates/conify/global/config/circ_limit_set.tt2
1	1	Open-ILS/src/templates/conify/global/config/circ_matrix_matchpoint.tt2
1	1	Open-ILS/src/templates/conify/global/config/hold_matrix_matchpoint.tt2
2	2	Open-ILS/src/templates/vandelay/inc/import_errors.tt2
490	0	Open-ILS/web/js/dojo/openils/FlattenerStore.js
67	141	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js
57	0	Open-ILS/web/js/dojo/openils/widget/FlattenerFilterDialog.js
689	0	Open-ILS/web/js/dojo/openils/widget/FlattenerGrid.js
234	99	Open-ILS/web/js/dojo/openils/widget/GridColumnPicker.js
81	50	Open-ILS/web/js/dojo/openils/widget/PCrudFilterDialog.js
138	0	Open-ILS/web/js/dojo/openils/widget/_GridHelperColumns.js
39	0	Open-ILS/xsl/FlatFielder2HTML.xsl
124	0	docs/TechRef/Flattener/design.txt
 create mode 100644 Open-ILS/examples/tt2/flattener_test.tt2
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/Flattener.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/FlatFielder.pm
 create mode 100644 Open-ILS/web/js/dojo/openils/FlattenerStore.js
 create mode 100644 Open-ILS/web/js/dojo/openils/widget/FlattenerFilterDialog.js
 create mode 100644 Open-ILS/web/js/dojo/openils/widget/FlattenerGrid.js
 create mode 100644 Open-ILS/web/js/dojo/openils/widget/_GridHelperColumns.js
 create mode 100644 Open-ILS/xsl/FlatFielder2HTML.xsl
 create mode 100644 docs/TechRef/Flattener/design.txt

commit 599bcc3b039db43edbf49350cbcde8d52f64880c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Mar 30 14:07:03 2012 -0400

    Stamping default pickup library upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0698.hold_default_pickup.sql
0	2	Open-ILS/src/sql/Pg/upgrade/XXXX.hold_default_pickup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0698.hold_default_pickup.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.hold_default_pickup.sql

commit bf07b80b7d7ccb89e5e4cd79506097d9e0f74fdd
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Mar 22 14:26:32 2012 -0400

    Teach loading of settings inside of patron window
    
    By passing through get_barcode_and_settings (and get_barcode, why not).
    
    Once there we can, on load of place hold screens, load the target user's
    preferences instead of having to teach TPac to do so in the background.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>

6	2	Open-ILS/web/js/ui/default/opac/staff.js
3	1	Open-ILS/xul/staff_client/server/patron/display.js
2	0	Open-ILS/xul/staff_client/server/patron/holds.js

commit 8873e420306e317639ff413d1954a5ea7c0d1a74
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Mar 16 14:46:19 2012 -0400

    TPac: Include day phone default_phone backup
    
    Like JSPac.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>

2	1	Open-ILS/src/templates/opac/parts/place_hold.tt2
4	1	Open-ILS/web/js/ui/default/opac/staff.js
8	4	Open-ILS/xul/staff_client/chrome/content/main/menu.js
1	1	Open-ILS/xul/staff_client/server/patron/display.js

commit 5d31958386fc15d591e10d92f13866a1d9f39ef1
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jan 26 13:05:16 2012 -0500

    Hook up default phone/pickup in JSPac
    
    Because why not? Note that you can't set them with JSPac.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>

2	0	Open-ILS/web/opac/common/js/config.js
8	1	Open-ILS/web/opac/skin/default/js/holds.js

commit 36961e9f5b3819fd362d4bf3ce53d9a028ecd938
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jan 26 12:44:21 2012 -0500

    TPac: Load user's hold prefs
    
    When staff place holds attempt to load the user's hold preferences.
    
    This also hooks up the barcode completion code to the TPac hold placement
    interface.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	1	Open-ILS/src/templates/opac/parts/place_hold.tt2
40	0	Open-ILS/web/js/ui/default/opac/staff.js
11	5	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
25	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
3	1	Open-ILS/xul/staff_client/server/patron/display.js

commit 15039eb6c71e8edbcc84662eefed18be6d7afde1
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jan 25 21:22:56 2012 -0500

    TPac: Add Default Hold Pickup Location
    
    And add it (plus other user settings) to the patron editor.
    
    And fix a bug where notice prefs were saving without POST.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>

13	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
3	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
2	0	Open-ILS/src/sql/Pg/upgrade/XXXX.hold_default_pickup.sql
12	0	Open-ILS/src/templates/opac/myopac/prefs_settings.tt2
4	1	Open-ILS/web/js/dojo/openils/actor/nls/register.js
99	9	Open-ILS/web/js/ui/default/actor/user/register.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.hold_default_pickup.sql

commit 4a1cf10753dde847ace2365cf4f7982ff6238a8b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Mar 30 10:40:15 2012 -0400

    Minor cleanup of TT2 vs closing tag
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit f955e769750594f7278c455d0d33f31d4809dfaf
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Mar 18 23:13:12 2012 -0400

    Add basic schema.org microdata to record details
    
    It's shocking how little we can easily and reliably extract from MARC to
    map to schema.org's metadata structure. However, what I could get shows
    up relatively nicely on Google's Rich Snippets testing tool.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	2	Open-ILS/src/templates/opac/parts/record/authors.tt2
1	1	Open-ILS/src/templates/opac/parts/record/subjects.tt2
8	3	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit 2f94c327bee44ecf36b6fb5ba2aaf23c199f0df2
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Mar 17 22:52:07 2012 -0400

    First inklings of schema.org support
    
    Just get the itemscope and very rudimentary mapping for the primary
    itemtype into record details.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	1	Open-ILS/src/templates/opac/parts/misc_util.tt2
1	1	Open-ILS/src/templates/opac/parts/record/body.tt2

commit 9aab1e6e775fcf1055cee1e37db0ea927dd46642
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Mar 29 20:12:53 2012 -0400

    New toolbar button icons
    
    Courtesy of NOBLE.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

23	0	Open-ILS/xul/staff_client/chrome/skin/global.css
2	0	Open-ILS/xul/staff_client/chrome/skin/media/images/licenses.txt
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_bib_search_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_claim_eligible_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_create_invoice_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_create_po_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_new_brief_record_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_unified_search_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_upload_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_user_requests_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_view_my_pl_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_capture_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_pull_list_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_reservation_pickup_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_reservation_return_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_reservation_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/browse_holds_shelf_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/circ_hold_pull_list_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/circ_renew_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/edit_copy_buckets_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/edit_record_buckets_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/portal_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/retrieve_last_patron_toolbar.png
27	0	Open-ILS/xul/staff_client/imagesources/licenses.txt
61	0	Open-ILS/xul/staff_client/imagesources/maketoolbarpics.sh
33	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/background_3_blue.svg
63	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_bib_search.svg
39	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_claim_eligible.svg
48	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_create_invoice.svg
52	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_create_po.svg
42	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_new_brief_record.svg
55	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_unified_search.svg
42	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_upload.svg
81	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_user_requests.svg
50	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_view_my_pl.svg
92	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_capture.svg
42	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_pull_list.svg
57	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_reservation.svg
47	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_reservation_pickup.svg
47	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_reservation_return.svg
112	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_browse_holds_shelf.svg
112	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_circ_hold_pull_list.svg
50	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_circ_renew.svg
44	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_edit_copy_buckets.svg
46	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_edit_record_buckets.svg
36	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_portal.svg
80	0	Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_retrieve_last_patron.svg
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_bib_search_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_claim_eligible_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_create_invoice_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_create_po_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_new_brief_record_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_unified_search_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_upload_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_user_requests_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/acq_view_my_pl_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_capture_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_pull_list_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_reservation_pickup_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_reservation_return_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/booking_reservation_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/browse_holds_shelf_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/circ_hold_pull_list_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/circ_renew_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/edit_copy_buckets_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/edit_record_buckets_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/portal_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/toolbar_blue/retrieve_last_patron_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/imagesources/licenses.txt
 create mode 100755 Open-ILS/xul/staff_client/imagesources/maketoolbarpics.sh
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/background_3_blue.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_bib_search.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_claim_eligible.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_create_invoice.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_create_po.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_new_brief_record.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_unified_search.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_upload.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_user_requests.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_acq_view_my_pl.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_capture.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_pull_list.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_reservation.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_reservation_pickup.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_booking_reservation_return.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_browse_holds_shelf.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_circ_hold_pull_list.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_circ_renew.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_edit_copy_buckets.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_edit_record_buckets.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_portal.svg
 create mode 100644 Open-ILS/xul/staff_client/imagesources/toolbar_blue/blue_retrieve_last_patron.svg

commit 6508510e74b62a78eb3b29ac7ea98741e522b91a
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Mar 29 14:59:20 2012 -0400

    LP#520632 Fix for-loop over orgArraySearcher to preserve order
    
    Authored by Remington Steed
    
    This commit fixes the sort order in IE, Google Chrome of the
    org unit's when choosing a search depth.
    
    Signed-off-by: Remington Steed <rjs7@calvin.edu>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/web/opac/common/js/opac_utils.js
6	4	Open-ILS/web/opac/common/js/org_utils.js

commit 65f9f8c408bd554beb139f3d5b6ee85bb06372c9
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Mar 29 13:36:46 2012 -0400

    Stamping upgrade script for currently unfillable holds
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
17	0	Open-ILS/src/sql/Pg/upgrade/0697.data.place_currently_unfillable_hold.sql
0	3	Open-ILS/src/sql/Pg/upgrade/XXXX.place_unfillable_hold.sql
1	1	Open-ILS/web/opac/locale/en-US/opac.dtd
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0697.data.place_currently_unfillable_hold.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.place_unfillable_hold.sql

commit 99e8fc893a8bf0abc4e1c3b85db06da0742dbbf0
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Jan 14 09:58:33 2012 -0500

    Add PLACE_UNFILLABLE_HOLD permission
    
    And hook it up in JSPac and TPac.
    
    General idea: If you have the permission you can place holds that will not
    fill right now, in general, for any reason.
    
    In TPac, I replaced the previous "check the last failure code" line. The
    new permission basically accomplishes the same thing for now, and is less
    likely to return different results from placement attempt to placement
    attempt. Also, only checking one failure code of potential hundreds didn't
    make a lot of sense.
    
    In the event of age protected copies the age protected prompt wins out.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
3	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
3	0	Open-ILS/src/sql/Pg/upgrade/XXXX.place_unfillable_hold.sql
1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
18	9	Open-ILS/web/opac/skin/default/js/holds.js
1	0	Open-ILS/web/opac/skin/default/xml/common/holds.xml
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.place_unfillable_hold.sql

commit 9982302a1c8007876bfb98642c9e1dc5d2165b40
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Mar 28 15:44:44 2012 -0400

    Hold targeter cancellation action/trigger repairs
    
    When a hold/reservation is cancelled via the targeter and passed off to
    action/trigger for possible event creation, ensure that all fields on
    the hold are in sync w/ the master db before the hand-off.  Otherwise,
    critical values, like cancel_time may be null, which can cause A/T
    event creation to fail.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 22445e14c338a90fc6f957f2c93f00b628ffaa1b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 23 10:57:59 2012 -0400

    ACQ provider admin page display improvements
    
    1. Sort providers I have permission to edit to the front.
    
    2. Improved support for viewing all providers the user has access to
    view.
    
    3. Enable the grid filter
    
    4. Template cleanup to avoid the unnecessary horizontal scroll that
    sometimes occurs along the top.
    
    5. Misc code cleanup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    
    acq provider layout fixes
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

151	150	Open-ILS/src/templates/conify/global/acq/provider.tt2
111	59	Open-ILS/web/js/ui/default/conify/global/acq/provider.js

commit a4921217b1ec0763681f21e5c0f79bf5db25e61c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 29 11:19:28 2012 -0400

    trivial fix for Copy Buckets toolbar button
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_overlay.xul

commit 63ac5d47710fca0e308b4d3ba87edf73ce8b4ae7
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Mar 22 16:04:39 2012 -0400

    Add Makefile to rebuild targets for generated files
    
    If you rerun ./configure with a different option (such as
    --sysconf=foo), the changed Makefile needs to trigger a rebuild of the
    generated files. Otherwise, the first generated version of the file is
    always newer than its *.in counterpart and a rebuild won't be triggered
    on subsequent ./configure runs.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

14	14	Open-ILS/src/Makefile.am
2	2	Open-ILS/src/perlmods/Makefile.am

commit c2cd2567032c5d43c47c4f9eeb36566cc23c0615
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Mar 22 11:09:44 2012 -0400

    Move towards build-time configuration of variables
    
    We moved a lot of variable configuration into AC_CONFIG_FILES in
    autoconf for the sake of convenience, but that turned out to be
    problematic, as James Fournie noted in LP 960552, as the warning in
    http://www.gnu.org/software/automake/manual/html_node/Scripts.html
    notes: "building scripts this way has one drawback: directory variables
    such as $(datadir) are not fully expanded and may refer to other
    directory variables".
    
    This was particularly a problem for variables such as @sysconfdir@ in
    code that doesn't understand shell syntax - such as Cronscript.pm.
    
    This commit moves towards build-time configuration of those variables.
    We still use *.in files, but mark the built versions as dependencies in
    build recipes such that we can build and test within the source
    directory without having to install the files. We also gain the
    advantage of teaching "make clean" to clean up the built versions of the
    files.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

56	2	Open-ILS/src/Makefile.am
10	2	Open-ILS/src/perlmods/Makefile.am
2	16	configure.ac

commit 082bb7963d7c7dec1c0f9859d2ff16dad2221eec
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Mar 29 10:15:30 2012 -0400

    Stamping No plperl Upgrade Script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
28	0	Open-ILS/src/sql/Pg/upgrade/0696.no_plperl.sql
0	17	Open-ILS/src/sql/Pg/upgrade/XXXX.no_plperl.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0696.no_plperl.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.no_plperl.sql

commit 08810b77f44975536bb2658c9886fed6d5742237
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Mar 27 12:48:31 2012 -0400

    We use plperlu, not plperl. So don't load both!
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

3	3	Open-ILS/src/sql/Pg/900.audit-functions.sql
1	1	Open-ILS/src/sql/Pg/create_database.sql
1	1	Open-ILS/src/sql/Pg/create_database_9_1.sql
17	0	Open-ILS/src/sql/Pg/upgrade/XXXX.no_plperl.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.no_plperl.sql

commit b9bb6d473cfc5e500218dcdf9f0cbd2875bdbac4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 22 11:56:00 2012 -0400

    ACQ fund admin UI improvements
    
    * Fund retrieval directly via AutoGrid/pcrud, now that pcrud supports fleshing.
    * Sort funds I can edit to the front of the list
    * Enable the new improved grid filter dialog
    * Leverage onItemReceived for caching funds for balanceInfo getter
    * Add some height to the grid to allow more rows to be visible in the page (without scrolling)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

2	2	Open-ILS/src/templates/acq/fund/list.tt2
57	41	Open-ILS/web/js/ui/default/acq/financial/list_funds.js

commit 960d2ae634e12b4ba67a919aa6680deb536c9be8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 22 16:07:34 2012 -0400

    ACQ Fund retrieval API permission improvements
    
    Allow users with ADMIN_ACQ_FUND (in addition to the deprecated
    ADMIN_FUND) permission to retrieve fund year information via
    open-ils.acq.fund.org[.years].retrieve
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Financials.pm

commit d3de5ff3b6335fec710ae778423b159673427535
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 22 11:53:40 2012 -0400

    ACQ fund summary object fleshing in IDL
    
    Add links for fund summary classes in the IDL to allow for direct
    fleshing of summary objects via pcrud.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

61	7	Open-ILS/examples/fm_IDL.xml

commit 9f7d2416b370b1d87ddd4bfc7a731eb0d89abedb
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 23 12:04:02 2012 -0400

    AutoGrid onItemReceived support
    
    Adds support for a new call-back, called when a grid row item is
    received (via pcrud onresponse).  If defined, The call-back is passed
    the received item before the it's added to the data store.  This allows
    users to get a direct handle on received objects.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

3	0	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit 95a203d055bf2452e58621b396e54d45cccc44a0
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Mar 28 16:43:15 2012 -0400

    remove XXXX script
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	56	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.custom_toolbars.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.custom_toolbars.sql

commit 6ef8711978cb37e3d3b09ce5737daec551d8947d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Mar 28 15:52:21 2012 -0400

    Stamping upgrade script for custom toolbars
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
68	0	Open-ILS/src/sql/Pg/upgrade/0695.schema.custom_toolbars.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0695.schema.custom_toolbars.sql

commit 251717941bae2a4606d968065d7aa241349bb0b5
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Mar 28 15:19:42 2012 -0400

    fix a Down action bug in Configure Toolbars
    
    where the list selection index could be set to an invalid value, which could
    cause errors for actions acting upon that index
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/xul/staff_client/server/admin/toolbar.js

commit 6d5b4a8f818c6ebf50dd46c0d9fd0b0ca40dda5e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Mar 28 11:37:12 2012 -0400

    fix editing of multiple toolbarseparators
    
    and toolbarspacers.  Also beef up the hardcoded toolbar to match the stock circ
    toolbar.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
2	2	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.custom_toolbars.sql
17	20	Open-ILS/xul/staff_client/chrome/content/main/menu.js
10	11	Open-ILS/xul/staff_client/server/admin/toolbar.js

commit 5785841ead89c506102c236fd57d766b7dde259d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Mar 20 16:52:13 2012 -0400

    reworked toolbars for dynamism
    
    uses the data from action.toolbar
    
    also a Toolbar Configuration UI
    
    also added more toolbar buttons, though they need icons
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/examples/fm_IDL.xml
22	3	Open-ILS/web/opac/locale/en-US/lang.dtd
34	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
211	75	Open-ILS/xul/staff_client/chrome/content/main/menu.js
3	3	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
208	134	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_overlay.xul
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
616	0	Open-ILS/xul/staff_client/server/admin/toolbar.js
109	0	Open-ILS/xul/staff_client/server/admin/toolbar.xul
6	0	Open-ILS/xul/staff_client/server/locale/en-US/admin.properties
 create mode 100644 Open-ILS/xul/staff_client/server/admin/toolbar.js
 create mode 100644 Open-ILS/xul/staff_client/server/admin/toolbar.xul

commit cc05855a2b1562acd0816c6b0b41b23b83c90720
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Mar 20 13:03:21 2012 -0400

    fix constraint syntax
    
    and add in toolbar related permissions, plus a missing and unrelated perm: IMPORT_AUTHORITY_MARC
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	3	Open-ILS/src/sql/Pg/005.schema.actors.sql
7	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
40	3	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.custom_toolbars.sql

commit 60ec86d28c32ac71c1092dd7491bdbc09a36e18c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Mar 20 12:28:58 2012 -0400

    Beginning an unwrapped upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

19	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.custom_toolbars.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.custom_toolbars.sql

commit 85480a7198ec50b0c32fd434c0d59feafa0a013d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 19 15:58:51 2012 -0400

    DB layout for recording custom toolbars
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

37	0	Open-ILS/examples/fm_IDL.xml
18	0	Open-ILS/src/sql/Pg/005.schema.actors.sql

commit 0e06c711fe06322a44f8a019d63027c92201463a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 22 00:12:34 2012 -0400

    utility functions for Javascript Shell
    
    win_list() returns an array of "eg_main" chrome windows
    
    get_tab() takes two forms:
    
        get_tab(chrome_window,tab_index)
        get_tab(tab_index)
    
    The latter invocation assumes the first chrome window returned by win_list().
    
    get_tab returns an object with the keys 'name' and 'content', pointing to the
    tab label and the tab panel -> iframe -> contentWindow, respectively.
    
    So let's say you had a patron account open in tab 1, and the Javascript Shell
    open in tab 2.  In the shell, you could do:
    
        var o = get_tab(1);
    
    o.name might contain something like
    
        1 Patron: Circulator, Ima
    
    and you could do this to refresh that interface:
    
        o.content.g.patron.refresh_all()
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

32	0	Open-ILS/xul/staff_client/chrome/content/util/shell.js

commit 4ec1d1489bc6978354dbb0cbd2c2478d4559f077
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 22 01:54:20 2012 -0400

    Fix ordinal column with multiple lists
    
    Before this fix, if more than one util.list powered list existed within a given
    document/window, they would each intefere with the other's ordinal column.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	2	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit b06ba3b8a2ab96ba22d7896f50691156e50a9e15
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Mar 21 23:05:52 2012 -0400

    more workstation related options for ses()
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

6	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/global_util.js

commit 29a1f4178f83fe57942d07afd33d62b2a8268c21
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Mar 27 22:33:31 2012 -0400

    TPAC: Suppress copy counts for libraries that own zero copies
    
    Rather than slavishly showing the copy counts for libraries even when
    the library has no copies to show, avoid wasting the precious display
    space and suppress the output.
    
    This was a problem for both search scope libraries and preferred library
    in the search results, and for just preferred library in record details.
    This commit makes the behaviour consistent, in favour of suppressing the
    display of copy counts when there's nothing to display.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

2	0	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
5	1	Open-ILS/src/templates/opac/parts/result/copy_counts.tt2

commit d4751e023dd75c0aa4e945a4866aff8393cb81f8
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Mar 27 15:07:14 2012 -0400

    Fix NULL interval for action_trigger.event_definition.delay
    
    The delay column in action_trigger.event_definition is defined as NOT
    NULL, therefore we should not try to push a NULL into it as that makes
    PostgreSQL unhappy.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 762167349a83a951b124e0544132a1a1b4ba1ad4
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Mar 27 14:40:49 2012 -0400

    Fix seed data script syntax errors
    
    Commas were missing at the end of some lines. Fix that so that the
    database can be created relatively cleanly again.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	3	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit c21ad6192ea00305f5a293bf4917294bcf3213df
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Mar 27 10:25:36 2012 -0400

    Template processor always falls back to en_us
    
    When no locales are registered and/or when a given locale is missing
    a translation, fall back to en_us as the default locale.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 34979fe10c23a470cefc400946a7101d274fab68
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Mar 26 16:28:04 2012 -0400

    Serial Control: Use Dijit-based issuance editor
    
    The serial control interfaces use editors derived from the XUL
    copy editor, while the alternate control uses Dijit editors.  This
    commit takes a small step toward unification by using the Dijit
    issuance editor within the serial control interface, with the
    following benefits:
    
    1) Both controls will have a very similar editor look and feel
    2) Takes advantage of custom holding code wizard widget
    3) Future fixes and enhancements to the editors will apply easily
    to both controls
    4) Begin deprecating XUL serial editors
    
    This commit doesn't yet rip out the old issuance editor code, as
    that should wait until the transition is more complete.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

17	0	Open-ILS/src/templates/serial/edit_siss.tt2
5	0	Open-ILS/web/js/dojo/openils/serial/nls/serial.js
84	0	Open-ILS/web/js/ui/default/serial/edit_siss.js
27	13	Open-ILS/xul/staff_client/server/serial/manage_subs.js
1	24	Open-ILS/xul/staff_client/server/serial/siss_editor.xul
 create mode 100644 Open-ILS/src/templates/serial/edit_siss.tt2
 create mode 100644 Open-ILS/web/js/dojo/openils/serial/nls/serial.js
 create mode 100644 Open-ILS/web/js/ui/default/serial/edit_siss.js

commit ad794951d358e809047b0992a7e3283aca8f6308
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Mar 26 16:17:03 2012 -0400

    Small fix to Holding Code wizard widget
    
    The issuance editor has a wizard widget for the holding code field
    which expected a 'grid' as an argument, but then referenced a global
    'iss_grid' variable.  This hurt reusability of this widget.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/web/js/ui/default/serial/subscription/issuance.js

commit 2a257b27b2a2553023c07fddf5aa3abf95a19f66
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Mar 26 16:07:58 2012 -0400

    Serial Control: Refresh node map on edit
    
    While it would be nice to redraw any affected tree nodes when
    editing, we should at least replace the map data in case it is
    used in other functions.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

25	1	Open-ILS/xul/staff_client/server/serial/manage_subs.js

commit cf5074a904d84cabc869bfeda4000afd9047a59e
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Mar 26 16:11:34 2012 -0400

    lp965651: add missing commas
    
    Patch by Jason Stephenson, Comma Hunter
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

3	3	Open-ILS/src/sql/Pg/upgrade/0694.schema.patron_reg_prefix.sql

commit 9c679eb9fce8e8ca8273f2b5f1f338eb2ba5f422
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Mar 26 16:07:09 2012 -0400

    lp965637: add missing comma to fix syntax error
    
    Patch from Jason Stephenson
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 6d6e118eeaed3c569932c7767c86478d89bac3fe
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 26 13:53:19 2012 -0400

    Add patron prefix upgrade to the version upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

33	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 7932340a51476cda9c501d4c35b61dc747810d92
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 26 13:52:25 2012 -0400

    Stamping patron prefix upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
36	0	Open-ILS/src/sql/Pg/upgrade/0694.schema.patron_reg_prefix.sql
0	36	Open-ILS/src/sql/Pg/upgrade/yyyy.schema.patron_reg_prefix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0694.schema.patron_reg_prefix.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/yyyy.schema.patron_reg_prefix.sql

commit 94dfd1b6f53bbcc41a32525dc8aca596a84e0e47
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Mon Jan 30 11:55:23 2012 -0500

    Add a prefix field to patron registration interface
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

27	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
36	0	Open-ILS/src/sql/Pg/upgrade/yyyy.schema.patron_reg_prefix.sql
1	0	Open-ILS/src/templates/actor/user/register_table.tt2
3	0	Open-ILS/web/js/ui/default/actor/user/register.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/yyyy.schema.patron_reg_prefix.sql

commit d523b0fd103949e6f8ab2296e3657753cf4fec80
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Mar 26 12:27:38 2012 -0400

    version fix for 0692/0693
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0692.data.fine-when-closed.sql

commit 7897495197d2a860b56614f8cadaf6d3d4b6c9e4
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 26 11:11:18 2012 -0400

    Add ISSN fix to the version upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

33	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 54d4887c7d232ed8af0924d8ed80dd28526ca6fb
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 26 10:57:52 2012 -0400

    Stamping upgrade script for ISSN normalization fix
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
35	0	Open-ILS/src/sql/Pg/upgrade/0693.schema.do_not_despace_issns.sql
0	21	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.do_not_despace_issns.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0693.schema.do_not_despace_issns.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.do_not_despace_issns.sql

commit 5bdbc2ce4abeb506cb2daa65ce7b4b0c6ced109c
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Mar 21 22:39:40 2012 -0400

    LP932540: Fix ISSN indexing
    
    The default config.metabib_field_index_norm_map contains a 'replace'
    entry for the ISSN identifier field that replaces spaces with "". That
    was meant to handle ISSNs that incorrectly contain a space instead of a
    hyphen; it normalizes them from: "1234 1234" to "12341234".
    
    However, that breaks indexing ISSNs if there are multiple ISSNs in the
    record, or even if there is an extra character in the same subfield as
    the primary ISSN, as all spaces are removed.
    
    This commit removes the 'replace' entry for the ISSN identifier field
    and reindexes potentially damaged ISSN index entries.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	9	Open-ILS/src/sql/Pg/950.data.seed-values.sql
21	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.do_not_despace_issns.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.do_not_despace_issns.sql

commit 66a470a28d133da13a60de76a56008aa1252adec
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 23 17:03:47 2012 -0400

    Stamped upgrade for 'allow fines during closings'
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
25	0	Open-ILS/src/sql/Pg/upgrade/0692.data.fine-when-closed.sql
0	21	Open-ILS/src/sql/Pg/upgrade/XXXX.data.fine-when-closed.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0692.data.fine-when-closed.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.fine-when-closed.sql

commit 2b914a999a4393d71bad38f4fcbf1b0a496cf6b2
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Mar 23 12:23:59 2012 -0400

    Allow fines to accrue during closings
    
    Evergreen skips fines during scheduled closings.  With this commit, a new
    Org Unit Setting labeled 'Charge fines on overdue circulations when closed'
    is available to force fines to accrue during closures.  Logic repiars and
    out-of-scope (strict) variable repairs from Bill Erickson.
    
    This work is sponsored by the NC Cardinal consortium in North Carolina.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

22	13	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
20	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
21	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.fine-when-closed.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.fine-when-closed.sql

commit a7a2c7037c1bc3c22b309b57963a4abe7c6d2ee0
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Mar 19 14:39:09 2012 -0400

    Alt serials opac reloading cleanup
    
    Removed a call to xulG.reload_opac() that was no longer wanted
    
    More debuggable.  I think it might still be possbile to get to alt
    serial control interfaces in contexts where they don't have
    xulG.reload_opac(), but I can't think of any way to do it just now.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	1	Open-ILS/src/templates/serial/list_item.tt2
2	1	Open-ILS/src/templates/serial/list_stream.tt2
5	3	Open-ILS/src/templates/serial/list_subscription.tt2
2	0	Open-ILS/src/templates/serial/subscription.tt2
1	1	Open-ILS/src/templates/serial/subscription/distribution.tt2
1	1	Open-ILS/src/templates/serial/subscription/issuance.tt2
0	8	Open-ILS/web/js/dojo/openils/widget/EditPane.js
7	0	Open-ILS/web/js/ui/default/serial/common.js
 create mode 100644 Open-ILS/web/js/ui/default/serial/common.js

commit 6e5bc73796b3f666cfc35a4896ccd5788e3fb870
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 19 11:12:06 2012 -0400

    Alt serials reload opac after changes
    
    Using the new onPostSubmit handler for AutoGrid.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/templates/serial/list_item.tt2
1	0	Open-ILS/src/templates/serial/list_stream.tt2
1	0	Open-ILS/src/templates/serial/list_subscription.tt2
1	0	Open-ILS/src/templates/serial/subscription/distribution.tt2
1	0	Open-ILS/src/templates/serial/subscription/issuance.tt2

commit 51b6fd0b5b75124e20598a9bc20cc8d167b3434e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Mar 19 11:10:55 2012 -0400

    AutoGrid generic onPostSubmit handler
    
    Called w/ no arguments after any CRUD actions occur.  This includes
    EditPane / EditDialog actions as well as deleteSelected.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

10	10	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit bcdbd3ab560658c8f83f9de624c3a39b1dcc2e2b
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Mar 9 12:54:37 2012 -0500

    Followup fix to teaching AutoGrid to reload_opac()
    
    For deleting a list of selected items, only reload_opac() once at the
    end, not once for each item deleted.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

14	6	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit f5838ec4eb32121fc8dc3ebaafd342f63f8bbd22
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Mar 9 12:10:20 2012 -0500

    Alt Serial Control interfaces and Batch Receive reload OPAC when possible
    
    Really, since the Alt Serial Control interfaces are built on AutoGrid,
    all we have to do there is teach AutoGrid (and its constituent EditPane)
    to try for reload_opac on write operations.
    
    This may cause more reloads of the OPAC than are truly necessary, but
    mainly in cases when nobody's looking because the OPAC is hidden away
    in another tab.  That's preferable to the alternative of littering the
    codebase with dozens of instances of
        try { xulG.reload_opac(); } catch (E) { }
    which would just be ugly, bad and unmaintainable.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	0	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js
8	0	Open-ILS/web/js/dojo/openils/widget/EditPane.js
4	0	Open-ILS/web/js/ui/default/serial/subscription.js
4	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
5	0	Open-ILS/xul/staff_client/server/serial/batch_receive.js

commit 7075d7e798b1a5651d16d8a30851eaf5686addec
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 9 04:45:14 2012 -0500

    updating item out count in patron display
    
    For checkouts (and checkouts converted into renewals), this updates the item out
    count in the patron summary sidebar, and under the Items Out navigation button.
    
    It also updates the Items Out sub-interface if that interface has been opened.
    
    However, we are adding an extra network call to update the summary sidebar.  We
    may want to have the checkout method return that data (the checkout count
    summary) instead.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

9	3	Open-ILS/xul/staff_client/server/circ/checkout.js
26	13	Open-ILS/xul/staff_client/server/patron/display.js
5	0	Open-ILS/xul/staff_client/server/patron/items.js

commit 0afa4f752912543356f711df5b6d808167c195f4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Mar 8 14:51:32 2012 -0500

    Reload the OPAC via Holdings Maintenance
    
    Makes reloading a page wrapped in util.browser more accessible to foreign
    window contexts.  Gives all the interfaces hanging off the chrome OPAC wrapper
    the ability to reload the OPAC frame via xulG.reload_opac().  Have Holdings
    Maintenance do this whenever its list is refreshed.  And "Add Volumes", whether
    invoked from Actions for this Record, or from the click link in the record
    summary pane.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

25	11	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
16	11	Open-ILS/xul/staff_client/chrome/content/util/browser.js
1	1	Open-ILS/xul/staff_client/server/cat/bib_brief.js
8	1	Open-ILS/xul/staff_client/server/cat/copy_browser.js
3	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 56121886c72b2d41b327ebbc0cb55ad66561c710
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Mar 23 16:23:32 2012 -0400

    Stamping upgrade script for ACQ search improvements
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
15	0	Open-ILS/src/sql/Pg/upgrade/0691.schema.acq_fk_indices.sql
0	15	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq_fk_indices.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0691.schema.acq_fk_indices.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq_fk_indices.sql

commit 156666dae85ffcc35152b44e2eccb463b74ac406
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Feb 16 12:50:47 2012 -0500

    PO Invoice link search by PO instead of Lineitem
    
    The button which allows the user to jump from the PO to linked invoices
    now retrieves invoices directly based on the PO ID and instead of
    jumping though the lineitem, which only works for POs that have
    lineitems (invoiced).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/js/ui/default/acq/po/view_po.js

commit 3149433d354889fba7d7a2338acb55d7d1ffa219
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Feb 14 17:49:54 2012 -0500

    Acq: improve General Search's ability to find invoices
    
    Invoices in Evergreen have complex relationships with other items.  They
    can be related to lineitems (and ultimately POs and selection lists) by
    invoice *entries*, or to PO items (and ultimately etc etc) by invoice
    *items*, or directly to purchase orders by either of the above mentioned
    acq.invoice_{entry,item} objects.
    
    This should make general search more able to find invoices related to
    other objects whose fields you might search against in Acquistions
    General search.
    
    Here's a diagram that I created to help me think about how to write
    these joins:
    
    https://docs.google.com/drawings/d/15ExkiYvq0skfobbocvPWxwdZkb7aykEZpLGfbP9PL04/edit
    
    At Bill Erickson's suggestion, I wound up putting the joins into an IDL view
    ("acqus") rather than trying to express them in JSON query, which was turning
    into a real time sink.
    
    To prevent this change from making Acq General Search slower than it
    was, I've also added indices on all the foreign keys used in the IDL
    view, so that the joins should be as fast as possible.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

31	0	Open-ILS/examples/fm_IDL.xml
6	24	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Search.pm
10	0	Open-ILS/src/sql/Pg/200.schema.acq.sql
15	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq_fk_indices.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq_fk_indices.sql

commit 73a6d114b56af44b8af40b28d9406d527e6f94f6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 22 13:41:29 2012 -0400

    AutoFieldWidget single-object cache repairs
    
    Caching single objects linked off the context object was failing in most
    cases as it was caching under the display name instead of the true value
    (pkey) for the linked object.  This fixes that by always caching the
    linked object by its true value, so that future cache lookups will be
    looking in the right place.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

15	19	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js

commit bf91e76a5aa38bfeae0c63ed1d2d27943051fb5d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 22 11:53:55 2012 -0400

    PermaCrud.js flesh support
    
    Now that open-ils.pcrud supports fleshing, allow flesh params to pass
    through PermaCrud.js
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/web/js/dojo/openils/PermaCrud.js

commit f6a2c84f3273fcf0f6c0067229d6356fecd41582
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Mar 23 12:45:38 2012 -0400

    Stamping upgrade script for in-db unAPI + TPAC cleanup from Dan Scott
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1194	0	Open-ILS/src/sql/Pg/upgrade/0690.schema.unapi_limit_rank.sql
0	1194	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi_limit_rank.sql
1191	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0690.schema.unapi_limit_rank.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi_limit_rank.sql

commit 8b2546e3a7ac9938a0725dffeec25224c48061e8
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Mar 21 20:00:01 2012 -0400

    TPAC: Show preferred library copies only in consortial scope
    
    A refinement of the preferred library display: only when the user is at
    the consortial scope should the preferred library copies float to the
    top. At all other scopes, the preferred library copies will appear in
    their proper place in the org unit hierarchy (or not at all if outside
    of the chosen scope).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
0	15	Open-ILS/src/sql/Pg/020.schema.functions.sql
5	1	Open-ILS/src/sql/Pg/990.schema.unapi.sql
5	16	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi_limit_rank.sql

commit 97776542e5cf8f6cc9adf0ad4830ffa20c1bf205
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Mar 21 00:14:56 2012 -0400

    TPAC: Sort copies from preferred library first
    
    This commit makes copies from the preferred library (if any) sort first
    in the displayed copy list in search results and record details, even
    if the search scope would otherwise not include the preferred library's
    copies at all.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

10	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
15	0	Open-ILS/src/sql/Pg/020.schema.functions.sql
10	14	Open-ILS/src/sql/Pg/990.schema.unapi.sql
26	14	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi_limit_rank.sql

commit c0c51fa1cc5ced201f290fcd4a880f802e8e36ac
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Mar 21 00:40:42 2012 -0400

    TPAC: Fix filtering of org units in record details
    
    The syntax for the filtering clause isn't quite right for the
    non-opac-visible org units; remove the braces and win.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit 2cce485ffc953176760b4972ffc7f2944661f4b6
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Mar 20 22:00:11 2012 -0400

    TPAC / unapi: Overhaul copy and located URI display
    
    In unauthenticated mode, sort returned copies in the following order:
    
    1. Search library proximity
    2. Search library name
    3. (Search results only) Call number, by most available copy status
    4. Call number label
    5. Copy status availability
    
    Also return & display the copy counts ("x of y copies are available")
    for the search library and each of its parents.
    
    We can also determine "preferred library" as follows, taking the first
    match:
    
    1. A new GET param, "plib", specifying the number of the OU
    2. If authenticated, the user's "search library" preference setting;
    3. If authenticated, the user's home library;
    4. Physical location in which the search is being issued (if any)
    
    Given a preferred library:
    
    1. Promote the copies (if any) for the preferred library to the top of
       the copy display list.
    2. Include the copy count for the preferred library if it is outside of
       the scope of the search library;
    3. In record details, give users the ability to jump to their preferred
       library scope via "Show preferred library" beside the preferred
       library copy count, if applicable. If your search library is located
       beneath your pref library in the org hierarchy, then you'll get just
       the "copy depth" link instead.
    
    Also, untangle the located URIs from physical call numbers in
    in-database unapi.
    
    We had been facing the limitation of URIs being limited by the maximum
    number of call numbers, with the result that URIs may or may not have
    been displayed. Now, we take the bold tack of returning all URIs that
    are in scope for both the search library and the preferred library. No
    limiting is currently possible, but in the realistic worst case scenario
    of both search lib and pref lib being set to an OU at depth 4, we'll get
    a maximum of 8 different URIs back to display. (More realistically, it's
    unlikely that a different URI will be set for each level of the
    hierarchy.)
    
    Some of the more granular code changes are as follows:
    
    * Add attributes to in-db unapi acp, sunit, holdings_xml
    
    This gives us more flexibility in displaying due dates within search
    results or other contexts in which holdings are displayed. The
    age_protect, copy_id, and vol_id attributes are required by the record
    summary display.
    
    * Enable TPAC to display records via HSTORE-based unapi
    
    Now that unapi requires HSTORE-based LIMIT and OFFSET arguments, take
    the simplest possible approach to get get_records_and_facets() working
    again.
    
    In search results, we want to limit both the number of copies we get
    back (defaulting to a maximum of 5 copies per call number) and the
    number of call numbers we get back (defaulting to a maximum of 5 call
    numbers), so that we don't get 50 call numbers each with 5 copies back
    and wind up grinding Evergreen's performance down to a halt.
    
    Rough thought is that the caller can filter through the (maximum) 25
    hits that are returned to present their preferred results. For example,
    a site could opt to show 5 different call numbers with just one copy per
    call number, or 5 different copies for a single call number, or all 25.
    
    * Avoid deleted call numbers, copies, and sunits
    
    The rewrite of unapi removed the filters for deleted call numbers that
    were added to master in LP# 893315 / commit hash 47a16f516d. Fix this
    to prevent returning pages of results that would show nothing in the
    TPAC because all of the call numbers were deleted.
    
    * Display multiple URIs correctly
    
    We weren't clearing the hash each time that we added it to the list of
    URIs, and that ended up duplicating the URI rather than adding distinct
    URIs.
    
    * Take copy availability into account for copy order
    
    This is most important in the LIMITed list of copies returned to the
    TPAC search results page, but also useful on the record details page.
    
    This commit adds "copy status ranking" into the result ordering, such
    that more available copies will be returned first in the list (and thus,
    in the case of search results where call numbers and copies are
    typically limited (currently to 5 of 5), ensuring that the most
    available copies are likely to be seen by users).
    
    The "availability" ranking for a copy is defined by a new function,
    evergreen.rank_cp_status(), that takes criteria from the
    config.copy_status table and ranks it in three tiers, as follows:
    
    1. Most available =  opac_visible and copy_active are both TRUE
    2. Almost available = holdable and opac_visible are TRUE, but
       copy_active is FALSE, or status ID = 1 ("Checked out")
    3. Unavailable = anything else.
    
    Thus, changing copy availability ranking (such as demoting "On holds
    shelf" from the "most available" status to "almost available"), is
    simply a matter of tweaking the evergreen.rank_cp_status() function.
    
    * unapi database functions: mark STABLE
    
    Thomas Berezansky suggested marking one of the new database functions in
    the in-database unapi suite as STABLE to help the optimizer, which lead
    to us realizing that everything can be marked as stable. This should
    enable the planner to generate better plans than if left to the default
    pessimistic level of VOLATILE.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

18	14	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
8	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
16	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
307	107	Open-ILS/src/sql/Pg/990.schema.unapi.sql
1193	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi_limit_rank.sql
12	0	Open-ILS/src/templates/opac/parts/misc_util.tt2
23	3	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
20	2	Open-ILS/src/templates/opac/parts/result/copy_counts.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi_limit_rank.sql

commit 7ebf143c86c7cbb88dc18987861cd823c0afc5c1
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 3 14:23:11 2011 -0400

    Add per-class limit support to the tag URI parser; correct location/org thinko
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

3	3	Open-ILS/src/perlmods/lib/OpenILS/Utils/TagURI.pm

commit 96559ac3f8b95745d64967ec8d42a0024dfd7504
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 2 14:44:53 2011 -0400

    Support per-class sub-object limit/offset
    
    Change the signature for in-db unapi functions so that the limit /
    offset arguments become HSTORE values, rather than plain INTEGER values.
    This gives you the ability to specify limits and offsets at both the
    volume and copy level, via the likes of 'acp=>5, acn=>10' to
    specify 5 copies and 10 volumes.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

189	170	Open-ILS/src/sql/Pg/990.schema.unapi.sql

commit 94656bc7edb68ee2f3d1d4eecb128a2837f55d33
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Mar 22 17:07:10 2012 -0400

    Wrap upgrade script for bib record email / print actions
    
    Thanks again to Bill Erickson for another nice piece o' functionality.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

106	0	Open-ILS/src/sql/Pg/upgrade/0689.data.record_print_format_update.sql
0	98	Open-ILS/src/sql/Pg/upgrade/XXXX.data.record_print_format_update.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0689.data.record_print_format_update.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.record_print_format_update.sql

commit c7368f1cce63ad3fadade381fd102cdae97f1fb9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 29 10:49:18 2012 -0500

    Tpac: record detail print and email
    
    Implements Print and Email actions (as links below add-to-list) in the
    tpac record detail page.
    
    The existing bib record print/email A/T seed templates were also updated
    like so:
    
    * Instead of using the reporter tables, bib data is fetched and
    extracted via unapi, which allows access to SVF data (etc) and is more
    consistent with the tpac.
    
    * A number of unused A/T evnironment entries for the seed templates were
    removed.
    
    * The delay for the email template was explicitly set to 00:00:00
    instead of the default 5 minutes to get the emails out quicker.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
29	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
52	28	Open-ILS/src/sql/Pg/950.data.seed-values.sql
98	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.record_print_format_update.sql
6	1	Open-ILS/src/templates/opac/parts/record/summary.tt2
21	0	Open-ILS/src/templates/opac/record/email.tt2
27	0	Open-ILS/src/templates/opac/record/print.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.record_print_format_update.sql
 create mode 100644 Open-ILS/src/templates/opac/record/email.tt2
 create mode 100644 Open-ILS/src/templates/opac/record/print.tt2

commit 001ef6a6b0f4da8ea5a3606c415a9bbfe0a6a9d8
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Mar 22 12:53:13 2012 -0400

    Wrap upgrade script for CSV circ history export
    
    Thanks, Bill!
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

54	0	Open-ILS/src/sql/Pg/upgrade/0688.data.circ_history_export_csv.sql
0	55	Open-ILS/src/sql/Pg/upgrade/XXXX.data.circ_history_export_csv.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0688.data.circ_history_export_csv.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.circ_history_export_csv.sql

commit 0b02b2b552e25fee6104de200af621275d209396
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 22 13:14:13 2012 -0500

    TPac: Circulation history CSV export
    
    This adds a new "Download CSV" button to the TPac circulation history
    interface.  The CSV is generated from a new Action/Trigger event
    definition.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    
    Conflicts:
    
    	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
    	Open-ILS/src/sql/Pg/950.data.seed-values.sql
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
26	6	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
13	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
45	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
55	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.circ_history_export_csv.sql
8	2	Open-ILS/src/templates/opac/myopac/circ_history.tt2
1	0	Open-ILS/src/templates/opac/myopac/circ_history/export.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.circ_history_export_csv.sql
 create mode 100644 Open-ILS/src/templates/opac/myopac/circ_history/export.tt2

commit 16c872eb017b38dcfbeac9addc21edde1eacbfd5
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Mar 22 00:15:28 2012 -0400

    .gitignore update - ignore more built files
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

35	0	.gitignore

commit 9e86a1e38f3727068a02142da9c74774678d479f
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Mar 22 00:08:45 2012 -0400

    TPAC: Tiny fix for + instead of _ string cat operator
    
    Quiet down, Apache logs.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2

commit 21b72b3848b27a2d71c88b8833a365cec4fb7325
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Mar 21 10:03:18 2012 -0400

    TPAC: suppress warning about splice() when the array in question is too short
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 96c404dd1ebaae5974669394c6a5e369f1d1ecb3
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Mar 21 12:14:44 2012 -0400

    Shooting 2 obvious thinkos d-e-d dead. Pardon the rogueness.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/c-apps/oils_sql.c

commit 4196ef8f61062f37b8b0b47657ea581bbfe6990d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Mar 21 09:55:31 2012 -0400

    Fix Auditor Boost upgrade script
    
    CREATE FUNCTION needs an OR REPLACE included.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0686.schema.auditor_boost.sql
1	1	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit f0f44824204f78313f4c8776ddd1adfc68053e14
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 3 16:32:03 2012 -0500

    TPac; credit card assumes all xacts if none selected
    
    For consistency with the initial payment form and to preserve backwards
    compatibility, if no transactions are selected, assume the user wants to
    pay for all transactions.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

13	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 40883394783ca36c40bf4069d64c3072279d0cd9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Nov 21 15:47:37 2011 -0500

    TPac; credit card payment "Processing..." page
    
    To prevent impatient patrons from re-submitting credit card payment
    request forms, insert a Processing... page between the initial form
    submission and the actual payment processing.
    
    Steps 3-5 are new or modified.
    
    1. User selects transactions to pay
    2. User fills in payment form and Submits
    3. Payment form data is cached in memcache with a temporary token
    4. Processing page is displayed with message about how processing the
       payment can take time, do not refresh, etc.
    5. Page is refreshed via http meta refresh to submit the form using
       the temp token.  The page is not visibly changed, though, since it
       takes time for the form submission to begin returning data.
    6. User is directed to the payment results page.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
68	15	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	0	Open-ILS/src/templates/opac/myopac/main_pay.tt2
15	0	Open-ILS/src/templates/opac/myopac/main_pay_init.tt2
1	1	Open-ILS/src/templates/opac/myopac/main_payment_form.tt2
7	0	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/templates/opac/myopac/main_pay_init.tt2

commit 4717c4312a9db8ff59bfb810be620dec75afbe58
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Nov 21 15:44:40 2011 -0500

    TPac; support context-genereted refresh content
    
    If the tpac context object contains a "refresh" attribute, it will be
    used as the content attribute in a <meta http-equiv="refresh" ...>
    element in the page head.  If present, it will override the default
    refresh content for the authentication timeout.
    
    While we're in there, let's use the more correct form of the content
    attribute:  content="x; url=foo"
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	2	Open-ILS/src/templates/opac/parts/base.tt2

commit ddf8bb071c0bd1e6bbac968e2b081170a7a3ab14
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Mar 20 18:42:28 2012 -0400

    Add the session to Circ set_audit_info calls
    
    Because I apparently wasn't thinking about how I wrote the apputils piece
    when I added them.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm
6	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/StatCat.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Survey.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Transit.pm

commit 0891a8e8c2152e3c459d2686b2228453af4ec894
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jan 11 13:57:43 2012 -0500

    LP914821 template selection should be sticky
    
    in Unified Volume/Copy Editor.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

9	1	Open-ILS/xul/staff_client/server/cat/copy_editor.js
6	0	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.js

commit df055439b452778df68191b052035e3bb4c9a37a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Mar 20 16:16:44 2012 -0400

    AutoSuggest: Have the server cache for us if we're not using cookies
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/web/js/dojo/openils/AutoSuggestStore.js

commit 51bd2fbb982380432979e5d1cbb0c23a0f5ff7a4
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Mar 19 11:08:08 2012 -0400

    AutoSuggest: Don't try to store cmc and cmf caches in a cookie. Too big.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	12	Open-ILS/web/js/dojo/openils/AutoSuggestStore.js

commit 8b52ac29ef014159b66c38f992ad051b0ef0ab22
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Mar 20 13:47:00 2012 -0400

    Fix a couple of templates with multiple class attributes in tags.
    
    There should only be one class attribute on a HTML tag. However,
    multiple classes can be combined in a single attribute argument.
    
    See: http://www.w3schools.com/tags/att_standard_class.asp
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	3	Open-ILS/src/templates/acq/invoice/view.tt2
1	1	Open-ILS/src/templates/opac/password_reset.tt2

commit 5f7fd50c19ccfcb698a48b5c20f6bffe5ab7fea9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Mar 15 17:04:51 2012 -0400

    Backdate into grace period - include last second
    
    The last second of the grace period is ignored on backdated checkins, but
    should still count as "in" the grace period.
    
    This fixes that.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/CircCommon.pm

commit 2bebbd99cf600d57ca6e8513dd833fc5e52461e2
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Mar 13 11:21:59 2012 -0400

    AutoSuggest: don't force-scroll browser; that's irritating
    
    By default, Dijits and things that inherit from Dijits (at least in
    Dojo 1.3.3 that we're still using), have a true value for an attribute
    called scrollOnFocus.  This makes your browser jump to ensure that the
    widget that just received focus is in view.
    
    You don't always want this though.  Try expanding the extras on the
    record detail page of the TPAC without this commit, but with AutoSuggest
    enabled, for example.
    
    This commit sets the scrollOnFocus attribute to false for the
    AutoSuggest widget.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/web/js/dojo/openils/widget/AutoSuggest.js

commit 481d021010d2f442ff2b18b40f877797c5aaf567
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Mar 10 11:27:08 2012 -0500

    Propagate search location on "Another Search" link
    
    In commit 27b2037d72b I had intentionally prevented "Another Search" on
    the results page from propagating the current search location, in the
    belief that sites would want to use that as a way of starting a brand
    new search session; after all, both the "Advanced search" and "Search
    toolbar" offer propagation of the current parameters.
    
    However, a number of people including Kathy Lussier and Ben Shum
    indicated that they expected "Another Search" to maintain scope as well,
    so we will propagate state here.
    
    Sites may want to customize this link or the top-left logo link if they
    want to provide a "Start a new search session" option.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/templates/opac/results.tt2

commit c99f158d66dd7349324b1d327cbf8d1877a3ae6e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Feb 3 14:45:28 2012 -0500

    Prevent AutoGrid death using a certain helper with null OU fields
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	3	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit 63174837755349499f3821e481215d6f7eda897e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Mar 20 15:56:12 2012 -0400

    Stamping upgrade script for reingest betterment
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
86	0	Open-ILS/src/sql/Pg/upgrade/0687.schema.enhance_reingest.sql
0	72	Open-ILS/src/sql/Pg/upgrade/XXXX.enhance_reingest.sql
84	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0687.schema.enhance_reingest.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.enhance_reingest.sql

commit dda3e07c35b0ea5768c5744f7e9bfb29d7abb4bc
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Feb 21 17:05:31 2012 -0500

    New metabib.reingest_metabib_field_entries func
    
    In addition to acting like the old one by default, support new params:
    
    skip_browse - Skip autosuggest (re)population
    skip_facet - Skip facet (re)population
    skip_search - Skip search (re)population
    
    Can be specified by name with PostgreSQL named param features:
    
    metabib.reingest_metabib_field_entries(bib_id, skip_search := true);
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

16	10	Open-ILS/src/sql/Pg/030.schema.metabib.sql
72	0	Open-ILS/src/sql/Pg/upgrade/XXXX.enhance_reingest.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.enhance_reingest.sql

commit 8153d519d933571b4a0ec81d898d105ac05378f4
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Mar 20 13:50:31 2012 -0400

    Stamping upgrade script (and updating 2.1-2.2 version upgrade script)
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
290	0	Open-ILS/src/sql/Pg/upgrade/0686.schema.auditor_boost.sql
0	276	Open-ILS/src/sql/Pg/upgrade/XXXX.auditor_boost.sql
421	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0686.schema.auditor_boost.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.auditor_boost.sql

commit db327a6c66de2efaf1aaebbe2f0220fa65cf317f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Nov 21 16:51:50 2011 -0500

    Call set_audit_info and clear_audit_info DB funcs
    
    Set whenever we can (including automatically via pcrud)
    Clear whenever we disconnect (hopefully) from a location we set from.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/include/openils/oils_sql.h
7	0	Open-ILS/src/c-apps/oils_cstore.c
7	0	Open-ILS/src/c-apps/oils_pcrud.c
7	0	Open-ILS/src/c-apps/oils_rstore.c
97	0	Open-ILS/src/c-apps/oils_sql.c
3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
12	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm
6	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/StatCat.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Survey.pm
2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Transit.pm
26	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg.pm
78	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/storage.pm
12	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/CStoreEditor.pm
12	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/Editor.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/BadDebt.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/TemplateBatchBibUpdate.pm

commit 7ca2c02e3e7e08c8b067be0707670616c1bf183f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Nov 21 11:18:49 2011 -0500

    Auditor Function Overhaul
    
    Alter create_auditor_history to include two new columns:
        audit_user - To refer to the user who made this change
        audit_ws - To refer to the workstation they were logged into
    
    Alter create_auditor_func to include the new columns, as well as make it
    stop assuming that the auditor table and the table it is based on use the
    same column ordering. In additon, make it use OR REPLACE so it can be run
    again later.
    
    Alter create_auditor_lifecycle similarly to create_auditor_func, sans the
    OR REPLACE functionality.
    
    Add five new functions:
    
    set_audit_info - To set the user and workstation IDs
    get_audit_info - Used by the auditor functions to retrieve said IDs
    clear_audit_info - To remove the stored IDs for whatever reason
    fix_columns - To add/remove/update columns that have changed since any
        auditors were initially created
    update_auditors - To run a full pass of dropping all lifecycle views,
        update for all column changes, re-create the auditor functions, and
        re-create the auditor lifecycle views.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

239	12	Open-ILS/src/sql/Pg/900.audit-functions.sql

commit 60ae1d172c4abaee2744a36596dcb6ccf31a777e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Nov 21 11:18:58 2011 -0500

    Unwrapped auditor upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

276	0	Open-ILS/src/sql/Pg/upgrade/XXXX.auditor_boost.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.auditor_boost.sql

commit 6b59eda856fe61c2fb85007dfb792512e8c31fd7
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Mar 15 10:04:05 2012 -0400

    TTPAC material type icon compression
    
    When cleaning up the images directory for TTPAC, I discovered
    that the mattype icons had been saved with a poor compression
    scheme and where taking up nearly 3MB, which was just too
    high for a small set of icons.
    
    I ran them through Photoshop CS5 and saved us a whopping 2.85MB
    of disk space used by the images.  The entire lot decreased from
    3MB to just 152KB.  Average icon size is now just about 1KB.
    
    This should speed up load times when these images are displayed.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

-	-	Open-ILS/web/images/format_icons/mattype/2.png
-	-	Open-ILS/web/images/format_icons/mattype/5.png
-	-	Open-ILS/web/images/format_icons/mattype/a.png
-	-	Open-ILS/web/images/format_icons/mattype/b.png
-	-	Open-ILS/web/images/format_icons/mattype/c.png
-	-	Open-ILS/web/images/format_icons/mattype/d.png
-	-	Open-ILS/web/images/format_icons/mattype/e.png
-	-	Open-ILS/web/images/format_icons/mattype/f.png
-	-	Open-ILS/web/images/format_icons/mattype/h.png
-	-	Open-ILS/web/images/format_icons/mattype/i.png
-	-	Open-ILS/web/images/format_icons/mattype/j.png
-	-	Open-ILS/web/images/format_icons/mattype/k.png
-	-	Open-ILS/web/images/format_icons/mattype/l.png
-	-	Open-ILS/web/images/format_icons/mattype/m.png
-	-	Open-ILS/web/images/format_icons/mattype/media_downloadableebook.png
-	-	Open-ILS/web/images/format_icons/mattype/media_electronicgames.png
-	-	Open-ILS/web/images/format_icons/mattype/media_evideo.png
-	-	Open-ILS/web/images/format_icons/mattype/media_onlinejournal.png
-	-	Open-ILS/web/images/format_icons/mattype/media_player.png
-	-	Open-ILS/web/images/format_icons/mattype/media_podcasts.png
-	-	Open-ILS/web/images/format_icons/mattype/media_streamingaudio.png
-	-	Open-ILS/web/images/format_icons/mattype/media_streamingvideo.png
-	-	Open-ILS/web/images/format_icons/mattype/media_vhs.png
-	-	Open-ILS/web/images/format_icons/mattype/n.png
-	-	Open-ILS/web/images/format_icons/mattype/o.png
-	-	Open-ILS/web/images/format_icons/mattype/p.png
-	-	Open-ILS/web/images/format_icons/mattype/q.png
-	-	Open-ILS/web/images/format_icons/mattype/r.png
-	-	Open-ILS/web/images/format_icons/mattype/s.png
-	-	Open-ILS/web/images/format_icons/mattype/t.png
-	-	Open-ILS/web/images/format_icons/mattype/v.png
-	-	Open-ILS/web/images/format_icons/mattype/w.png
-	-	Open-ILS/web/images/format_icons/mattype/x.png
-	-	Open-ILS/web/images/format_icons/mattype/y.png
-	-	Open-ILS/web/images/format_icons/mattype/z.png

commit 02b24c9f6ff9c1643f6cdd4d50164482a58277a4
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Mar 9 14:31:17 2012 -0500

    Password Reset Submit buttons should look like other OPAC buttons
    
    This branch stylizes the submit buttons on the Password Reset form
    in TTPAC so they match the other types of OPAC buttons throughout
    the catalog.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/templates/opac/password_reset.tt2

commit 035507338bc0a13d04d14ef9874e6a6ee977e30e
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Mar 16 13:56:57 2012 -0400

    LP#707167 Make open-ils.actor.usrname.exists not ignore deleted users
    
    Currently, open-ils.actor.usrname.exists filters out deleted users.  This
    results in a user recieving indication as to why a user update
    failed, when the reason is the username they're attempting to use
    is in use, but is "deleted" in the database.
    
    This branch makes open-ils.actor.usrname.exists look at deleted users
    since they still prevent re-use of the delted user's username.
    
    More information is in the original bug, https://bugs.launchpad.net/evergreen/+bug/707167.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 0c9929ed83510f8180144c3935fdcd77f4d609eb
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Feb 17 12:37:15 2012 -0500

    New features for telephony currently in use at KCLS
    
    I must ask the community's forgiveness for sitting on this for so long.
    This code was developed in fits over time, and it had to be disentangled
    from some site-specific configuration and workarounds before it could
    be usefully published.
    
    Enhancements over what's already committed to master include:
    
    - a feature that allows an Evergreen system to query the PBX (where
      PBX here refers to an Asterisk system plus the eg-pbx-* scripts from
      Evergreen - particularly eg-pbx-mediator.pl) for the A/T event IDs
      associated with failed notifcations, so that those A/T events can be
      "rolled over" into new ones with a different event definition, and
      thus a different notification method
    
    - holiday awareness in eg-pbx-allocator (the piece run by cron whose
      main responsibility is dripping files from a staging directory into
      Asterisk's real spool for call files).  There's a script (set_pbx_holidays)
      that can be run by cron on an Evergreen system to periodically update the
      PBX's table of holidays based on a given org unit's closed_date ranges.
    
    - smart retry.  In certain situations, if you put too many callfiles
      into Asterisk's spool at once, Asterisk will try to make too many
      calls at once, and all such calls just fail.  That's what the
      allocator is meant to prevent.  Smart retry is about moving calls that
      have been tried once, and will be retried again later due to resulting
      in a busy signal or other problem, out of the spool to make room for
      other calls that could be made in the mean time.
    
    - miscellaneous helper scripts and tricks for spreading more
      reportable/greppable information among A/T output and cleaning up
      callfiles that result in no-op's for Asterisk. Lock file checking for
      the allocator. Etc.
    
    I also have tried to throw in some useful documentation.  I admit things
    look a bit jumbled, but I'll be as available as I can make myself to help
    anyone who steps up to clarify documentation or improve code in order to
    make general adoption of these features a little easier.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	0	Open-ILS/src/asterisk/asterisk-1.6.2.18-accountcode.patch
74	2	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-allocator.pl
16	10	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-daemon.conf
142	109	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-mediator.pl
40	0	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-preclean.sh
76	0	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-smart-retry.pl
39	0	Open-ILS/src/asterisk/pbx-daemon/nagios_plugins/check_asterisk_spool.pl
6	1	Open-ILS/src/asterisk/pbx-daemon/test_client.pl
7	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/AstCall.pm
110	0	Open-ILS/src/support-scripts/rollover_phone_to_print.pl
92	0	Open-ILS/src/support-scripts/set_pbx_holidays.pl
4	0	docs/TechRef/Telephony/telephony-overview.svg
657	0	docs/TechRef/Telephony/telephony-setup-guide.txt
 create mode 100644 Open-ILS/src/asterisk/asterisk-1.6.2.18-accountcode.patch
 create mode 100755 Open-ILS/src/asterisk/pbx-daemon/eg-pbx-preclean.sh
 create mode 100755 Open-ILS/src/asterisk/pbx-daemon/eg-pbx-smart-retry.pl
 create mode 100755 Open-ILS/src/asterisk/pbx-daemon/nagios_plugins/check_asterisk_spool.pl
 create mode 100755 Open-ILS/src/support-scripts/rollover_phone_to_print.pl
 create mode 100755 Open-ILS/src/support-scripts/set_pbx_holidays.pl
 create mode 100644 docs/TechRef/Telephony/telephony-overview.svg
 create mode 100644 docs/TechRef/Telephony/telephony-setup-guide.txt

commit f4602609ff15772b4e18a23d4cf7b42e8a1689d8
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Feb 2 09:19:11 2012 -0500

    Use getItemType() instead of getForm() in searchBarInit().
    
    This seems to actually fix the problem with the item type limiter
    being lost when going from advanced search to the results page.
    
    Looks like the wrong method was being used to set the form_selector
    value in search_bar.js. It was being set to the web form itself and
    not to the value of the it (item type) parameter.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/opac/skin/default/js/search_bar.js

commit 9172d83e71cbc8c06d1f42a7ca08b1b96efd8707
Author: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
Date:   Tue Nov 1 14:18:32 2011 -0400

    When sorting a search results set the isFilterSort variable is passed
    to searchBarSubmit.  In side searchBarSumbit there is a call to the
    opac_utils.js function clearSearchParams function.  This removes all
    search paramaters when sorting a result set, which is not the desired
    effect.  I have wraped clearSearchParams in a check to make sure
    isFilterSort is not set before calling the clearSearchParams function,
    and this check ensures that the current search's paramaters are passed
    to sort operations.
    
    Signed-off-by: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
    Signed-off-by: Jason Stephenson <jason@sigio.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	1	Open-ILS/web/opac/skin/default/js/search_bar.js

commit f40686b8a003a9bb737051f16a87a239154336d6
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Jan 18 00:27:05 2012 -0500

    LP918020: Fix regression in biblio.extract_located_uris
    
    The 2.0-2.1 upgrade script contained an old version of
    biblio.extract_located_uris that functioned poorly. Fix the 2.0-2.1
    upgrade script and ensure that sites upgrading to 2.1.2 get the fix as
    well.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

27	12	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql
112	0	Open-ILS/src/sql/Pg/version-upgrade/2.1.1-2.1.2-upgrade-db.sql

commit 004198c8d60efe2bb1bae8a6cd11d0c574cfb580
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Feb 24 14:36:16 2012 -0500

    lp928937, null date sorting
    
    Changes util.date.db_date2Date so that nulls are not converted into the epoch.
    This fixes date sorting in XUL-based lists in the staff client such that unset
    dates are listed before actual dates.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/xul/staff_client/chrome/content/util/date.js

commit 45be2fa7b6df7ef2708ff55376fc074f7609e99f
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Feb 24 14:56:18 2012 -0500

    Avoid JSPAC hold placement interface problems when no holdable copies
    
    This addresses a bug brought to my attention by John Jones.
    
    When you're trying to place certain holds (at least title level holds) on
    records for which there are no holdable formats (no descriptors as returned by
    open-ils.search.metabib.record_to_descriptors), then
    holdArgs.recordDescriptors in holds.js can be an empty array.  There is
    a line of code that assumes this will never happen.
    
    The end user-visible result of the javascript failing here is an alert()
    dialog about phone number format, but this is a red herring.  That only
    happens because the problem code is in one big function that has too
    many responsibilites.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/opac/skin/default/js/holds.js

commit dad78e0222d35454ae0b2e38e855b1ab49c1150b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Feb 21 11:47:34 2012 -0500

    TPac: avoid showing replaced addresses
    
    Replaced (negative-id) addresses should never be visible to the patron.
    Remove them from the collected list of addrs.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 6a1c6b68f9459b6ed87b0f1ceb7573aafc9bc8b7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Feb 7 14:40:19 2012 -0500

    Tpac (etc): improve payment history sorting/paging
    
    Payments within a transaction will have the same timestamp.  With a
    large enough set of such payments, sorting by timestamp alone when
    retrieving payments is not enough to guarantee unique pages of payments.
    This adds a secondary sort on payment ID as a tie-breaker.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 69b708f8647c34c42b375c223de42ef4b72086f7
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jan 30 13:11:19 2012 -0500

    Fix AccessControl plugin extraction
    
    Apparently they ditched a containing folder in the zip...lets autodetect
    that from now on.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/xul/staff_client/Makefile.am

commit c07d9c47393e6af0b7b99ace23aea6283dbca9f9
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jan 23 10:05:19 2012 -0500

    patron search result order sorting
    
    The default patron search "order by" on the server side is last name, first
    name, and actor.usr.id.
    
    The staff client intended to request last name, first name, middle name, and
    date of birth (when actor.usr.id to be tacked on in the middle layer), but a bug
    prevented this.
    
    This fixes that.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	1	Open-ILS/xul/staff_client/server/patron/search_result.js

commit 1127be90412dc57c7e318286a4f1e9312417478f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 1 13:53:55 2012 -0500

    Paging repairs for Event definition admin UI
    
    If there are multiple event definitions with the same name that lie along
    the page boundaries, it's possible to page through event definitions
    seeing some def's multiple times and others never.  This is a result of
    sorting solely on event def. name when fetching event def's for display.
    This patch adds secondary (and tertiary, and quaternary, and quinary)
    sort columns as tie breakers to guarantee a unique set of defs across
    pages.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/js/ui/default/conify/global/action_trigger/event_definition.js

commit 7d66c78634d3b4bff7b34fcbb06031254729043c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 5 13:18:29 2012 -0500

    Do not exclude "identifier" facets by default
    
    No longer ignore "identifier" fields when collecting and caching
    facet data.  This change causes all config.metabib_field's that are
    marked as facet_fields to be taken into consideration.
    
    Apart from marking a field as facet_field=false, it's also possible to
    control which fields are visible within the jspac and tpac (pending LP
    911908)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

25	25	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 2c250783c35b84abba4edc091c95c9b67b610070
Author: Warren A. Layton <warren.layton@gmail.com>
Date:   Mon Mar 19 12:47:50 2012 -0400

    Fix some small errors in Apache log for staff client splash page
    
    Fixes the path to the background image in the splash page's search
    box.
    
    Also removes references to javascript files that don't seem to be
    present.
    
    Signed-off-by: Warren A. Layton <warren.layton@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	5	Open-ILS/xul/staff_client/server/index.xhtml

commit 2b876b7d10c8d5e7c34b2a1971b092d1aadd9b24
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Mar 19 16:04:49 2012 -0400

    TPAC: Prevent OU-invisible copies from being displayed to public
    
    Per LP# 959577, "We've found that copies from OU's with OPAC visible set
    to false are displaying on the record details page of tpac."
    
    This fixes that by including the pertinent clause in mk_copy_query()'s
    version of what in-db unapi does. Some day we will unite under the same
    logic and be stronger!
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit 9222fb95a4e33eb8e634cf240c6db59e3c1e7349
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jan 12 15:37:48 2012 -0500

    Disable mod_deflate on XMLENT filtered files
    
    Default configs for Ubuntu, at least, enable mod_deflate too broadly, and
    XMLENT filtering needs to happen before mod_deflate kicks in.
    
    Because we can't change the filter order, instead disable mod_deflate for
    those files we have enabled XMLENT filtering, by use of the no-gzip ENV.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

17	0	Open-ILS/examples/apache/eg_vhost.conf

commit c464139505dae781cc491b78d1bd277bee99f258
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 19 11:57:19 2012 -0400

    Stamping BluRay videorecording format upgrade
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
47	0	Open-ILS/src/sql/Pg/upgrade/0685.data.bluray_vr_format.sql
0	33	Open-ILS/src/sql/Pg/upgrade/XXXX.bluray_vr_format.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0685.data.bluray_vr_format.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.bluray_vr_format.sql

commit 56fb9df55b0ff3a54442120aec0fcf9ba24074a9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Mar 11 18:00:03 2012 -0400

    Teach Evergreen about Blu-Ray VR Format
    
    Also, reingest blu-ray records in an update script to populate it.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
33	0	Open-ILS/src/sql/Pg/upgrade/XXXX.bluray_vr_format.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.bluray_vr_format.sql

commit 8584fb7013a01a1c0a6164cb709ae02474e9b404
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 16 17:01:11 2012 -0400

    Layout tweak to return-to-search-results staff button
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	2	Open-ILS/xul/staff_client/chrome/content/cat/opac.xul

commit d56aec84eacfbc41829bcca3b0899e26e78e8fe8
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Mar 13 17:18:17 2012 -0400

    Staff client: add a back-to-search-results button in the chrome that ...
    
    ... wraps the OPAC (whether JSPAC or TPAC).
    
    You don't really need this when in OPAC view, because the OPAC page
    itself will have a link that does the same thing.  However, if you're
    browsing through records in a search result set one at a time in some
    other view, say the MARC view, then this button can come in handy.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	1	Open-ILS/src/templates/opac/parts/js.tt2
11	3	Open-ILS/web/js/ui/default/opac/staff.js
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/web/opac/skin/default/js/rdetail.js
15	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
2	0	Open-ILS/xul/staff_client/chrome/content/cat/opac.xul

commit 3fc982940370c3123ca8af637775cd7958532c00
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 19 11:21:49 2012 -0400

    Stamping upgrade script for ACQ/Vandelay integration branch
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
96	0	Open-ILS/src/sql/Pg/upgrade/0684.schema.acq-vandelay-integration.sql
0	96	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-vandelay-integration.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0684.schema.acq-vandelay-integration.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-vandelay-integration.sql

commit a01c7230dd455189b791c258a13f36c77cacbaaf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 15 13:54:02 2012 -0400

    AutoGrid line number CSS application cleanup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	11	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit ef48c844c7927ea07a65ad281cd673c17f363810
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Mar 14 02:52:49 2012 -0400

    add Line# column to autogrid
    
    hidden by default, but we need to make it show up in autogrid's column picker
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/web/css/skin/default.css
27	0	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit 066b233768746a03a2bccd03c3a81ed6f9e877d4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Mar 14 00:03:07 2012 -0400

    make ordinal column work in Holdings Maintenance
    
    brute force kludge
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js

commit 2c440e2190d0e8f5d2a5b172f77d41069838b4fb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Mar 12 16:06:51 2012 -0400

    adds a Line# column to all xul lists
    
    displays the ordinal position of the row
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

52	4	Open-ILS/xul/staff_client/chrome/content/util/list.js
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
7	0	Open-ILS/xul/staff_client/server/skin/global.css

commit e1eb6f80360cd58f677c0ccb07f6790d88749081
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Mar 12 15:39:20 2012 -0400

    row_node vs my_node in util.list
    
    Both of these should be holding the same xul treeitems, and I don't recall
    wanting different names here, so I'm renaming both to treeitem_node.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

13	13	Open-ILS/xul/staff_client/chrome/content/util/list.js
1	1	Open-ILS/xul/staff_client/server/admin/patrons_due_refunds.js
2	2	Open-ILS/xul/staff_client/server/admin/transit_list.js
5	5	Open-ILS/xul/staff_client/server/cat/copy_browser.js
1	1	Open-ILS/xul/staff_client/server/cat/copy_buckets.js
3	3	Open-ILS/xul/staff_client/server/cat/manage_multi_home_items.js
4	4	Open-ILS/xul/staff_client/server/cat/z3950.js
1	1	Open-ILS/xul/staff_client/server/circ/checkin.js
1	1	Open-ILS/xul/staff_client/server/circ/copy_status.js
4	4	Open-ILS/xul/staff_client/server/patron/bill2.js
1	1	Open-ILS/xul/staff_client/server/patron/holds.js
3	3	Open-ILS/xul/staff_client/server/patron/items.js
3	3	Open-ILS/xul/staff_client/server/patron/staged.js
3	3	Open-ILS/xul/staff_client/server/patron/standing_penalties.js
1	1	Open-ILS/xul/staff_client/server/patron/trigger_events.js
4	4	Open-ILS/xul/staff_client/server/serial/manage_dists.js
2	2	Open-ILS/xul/staff_client/server/serial/manage_items.js
6	6	Open-ILS/xul/staff_client/server/serial/manage_subs.js

commit 3f290283b3384e8a72223aa0ad314cd588978222
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Mar 16 13:38:13 2012 -0400

    pcrud fleshing bug fixes
    
    1. Avoid perm checks on org tree root lookup.
    2. Test for child objects to flesh into has_a / might_fields differently
    to avoid segfault when kids array is empty
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

17	11	Open-ILS/src/c-apps/oils_sql.c

commit 3b1ad62fd6860edc8c947bd5a542df210e113878
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Mar 13 17:40:28 2012 -0400

    Fix a bug spotted by Jason Stephenson and Thomas Berezansky
    
    I was leaving local variables called 'cache' high and dry in many
    functions calling the initSessionCache() function that was introduced to
    reduce code repetition.
    
    This seems to fix that
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	6	Open-ILS/src/c-apps/oils_sql.c

commit 8a5ec8b2678c3404ef5708aff4e2da56ea244f8f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Mar 14 13:26:17 2012 -0400

    Adjust controller-requiring logic for pcrud perm-verify mode
    
    In cstore we always require the controller.  However, in pcrud, we need to be
    able to skip the controller requirement when we're verifying permissions.  This
    allows that.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	3	Open-ILS/src/c-apps/oils_sql.c

commit 8627a1be00cc88828bc22cb885aec0d55a4fdf9d
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Oct 25 17:01:04 2011 -0400

    pcrud fleshing
    
    This allows fleshing in pcrud queries if
    a) the objects you would flesh have a pcrud controller in the IDL,
    b) you have permissions for all the objects you would flesh just as
       you would have to have them if you asked for them directly.
    
    This is harder to read than it might be because of efforts to avoid
    redundant perm checks for every fleshed object of the same class, and
    efforts to keep results streaming out quickly.
    
    Tests pretty well for me, but more rigor appreciated.
    
    I received lots of help in making this happen from Mike Rylander and
    Bill Erickson.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

311	218	Open-ILS/src/c-apps/oils_sql.c

commit 18bc30fe1aecdf19a21aaecd769c3ac3194b8fea
Author: Ben Shum <bshum@biblio.org>
Date:   Fri Mar 16 22:55:07 2012 -0400

    Tpac - add additional subfields for title in search results
    
    Originally, titles in Tpac only showed based on tag 245 subfield a.
    This sometimes led to difficulty identifying specific records from
    each other if it was part of a set or had additional title information
    in other subfields.
    
    Modified default title function to include the following:
    
    subfield b = remainder of title
    subfield n = number of part/section of a work
    subfield p = name of part/section of a work
    
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

5	1	Open-ILS/src/templates/opac/parts/misc_util.tt2

commit 364e37ddaba69149f6ce7820dffdbc2246592bd8
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Mar 16 12:37:53 2012 -0400

    Move "Save" button for notify prefs to bottom left
    
    Quick fix for a problem spotted by Ben Shum.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	8	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2

commit 4ff1088b05b03ac57f6447deee2f0e3c98291137
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Mar 16 11:50:36 2012 -0400

    Remove KCLS hold placement note from default TTPAC
    
    TTPAC had a KCLS specific hold placement note when placing
    a hold.  This removes it, as it doesn't apply to other installations.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

0	5	Open-ILS/src/templates/opac/parts/place_hold.tt2

commit e43d36f8431c1a34b4b5b85286b0302d77ddd928
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Mar 15 09:13:14 2012 -0400

    TTPAC icon color tweaks
    
    In TTPAC, there are a few tiny icons used that were still in a blue
    hue.  This adds a green hue to the icons, so they match the skin, plus
    boasts a 50% size decrease for the *_sign.png images, for
    a tiny bit of extra performance.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

-	-	Open-ILS/web/images/minus_sign.png
-	-	Open-ILS/web/images/plus_sign.png
-	-	Open-ILS/web/images/rdetail_arrow.png
-	-	Open-ILS/web/images/rdetail_arrow_down.png

commit 4c12000d90546bc834f9c9f5de813a2d6b5ee8ae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 15 15:32:38 2012 -0400

    TPac: avoid mkurl param stripping for all defined url params
    
    Instead of checking truthiness, checked definedness.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/templates/opac/parts/header.tt2

commit 83da0a93fb44afc261bbdd72901c713e9bb57dd4
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Mar 10 14:34:11 2012 -0500

    Concerto: increase copies, assign statuses
    
    Add more call numbers and create multiple copies per branch.
    Include BR3 and the Bookmobile for diversity and to provide
    some easier testing of search scopes at different depths.
    
    Switch to functions for the purpose of populating call numbers and
    copies, so we can make changes in one central place rather than
    repeating ourselves like crazy.
    
    For a better facsimile of the real-world, assign Reshelving / Checked
    out / Lost statuses to a subset of the copies. (When / if we create
    transactional data, we could throw this bogus data away.)
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

70	33	Open-ILS/tests/datasets/concerto.sql

commit a6807c2731d583d598394499e48c154d4fa45005
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Mar 7 10:39:44 2012 -0500

    ACQ PO state defaults to "pending" from upload
    
    When uploading a batch of records to create a PO, give the PO the
    initial state of "pending" instead of "on-order".  If the PO is meant to
    be activated, its state will updated to "on-order" during the activation
    phase.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit ebaf0fd679a1f466205cffa1a3edfd8dffac3e5f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 15 12:06:48 2012 -0400

    stamped upgrade for hold-avail-email-notify validation
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
29	0	Open-ILS/src/sql/Pg/upgrade/0683.hold_available_email_notify.sql
0	22	Open-ILS/src/sql/Pg/upgrade/XXXX.hold_available_email_notify.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0683.hold_available_email_notify.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.hold_available_email_notify.sql

commit 034fb7bcb12964cecb14a2da7f81a8e2523ed075
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Feb 6 17:19:14 2012 -0500

    Enable notify checking for holds in A/T Validators
    
    HoldIsAvailable and HoldIsCanceled get new checks, plus add HoldNotifyCheck
    validator.
    
    All three check for "check_$type_notify" parameters evaling to true, where
    $type is email, sms, or phone. If true the hold's appropriate value is
    checked and, if not suitable, the validator returns false.
    
    For email the email_notify value must pass the is_true test.
    
    For sms/phone the appropriate notify value must pass perl's truth test.
    
    Upgrade script modifies default event definitions, with the exception of
    the sms hold available event definition. That has no static id in the seed
    values.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

42	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Validator.pm
23	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
22	0	Open-ILS/src/sql/Pg/upgrade/XXXX.hold_available_email_notify.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.hold_available_email_notify.sql

commit 65d23b647978ddd2cd701b3cfbcbbc6552583fe0
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Mar 14 14:04:30 2012 -0400

    Fix issues with org selectors leaking variables
    
    Use of PROCESS leaks variables, switch them to INCLUDE instead.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/templates/opac/myopac/holds/edit.tt2
1	1	Open-ILS/src/templates/opac/myopac/prefs_settings.tt2
1	1	Open-ILS/src/templates/opac/parts/advanced/search.tt2
4	1	Open-ILS/src/templates/opac/parts/org_selector.tt2
1	1	Open-ILS/src/templates/opac/parts/place_hold.tt2
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit c4adaa799de5ca2adb1aaf35fe54db9f9fd59598
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 29 18:12:41 2012 -0500

    Acq+Vandelay : minor label change
    
    Replace "View Upload Queue" with "View Import Queue", which is less
    technically specific (in a good way).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/src/templates/acq/picklist/upload.tt2

commit ae3d839360b76c0eebb6aa0be028857390c229f6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 29 18:06:21 2012 -0500

    Acq+Vandelay : consistent post-upload link names
    
    For consistency with POs and selection lists, label the newly created
    Vandelay queue link as "View Upload Queue" instead of showing the queue
    name.  While we're in there, let's i18n-ize those 3 labels.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

3	3	Open-ILS/src/templates/acq/picklist/upload.tt2
1	1	Open-ILS/web/js/ui/default/acq/picklist/upload.js

commit 78b597ef43fc087b35901f8d7e46f723b9ad796c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 29 18:03:08 2012 -0500

    Acq+Vandelay: post-upload links open in embedded browser
    
    This change causes the picklist, PO, and queue links which appear after
    a vendor file upload to open their respective pages with the xul browser
    wrapper.  Without this, the existing page CSS is ignored and everything,
    including href's, are grey and washed out.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/web/js/dojo/openils/XUL.js
1	1	Open-ILS/web/js/ui/default/acq/picklist/upload.js

commit 919ed841c147e89fa45d8cf940ff06f21b34475d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 29 17:34:14 2012 -0500

    Acq+Vandelay : skip unneeded vandeley forms
    
    If all lineitems in question are linked to catalog records, avoid
    showing the unnecessary vandelay form.  This was already true from the
    PO activation action, but this patch adds the same check to the
    create-po action from a selection list and PO 'load bibs and items'.
    
    Minor label change for consistency in li_table (Queue -> queue).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/src/templates/acq/common/li_table.tt2
26	7	Open-ILS/web/js/ui/default/acq/common/li_table.js
1	13	Open-ILS/web/js/ui/default/acq/po/view_po.js

commit 07041e84572200111e28795ac10247ace36dc712
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 29 16:06:55 2012 -0500

    Acq + Vandelay : exit early for 'load bibs and items' in picklist
    
    The ACQ UI does not support loading bibs and items directly from the
    picklist interface.  If the user selects "load bibs and items" from the
    picklist page they will be presented with the vandelay options, but the
    actual upload/merge/etc will not do anything.  This change prevents the
    vandelay options from showing in this case.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 6d9dd49bd16f2181e07bef95f73fb09d891be9b6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Feb 21 10:56:38 2012 -0500

    Acq+Vandelay : more aggressive streamed response throttling
    
    With the addition of Vandelay processing, the server now wants to
    respond with status information a lot more often when uploading /
    process ACQ records.  This patch applies the level of throttling to ACQ
    processing as Vandelay uses natively, which starts verbose and quickly
    cuts back on chatter as processing continues up to (currently) a
    throttle window of 1 delivered response per 256 responses.  Apart from
    saving bandwith, this helps alleviate a known problem in the staff
    client where long-running, dense streams of multipart responses
    eventually stop bubbling up from the browser to the application.
    Making the responses more sparse seems to help this a lot.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 51334478294eec5bddfde4b7e83a858dc98e4f6d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Feb 14 11:29:30 2012 -0500

    Acq+Vandelay avoid premature asset creation
    
    The presence of Vandelay parameters in API calls does not mean the user
    necessarily wants to create PO assets (real copies/callnumbers).  That's
    controlled by a different, existing API parameter.  This adds support
    for processing bib data only in the presence of Vandelay parameters when
    the user has not explicitly chosen to create assets.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

5	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 349e7ed4608dd9cbf3b836867b743139e9e9dd1c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 10 10:42:24 2012 -0500

    Acq+Vandelay form re-use new queue
    
    In the Vandelay agent form, if a user creates a new destination queue
    for the uploaded records, allow the user to re-use the new queue without
    having to refresh the interface.  This is primarily useful in the ACQ
    upload UI, where re-using the pre-filled form is possible.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

17	2	Open-ILS/web/js/ui/default/acq/common/vlagent.js

commit bf43e8670e2971d96888fb4e57fc64b47ee46c74
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 10 10:40:17 2012 -0500

    AutoFieldWidget gets new useWriteStore option
    
    If the useWriteStore attribute is set to true, the underlying data store
    for dynamically create data will live in an ItemFileWriteStore instead
    of a ReadStore, which allows the caller to modify the data after the
    widget is rendered.  It's useful for in-place additions of newly created
    items.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

12	2	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js

commit 1ec10b00946dd331742d04bba676dc0a640325ea
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 10 10:37:52 2012 -0500

    Acq upload UI re-use new picklist
    
    In the ACQ file upload UI, if the user loads the records into a new
    selection list, this change allows the user to continue using the new
    list without having to refresh the page.
    
    Without this change, re-using the new list would result in the system
    trying to create a new list with the same name, which fails.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

14	1	Open-ILS/web/js/ui/default/acq/picklist/upload.js

commit 0a5fa7ee518678a0e576001ff76f3763560f7ad0
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 8 14:37:44 2012 -0500

    ACQ+Vandelay open picklist/PO/queue in new tab
    
    In the staff client, after a file upload, if a picklist, queue, or PO
    are created, make the links open their respective pages in new tabs.
    When not running inside the staff client, allow the links be regular
    href's.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

16	8	Open-ILS/web/js/ui/default/acq/picklist/upload.js

commit 21af7aa110578896b9c40e10b8c9a4f86cf52e95
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 1 09:12:23 2012 -0500

    ACQ+Vandelay detect existing queue with same name
    
    Within the acq/vandelay agent, detect when a user has entered the name
    of one of their existing queues.  When detected, update the queue
    selector to match the found queue (which updates the linked match set
    and clears the queue selector input).  Otherwise, users may not realize
    they are adding items to an existing queue (with a pre-linked match
    set).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

27	9	Open-ILS/web/js/ui/default/acq/common/vlagent.js

commit 49517bdf0da4502c626e7e28b2240bf42a782dc7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 31 15:59:41 2012 -0500

    ACQ+Vandelay limit upload queue selector to ACQ queues
    
    When uploading bibs to vandelay queues from ACQ interfaces, only allow
    records to be added to queues tagged as 'acq' queues (or to new 'acq'
    queues).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

2	1	Open-ILS/web/js/ui/default/acq/common/vlagent.js

commit 4d0050739339b0b26dc85b982d068e8e225170a9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 31 12:17:20 2012 -0500

    ACQ+Vandelay disallow match_set change on selected queue
    
    Consistent with Vandelay, if a queue is selected, show the linked
    match_set and disable the match_set selector.  Existing queues are
    already linked to a match set, so allowing the user to select one has no
    effect, which is confusing.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

58	0	Open-ILS/web/js/ui/default/acq/common/vlagent.js

commit 02da33f95b81c806b656a7759dd14a421a03cbdf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 31 10:49:14 2012 -0500

    ACQ+Vandelay API support for queue-and-match only from ACQ
    
    Allow users to load ACQ records into Vandelay queues and apply a
    match_set at queue creation time, without requiring the user to
    import/merge the ACQ records.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

9	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 23b04db5a14931a395fc505be061c1c8a7784c68
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 31 10:01:01 2012 -0500

    ACQ+Vandelay ACQ Records in vandelay queue selector
    
    Adds a new type of record to select from the Vandelay queue selector.
    Selecting "Acquisitions Records" will show queues with type 'acq'.
    Selecting the existing "Bibliographic Records" selector will only show
    queues with queue_type 'bib' (i.e. non-acq queues).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	0	Open-ILS/src/templates/vandelay/inc/queueselect.tt2
21	2	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit e65acab943a624c57673cd2b80ea483c63ed934b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 19 14:02:32 2012 -0500

    ACQ+Vandelay permission improvements
    
    Be more vigilant about enforcing permissions for various ACQ and
    Vandelay actions.
    
    1. Using vandelay to create new bib records now requres the IMPORT_MARC
    permission (same as open-ils.cat.biblio.record.xml.import).  If the
    permission fails, the queued record will fail import and be stamped with
    a new "import.record.perm_failure" vandelay import error.
    
    2. Added suport for testing additional permissions before a new record
    is created via vandelay.  This allows interfaces leveraging vandelay
    (e.g. ACQ) to create a higher barrier to entry.  Added an ACQ perm
    IMPORT_ACQ_LINEITEM_BIB_RECORD_UPLOAD that prevents users from creating
    new bib records directly from the ACQ vendor MARC file upload interface.
    
    The secondary permission is not meant as a security enhancement, per se,
    since the user is required to have the IMPORT_MARC permission to get this
    far in the process.  It's more of a feature-specific precautionary
    permission to prevent unintended record creation within certain
    permission groups.
    
    3. Checking the CREATE_PURCHASE_ORDER permission during the ACQ vendor
    file upload process.  It's absence appears to have been an oversight.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

4	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
44	15	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
8	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-vandelay-integration.sql

commit 12757f3d4e0767e9d23bf2c4172553360f0842cd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 6 16:31:22 2012 -0500

    ACQ+Vandelay link to vandelay queue from lineitem list UI
    
    In the general purpose lineitem interface (li_table), there is now a
    link to the Vandelay queue which contains the queued bib record used to
    load/merge/link the lineitem.  Queue opens in a new staff client tab.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	0	Open-ILS/src/templates/acq/common/li_table.tt2
18	0	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 845c858bcdd2dfb6df33239f90af990f5d219a93
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 6 13:50:29 2011 -0500

    ACQ+Vandelay import/merge user interface components
    
    Acquisitions support for leveraging Vandelay import/merge controls
    for loading ACQ records and/or linking ACQ records to existing
    catalog records.
    
    Dev includes:
    
    * General purpose Vandelay input form and merge progress indicator (VLAgent)
    * VLAgent is now shown in the following interfaces when a bib load/merge/link action is required:
     * Vendor record upload interface
     * PO creation
     * PO "load bibs and items" action
     * PO activation
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

1	1	Open-ILS/examples/fm_IDL.xml
14	23	Open-ILS/src/templates/acq/common/li_table.tt2
78	0	Open-ILS/src/templates/acq/common/vlagent.tt2
20	49	Open-ILS/src/templates/acq/picklist/upload.tt2
43	24	Open-ILS/web/js/ui/default/acq/common/li_table.js
98	0	Open-ILS/web/js/ui/default/acq/common/vlagent.js
46	37	Open-ILS/web/js/ui/default/acq/picklist/upload.js
17	0	Open-ILS/web/js/ui/default/acq/po/view_po.js
 create mode 100644 Open-ILS/src/templates/acq/common/vlagent.tt2
 create mode 100644 Open-ILS/web/js/ui/default/acq/common/vlagent.js

commit 468ee3248766650d468b4ff629e0a06f54ce4dd5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 30 15:42:30 2011 -0500

    ACQ+Vandelay API to support Vandelay-mediated imports
    
    Adds support for merging, overlaying, importing, and linking (a no-op
    merge) acquisitions lineitems to catalog records via Vandelay.
    
    All non-imported lineitems will now be processed through Vandelay during
    record upload and asset creation (load bibs and items), based on the
    Vandelay import parameters provided by the caller.  Each processed
    lineitem will also be linked to its queued Vandelay record.  In the case
    of a failed import, such records can be subsequently imported manually
    from the Vandelay interface using the manual record overlay options.
    
    ACQ API calls affected now report on the progress of Vandelay record
    import in addition to lineitem creation, copy creation, etc.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

258	125	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
21	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/Vandelay.pm

commit c8b172c0ebaa2434b70b996edfdf7b2271d19622
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 30 14:54:41 2011 -0500

    ACQ+Vandelay schema and IDL changes w/ upgrade script
    
    Adds a queued_record link from acq lineitems to vandelay queued record.
    Ditto acq_lineitem_history.  This will be used to link vandelay-mediated
    acq lineitems to the vandelay record used for their import.
    
    For ease of future changes, port the queue_type column from bib and
    authority queues to ENUMs and drop the constraint, which is implicit in
    the ENUM.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>

4	0	Open-ILS/examples/fm_IDL.xml
6	5	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
2	0	Open-ILS/src/sql/Pg/200.schema.acq.sql
72	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-vandelay-integration.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-vandelay-integration.sql

commit dbec08980d7e10337e8d9b56147c151b36eaf650
Author: Ben Shum <bshum@biblio.org>
Date:   Thu Mar 8 02:00:26 2012 -0500

    Add patron profile filter to horizontal search
    
    LP 715837 added the ability to filter by a specific patron
    profile during a patron search, but only in the default vertical
    search interface.  For sites using horizontal search, this new
    filter option had never been included.
    
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	0	Open-ILS/xul/staff_client/server/patron/search_form_horiz_overlay.xul

commit 3b14fa68e83dc926cb9288fe210894b645b14fd2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Mar 12 08:57:49 2012 -0400

    Updated upgrade script for 2.1-2.2
    
    Prepping for alpha3
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

7180	339	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit 5f3325660f0e07e14240c7ce49f99833a568a103
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Mar 11 09:29:51 2012 -0400

    Copy Location Search Groups Upgrade Script Version
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
30	0	Open-ILS/src/sql/Pg/upgrade/0682.schema.copy_loc_search_groups.sql
0	30	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.copy_loc_search_groups.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0682.schema.copy_loc_search_groups.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.copy_loc_search_groups.sql

commit e6eb4059934177a0929737d774233454a4c52b8b
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Mar 10 19:53:47 2012 -0500

    Add styles to org selector for loc groups
    
    Looks like user agents don't let us do a lot with styling OPTION
    elements (text colour, background colour) but this gives sites that want
    to further distinguish copy groups from libraries in the org selector
    something to work with.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

7	1	Open-ILS/src/templates/opac/parts/org_selector.tt2

commit 9ff41d494e268f981db189e1cf01d1df04b37cae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 1 13:51:53 2012 -0500

    Copy Location Groups : sort to top option
    
    Adds a 'top' flag to copy_location_groups which, when enabled, will
    cause the location group to sort above the child org units in the org
    unit selector in the tpac.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	0	Open-ILS/examples/fm_IDL.xml
1	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
1	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.copy_loc_search_groups.sql
17	2	Open-ILS/src/templates/opac/parts/org_selector.tt2

commit 82868632f2478d1d554fb0433418e9227df3a52c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 1 10:18:49 2012 -0500

    TPac: detail page distinct copy/holdings display depth
    
    This adds a new CGI param "copy_depth" which the record detail page uses
    to determine which copies to display in the copy grid and what serials
    holdings data to show.
    
    The goal is to separate search depth from copy display depth for 2
    main reasons:
    
    1. When present, the search ou is set by the "locg" parameter (org +
    copy location group).  The "Show" links in the record detail page use
    "loc" to determine the copy location org (and subsequently the depth),
    which is ignored in the presence of "locg".  In other words, we need
    a different way to communicate which range of copies to display.
    
    2. Separating copy depth and search depth allows us to display
    search location-related summary information while at the same time
    displaying a broader set of copy information.  For example, searching
    BR1, we can see copy summary info for BR1, SYS1, and CONS even when
    explicitly viewing copy information for CONS.  In other words, viewing a
    broader set of copies for a record does not change the search/context
    org unit, it only extends the set of copies to display.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

13	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
4	4	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2

commit 01e0058a678bc8642d12ded314b95dc66d85a3a8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 24 15:43:47 2012 -0500

    Copy Location Search Groups : admin UI improvements
    
    Two improvements to the location group list.
    
    1. Replace x / checkmark glyphs with clearer Visible / Not Visible
    labels.  Thanks for the suggestions, Lebbeous.
    
    2. Vertically align the edit actions block and the drag grips so the
    actions are always in the same place.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

16	12	Open-ILS/src/templates/conify/global/asset/copy_location_group.tt2

commit 08b79d69c9df220cdc0b3920880d40e3b1051071
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 22 10:31:37 2012 -0500

    Copy Location Search Groups : Release Notes
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

16	0	docs/RELEASE_NOTES_2_2.txt

commit ddc8c42d6a98013ddfb81840d566e06ef0551fd6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 17 16:14:16 2012 -0500

    Copy Location Search Groups : Admin UI
    
    Added admin UI for managing copy location groups.  It allows the user to
    create/edit/delete groups and add copy locations to the groups.
    
    The UI can be found under Admin -> Local System Administration -> Copy
    Location Groups.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

137	0	Open-ILS/src/templates/conify/global/asset/copy_location_group.tt2
360	0	Open-ILS/web/js/ui/default/conify/global/asset/copy_location_group.js
1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
3	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/src/templates/conify/global/asset/copy_location_group.tt2
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/asset/copy_location_group.js

commit 32458ad85b11e517eca78ebb3aead3300e31b4b2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 17 11:57:19 2012 -0500

    Copy Location Search Groups : TPac org unit selector
    
    Adds support for viewing and searching on copy location groups in the
    tpac.  Groups appear within the org unit selector, when the selector is
    used in a search context.  Groups display below the owning org unit
    similar to a child org unit.  Groups are displayed for all org units
    that meet the following criteria:  search org unit, physical location,
    patron home org unit, plus ancestors and descendents of each.
    
    To support this, TPac gets a new "locg" CGI parameter, which contains
    the org unit and copy location group.  It takes the form
    org_id:group_id.  The TPac mod_perl code will extract this value and
    popuplate the search_ou accordingly.  For consistency, we also use
    ctx.search_ou instead of directly checking CGI.param('loc') within the
    template environment.
    
    This also includes a rewrite of the org_selector.tt2 template.  It
    changes it from a recursive routine to a depth-first while loop.  I did
    this mainly because the recursive approach was suffering from global
    variable clobbering in the template environment.  In theory, this new
    approach should be faster as well.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
59	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
2	2	Open-ILS/src/templates/opac/advanced.tt2
1	1	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
0	1	Open-ILS/src/templates/opac/parts/advanced/expert.tt2
1	1	Open-ILS/src/templates/opac/parts/advanced/search.tt2
60	27	Open-ILS/src/templates/opac/parts/org_selector.tt2
1	1	Open-ILS/src/templates/opac/parts/place_hold.tt2
1	1	Open-ILS/src/templates/opac/parts/preserve_params.tt2
1	1	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
1	1	Open-ILS/src/templates/opac/parts/record/copy_table.tt2
1	4	Open-ILS/src/templates/opac/parts/record/refworks.tt2
1	1	Open-ILS/src/templates/opac/parts/record/series.tt2
0	1	Open-ILS/src/templates/opac/parts/record/subjects.tt2
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit fb1a10e370bf708b1f4fb1c59dc029ed75a85d94
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 15 15:33:29 2012 -0500

    Copy Location Search Groups : location_groups() QP filter
    
    Adds a new QueryParser search filter "location_groups" which takes a
    list of asset.copy_location_group IDs and filters on the mapped copy
    locations.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
18	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit c9dae1827b4e6d01fa78b10343a9530aeca3f824
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 15 12:22:47 2012 -0500

    Copy Location Search Groups : DB / IDL
    
    Adds 2 new tables, one for defining copy location groups and another for
    mapping copy locations to groups.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

47	0	Open-ILS/examples/fm_IDL.xml
17	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
29	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.copy_loc_search_groups.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.copy_loc_search_groups.sql

commit 4a34d78093052fde921d5c73ba96673515441b8b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Mar 10 12:36:08 2012 -0500

    TPAC: Teach mkurl() to discard POST params
    
    Unless we explicitly ask for POST params with the "params" argument to
    mkurl(), prevent them from propagating. (Can't think of situations when
    we would want to propagate a POST param, but we err on the side of
    flexibility so...)
    
    Thanks to Thomas Berezansky for suggesting the CGI url_param() method of
    filtering POST params.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	0	Open-ILS/src/templates/opac/parts/header.tt2

commit a8076f5eefa9eec90a423ab85665659eb78a2e36
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Mar 9 21:34:43 2012 -0500

    Trivial redundant line removal
    
    Trivial change to remove duplicate setting of 'password' member
    left over from auth-proxy branch merge.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

0	1	Open-ILS/web/opac/common/js/opac_utils.js

commit 3bfb4a67e3492ed75f40136d4b62d1b5d73d0f65
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Mar 8 13:36:04 2012 -0500

    Add id_attr LDAP attribute to opensrf.xml.example
    
    Also add a Release Notes entry for the authentication proxy service.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	0	Open-ILS/examples/opensrf.xml.example
21	0	docs/RELEASE_NOTES_2_2.txt

commit 185a7b030f0298eaeff105253d00de733fc1b0f6
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Feb 9 22:24:03 2012 -0500

    Add basic unit tests for AuthProxy + associated fixes
    
    The basic "will it load?" unit tests for AuthProxy* turned up a few
    requirements:
    
    1. Add install of Net::LDAP to Makefile.install
    2. Initialize the OpenSRF cache after bootstrapping
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	0	Open-ILS/src/extras/Makefile.install
2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy.pm
10	0	Open-ILS/src/perlmods/t/20-OpenILS-Application-AuthProxy.t
 create mode 100644 Open-ILS/src/perlmods/t/20-OpenILS-Application-AuthProxy.t

commit c26d0e54383b03739f3acd1c017a8c04af70d744
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Feb 9 21:55:51 2012 -0500

    Sync AuthProxy config values with opensrf.xml.example
    
    The open-ils.auth/app_settings/auth_limits section of
    opensrf.xml.example offers different settings than O:A:AuthProxy looks
    up, which would typically lead to the default fallbacks. Also,
    O:A:AuthProxy appears to mistakenly use seed_timeout instead of
    block_timeout.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy.pm

commit c308a805063f0071255733943be4d66035d0b97d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Feb 9 21:42:25 2012 -0500

    Whitespace fixup
    
    Fix the vim "noet" directive to avoid inadvertent introduction of tabs.
    
    Wrap a comment over multiple lines instead of creating a super-long
    line.
    
    Use one statement per line.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

12	3	Open-ILS/xul/staff_client/chrome/content/auth/session.js

commit 3fbee8dd29dea23d8428d0ea3081ac2210b6d20c
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Jan 16 15:13:43 2012 -0500

    Tie AuthProxy.pm to brute-force prevention setup
    
    Attempts to authenticate using either normal auth or
    AuthProxy.pm will now reference the same counter for
    the purposes of preventing brute-force password attacks.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

34	1	Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy.pm

commit 785c0ae815b547ad36b0876707ad8b95ea5eebce
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Nov 3 14:17:24 2011 -0400

    Initial external authentication support via proxy
    
    This is the initial commit to support an authentication proxy module
    to facilitate external authentication.  It is a work in progress.
    
    What is does so far:
      - Optionally redirects all JSOPAC login requests over SSL by building
        on the 'forceLoginSSL' configuration bool (you MUST enable this
        option for proper use of the auth proxy)
      - Provides a basic plug-in framework for external authentication
        implementations, including configuration options for segregating
        authenticators based on login type or org_unit
      - Allows for multiple cascading authentication tests, including
        simultaneous support for external and internal (EG 'native')
        authentication
      - Provides a 'master switch' to easily revert to using the native EG
        authentication routines only
      - Includes an example LDAP plug-in which supports bind-style auth
        checks
    
    Biggest outstanding known needs:
      - TTOPAC integration, including SSL redirection
      - Tying of login attempts to current brute-force prevention setup
      - Treatment of end-user 'change password' interfaces
      - Support TT/Conifer style authentication prompt
    
    Missing but desirable feature:
      - Allow for manual selection of authenticator by end-user, including
        localization support
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

53	0	Open-ILS/examples/opensrf.xml.example
2	0	Open-ILS/examples/opensrf_core.xml.example
292	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy.pm
48	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy/AuthBase.pm
77	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy/LDAP_Auth.pm
2	0	Open-ILS/web/opac/common/js/config.js
14	1	Open-ILS/web/opac/common/js/init.js
30	15	Open-ILS/web/opac/common/js/opac_utils.js
9	1	Open-ILS/web/opac/common/js/utils.js
1	1	Open-ILS/web/opac/skin/default/js/rdetail.js
22	5	Open-ILS/web/opac/skin/default/js/sidebar.js
36	13	Open-ILS/xul/staff_client/chrome/content/auth/session.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy/AuthBase.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/AuthProxy/LDAP_Auth.pm

commit f99e8feb43bf0df1f100016aa01f57fcbabd0bed
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Feb 22 12:48:55 2012 -0500

    Fix OU Editor save bug
    
    The OU Editor has been flashing red and pretending that id didn't
    save your changes for ... quite some time.  This fixes that, which
    was caused by a change in the way the openils.PermaCrud dojo module
    passed results to the user-supplied oncomplete handler.
    
    Also, some unrelated whitespace changes.  Sorry, Dan.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

45	48	Open-ILS/web/conify/global/actor/org_unit.html
2	3	Open-ILS/web/conify/global/actor/org_unit.js

commit aedcb627d299949274743a8dfb7669c8030ff345
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Mar 8 15:52:18 2012 -0500

    Stamping User Activity Upgrade Script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
168	0	Open-ILS/src/sql/Pg/upgrade/0681.schema.user-activity.sql
0	168	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.user-activity.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0681.schema.user-activity.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.user-activity.sql

commit cd0a6898069afafcf49a7bc59e60dc4927213efd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Mar 8 13:13:25 2012 -0500

    User activity : only delete transient activity for user/type
    
    Repairs a bug spotted by Thomas Berezansky where the addition of a new
    activity for a transient type would delete all existing activity
    entries.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	2	Open-ILS/src/sql/Pg/999.functions.global.sql
5	2	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.user-activity.sql

commit aebf4a58fe8f013ce7f0e5a46d920e679287295c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Feb 28 14:28:14 2012 -0500

    User Activity : SIP activity tracking
    
    1. Log user activity for all patron-related SIP actions, regardless of
    whether the SIP server verifies the user password.
    
    2. Determine the "ewho" (i.e. 3rd-party) value from configuration.  Each
    SIP login <account> can now specify its own "activity_who" value.
    Additionally, a fall-through <activity_who> element can be added to the
    institution config.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

29	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
5	1	Open-ILS/src/perlmods/lib/OpenILS/SIP.pm
21	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit a7a13b9f0b5ebfaef18004a94ede7e23efa6c5b2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Feb 27 16:26:48 2012 -0500

    User activity tracking : staff client last activity display
    
    This adds the Last Activity date to the patron summary (horizontal and
    vertical) just below the Expires date.  The Last Activity value will
    come from the most recent activity of any type which is configured to be
    tracked.  A tooltip on the field will show the activity type.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
22	0	Open-ILS/xul/staff_client/server/patron/summary.js
3	0	Open-ILS/xul/staff_client/server/patron/summary_overlay.xul
3	0	Open-ILS/xul/staff_client/server/patron/summary_overlay_horiz.xul

commit f046fa0a17dc74916c62a255f8d08d7e9f3314af
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Feb 6 12:31:23 2012 -0500

    User activity tracking : user usr_activity field
    
    Added a new virtual field to actor.usr called "usr_activity".  When
    fleshed, the value contains the most recent activities logged for the
    user.  By default, only the most recent activity entry is fetched,
    however this commit also adds an org unit setting
    "circ.patron.usr_activity_retrieve.max" to control the number of entries
    returned for standard patron fleshing calls.
    
    Activity entries are fleshed in the calls:
    
    open-ils.actor.user.fleshed.retrieve
    open-ils.actor.user.fleshed.retrieve_by_barcode
    
    This change also updates the permacrud <retrieve> permission for
    usr_activity form VIEW_USER to RUN_REPORTS, with the assumption that
    any activity data beyond the configured amount (above) should be
    considered historical data that is not as readily accessable.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	1	Open-ILS/examples/fm_IDL.xml
33	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
20	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
21	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.user-activity.sql

commit 56e3da24d3c1c4663526e578dc7d342bd4145b09
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Feb 6 11:23:44 2012 -0500

    User activity tracking : activity type admin UI
    
    Admin UI for managing user activit types.  Access under Admin -> Server
    Admin -> User Activity Types.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

34	0	Open-ILS/src/templates/conify/global/config/usr_activity_type.tt2
1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/src/templates/conify/global/config/usr_activity_type.tt2

commit d8d9925b089e56a0ad8c877bd85cabb5fdaf93a8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 16 16:24:54 2012 -0500

    User activity tracking: ingress, auth.verify, and login agent
    
    Pile of user activity related additions:
    
    * Set the global default Apache ingress value to 'apache'.  Overridable.
    * Set the ingress value for remoteauth.cgi to 'remoteauth'
    * Change remoteauth.cgi to use auth verify instead of true login
    * Set ingress value for SIP to 'sip2'
    * Set the ingress value for XMLRPC to 'xmlrpc'
    * Set auth agent (ewho) to 'opac' for TPAC and JSPAC
    * Set auth agent to 'staffclient' for staff client logins
    * Set auth agent to 'authproxy' to the mod_perl Auth proxy
    * Added support to the openils.User dojo class for auth verify and
      the login/verify "agent" parameter
    * Set the auth agent to 'selfcheck' for the Selfcheck UI.  Also now using
      auth verify instead of login to check the patron username/barcode +
      password combination (when enforced).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	0	Open-ILS/examples/apache/startup.pl
10	10	Open-ILS/examples/remoteauth.cgi
4	0	Open-ILS/src/perlmods/lib/OpenILS/SIP.pm
2	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/Proxy.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/Proxy/Authen.pm
11	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/XMLRPCGateway.pm
43	0	Open-ILS/web/js/dojo/openils/User.js
27	14	Open-ILS/web/js/ui/default/circ/selfcheck/selfcheck.js
2	1	Open-ILS/web/opac/common/js/opac_utils.js
1	0	Open-ILS/xul/staff_client/chrome/content/auth/session.js

commit cf198e9279137812800e2722e5e0c56ceaf60881
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 16 16:24:01 2012 -0500

    User activity tracking : auth verify test for srfsh.py
    
    Added a handler for auth_verify, which calls
    open-ils.auth.authenticate.verify.
    
    Added here (srfsh.py) instead of srfsh(.c) because a) it's quick and b)
    srfsh(.c) already has too much open-ils in it.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

29	0	Open-ILS/src/python/oils/srfsh.py

commit 75932d074b19cec1cf954411bb8c138f4cf6414d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 16 16:19:41 2012 -0500

    User activity tracking: open-ils.auth additions
    
    * Creates usr_activity entries for login and authentication verification
      requests
    
    * Adds a new parameter to open-ils.auth.authenticate.[complete|verify]
      methods called "agent" which maps to the usr_activity column for "ewho"
      (the UI or 3rd-party that initiated the action).
    
    * Adds a new API call "open-ils.auth.authenticate.verify", which behaves
      almost identically to authenticate.complete, with the exception that it
      does not "log in" (i.e. create an auth token and cache the user object).
      Instead, it simply returns a SUCCESS event if the username/barcode and
      password combination are valid.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

6	0	Open-ILS/include/openils/oils_utils.h
28	2	Open-ILS/src/c-apps/oils_auth.c
44	0	Open-ILS/src/c-apps/oils_utils.c

commit b2d097445cf8c2609bbbd4576a78143658877464
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 16 16:18:49 2012 -0500

    User activity tracking: schema and IDL
    
    * Adds 2 new tables and IDL classes.  The first is a configuration table
      used for defining activity types (config.usr_activity_type).  The
      second is for tracking activity events.  A user activity event is
      defined as a combination of user, action (e.g. login), the interface
      or 3rd-party responsible for the action (e.g. opac, staffclient,
      libraryelf), and the OpenSRF ingress (i.e. the mechanism through which
      the action was delivered: e.g. gateway, translator, xmlrpc).
    
    * Includes a front-facing stored procedure (actor.insert_usr_activity),
      used for creating new activity entries.
    
    * Adds seed data for some default activity types and reserves the first
      1000 IDs for system use.
    
    Current default values for "ewho":
    
    opac
    staffclient
    selfcheck
    authproxy
    ums
    libraryelf
    ezproxy
    
    Current default values for "ehow" (ingress, some inherited from
    opensrf):
    
    opensrf (default)
    gateway-v1
    translator-v1
    srfsh
    --
    sip2
    xmlrpc
    remoteauth
    apache (default mod_perl/apache mod entry point)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

39	1	Open-ILS/examples/fm_IDL.xml
18	0	Open-ILS/src/sql/Pg/002.schema.config.sql
7	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
39	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
57	0	Open-ILS/src/sql/Pg/999.functions.global.sql
144	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.user-activity.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.user-activity.sql

commit e9946e925e33078b6e0a1f40c34ea59d2d7a15d3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Mar 6 08:54:55 2012 -0500

    ACQ MARC upload barcode extraction
    
    Using "barcode" as the key, it's now possible to extract copy barcodes,
    in addition to price, quantity, fund, etc., during ACQ vendor MARC file
    upload.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 838ff8b5a5d9fc8e482fef6c3d3d55130a3f452d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Mar 8 11:33:20 2012 -0500

    Remove Z39.50 server definitions from opensrf.xml.example
    
    Point to the Release Notes for a description of how to map old entries
    to the database tables. Maybe later someone enterprising will write up a
    script that parses the XML and generates reasonable default entries in
    the database tables.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Ben Shum <bshum@biblio.org>

5	83	Open-ILS/examples/opensrf.xml.example
35	0	docs/RELEASE_NOTES_2_2.txt

commit c694929e4ba58ecf13e5903624ec6c784c37f439
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 03:00:49 2012 -0500

    Decode the string to UTF8, always
    
    Even if you know that the caller is passing you a decoded UTF8 string,
    you can and should decode it yourself, because some day a caller isn't
    going to decode it first and you're going to wind up in misery trying to
    figure out why you're broken.
    
    In this case, it resolves the mystery of why the unit tests failed when
    Vandelay seemed to be ticking along fine. As the comment in clean_marc()
    mentioned, "assume input is already in UTF8" - but as soon as it isn't,
    boom.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Utils/Normalize.pm

commit 2788298ec23d1caff3755f9c151d03510420651d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 02:41:11 2012 -0500

    Fix Unicode mangling in clean_marc function
    
    Calling s/\p{Cc}//go; before entityize() was resulting in all xFFFD
    entities being returned for the upper case diacritic characters, which
    in turn caused the new unit test to fail (yay unit tests). I added a
    corresponding unit tese for entityize() to ensure that the problem
    wasn't coming from that function. Switching the order in which the p{Cc}
    regex and entityize() calls resolved the corruption in the unit test.
    
    This suggests that Vandelay may be introducing significant corruption to
    imported records and that backporting of this commit to the inline
    Vandelay variants from previous releases may be warranted.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/Normalize.pm
7	1	Open-ILS/src/perlmods/t/01-OpenILS-Application.t
38	1	Open-ILS/src/perlmods/t/14-OpenILS-Utils.t

commit d939d7d09f231319a59f7bc309b7e40c451f273e
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Nov 9 15:34:27 2011 -0500

    Add clean_marc function to OpenILS::Utils::Normalize.
    
    Add a library function to clean up MARC records for how we like to
    store them in the biblio.record_entry table. Having this in a library
    will reduce code duplication.
    
    Also, replace nearly identical code in OpenILS::Application::Vandelay
    and OpenILS::Application::Acq::Order with calls to this new function.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
2	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
25	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/Normalize.pm

commit a0fdeb77d15a979d80d3f4ea2e83c3e46cfe4157
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 2 11:45:53 2012 -0500

    lp944947, receipt template per hold list interface
    
    Spec as follows:
    
    Individual screens use its own settings for receipt templates
    
    There are several XUL-based holds list that are all implemented with the same
    holds.js file:
    
    Actions for this Record -> View Holds
    Patron Display -> Holds
    Circulation -> Browse Hold Shelf
    Circulation -> Pull List for Hold Requests
    
    The main Print action (from the Print button next to the List Actions menu)
    uses the same template, holds, for all incarnations of the interface.  We will
    change this behavior in holds.js (specifically in the cmd_holds_print method)
    such that each interface variation will use its own template.  The new templates
    will be:
    
    holds_on_bib
    holds_for_patron
    holds_shelf
    holds_pull_list
    
    We will keep the holds template for backwards compatibility and as a fallback
    for when these new templates have not yet been configured.  These new templates
    will be stubbed in data.js (in the print_list_defaults method) so that they will
    appear in the Receipt Template Editor, but by default they will not have any
    defined content for their headers, footers, and line items.  Instead, we will
    use a new field called inherit, and have each new template use holds
    (referring to the original template) as the value for their inherit fields.
    
    So, for example, the current default holds template is defined like this:
    
    'holds' : {
      'type' : 'holds',
      'header' : 'Welcome to %LIBRARY%!<br/>\r\nYou have the following titles on hold:<hr/><ol>',
      'line_item' : '<li>%title%\r\n',
      'footer' : '</ol><hr />%SHORTNAME% %TODAY_TRIM%<br/>\r\nYou were helped by %STAFF_FIRSTNAME%<br/>\r\n<br/>\r\n'
    },
    
    The new holds_for_patron template will be defined as a peer like this:
    
    'holds_for_patron' : {
      'type' : 'holds',
      'inherit' : 'holds'
    },
    
    We will modify the _print_tree method in list.js and the post_init method in
    print_list_template_editor.js such that they will react to any value in a
    templates inherit field and allow it to redirect them to use the contents of
    the inherited template.  For this particular use-case, we only need to support
    one level of indirection, but we may opt to support chains of inheritance for
    future use.
    
    We will modify the save_template method in print_list_template_editor.js so that
    the inherit field for a given template will be cleared if that specific template
    is saved, breaking the link and associating the displayed (and possibly edited)
    header, footer, and line item with the template.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

16	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
4	0	Open-ILS/xul/staff_client/chrome/content/util/list.js
9	0	Open-ILS/xul/staff_client/server/circ/print_list_template_editor.js
16	2	Open-ILS/xul/staff_client/server/patron/holds.js

commit 5bf477798a9c9834824057de0e8ded4077a60f6a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 2 11:44:04 2012 -0500

    Remove Browse Unfulfilled Holds interface
    
    Which never left Admin->For Developers and doesn't work as advertised
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

0	2	Open-ILS/web/opac/locale/en-US/lang.dtd
0	7	Open-ILS/xul/staff_client/chrome/content/main/menu.js
0	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 67dbcb0f6b307754ad45de52666cb57de586f803
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Mar 2 14:57:31 2012 -0500

    lp945091 save columns independently for hold lists
    
    Teaches util.list.init a new parameter, columns_saved_under, which effectively
    replaces the tree/list id attribute when used to construct a filename for saving
    and retrieving column settings.
    
    Use this technique with holds.js so that each XUL-based hold list interface can
    save column configurations independently.
    
    Specifically, these interfaces:
    
    Actions for this Record -> View Holds
    Patron Display -> Holds
    Circulation -> Browse Hold Shelf
    Circulation -> Pull List for Hold Requests
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

9	2	Open-ILS/xul/staff_client/chrome/content/util/list.js
3	0	Open-ILS/xul/staff_client/server/patron/holds.js

commit 87e504ff83c87b05c7ecce744315404abf3ae0d7
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 23:15:58 2012 -0500

    Restore autofocus to the searchbar in TPAC
    
    The switch to autosuggest gave us great functionality, but we lost
    autofocus for effortless initial searching. Restore it, with and without
    Dojo. For the latter case, just use HTML5's autofocus attribute to begin
    with; later on we can use something like Modernizr to detect browsers
    that don't support this attribute and prop them up with additional
    JavaScript, but let's not let that prevent us from getting a good bang
    for our attribute buck in the short term.
    
    Note the slightly painful workaround required to get the cursor to
    position itself at the end of the input value of the Dojo autosuggest
    widget on page load. This is what we get for stepping back into the
    world of JavaScript :)
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	0	Open-ILS/src/templates/opac/parts/js.tt2
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit 15e6089f601dd12bfc11d4315ce46da9e56ad1e4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Feb 14 13:14:40 2012 -0500

    Refresh PO activatable state after all prices entered
    
    After all lineitems within a PO have a price, re-test whether the PO can
    be activated.  This allows the activation of PO's without having to
    refresh the page after the last price is entered.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

15	1	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 4c91d6afa10d4e0f45e11595e051eccfa6ba5b52
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Mar 6 16:33:24 2012 -0500

    Give copy table in search results some style
    
    Bold text with grey background for headers, and some space above and
    below.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Ben Shum <bshum@biblio.org>

10	0	Open-ILS/web/css/skin/default/opac/style.css

commit a0d07c885904e2e42850dae93691e22921176f23
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Mar 6 13:24:51 2012 -0500

    Speed up autosuggest in large data environments
    
    The autosuggest infrastructure was assuming the the Postgres query planner
    would be able to cope with large datasets without any additional fiddling.
    Unfortunately, that proved to be untrue.  We also needed a few indexing
    changes.
    
     * At the suggestion of Ben Shum, ignore the identifier search class for
       autosuggest.
     * Added indexes to all joined columns of metabib.browse_entry_def_map.
     * Switched from GIST to GIN indexing of metabib.browse_entry.index_vector
       because GIN, being an inverted index, is /much/ better for prefix matching
       which, in turn, is extremely important for browse and autosuggest.
     * Apply some reasonable sanity-checking limits on suggest queries.  This
       means you can't use autosuggest as a reporting tool -- but that's OK
       because it's not one.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
37	21	Open-ILS/src/sql/Pg/030.schema.metabib.sql
28	28	Open-ILS/src/sql/Pg/950.data.seed-values.sql
160	0	Open-ILS/src/sql/Pg/upgrade/0680.schema.autosuggest-big_data-speedup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0680.schema.autosuggest-big_data-speedup.sql

commit 5275b0f738ad3eeab882463faaee96317626216d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Mar 6 09:39:05 2012 -0500

    lp948051 new tab button
    
    Adds a new tab button to the right of the last tab in the main window.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_overlay.xul
5	0	Open-ILS/xul/staff_client/chrome/skin/media/images/licenses.txt
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/newtab.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/newtab.png

commit 1a8f9cb13c7c096a7b90a1abde7f54da3b57af8a
Author: Ben Shum <bshum@biblio.org>
Date:   Tue Feb 14 14:54:43 2012 -0500

    Add default preference for max tabs in staff client.
    
    By default, this is set to 0 for unlimited tabs. Including this setting
    will allow staff client packagers to more easily assign a limit if desired.
    
    Some reasons for adding a tab limit include:
    
      1) avoiding memory exhaustion - opening too many tabs can be bad
      2) preserving staff sanity - do not have too many tabs open at once
    
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

4	0	Open-ILS/xul/staff_client/defaults/preferences/prefs.js

commit a7243f4497ddcb42c39188e6c82c879020e95eff
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Mar 5 16:14:43 2012 -0500

    Add locale-aware menu sort, use it for admin menu
    
    Sort function can do recursive sorting and is menuseparator aware, sorting
    within blocks defined by menuseparators.
    
    Note: If a menu item has forceFirst set as an attribute it will be put in
    front of the current sort group. So far this is only used to keep the
    operator change menu item at the top of the admin menu.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

42	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
1	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 4bbe4a9636490c587ca763fb0aedcbf29f33d8a8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 10 15:32:51 2012 -0500

    Rename sample patron file for clarity/consistency
    
    We now have users_patrons_* and users_staff_*
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

0	2103	Open-ILS/tests/datasets/patrons100.sql
2103	0	Open-ILS/tests/datasets/users_patrons_100.sql
 delete mode 100644 Open-ILS/tests/datasets/patrons100.sql
 create mode 100644 Open-ILS/tests/datasets/users_patrons_100.sql

commit 1c70183c9ae7415e7f7794a86a4e80096a6d16ae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Feb 10 15:30:35 2012 -0500

    Sample staff user data
    
    134 staff users
    
    * Each user has 1 address and one card
    * Barcodes take the form 99999 + 6 random digits
    * Usernames == lowercase(work_org_shortmae + first initial + last name)
    * Passwords = lowercase(firstname + last initial + 1234)
    * There are 2 staff for each can_have_users org unit for each staff
    profile, minus Global Admin.
    * There are two Global Admin staff in total, at orgs 4 and 6
    
    See also LP #926281
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3621	0	Open-ILS/tests/datasets/users_staff_134.sql
 create mode 100644 Open-ILS/tests/datasets/users_staff_134.sql

commit 177d2bb133b2704cc507f570fbea2d17c239d0b9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Feb 9 17:52:11 2012 +0000

    Sample patron data
    
    100 Patron users
    
    * Each user has 1 address and one card
    * Barcodes take the form 99999 + 6 random digits
    * Usernames == barcodes
    * Passwords = lowercase(firstname + last initial + 1234)
    * Home org units were randomly set.  Each can_have_users org unit should have several patrons
    
    See also LP #926281
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2103	0	Open-ILS/tests/datasets/patrons100.sql
 create mode 100644 Open-ILS/tests/datasets/patrons100.sql

commit fb08c4afe5807040bdc8a940d8197d92dc24665b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Mar 6 08:42:36 2012 -0500

    lp948012 double-clicking on list rows
    
    Teaches util.list how to handle double-clicks, and Patron Search to use
    double-clicks for patron retrieval, and Holdings Maintenance to use
    double-clicks for item editing.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

8	0	Open-ILS/xul/staff_client/chrome/content/util/list.js
12	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js
4	0	Open-ILS/xul/staff_client/server/patron/display.js
18	0	Open-ILS/xul/staff_client/server/patron/search_result.js

commit d3bf88739ea88768d92831062219f76f58b6a1e3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 12:28:51 2012 -0500

    Number the autosuggest normalization upgrade script
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
263	0	Open-ILS/src/sql/Pg/upgrade/0679.schema.autosuggest.search-normalize.sql
0	258	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.autosuggest.search-normalize.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0679.schema.autosuggest.search-normalize.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.autosuggest.search-normalize.sql

commit cefee449af9bb3c7bb1d245fd352ac5d2d0ced52
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 12:06:47 2012 -0500

    Address "bouyancy" typo (should be "buoyancy")
    
    Let us avoid a typo making it into a major release and condemning us to
    the hell of having to remember to misspell this thing until we can break
    backwards compatibility...
    
    Drop metabib.suggest_browse_entries() in the upgrade script, as the OUT
    parameters have changed and a mere "CREATE OR REPLACE" will not suffice.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
6	6	Open-ILS/src/sql/Pg/030.schema.metabib.sql
9	6	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.autosuggest.search-normalize.sql

commit dd21cdc01d2b3e6139714b2196c8c9d274c856a5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Feb 29 14:30:59 2012 -0500

    AutoSuggest: suggest "jos" when the user types "jose"
    
    "jos" will serve as my example of a term with diacritics in it.  I
    don't mean that there is special handling just for the word "jos" per se.
    
    Before now, the user could type "jos" and see suggestions containing
    exactly that.  You could not type "jose" and expect to see "jos".  Now
    you can.
    
    In other words, typing "jose" and "jos" should now produce the exact same
    set of suggestions.  Only the version you actually typed will be
    *highlighted* in the suggestions, however.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/AutoSuggest.pm
1	0	Open-ILS/src/sql/Pg/002.schema.config.sql
50	4	Open-ILS/src/sql/Pg/030.schema.metabib.sql
255	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.autosuggest.search-normalize.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.autosuggest.search-normalize.sql

commit 043aa913fc4233eaf6f96b46491ce7643acd396b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 01:55:08 2012 -0500

    Add the CC-BY-SA license footer from the Release Notes
    
    Making sure everything is consistent on the documentation licensing
    front.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

7	0	README

commit 65f14d095ffa9b95598974d414e084845c271092
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Jan 22 14:29:16 2012 -0500

    Fix sorting by pubdate for records migrated to 2.1
    
    The 'pubdate' attribute is necessary for sorting by publication date to
    work correctly. It was not populated in the 2.0-2.1 upgrade script, so
    populate it now based on the 'date1' attribute.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>

4	2	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql
6	0	Open-ILS/src/sql/Pg/version-upgrade/2.1.1-2.1.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.1.1-2.1.2-upgrade-db.sql

commit c125d5176fa5eaffe8fe927694fb9db9585fe1d9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 5 10:06:20 2012 -0500

    TPac: load config.tt2 from header.tt2
    
    Instead of loading config.tt2 on an as-needed basis, load it globally
    within header.tt2, since it's used on every page.
    
    Removed a redundant "USE POSIX" import while I was in there.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	1	Open-ILS/src/templates/opac/login.tt2
1	1	Open-ILS/src/templates/opac/parts/goog_analytics.tt2
1	0	Open-ILS/src/templates/opac/parts/header.tt2
0	2	Open-ILS/src/templates/opac/parts/js.tt2
0	1	Open-ILS/src/templates/opac/password_reset.tt2
0	1	Open-ILS/src/templates/opac/record.tt2
0	2	Open-ILS/src/templates/opac/results.tt2

commit 55c4d38487deeb3de20e525af412d18989fafafe
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 00:46:38 2012 -0500

    Remove reference to CentOS and RHEL from the README
    
    Until we have a known working install for CentOS and RHEL in
    Makefile.install again, let's not advertise a known non-working install.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	7	README

commit 23f19fb5e2e81511f1ea0cd7ba8614bc43351dfd
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 00:43:29 2012 -0500

    Default to table of contents & numbering for README
    
    A tiny decrease in the legibility of the raw text format of the README
    is traded off for consistent output formatting.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	0	README

commit 9691c3459ef5317c628f00a9cae36113b722e1b6
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Mar 4 00:37:46 2012 -0500

    Be more precise about Ubuntu Precise in the README
    
    Avoid ambiguous references to Ubuntu when there is a need to distinguish
    between Lucid and Precise.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

7	7	README

commit 0f22ac1ec6e8c28b48cceb804acda40f03445aef
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Jan 11 15:09:11 2012 -0500

    Update PGSQL 9.1 server install for Debian/Ubuntu.
    
    Use install_pgsql_server_backport_debs_91 on Debian.
    
    Use install_pgsql_server_debs_91 on Ubuntu.
    
    Update the README to reflect this.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	0	Open-ILS/src/extras/Makefile.install
7	1	README

commit 396b75525336094e1ac054159dc08b0be49c3478
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Jan 11 14:30:35 2012 -0500

    Add Business::OnlinePayment::PayPal CPAN dependency in Makefile.install.
    
    Add it to FEDORA_CPAN, CPAN_MODULES, and CPAN_MODULES_PRECISE, to install
    it everywhere but Centos and RHEL 5.  I'm not certain about Centos because
    it may need a force on that platform as AuthorizeNet does.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	0	Open-ILS/src/extras/Makefile.install

commit d0ad97f2aa08f5abbe3854fde291556d9241aaa5
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Jan 10 16:02:24 2012 -0500

    Proceed with caution on the Squeeze backport repo
    
    When installing on Debian Squeeze, use the same "-P" flag to prompt for
    removal of the PostgreSQL 8.* packages now that we're pointing at the
    9.1 backport. Create a new target to avoid trampling on Precise
    Pangolin's nice, clean 9.1 target.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

16	3	Open-ILS/src/extras/Makefile.install

commit 09ed9998fcfc7ee20470b4aa87423cf28dbb9b89
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jan 10 11:21:14 2012 -0500

    Use Postgres 9.1 on Debian Squeeze, as it is now available via backports
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/extras/Makefile.install

commit a4904b7b6e7107eb42381921ed579395e1621c14
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Jan 5 15:41:52 2012 -0500

    Improve Fedora instructions in README
    
    A few steps required for successful installation on Fedora 16 were
    missing from the README; in particular, pointing to /etc/httpd in the
    Apache configuration files and initializing the PostgreSQL database
    cluster.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	2	README

commit c4fd05e1951fb5a83d51287cf0cd2adf04ff43fb
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Jan 3 23:30:19 2012 -0500

    Add tests for TPAC Perl modules
    
    Just basic tests, but they should catch syntax problems at least.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	0	Open-ILS/src/perlmods/t/19-OpenILS-WWW-EGCatLoader.t
 create mode 100644 Open-ILS/src/perlmods/t/19-OpenILS-WWW-EGCatLoader.t

commit 2f3dc75e33dfd4c95c4f37cf511c27dd8d4bdb44
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Jan 3 23:26:58 2012 -0500

    Add perl-Locale-Codes to Fedora prereq installer
    
    Locale::Country isn't bundled in Fedora's core Perl modules so add it to
    the RPM list.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/extras/Makefile.install

commit 8542b1f352017c3264a083ab1626116c75b67f2a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jan 26 16:10:35 2012 -0500

    TPac: Make subjects less confusing
    
    The mdash can (and has) been interpreted as being a splitter between fully
    unrelated subjects. Change it to a gt to make the relationship obvious.
    
    Credit goes to other MassLNC members for the suggestion.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/record/subjects.tt2

commit 94a007cad630e89daa8ed998da68ddb0b8a4182b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jan 26 16:19:51 2012 -0500

    TPac: Make view changing more patron-friendly
    
    Instead of calling them "Detailed View" and "Simple View" label them as
    "Show More Details" and "Show Fewer Details", to make it obvious that
    clicking will change the view.
    
    Credit goes to other MassLNC members for the initial idea, and those in
    IRC for hashing out the wording.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/templates/opac/results.tt2

commit 21a7a45b43941960a68501594d69a3844eeaedb1
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Mar 2 11:31:35 2012 -0500

    Improve the readability of the rdetail_extras headers in TTPAC
    
    The previous version included green text, on a light green background, which
    was very difficult to read, especially for visually impaired patrons.
    This commit serves to change the header background to a darker green, along
    with a high contrast white text.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	1	Open-ILS/web/css/skin/default/opac/style.css

commit 148c06c17527bac8d37dae5f4d1d9b2ea9011405
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jan 9 13:58:07 2012 -0500

    Speed up 0663 upgrade script
    
    Move update to the end
    
    This ensures most of the rest goes without error first
    
    Disable triggers on the table before doing update
    
    This speeds the update up significantly as we don't need to re-calc the
    additional column's new data.
    
    Allow new column to be null (at first) with no default
    
    This allows the column to be added *without* re-writing every row. We still
    re-write every row with the update, but at least we aren't doing that
    *twice* this way.
    
    And add the not null/default to new column and re-enable triggers as our
    last action.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

14	4	Open-ILS/src/sql/Pg/upgrade/0663.schema.archive_circ_stat_cats.sql

commit 5b7b588c3e41b522f39c46deb2ba48cc92acf9ea
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Feb 28 14:58:38 2012 -0500

    Stamping default-merge-profiles upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0678.data.vandelay-default-merge-profiles.sql
0	14	Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-default-merge-profiles.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0678.data.vandelay-default-merge-profiles.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-default-merge-profiles.sql

commit c541a4797457907be2382866888e93ed6edec6eb
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 19 11:03:44 2012 -0500

    Default Vandelay merge profiles
    
    Adds 2 default vandelay merge profiles, in part so users will have some
    useful sample data, but also so the community can have some
    basic/consistent profiles for documentation purposes.
    
    1. Match-Only Merge
    
    This is a no-op merge.  It's only purpose is to allow Vandelay, which
    requires a profile of some sort to do anything, to find matching
    records.  This is useful for importing holdings when the MARC from the
    source record is not desired.  It will also be useful in the
    (forthecoming) Vandelay-driven Acquisitions lineitem linking (LP
    pending).
    
    The target/incumbent record is not affected.
    
    2. Full Overlay
    
    Used for overlaying an entire inbound MARC record over its target
    record.  The target/incumbent record is completely replaced by the
    inbound record.
    
    For both, 901c is used because it's automatically updated on the target
    record to match the internal ID, regardless of any field
    preservation/stripping.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-default-merge-profiles.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-default-merge-profiles.sql

commit db2759bcf9de84f9c22a9499f4d8120c987746d1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Dec 19 17:08:12 2011 -0500

    Vandelay: refresh upload and inspect queue pages
    
    Vandley sub-pages are currently managed as hidden divs that come into
    view when the requested tab is selected.  This creates two types of
    problems in the interface.  The first is that newly created data (e.g. a
    new queue) is not available in the UI, because it's not getting
    re-fetched from the server when the tab is opened (or added to local
    data stores).  Second, certain form elements misbehave when the form is
    re-rendered without a refresh.  Elements, typically checkboxes, will
    appear to be selected when they are not.  (Or, perhaps they are, and the
    method to detect their selection is not sufficient).  The simplest
    solution to both problems is to simply reload the page....
    
    This patch changes the tabs for Import Records and Inspect Queue so that
    they reload the page (focused on the selected tab) instead of just
    showing the hidden div.  These pages were chosen because they are the
    only interfaces that don't automatically refresh their own data and (for
    Import Record) have forms that need refreshing.
    
    Additionally, since the user may spend more time loading Vandelay
    pages, this also fixes the long-standing annoyance of seeing the
    Vandelay UI partially render while waiting for the page to load.  Now,
    it all remains hidden, except for a brief "Loading..." message.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/templates/vandelay/inc/toolbar.tt2
42	38	Open-ILS/src/templates/vandelay/vandelay.tt2
5	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 4d5c6ada5a3dbca18e3abfc6dbbafc62df1d09ef
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Feb 28 14:36:37 2012 -0500

    Stamping circ limits upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
331	0	Open-ILS/src/sql/Pg/upgrade/0677.schema.circ_limits.sql
0	317	Open-ILS/src/sql/Pg/upgrade/XXXX.circ_limits.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0677.schema.circ_limits.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.circ_limits.sql

commit eaf8b8840a6267aef294bb6b137ed64439b59a93
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Feb 7 17:27:00 2012 -0500

    Asciidoc documentation for circ limits
    
    Because crappy documentation is better than no documentation ;)
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

138	0	docs/circ_limits.txt
 create mode 100644 docs/circ_limits.txt

commit 5e2bad24b7743d5129999d0dfb6cf4352e2ef91d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Feb 7 17:26:03 2012 -0500

    New Circ Limits
    
    Replace the old "Circ Mod Test" limit system with a more flexible system.
    
    In addition to circ modifiers this system supports "Limit Groups" that are
    automatically applied (by default) to any circulation checking them. This
    can be overidden by setting the "Check Only" flag when linking a Limit
    Group to a Limit Set.
    
    Both the limit groups and circ modifiers are linked to "Limit Sets" that
    act similarly to rules. Each Set can be attached to 0 or more circulation
    matchpoints.
    
    Each Limit set supports a number of items out (0 replaces infinite), depth
    in the org tree to start counting at (0 for up to the top, 1 for 1 below,
    etc), and a global flag (to check everywhere below the depth point, rather
    than just those circulations that happend at ancestors/descendants).
    
    When a Limit Set is linked to a Circulation Matchpoint it can be made
    inactive and has a fallthrough flag. When the fallthrough flag is enabled
    the Limit Set will be used whenever the matchpoint is involved with making
    a decision. When it is disabled the Limit Set will only be used when the
    matchpoint is the most specific matchpoint used in making the decision.
    
    Limit Groups management can be found on the server administration menu.
    
    Limit Sets management can be found on the local administration menu.
    
    Limit Set -> Matchpoint linking is done via editing Circulation Policies.
    
    The upgrade script does not remove the old tables in case something goes
    wrong with migrating the information contained within them.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    Conflicts:
    
    	Open-ILS/web/opac/locale/en-US/lang.dtd
    	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

94	24	Open-ILS/examples/fm_IDL.xml
7	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
98	31	Open-ILS/src/sql/Pg/100.circ_matrix.sql
317	0	Open-ILS/src/sql/Pg/upgrade/XXXX.circ_limits.sql
36	0	Open-ILS/src/templates/conify/global/config/circ_limit_group.tt2
78	0	Open-ILS/src/templates/conify/global/config/circ_limit_set.tt2
21	35	Open-ILS/src/templates/conify/global/config/circ_matrix_matchpoint.tt2
250	0	Open-ILS/web/js/ui/default/conify/global/config/circ_limit_set.js
161	150	Open-ILS/web/js/ui/default/conify/global/config/circ_matrix_matchpoint.js
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
8	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
8	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.circ_limits.sql
 create mode 100644 Open-ILS/src/templates/conify/global/config/circ_limit_group.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/circ_limit_set.tt2
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/config/circ_limit_set.js

commit 3ace401ed850aa71eb555d7e30e0fe8c47dd6d0a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jan 31 10:48:25 2012 -0500

    Fix inability to suspend holds
    
    The hold status code was being used for "has the hold been captured", but
    the value for "frozen" was after the cutoff being assumed for "captured".
    
    So check for the suspended code specifically in the if, and don't return
    the suspended code if there is a capture time.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit f366eaeed22bdf54b5927e3b9beaea0ccc87216b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Feb 24 13:40:06 2012 -0500

    Correctly quote regexp-y characters in phrase quoting helper
    
    There was one extra character that caused the use of quotemeta() to not
    actually happen.  This broke two things:
    
      1) phrase searching when the phrase had certain special characters in it
            -- test case: "c++"
      2) use of relevance bumps in the same situation
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 43f410302a2bcec8e905b7ec6d479c25d4705988
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Feb 15 15:36:58 2012 -0500

    Re-enable use of BAR_PATRON and UNBAR_PATRON perms
    
    If you aren't allowed to bar/unbar at the patron's home library then:
    
    1 - Disable the checkbox as appropriate
    2 - Disallow on the backend too
    
    The frontend only checks on page load. The backend checks the old patron on
    update and the new patron on create.
    
    This does not stop "change home library to me, bar/unbar, change back" if
    otherwise able to change the patron's home library.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
21	1	Open-ILS/web/js/ui/default/actor/user/register.js

commit f27de9486a348bd828d28093640a0da8eee708b8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jan 30 13:34:53 2012 -0500

    Stop targeter crash on empty metarecord with holds
    
    By checking for 1 or more records before looking them up.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

27	24	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 881b4669725e84df992f0ad5ffff82a61ab401e7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 15 17:07:24 2012 -0500

    Update pickup lib from holds shelf status test repair
    
    When determining whether a hold is getting updated while already on the
    holds shelf, it's important to also treat hold status 5 as an on-shelf
    status.  Status 5 comes into play when the circ.hold_shelf_status_delay
    org unit setting is activated and acts as a virtual status indicating
    the item is physically en route to the shelf.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 23ebae3bbcf09e4472e5bce1d15782c78484ace5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Nov 2 12:23:47 2011 -0400

    Acq: minor usability improvements to receiving copies from invoice
    
    1) Show an "X out of Y copies received" message near the top of the
    display.
    
    2) Provide a button to return to the primary interface for invoice view.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	0	Open-ILS/src/templates/acq/invoice/receive.tt2
2	1	Open-ILS/web/js/dojo/openils/acq/nls/acq.js
30	0	Open-ILS/web/js/ui/default/acq/invoice/receive.js

commit 86e831e1ad85f6f5ed89ebf6bda4fe379808cd41
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Feb 20 14:24:49 2012 -0500

    Stamping autosuggest upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
711	0	Open-ILS/src/sql/Pg/upgrade/0676.schema.bib_autosuggest.sql
0	711	Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bib_autosuggest.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0676.schema.bib_autosuggest.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bib_autosuggest.sql

commit e712065f4093aae593ace21dd9d8127d15621a51
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Feb 13 14:57:39 2012 -0500

    AutoSuggest: prevent building a bad tsquery when user types leading spaces
    
    The problem used to bubble up and manifest as an Apache 500 error for
    the user.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/AutoSuggest.pm

commit c9f2f078980d8969277593a412dff6b336736757
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Feb 13 14:37:18 2012 -0500

    AutoSuggest: more UI tweaks regarding typing after selecting
    
    Avoid highlighting text in the textbox part of the autosuggest widget,
    so that if the user wants to type more after selecting a suggestion with the
    arrow keys, s/he doesn't clobber the existing part.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

61	17	Open-ILS/web/js/dojo/openils/widget/AutoSuggest.js

commit 206ce50734186dc306b394cc82f2e73675fde5ed
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Feb 13 12:53:20 2012 -0500

    AutoSuggest: Make directly clicking a suggestion initiate search
    
    Formerly, I thought it best not to do this, so that users could choose a
    suggestion and refine their search term further, but that put the
    widget's behavior at odds with that of certain ubiquitous search
    engines.
    
    Users can still highlight a suggestion and press tab to modify their
    search further before submitting, if they wish (and if they know this or
    figure it out somehow).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

35	8	Open-ILS/web/js/dojo/openils/widget/AutoSuggest.js

commit 17e6420adc000b8a344519e4288d0d0cf09ae18a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jan 27 14:15:26 2012 -0500

    AutoSuggest
    
    Get an autocompleting dialog underneath basic search boxes.
    
    If activated, the dialog appears in both the JavaScript OPAC and the Template
    Toolkit OPAC.
    
    Mike Rylander and Bill Erickson largely designed and spec'ed out this
    feature, especially at the database level.  Lebbeous Fogle-Weekley and
    Mike Rylander did the programming.
    
    How it works, for site administrators
    -------------------------------------
    
    Once the code is installed, including database stored procedures,
    (re)ingesting your bibliographic records will populate two new tables
    needed by AutoSuggest: metabib.browse_entry and metabib.browse_entry_def_map.
    
    Yes, for now this means that the size of your database in per-record terms
    will be greater.  The browse_entry data we generate is extremely similar to
    facet data, so it's possible that in the future we can blend them into the
    same thing at the database level, and save some space.
    
    To control what gets indexed in the metabib.browse_* tables, set the
    boolean 'browse_field' column for each row in config.metabib_field as desired
    Numbers 15 (keyword|keyword) and 16 (subject|complete) should generally be set
    to false.
    
    The config.metabib_class  table has a new 'bouyant'
    column.  Setting this to true means that when a user is typing in the OPAC
    search box with a search class selector set to, say, 'Subject', and the cmc row
    for 'Subject' has 'bouyant' set to true, the top suggestions will definitely
    come from the Subject fields of MARC records (if any).  'restrict' is like
    'bouyant', only stronger.  In that case suggestions /only/ come from the
    selected class.
    
    This is the idea behind the 'restrict' column (in both the
    config.metabib_class table and the config.metabib_field table):
    For any given class or field, if restrict is true AND the user at the OPAC
    has selected that same class or field from the search class dropdown, then
    autosuggestions will only come from that class or field in the record.
    
    You never want this column to be true for keyword, because we don't index
    keywords for browse/autosuggest purposes (we would get giant blobs of
    information as autosuggestions, and you don't want that (really)).
    
    You don't really want it to be true for most classes and fields.
    If the user sets the dropdown to "subject" and start typing "harry potter",
    the user really wants matches from the "title" class too (although other
    things being equal, matches from the "subject" class will rise to the top).
    
    If you have a speciality index, you *may* want to set restrict to true
    for that particular field.  For a song title index, for example.  To take
    advantage of this, you would also have to customize your OPAC to have an
    entry in the search class dropdown for 'title|songtitle' (or whatever's
    appropriate for your specialty index).  This is easy to do and should be
    covered somewhere in documentation for both the JSPAC and the TPAC.
    
    The order of suggestions otherwise has mostly to do with how well what users
    have typed matches what's in your bib records, and the value of the weight
    column of the relevant config.metabib_field row.  Examine the code if you're
    curious to know more or want to make adjustments.
    
    The master on/off switch for AutoSuggest is a new row in in config.global_flag
    named 'opac.use_autosuggest'.  Set its 'enabled' column to false to turn
    off AutoSuggest.  If you don't want your suggestions to be limited to whatever's
    OPAC visible at the search org, set the 'value' column to anything that
    does not contain the string 'opac_visible'.  This could be a good idea
    if AutoSuggest seems slow on a large site.
    
    Turning this on means introducing Dojo in your TPAC.  I tried to
    keep it minimal, for load time's sake.  There's no fieldmapper or IDL stuff
    play.  For now, turning this feature off will avoid loading Dojo in your
    TPAC.
    
    Managing the little stuff
    -------------------------
    CSS classes that affect the look of suggestions are in this file for the TPAC:
        Open-ILS/web/css/skin/default/opac/style.css
    
    and in this file for the JSPAC:
        Open-ILS/web/opac/skin/default/css/layout.css
    
    At bottom, autosuggest is shaped by PostgreSQL's Full Text Search features.
    Some of the arguments that are passed to TS_RANK_CD() and TS_HEADLINE() are
    expoposed via options to the openils.widget.AutoSuggest and
    openils.AutoSuggestStore modules, which have comments.  You can customize your
    OPAC files to invoke these with your desired options without touching much
    actual code.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	0	Open-ILS/examples/apache/eg_vhost.conf
28	0	Open-ILS/examples/fm_IDL.xml
206	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/AutoSuggest.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
39	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
5	0	Open-ILS/src/sql/Pg/000.functions.general.sql
14	7	Open-ILS/src/sql/Pg/002.schema.config.sql
334	35	Open-ILS/src/sql/Pg/030.schema.metabib.sql
18	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
711	0	Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bib_autosuggest.sql
7	1	Open-ILS/src/templates/opac/parts/base.tt2
11	0	Open-ILS/src/templates/opac/parts/header.tt2
27	0	Open-ILS/src/templates/opac/parts/js.tt2
1	1	Open-ILS/src/templates/opac/parts/qtype_selector.tt2
12	5	Open-ILS/src/templates/opac/parts/searchbar.tt2
6	0	Open-ILS/web/css/skin/default/opac/style.css
378	0	Open-ILS/web/js/dojo/openils/AutoSuggestStore.js
10	0	Open-ILS/web/js/dojo/openils/Util.js
92	0	Open-ILS/web/js/dojo/openils/widget/AutoSuggest.js
7	0	Open-ILS/web/opac/skin/default/css/layout.css
35	0	Open-ILS/web/opac/skin/default/js/search_bar.js
89	0	docs/TechRef/AutoSuggest/README
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/AutoSuggest.pm
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bib_autosuggest.sql
 create mode 100644 Open-ILS/web/js/dojo/openils/AutoSuggestStore.js
 create mode 100644 Open-ILS/web/js/dojo/openils/widget/AutoSuggest.js
 create mode 100644 docs/TechRef/AutoSuggest/README

commit 451db56e10bd402cbb663ca18cc3d59ba6858705
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Feb 14 11:09:41 2012 -0500

    Correct special winter handling in predictions
    
    The current serials prediction code has an exception for handling
    cases where 'Winter 2010' is followed by 'Spring 2010' rather than
    'Spring 2011'.  This exception assumed the more common case of a
    combined subfield $y, e.g.:
    
    $yps21,22,23,24
    
    In doing so, it incorrectly handled less common cases where the $y
    is listed separately:
    
    $yps21$yps22$yps23$yps24
    
    This change (with test data) ensures we only check the first $y
    for our 'early winter' exception.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	2	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Caption.pm
6	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhddata.txt

commit c428b52fd33a231aac0959279c07a1188576bfd3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Feb 16 12:49:54 2012 -0500

    Escape content when generating DTD for fieldmapper
    
    Noticed by Thomas Berezansky, if a translation in a PO or POT file
    contains an unescaped left angle bracket, a DTD will be generated that
    contains the unescaped left angle bracket - and that isn't valid.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	4	build/i18n/scripts/fieldmapper.py
2	2	build/i18n/tests/data/testidl.ent
2	2	build/i18n/tests/data/testidl.po

commit bd0057b49bd7179bf71962eff64ce0029e1067e6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Feb 14 11:18:27 2012 -0500

    Vandelay record match sets: fix bug loading some trees
    
    Reported to me by Bill Erickson.  The Vandelay Record Match Sets
    interface was failing to load some simple trees of match set points.
    
    Example: http://pastesite.com/31643
    
    The proximate symptom was this error message:
    
        Error: dojo.data.ItemFileReadStore: Invalid item argument.
        Source File: http://dev198.esilibrary.com/js/dojo/dojo/dojo.js
        Line: 119
    
    but the root cause was a problem in dojoize_match_set_tree(), which
    was failing to generate unique identifiers for each item in the data
    store it's responsible for generating.
    
    Since that function is only ever used to deal with trees where all the
    nodes come from the database and have actual IDs, that function now uses
    the database IDs as is rather than attempting to generate new ones.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	6	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js

commit dc6c8c93f4edfc064ccecea7c8e5196180e3aa6d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Feb 14 11:45:18 2012 -0500

    Fix typos in lp820006 that broke clean schema creation
    
    Backslashes to escape single quotes in SQL aren't cool.
    
    Also, lists of rows to insert need commas as delimiters.
    
    Also, needed a trailing "]" on the 90-day lost notice template.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 7388c413944a7a7586b75caa5c863920ef377158
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Feb 14 11:12:19 2012 -0500

    Fix up 3-day courtesy notice with better title / author too
    
    Use the helper function to get better quality title/author out of the
    target copy for pre-due notices.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit d5d43c28abf6fc7e02a5be142ba1036503deb26c
Author: Steven Callender <stevecallender@esilibrary.com>
Date:   Tue Aug 2 19:38:42 2011 +0000

    LP#820006: Action trigger notices fixes
    
    Cleaned up action triggers a little bit.
    
    1. Added the editor param to the auto lost, because triggers will fail
    without this.
    
    2. Also removed the use of simple_records in some of the notices and
    changed it to something more efficient.
    
    3. Changed the use of total money owed to balance owed.
    
    Signed-off-by: Steven Callender <stevecallender@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

32	17	Open-ILS/src/sql/Pg/950.data.seed-values.sql
10	5	Open-ILS/src/sql/Pg/version-upgrade/1.6.1-2.0-upgrade-db.sql

commit 7510d7ff71c6cf1f2fc8ba9210a2d7ef34bc52d3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 4 13:03:01 2012 -0500

    TPac: facet display filtering and sorting
    
    Provides the ability (via config.tt2) to define which facets should
    display and the order of facet display.  The behavior is consistent with
    the openils.widget.FacetSidebar Dojo class, used in JSPAC.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	0	Open-ILS/src/templates/opac/parts/config.tt2
109	77	Open-ILS/src/templates/opac/parts/result/facets.tt2

commit f09737676739cdb190479969e4f76150b6802852
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Feb 1 18:11:52 2012 -0500

    Booking: make pick up interface show resources captured for reservation ...
    
    ... even beyond the first day of the reservation.  I can think of no
    reason why this limitation existed in the first place.
    
    Also, just replace naive_start_of_day() with "today"
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Booking.pm

commit b324da25918a0382cba2ceac9d419121a3d1b5ae
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Oct 17 12:27:04 2011 -0400

    Stream results from targetable holds list retrieval
    
    Tested and slightly modified patch from Mike R. to improve multi-session
    hold targeting.  This patch includes an update to the targetable holds
    API call to stream results instead of returning them in 1 big chunk,
    which has been known to result in messages too large for jabber
    (max_stanza_size).  hold_targer.pl is updated to handle the stream.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
8	4	Open-ILS/src/support-scripts/hold_targeter.pl

commit e8857f2ae267956136b9f4ee3f3263c11ea2c7ae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 8 10:32:44 2012 -0500

    Stamping upgrade for LP#928896
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
12	0	Open-ILS/src/sql/Pg/upgrade/0675.schema.usr_visible_circ_copies_row_estimates.sql
0	10	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.usr_visible_circ_copies_row_estimates.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0675.schema.usr_visible_circ_copies_row_estimates.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.usr_visible_circ_copies_row_estimates.sql

commit 5e36baf3a8fc4754693e6813df6be1ef0108aa16
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Wed Feb 8 10:01:24 2012 -0500

    LP#928896 improve row estimate for action.usr_visible_circ_copies()
    
    Fixes problem where use of this function by the tagging circs in search
    results feature can result in sequential scans of asset.call_number.
    
    Thanks to Mike Rylander for the suggestion.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/090.schema.action.sql
10	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.usr_visible_circ_copies_row_estimates.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.usr_visible_circ_copies_row_estimates.sql

commit 84bfb1cc1d41d4fd6f3798204049bfdd192394ae
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jan 27 09:09:08 2012 -0500

    JSON_v0 has been superseded, and it has insidious bugs anyway.
    
    For example, you cannot round-trip this through JSON2js() and js2JSON()
    in IE8: http://paste.lisp.org/display/127338
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	1	Open-ILS/web/Makefile.am

commit d4214ca2203db30f661ddc051a5069c89dad50b3
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Feb 2 11:58:01 2012 -0500

    Tweak the opac-button elements to avoid blending with backgrounds
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/templates/opac/parts/topnav.tt2
14	3	Open-ILS/web/css/skin/default/opac/style.css

commit c01869eb3999223b41e792e913f8f43e1213178a
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Feb 2 10:27:35 2012 -0500

    Tweak style.css to bring facet headers into sync with color scheme
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

6	2	Open-ILS/web/css/skin/default/opac/style.css

commit 97c7b4dd8664a73486aa6c813ed6804c88f640cb
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Feb 1 14:16:53 2012 -0500

    Fix HoldIsAvailable validator
    
    Depending on the environment some things may be ids or references.
    
    Comparisons should try and use the IDs only, so pull the IDs out.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Validator.pm

commit efb83e6c54b0cbd00415b23eab0376c130953247
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Feb 1 16:58:45 2012 -0500

    TPAC: Avoid hold placement problems  la 80d5c4a4
    
    A commit written in October and merged quickly (80d5c4a4) was designed
    to avoid problems with a middle layer method that sometimes returns hash
    refs and sometimes returns array refs.
    
    A commit written in September but not merged until January (a663dfed)
    affected neighboring code, but was not aware of the other code to dance
    around hash refs and array refs (just read the commit messages of each
    to see what I mean, with attention to the changes in
    WWW/EGCatLoader/Account.pm).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

14	7	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 3f7a75e6d0f5507db0b34bec09db9c00cd94d6aa
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jan 30 17:15:44 2012 -0500

    Re-teach the clear shelf process "one copy"
    
    It got lost when fetching holds was abstracted out.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 3391572ff63fab77b163b3567aaa04599ebe4430
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jan 31 14:56:56 2012 -0500

    Upgrade script finalization, adding new perm to database
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
3	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
18	0	Open-ILS/src/sql/Pg/upgrade/0674.config.copy_status.restrict_copy_delete.sql
0	10	Open-ILS/src/sql/Pg/upgrade/XXXX.config.copy_status.restrict_copy_delete.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0674.config.copy_status.restrict_copy_delete.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.config.copy_status.restrict_copy_delete.sql

commit e4691aba9a8738da1889c6c3f2e5965dee971980
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jan 5 17:40:48 2012 -0500

    remove this old speedbump, which now lies
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	1	Open-ILS/xul/staff_client/server/circ/copy_status.js
0	1	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit ebc160369a4e13fcfe9230742e499f62d32d0d60
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jan 5 17:26:06 2012 -0500

    Improve COPY_DELETE_WARNING event handling
    
    Make it overridable in copy buckets, and let Cancel on perm denied dialog fail gracefully.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

20	2	Open-ILS/xul/staff_client/server/cat/copy_browser.js
4	12	Open-ILS/xul/staff_client/server/cat/copy_buckets.js
8	1	Open-ILS/xul/staff_client/server/cat/util.js
13	1	Open-ILS/xul/staff_client/server/circ/copy_status.js

commit 24cdcd766ca3dc819b49790ac9cdfeea7c2dc928
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jan 5 17:23:39 2012 -0500

    Use the restrict_copy_delete field on copy status
    
    to determine when to throw a COPY_DELETE_WARNING event
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

9	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm

commit 921a19e3fb495efa5b0bc1c830e506e4ae7264c4
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Oct 12 09:38:53 2011 -0400

    Add upgrade script for config.copy_status.restrict_copy_delete.
    
    Adds the column to the config.copy_status table.
    
    Updates the "magical" statues (1,3,6,8) to have restrict_copy_delete
    set to TRUE.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

10	0	Open-ILS/src/sql/Pg/upgrade/XXXX.config.copy_status.restrict_copy_delete.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.config.copy_status.restrict_copy_delete.sql

commit 5cd2e2874b0d85e7a283f7da77e74e4fd0e60de4
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Oct 12 09:19:49 2011 -0400

    Add restrict_copy_delete field to config.copy_status.
    
    Add the column definition in 002.schema.config.sql.
    Add the field to the class ccs in fm_IDL.xml.
    Set the restrict_copy_delete column to true for the "magical"
    statuses (1,3,6,8) in 950.data.seed-values.sql.
    Add restrict_delete as essential column to config.copy_status in
    OpenILS::Application::Storage::CDBI::config
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/config.pm
2	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 634a0db6a5f7970d842b7bb1017f68da2f23317d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jan 19 17:01:22 2012 -0500

    Handle search timeouts more gracefully
    
    Another tweak courtesy of berick
    
    Returns 0 results if open-ils.storage timeouts instead of a nasty uncaught
    undefined ARRAY exception resulting in an OPAC "spinning wheel of death"
    (formerly the "green knight rider bar of death".
    
    Note that in the event of storage timeouts, you should tune and/or beef-up
    your database.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit c028f45c4fedcd6837fa1d685d620c6e405240b2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 23 10:23:58 2011 -0500

    Example Evergreen rsyslog configuration file
    
    This differs from the OpenSRF sample configuration by adding a log file
    for Postgres and by changing the log path to /var/log/evergreen
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

47	0	Open-ILS/examples/evergreen-rsyslog.conf
 create mode 100644 Open-ILS/examples/evergreen-rsyslog.conf

commit 12a0c69da19bd323b13695e655116dc605d12cb8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 23 15:00:45 2012 -0500

    TPac: Avoid long-running, unintended empty searches
    
    If a page that executes a search is accessed with no viable search
    query, cut the search short to avoid meaningless, long-running searches.
    This primarily affects direct links to record detail pages.  For
    example:
    
    http://example.org/eg/opac/record/123
    
    The RD page attempts to load the currrently active search (for paging) and,
    if there is no query, will search for strings like 'site(BR1) depth(2)',
    which are unintended and quite slow, which delays page rendering.
    
    ---
    
    While we're in there, let's silence the following Apache error log
    warning by ensuring that int() gets a value.
    
    Use of uninitialized value in int at
    /usr/local/share/perl/5.10.1/OpenILS/WWW/EGCatLoader/Search.pm line 192.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

18	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit d165b4ed70d06b4170f4e24cd75a2b31c6fdcc05
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 23 17:04:01 2012 -0500

    TPac: avoid SMS org setting check for non-SMS pages
    
    Avoid an unnecessary org unit setting lookup on a large swath of
    (mostly myopac) pages.  Instead, check to see if the current page is the
    SMS page in question and the lookup is necessary before making the
    lookup.
    
    This change also inserts the physical location as the first org unit to
    use in the org setting test.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

4	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 575ce3ca19612007003c1c31c4be3c30077b2d12
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jan 31 14:21:01 2012 -0500

    Missed increment in 002.schema.config.sql for last commit
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit e5efc965ba548f2efb7adabe9332eb61c9f248b5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 20 09:06:20 2011 -0400

    ACQ: remove piles of unused cancel_reasons
    
    There is a large set of of acq.cancel_reason's in Evergreen that come
    from the EDI spec and will never be used in practice.  Since there are
    scenarios where cancel reasons are manually chosen by staff, let's
    remove all of the extras so the process of selecting a cancel reason is
    not so fraught with "Poultry" and "Airline attendants", etc.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	602	Open-ILS/src/sql/Pg/950.data.seed-values.sql
25	0	Open-ILS/src/sql/Pg/upgrade/0673.data.acq-cancel-reason-cleanup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0673.data.acq-cancel-reason-cleanup.sql

commit ffed5ee6377841d507a7f779c85425a413278607
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Jan 22 16:34:31 2012 -0500

    TPAC: Cleaner title display in simple and detailed views
    
    The TPAC uses a simple 245a display for the "simple view" in search
    results, so records like the concerto.sql "Violin concerto no. 3 in G,
    K. 216 ;" display with a trailing semicolon that is rather
    disconcerting.
    
    Similarly, the subfields in the extended title as displayed in the
    record detail view was simply concatenating subfields together. This
    resulted in titles like:
    
    Violin concerto no. 3 in G, K. 216 ;Sinfonia ...
    
    rather than:
    
    Violin concerto no. 3 in G, K. 216 ; Sinfonia ...
    
    This commit strips trailing punctuation that suggests a continuation
    (:;/) from the brief title and joins the subfields with a space for the
    extended title.
    
    Also, enable the detailed view in search results to display the complete
    title.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

11	2	Open-ILS/src/templates/opac/parts/misc_util.tt2
6	1	Open-ILS/src/templates/opac/parts/result/table.tt2

commit fb1ec50af5617f17dfa568db1f889afde11ca509
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Mon Jan 30 13:39:45 2012 -0500

    Increase the year in copyright statements to 2012
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/web/opac/locale/en-US/lang.dtd
1	1	Open-ILS/web/opac/locale/en-US/opac.dtd

commit 714c97a54237afdc8a9aa0f20e269342e21c44e4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jan 24 10:13:37 2012 -0500

    Fix fm_IDL.xml validation errors
    
    From 80+ errors to 0!
    
    Remove empty permacrud blocks (and pcrud controllers).
    
    Adds missing attributes, updates xsd to include in-use attributes.
    
    Fixes incomplete attribute names and the occasional typoed name.
    
    Also re-orders some chunks that are controlled by xs:sequence.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

64	142	Open-ILS/examples/fm_IDL.xml
2	0	Open-ILS/examples/fm_IDL.xsd

commit c9a0a768c2220cca9e4564ddd5632b9ee3db64b2
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Jan 22 11:42:08 2012 -0500

    Fix "prefered_language" typo that blocked preferred language
    
    "preferred_language" is used everywhere else, but in the crucial core of
    metabib.pm the "prefered_language" variant is used to check on the value
    - hence, nothing other than the default "eng" is being used. Fix that.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit 6a775e8d1a413be7a60df4dfc40918521efd812b
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Jan 30 16:38:34 2012 -0500

    Fix "Add Volumes" entry in "Actions for this Record" menu
    
    A typo in Open-ILS/xul/staff_client/chrome/content/cat/opac.js (cbdObj
    instead of cbsObj) led to the exception "Reference error: cbdObj is not
    defined" being thrown any time the "Add Volumes" entry was chosen.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js

commit f2a40ab35ce77f41eda6a7101026dadd5e8e4380
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jan 30 10:09:17 2012 -0500

    Fix "Clear Shelf Expired Holds" checkin modifier
    
    By not looking up empty arrays there either.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 0ef3b5890df1afb2e533f8c0af60b04389c52d0c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jan 30 08:52:37 2012 -0500

    Fix SIP2 "unavailable holds" check
    
    If no IDs, don't look up an empty array of IDs.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	2	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit 522bddfa14ca0cb60fbc1a53f3afd7d6a1579858
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Jan 20 17:49:16 2012 -0500

    Modifications to the TTPac color scheme to be more with logo guidelines
    
    Tweaked the buttons, gradients, etc. in TTPac to eradicate the blue/grey elements.
    Began with the Evergreen Logo's official color (Pantone 340 as found at http://www.georgialibraries.org/lib/pines/evergreenlogo/)
    and complimented the colors accordingly, replacing dark blues with dark greens, light blues with light greens, etc.
    
    This also adds two new selectors in styles.css to control the logo placement.  Logos were also centered on the page, rather than being crowded
    into neighboring elements.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    
    Fixed Conflicts:
    
    	Open-ILS/web/css/skin/default/opac/semiauto.css
    	Open-ILS/web/css/skin/default/opac/style.css
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/templates/opac/parts/homesearch.tt2
2	2	Open-ILS/src/templates/opac/parts/topnav_logo.tt2
1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
61	35	Open-ILS/web/css/skin/default/opac/style.css

commit 5ae3c823e9e7af705ed4ae6a4e813c2196d329f7
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jan 9 15:18:15 2012 -0500

    Fix self-fetching callnumber columns
    
    The callnumber (and related) columns from circ.util.columns() is meant to
    retrieve call number objects if given call number id's instead of objects,
    but there was a bug preventing that.
    
    This fixes LP#906523, no call number information in billing interface
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

20	5	Open-ILS/xul/staff_client/server/circ/util.js

commit de40cb6bfbf2c41a1e287ec143c81576ed3edde8
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Wed Dec 7 11:27:45 2011 -0800

    Acq fix for LP#901378
    
    Proratable invoice charges do not have a fund_debit, we need to check for
    this before attempting to delete the charge.  If there's no fund_debit
    we can generally assume that there's no corresponding debit to this charge
    and skip trying to delete it.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Invoice.pm

commit 38b6cf81e44f8ab852222911a7d8b646f45b7311
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 20 15:07:25 2012 -0500

    Stamping upgrade for copy_location_alert
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
8	0	Open-ILS/src/sql/Pg/upgrade/0671.schema.copy_location_alert.sql
0	2	Open-ILS/src/sql/Pg/upgrade/XXXX.copy_location_alert.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0671.schema.copy_location_alert.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.copy_location_alert.sql

commit 7a2bae093fb6b590b11cdb034264636eb851e298
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jan 18 11:28:13 2012 -0500

    Add Checkin Alert to Copy Locations
    
    If enabled bring up a ROUTE TO prompt for the location at reshelving time.
    
    Also, while at it, add Prefix/Suffix to the "new" section of the editor.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/asset.pm
1	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
2	0	Open-ILS/src/sql/Pg/upgrade/XXXX.copy_location_alert.sql
4	0	Open-ILS/web/opac/locale/en-US/lang.dtd
10	0	Open-ILS/xul/staff_client/server/admin/copy_locations.js
34	0	Open-ILS/xul/staff_client/server/admin/copy_locations.xhtml
8	8	Open-ILS/xul/staff_client/server/circ/util.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.copy_location_alert.sql

commit 293df1f82290c99346028e03f2984e21811eee3a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 20 14:58:05 2012 -0500

    Remove RELEASE_NOTES reference from README
    
    ...pending further discussion
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	3	README

commit 1fc33daaa509e61313bd309ea5334cb562b5f38d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 23 12:57:37 2011 -0500

    Release Notes: Add CC-BY-SA 3.0 license to footer
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	0	docs/RELEASE_NOTES_2_2.txt

commit 3a32e75238fc625c6e91b124bfdcc957f3b2b55b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 23 12:55:34 2011 -0500

    Release notes: document copy location display option
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

11	0	docs/RELEASE_NOTES_2_2.txt

commit a0e384a033536b23112e635b7cd9f53d4b912b5b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Dec 21 11:56:55 2011 -0500

    Release notes: document new reporting views
    
    Introduce 'Last Circulation or Creation Date' and 'Hold/Copy Ratio per Bib
    and Pickup Library' reporting sources.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	3	docs/RELEASE_NOTES_2_2.txt

commit 504263a31a1861db594ebd65d39b657d6f386f40
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Dec 20 11:54:30 2011 -0500

    Move RELEASE_NOTES into the docs subdirectory
    
    We will begin maintaining release notes inside the source directory,
    with one RELEASE_NOTES.txt file per major release series (2.2, 2.3,
    etc). The release notes will primarily consist of an overview of new
    features and important behaviour changes in that particular release
    series, as well as a cumulative list of bugs that have been fixed in the
    point releases for that series.
    
    Also, mention the existence of the release notes in the top-level
    README.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	README
0	53	RELEASE_NOTES
53	0	docs/RELEASE_NOTES_2_2.txt
 delete mode 100644 RELEASE_NOTES
 create mode 100644 docs/RELEASE_NOTES_2_2.txt

commit b541a02d86ea81e7623ce40cc756082eb906fc75
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 5 13:56:36 2011 -0500

    Release notes: "cbs prevents records from having copies"
    
    The new "can_have_copies" column on config.bib_source prevents
    associated records from having copies or MFHD records attached via the
    staff client.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	0	RELEASE_NOTES

commit 1698f622e91652697b25ce839db131fd7485d2ea
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Nov 29 15:11:55 2011 -0500

    Note located URI changes in Release Notes
    
    Located URIs now define what org unit and below in the hierarchy will be
    matched for a given search scope, rather than the copy-like behaviour
    from before; for example, a located URI at BR1 will no longer be found
    in a SYS1 search scope; rather, a located URI at SYS1 will be found with
    either a SYS1 or a BR1 search scope.
    
    Put some info and rough suggested fix into the release notes.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

36	0	RELEASE_NOTES
 create mode 100644 RELEASE_NOTES

commit c5716450f3fd01f13ccd68006fdd577df4e7d709
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jan 10 22:15:31 2012 -0500

    Make Delete User failure overridable
    
    Make mrpeter's new ACTOR_USER_DELETE_OPEN_XACTS event overridable to preserve
    existing functionality (the delete user code will wipe out all transactions if
    allowed to, and will leave copy statuses as "Checked Out" if needed, which is
    okay in EG even if there aren't corresponding circ records--some libraries
    migrate data like this if the information available is sparse).
    
    So if you want to be able to do this without a super user, you'll need to create
    an ACTOR_USER_DELETE_OPEN_XACTS.override perm and assign it to perm groups
    and/or users.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

12	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
1	1	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
12	3	Open-ILS/xul/staff_client/server/patron/display.js

commit ad99ea9259b3d160c1dbc59695c0affee9e48d44
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jan 10 21:54:37 2012 -0500

    whitespace
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	10	Open-ILS/xul/staff_client/server/patron/display.js

commit 7f0b1d720344bc417e24613650592dd7e262c8f8
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Wed Oct 12 11:46:12 2011 -0400

    LP872862, delete user function and open xacts
    
    Prevent deletion of a user with open circulations or unpaid bills
    Link up an error message on attempt to delete a patron with open xacts
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/extras/ils_events.xml
15	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
1	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
10	1	Open-ILS/xul/staff_client/server/patron/display.js

commit 90d0cc43bd65a7841d47feadfd78b3dc5dc4f889
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Jan 19 14:05:15 2012 -0500

    Prevent extra closing tag in TPAC results list
    
    Trivial change to prevent an extra yet currently harmless </tr>
    closing tag from appearing when ChiliFresh is enabled.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	2	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 6f81e39a6e4ba459fbfa8f66dcb486803d1b0e16
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Jan 8 21:04:37 2012 -0500

    TPAC: Regular justification of columns in search result
    
    The search results page was constituted via a table, enclosing one table
    per row for each result, enclosing one further table per result for the
    attributes such as call number / publisher / edition that have been
    chosen to be displayed in the simple and detailed views.
    
    The column widths for each search result row were being calculated per
    result, with the effect that title columns were starting at different
    offsets - a rather unpolished effect.
    
    By eliminating the middle table, we can let the widths be determined by
    all of the search result rows together, providing a normalized result as
    the HTML deities intended.
    
    We also move some inline CSS into style.css.
    
    Note that IE 7, at least, ignores the :nth-child() usage to deliver the
    borders; because we no longer wrap the set of rows (including optional
    Content Cafe and ChiliFresh rows) in an intermediate table, we had to
    switch to a border-top attribute. We could have gone with a straight "tr
    > td" approach, but that would have added a line at the top of the first
    result, which looked weird. Still an option if one really wants to.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

4	13	Open-ILS/src/templates/opac/parts/result/table.tt2
14	6	Open-ILS/web/css/skin/default/opac/style.css

commit 13d414e675a1aed945ba9a4ccc2d4421b308b19a
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Jan 8 17:53:03 2012 -0500

    TPAC: Simply record summary navigation markup
    
    Currently we have the next / previous links on the far right side of the
    record summary page, whereas the "Showing item # of #" is on the left
    hand side of the page. On wide screens, this leads to a large gap
    between the two informational elements. In addition, as the elements are
    floated, the vertical alignment is thrown off if you attempt to bring
    them together.
    
    The solution is to group the elements inside a SPAN with inline-block
    displays for the embedded DIVs. This enables the elements to reflow
    appropriately on mobile sized screens while keeping the alignment clean.
    In addition, some inline style gets moved to style.css and some
    unnecessary elements are removed.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	6	Open-ILS/src/templates/opac/parts/record/body.tt2
15	18	Open-ILS/web/css/skin/default/opac/style.css

commit 3acde47346f093c2ee13e5c5a8d3742a7bae2dde
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Jan 8 16:14:29 2012 -0500

    TPAC: Improve copy display in record summary
    
    In the copy counts, offer a link to display the copies at parent
    libraries that have available copies. For example, if you are browsing
    at BR1 and there are no available copies, but you see that SYS1 has
    available copies, clicking "(Show)" beside the SYS1 available copy count
    will change the search scope to SYS1 and display the copies for BR1 and
    BR2.
    
    Also, avoid displaying the copy table header if there are no physical
    copies to display (for example, if there are located URIs that make the
    copy show up in search results).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	3	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
7	1	Open-ILS/src/templates/opac/parts/record/copy_table.tt2

commit c4c9f600cfecc8d65f860da92d1e5f899d5d0356
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Jan 8 21:43:58 2012 -0500

    Prevent expand and cnoffset params from propagating
    
    The expand and cnoffset params in record summary might result in
    unexpected behaviour if allowed to propagate by default, as mkurl()
    enables, so stop them in their tracks.
    
    Also, fix an overenthusiastic URI-encoding of subjects that led to a
    space getting doubly-encoded (and thereby breaking searches).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	8	Open-ILS/src/templates/opac/parts/record/body.tt2
4	3	Open-ILS/src/templates/opac/parts/record/subjects.tt2
2	2	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit a23bc8b1e3d884c275f28b158953b2d748952430
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jan 5 22:51:00 2012 -0500

    TPAC: Preserve loc, query, qtype, and sort params
    
    In some cases, mkurl() is not enough to preserve our desired CGI params
    - such as when redirects are triggered from within a Perl module, or
    forms are submitted. Accordingly, the following changes address these
    cases where the chosen location / query / query type was being dropped:
    
    * Switching between account preferences
    * Creating / deleting / sharing / editing bookbags
    * Moving items from temporary list to bookbags
    * Adding notes to items in a bookbag
    * Placing holds
    
    The primary mechanism for forms is the "preserve_params.tt2" block that
    can accept a "params" list of the CGI params that you want to preserve,
    but which defaults to location/query/qtype/sort. Similarly, we add the
    same preservation steps to the OpenILS::WWW::EGCatLoader::Account module
    for most actions.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

19	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
12	5	Open-ILS/src/templates/opac/myopac/lists.tt2
3	3	Open-ILS/src/templates/opac/parts/anon_list.tt2
6	6	Open-ILS/src/templates/opac/parts/myopac/prefs_base.tt2
9	0	Open-ILS/src/templates/opac/parts/preserve_params.tt2
1	1	Open-ILS/src/templates/opac/parts/record/summary.tt2
5	1	Open-ILS/src/templates/opac/results.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/preserve_params.tt2

commit 27b2037d72b8a1c5025a885d571b5329232ffa58
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Dec 29 00:11:25 2011 -0500

    TPAC: Propagate CGI params via mkurl()
    
    Fix many instances where params such as "loc" are dropped during a
    normal workflow, resulting in unexpected changes to the user's chosen
    search scope. mkurl() preserves the existing CGI params by default
    and passes them on to the created URL; for now we err on the side of
    caution (preserving all params) rather than filtering any out. Manual
    testing suggests this does not introduce any problems, and resolves
    many.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	3	Open-ILS/src/templates/opac/advanced.tt2
7	5	Open-ILS/src/templates/opac/myopac/circ_history.tt2
7	3	Open-ILS/src/templates/opac/myopac/circs.tt2
7	5	Open-ILS/src/templates/opac/myopac/hold_history.tt2
8	6	Open-ILS/src/templates/opac/myopac/holds.tt2
1	1	Open-ILS/src/templates/opac/myopac/lists.tt2
6	3	Open-ILS/src/templates/opac/myopac/main.tt2
1	1	Open-ILS/src/templates/opac/parts/myopac/base.tt2
5	5	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
16	8	Open-ILS/src/templates/opac/parts/topnav.tt2

commit 0d9bccad69ba6f186e2960530884e88a319aaf07
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jan 17 11:13:15 2012 -0500

    Don't show estimated wait for negative estimates
    
    JSPac code was just checking for the truth of the estimated_wait return,
    but the estimated_wait return can be -1 under some circumstances.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/web/opac/skin/default/js/myopac.js

commit 187562184c28f1d8ba25b3a6dae3ce3e8180e997
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 17 11:53:03 2012 -0500

    Repaired JS syntax errors in nls/selfcheck.js
    
    Fixed errors introduced by a727a91b26716a0df36c93c7962240bec231c180
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	3	Open-ILS/web/js/dojo/openils/circ/nls/selfcheck.js

commit 96d079d3e78385e4a7cc256256d6f1cd84635bf4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Jan 14 11:42:55 2012 -0500

    TPac: Easy access to item status
    
    Change item barcodes into item status links in TPac listings.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

5	1	Open-ILS/src/templates/opac/parts/record/copy_table.tt2

commit a663dfed41126ba4607e500ccda85dd9fa113789
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Sep 20 10:27:51 2011 -0400

    Allow choice of placing hold despite age protect
    
    This alters the backend to watch when so much as one copy failed only due
    to age protection. If so, a flag is set and returned back up the calling
    tree for examination.
    
    In JSPac when the flag is set an alternate confirm message is shown.
    
    In TTPac when the flag is set the failure message is changed and override
    is always allowed for the hold in question.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

20	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
6	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
10	8	Open-ILS/src/templates/opac/parts/place_hold_result.tt2
1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
31	19	Open-ILS/web/opac/skin/default/js/holds.js
1	0	Open-ILS/web/opac/skin/default/xml/common/holds.xml

commit fd03cfede3aa8ae62b7f24f9550ca70040ac6004
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Thu Dec 8 17:00:14 2011 -0800

    P898427 Get holdings_xml.retrieve to flesh URIs properly
    
    Flesh URIs when requested with the -uris or -full feed type.
    This was broken when commit f2b822f8 fixed authority browsing.
    
    holdings_xml-full never appeared to retrieve URIs properly, so that has
    been added.
    
    This also makes holdings_xml-uris behave in the new manner of URIs as per
    git commit ba47ecc61, retrieving URIs for ancestors rather than descendants.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

49	11	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit d18e97ff448c581c27605b6a2fe453e55191ce36
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jan 11 14:41:15 2012 -0500

    Support auto-login in staff client
    
    By adding three new command line parameters:
    
    -ILSuser - Username to log in with
    -ILSpassword - Password to use
    -ILShost - hostname to use
    
    If, and only if, all three are specified *and* we think we have an already
    registered workstation for the hostname do we trigger an auto login.
    
    Otherwise we just fill everything in and wait for the user.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	0	Open-ILS/xul/staff_client/chrome/content/main/main.js
39	10	Open-ILS/xul/staff_client/components/clh.js

commit 37d0436d26c027547fe5306e77e2c8fb35714a0e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jan 11 14:53:50 2012 -0500

    Move csp definitions from 002 to 950, so they can use i18n.
    
    I don't /think/ there's a point in having an upgrade script to go along
    with this, but someone who understands oils_18n_gettext() better should
    weigh in.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

0	72	Open-ILS/src/sql/Pg/002.schema.config.sql
73	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit d734dc7e5e3b0abb32df1f482ea782befdfcd095
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 11 09:32:58 2012 -0500

    Use org_depth for INVALID penalties
    
    * Honor the org_depth setting on the penalties when applied
    * Default to org_depth 0 (i.e. global) penalty application for invalid penalties
    * Use the patrons' home_ou as the penalty org unit for patron reg invalidate actions.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	4	Open-ILS/src/perlmods/lib/OpenILS/Utils/BadContact.pm
9	5	Open-ILS/src/sql/Pg/002.schema.config.sql
9	5	Open-ILS/src/sql/Pg/upgrade/XXXX.data.mark-email-and-phone-invalid.sql
1	1	Open-ILS/web/js/ui/default/actor/user/register.js

commit b9e531a162bd7582cd8daf50eb218b60398fbc98
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Dec 27 18:02:38 2011 -0500

    Mark email addresses and phone numbers invalid
    
    This comes from an idea from Jeff Godin.  For staff to indicate an
    email address or phone number "invalid," for whatever definition of
    "invalid" has meaning at the institution (as in invalid addresses
    today), there is now a UI control in the patron editor.
    
    This UI control invokes a middle layer method that will clear the email
    (or phone) field from actor.usr, and create a corresponding standing penalty
    against the user, for staff to notice next time they bring up said patron in
    the staff client.  Such penalties will be archived whenever that patron's
    email address or phone number is updated again.
    
    The middle layer method is a wrapper around a method that may take
    different parameters (like an email address instead of a patron ID) to
    potentially support future uses such as invalidating email addresses
    automatically in batch.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

156	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
115	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/BadContact.pm
46	0	Open-ILS/src/sql/Pg/002.schema.config.sql
59	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.mark-email-and-phone-invalid.sql
1	0	Open-ILS/src/templates/actor/user/register.tt2
1	1	Open-ILS/web/js/dojo/openils/Util.js
2	1	Open-ILS/web/js/dojo/openils/actor/nls/register.js
62	0	Open-ILS/web/js/ui/default/actor/user/register.js
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/xul/staff_client/server/patron/display_horiz_overlay.xul
2	0	Open-ILS/xul/staff_client/server/patron/display_overlay.xul
6	0	Open-ILS/xul/staff_client/server/patron/standing_penalties.js
10	2	Open-ILS/xul/staff_client/server/patron/util.js
5	0	Open-ILS/xul/staff_client/server/skin/patron_display.css
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Utils/BadContact.pm
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.mark-email-and-phone-invalid.sql

commit 2e80fde8c4ffdc9924db3baf59520282a8a83169
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Dec 19 15:55:52 2011 -0500

    Receipt Template Non-String Protection
    
    Don't try to replace on things that aren't strings.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	1	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit eab328fb3ad022a82d6fe3fddf1317ba6aa2f2a5
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jan 10 23:48:58 2012 -0500

    Relabel Force Context in receipt template editor
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/web/opac/locale/en-US/lang.dtd

commit 05352daab6b4020af8489f765f53e36a5c8a3042
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Dec 20 11:49:16 2011 -0500

    Add Context to Receipt Templates
    
    By default the print context is used, but this enabled each template to be
    assigned a specific printer context that it is intended for.
    
    This means that things that normally use "Default" can be forced to, say,
    "Receipt" and such easily.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
10	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
2	0	Open-ILS/xul/staff_client/chrome/content/util/print.js
1	0	Open-ILS/xul/staff_client/server/cat/copy_buckets.js
24	0	Open-ILS/xul/staff_client/server/circ/print_list_template_editor.js
2	0	Open-ILS/xul/staff_client/server/circ/print_list_template_editor.xul
4	2	Open-ILS/xul/staff_client/server/circ/util.js
2	1	Open-ILS/xul/staff_client/server/patron/bill2.js

commit ae137e7bee9990aa4ed12bff384de42d08fe8f8b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Dec 19 17:08:09 2011 -0500

    Make Reprint Last printing context aware
    
    Allows for re-use of previous printer context and all settings thereof.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

21	10	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit bbc6b3f9fafd0d591ae8b258650bc50ed273be84
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jan 10 11:55:20 2012 -0500

    Remove 'boo' alert in hold details interface
    
    Willing to let any surprises here be natural. :-)  We can re-bug if there are
    issues.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/patron/hold_details.js

commit 096ce41b7877fc9440930c5199a83d4f4dc55a90
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jan 10 15:49:23 2012 -0500

    fix breakage from recent merges
    
    Also, a good argument for keeping all perm additions in the same INSERT in the
    950 file, since git would have reported a merge conflict against master had I
    done that instead of simply appending the upgrade script to the file.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	14	Open-ILS/src/sql/Pg/950.data.seed-values.sql
3	3	Open-ILS/src/sql/Pg/upgrade/0666.schema.sms_carriers.sql

commit df57275f7715752aeb1c6877a55072710711bb1a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jan 10 15:14:59 2012 -0500

    Terminology adjustment to reduce conflicts with the term "recall"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0669.data.recall_and_force_holds.sql

commit 0ba1080ee1277006e6c41ba299c542994e470358
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jan 10 15:13:58 2012 -0500

    Stamping force and recall hold permission addition script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
19	0	Open-ILS/src/sql/Pg/upgrade/0669.data.recall_and_force_holds.sql
0	5	Open-ILS/src/sql/Pg/upgrade/XXXX.copy_holds.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0669.data.recall_and_force_holds.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.copy_holds.sql

commit 39547dfaf09f713bce63a3b9c5060d5bae1a3538
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Oct 6 09:13:38 2011 -0400

    Completing Force/Recall Holds
    
    Add support for the Force and Recall hold types to be something other than
    just aliases of Copy holds.
    
    Both holds are made to cut in line over *all* other holds and both ignore
    all hold rules, including copy, location, and status holdable flags.
    
    Recall holds, when they reach their destination, will be flagged to be sent
    to cataloging.
    
    In addition, to place either kind of hold you need a new permission at the
    copy's circulation library:
    
    COPY_HOLD_FORCE for force holds
    COPY_HOLD_RECALL for recall holds
    
    Also, some re-ordering of logic should result in a fix for issues with
    capturing holds as transits and/or suppressing holds and the hold shelf
    logic.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

38	18	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
10	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
22	14	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm
5	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
5	0	Open-ILS/src/sql/Pg/upgrade/XXXX.copy_holds.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.copy_holds.sql

commit 287c24981f942e25dfb618b848e0a5f519c23e5c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jan 10 15:03:57 2012 -0500

    Stamping upgrade script for in-db hold permit fixups
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
230	0	Open-ILS/src/sql/Pg/upgrade/0668.schema.fix_indb_hold_permit.sql
0	216	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_indb_hold_permit.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0668.schema.fix_indb_hold_permit.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_indb_hold_permit.sql

commit ab38f007589704ef5e63e69b7b2db02662b13ba5
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Jan 10 14:53:06 2012 -0500

    Add customization to staff client serial and print CSS files
    
    The *_custom.css variants of these are created automatically at install
    time, so give the parents the ability to actually use them.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	0	Open-ILS/xul/staff_client/server/skin/print.css
2	0	Open-ILS/xul/staff_client/server/skin/serial.css

commit 5d5a8ee133546163ad48e461c85f9008959eebbd
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Oct 6 14:23:26 2011 -0400

    TPac messages for item/location/status not holdable
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/src/templates/opac/parts/hold_error_messages.tt2

commit a727a91b26716a0df36c93c7962240bec231c180
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Oct 6 11:48:21 2011 -0400

    Fix INDB hold permit holdable checking
    
    Check Item/Status/Location holdable flags
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/PermitHold.pm
27	0	Open-ILS/src/sql/Pg/110.hold_matrix.sql
216	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_indb_hold_permit.sql
3	0	Open-ILS/web/js/dojo/openils/circ/nls/selfcheck.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_indb_hold_permit.sql

commit b8fd484b3fd1f49d01e8556951a23eda6a49ee76
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jan 10 12:59:57 2012 -0500

    Add a "staff_alert" column to config.standing_penalty, and ...
    
    ... consult this when deciding whether to show the stop sign page in the
    patron interface of the staff client, rather than explicitly checking
    for the id of the ALERT_NOTE config.standing_penalty.
    
    Now only show the standing penalty if the staff_alert value is true,
    instead of unconditionally showing it for all penalties with a
    block_list value.  This allows staff to configure blocking penalties
    that do not alert.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/examples/fm_IDL.xml
18	17	Open-ILS/src/sql/Pg/002.schema.config.sql
12	0	Open-ILS/src/sql/Pg/upgrade/0667.schema.alerting-penalties.sql
1	1	Open-ILS/xul/staff_client/server/patron/display.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0667.schema.alerting-penalties.sql

commit a8db0cd7efd660b062a2265778a5fa26b9fd4064
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Nov 15 01:50:00 2011 -0500

    Tpac: better "HTML view" for shared lists under "my lists"
    
    From the "my lists" interface, you get a link labeled "HTML View" for
    any shared lists, and this link, while meant to be shared, just
    gives you a search results page where the only search term is simply "in
    the given list."
    
    This commit makes the search results page a little smarter in that case,
    in order to
        a) show you the bookbag metadata, including name, description and
            item notes.
        b) allow you to keep searching *within* your list, until you don't
            want to anymore, at which point there's a checkbox you can uncheck.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

67	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/src/templates/opac/myopac/lists.tt2
5	0	Open-ILS/src/templates/opac/parts/result/lowhits.tt2
1	1	Open-ILS/src/templates/opac/parts/result/paginate.tt2
14	0	Open-ILS/src/templates/opac/parts/result/table.tt2
9	0	Open-ILS/src/templates/opac/parts/searchbar.tt2
8	0	Open-ILS/web/css/skin/default/opac/style.css

commit 4bca5949ed01f29c1a1bd6de6e9f139b3dba391f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jan 10 14:14:38 2012 -0500

    Stamping upgrade script for SMS notification branch
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1411	0	Open-ILS/src/sql/Pg/upgrade/0666.schema.sms_carriers.sql
0	1411	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.sms_carriers.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0666.schema.sms_carriers.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.sms_carriers.sql

commit 5b1ece4196f9885e2227ad7eee46def68c93906e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Oct 31 05:40:15 2011 -0400

    fix existing Notification Type typo
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2

commit b0e97273b24a2deca3d5cbd73b66b2fca558c8b1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 9 10:46:52 2012 -0500

    Prevent unshared warnings in hold placement closure
    
    sub data_filler {} becomes $data_filler = sub {}
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

9	7	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit fb103148f8d93ea04671cf13156a8abd22e50344
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 22 09:17:50 2011 -0400

    SMS texting
    
    For SMS functionality we're basically converting a carrier and a phone number
    into an email address and sending via SMTP like other email notifications.
    There is administrative UI for configuring these mappings:
    
        Admin -> Server Settings -> SMS Carriers
    
    The permission ADMIN_SMS_CARRIER is needed to use this interface. In a stock
    Evergreen installation, this is given to the Global Administrator group.
    
    In this interface, any occurance of "$number" in the Email Gateway field will
    change into the pertinent SMS phone number when the mapping gets used. We're not
    doing anything fancy here for verifying or munging phone numbers, but you could
    do munging in the pertinent SMS Action/Trigger templates, or better, contribute
    code for the OPAC templates and/or the utility method get_sms_gateway_email in
    Trigger/Reactor.pm.
    
    Our set of stock mappings comes from
    http://en.wikipedia.org/wiki/List_of_SMS_gateways
    
    There's no automated process for keeping this up-to-date, though some volunteer
    with a Wikipedia account could add the page to their watchlist for changes and
    let us know if something needs changing.
    
    Set the org unit setting "SMS: Enable features that send SMS text messages."
    (database name "sms.enable") to True to expose the following:
    
      * SMS notification widgets in the TT-OPAC hold placement interface (to notify
        when a hold is ready for pickup)
    
      * "(SMS)" links next to call numbers on the TT-OPAC record details page. The
        interface spawned by these links require user authentication by default, but
        this can be changed by setting the org unit setting "SMS: Disable auth
        requirement for texting call numbers." to True. The database name for that
        setting is "sms.disable_authentication_requirement.callnumbers".
    
      * New options in TT-OPAC My Account -> Account Preferences -> Notification
        Preferences (we also add in some missing prefs for holds outside of SMS)
    
    There are two pertinent Action/Trigger templates under Admin -> Local
    Administration -> Notifications / Action Triggers:
    
      * SMS Call Number
      * Hold Ready for Pickup SMS Notification
    
    Don't disable these. We rely on the sms.enable YAOUS as the master on/off
    switch.
    
    Also, it's probably best to have just one sms.enable for the whole consortium.
    If you mix and match on/off settings here, then user preferences for SMS can get
    blown away if the user updates their settings in the TT-OPAC at an org where SMS
    is disabled.  Hrmm, the same would probably happen if the user jumps between the
    TT-OPAC and the original JS-PAC.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

22	0	Open-ILS/examples/fm_IDL.xml
69	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm
60	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
21	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/SendSMS.pm
8	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
101	11	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
57	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/SMS.pm
8	0	Open-ILS/src/sql/Pg/002.schema.config.sql
7	0	Open-ILS/src/sql/Pg/090.schema.action.sql
1367	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1411	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.sms_carriers.sql
27	0	Open-ILS/src/templates/conify/global/config/sms_carrier.tt2
65	0	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
29	0	Open-ILS/src/templates/opac/parts/place_hold.tt2
1	1	Open-ILS/src/templates/opac/parts/record/copy_table.tt2
28	0	Open-ILS/src/templates/opac/parts/sms_carrier_selector.tt2
4	0	Open-ILS/src/templates/opac/parts/sms_number_textbox.tt2
49	0	Open-ILS/src/templates/opac/sms_cn.tt2
46	0	Open-ILS/web/js/ui/default/conify/global/config/sms_carrier.js
6	1	Open-ILS/web/opac/locale/en-US/lang.dtd
23	2	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
1	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
30	0	Open-ILS/xul/staff_client/server/circ/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties
2	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
18	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
127	0	Open-ILS/xul/staff_client/server/patron/holds.js
10	0	Open-ILS/xul/staff_client/server/patron/holds_overlay.xul
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/SendSMS.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/SMS.pm
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.sms_carriers.sql
 create mode 100644 Open-ILS/src/templates/conify/global/config/sms_carrier.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/sms_carrier_selector.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/sms_number_textbox.tt2
 create mode 100644 Open-ILS/src/templates/opac/sms_cn.tt2
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/config/sms_carrier.js

commit 764544d0cbad934d6fc0c673a032755fd34eb2e5
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 29 09:26:49 2011 -0400

    flesh settings when retrieving patron by barcode
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 9be1f5e4e48cd9e9d0e670988b640a409aa76c3f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jan 6 18:02:06 2012 -0800

    Fix shelf_expire_time closed date overlap test
    
    One-liner courtesy of berick.
    
    * Steps to test
    
    This is time and timezone sensitive, so on the server:
    
    Change your timezone to America/Los Angeles: sudo dpkg-reconfigure tzdata
    Stop your NTP server: sudo /etc/init.d/ntp stop
    Set the time to 5pm: sudo date --set 17:00:00
    
    Stop Evergreen, Restart Postgres, Start Evergreen
    
    On the client:
    
    Make sure the timezone is set to Pacific time.
    
    1) Change the Library Setting "Default hold shelf expire interval" in the Holds group to have a value of "7 days" (without the quotes) for org BR1 (or if there is an existing value, you can keep it).
    
    2) Create a bib with one item: htest1  (Status of Available)
    
    3) Place a title level hold on the bib
    
    4) Check in htest1 (it should get captured for the hold)
    
    5) Browse the Hold Shelf and note the Shelf Expire Time for the hold that captured htest1 (it should be a week from now, unless you already have a conflicting closed date configured)
    
    6) Cancel the hold and re-check-in htest1 (to remove the Hold Shelf status)
    
    7) In the Closed Dates Editor, Add Single Day Closing for the date noticed previously in the Shelf Expire Time for BR1.
    
    8) Place a title level hold on the bib
    
    9) Check in htest1 (it should get captured for the hold)
    
    10) Browse the Hold Shelf and note the Shelf Expire Time for the hold that captured htest1 (now the bug is illustrated if you get the same date for Shelf Expire Time as you did before, since that day is now a Closed Date and should be skipped over.  The patch should fix this.)
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 86a7abec412afe4f348e53c5a449c599c3648319
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jan 9 14:45:04 2012 -0500

    Major enhancements to openils.widget.PCrudFilterDialog
    
    openils.widget.PCrudFilterDialog is (now) a dijit that allows users to define
    inclusionary filters based on any number of rows that specify a field
    from a given fieldmapper class, an operator, and a value (or range of
    values, for the [not] between operator).  The resulting filter is
    suitable for use as the where clause of a pcrud search call.
    
    AutoGrid has an option, showLoadFilter, that allows you to easily
    provide a filter dialog in any AutoGrid-based interface, with some minor
    caveats (see the comments at the top of the source for
    openils.widget.PCrudFilterDialog).  AutoGrid will also pass along the
    suppressFilterFields option, which works analagously to the
    suppressEditFields option.  You can also build your own interfaces to
    use this dijit without AutoGrid, if desired.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	0	Open-ILS/web/css/skin/default.css
10	7	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js
554	82	Open-ILS/web/js/dojo/openils/widget/PCrudFilterDialog.js
19	0	Open-ILS/web/js/dojo/openils/widget/nls/PCrudFilterDialog.js
 create mode 100644 Open-ILS/web/js/dojo/openils/widget/nls/PCrudFilterDialog.js

commit 05679cce8d1b4903f65262bebbdc384f88238b9d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jan 3 15:46:25 2012 -0500

    More aggressive recalc of standing penalties
    
    In the staff client, the Refresh button in the patron display will explicitly
    ask the server to recalculate standing penalties for the patron. Other automatic
    refresh-like behavior meant to synchronize parts of the patron display will not
    do this.
    
    This change tweaks the logic to ask for a recalculation with all refresh-like
    behavior in the patron display, and will catch such things as staff changing the
    user's permisssion profile.
    
    An example of how you might test this:
    
    Admin -> Local Administration -> Group Penalty Thresholds
    
    New Penalty Threshold
    
    Group: Volunteers
    Org Unit: CONS
    Penalty: PATRON_EXCEEDS_FINES
    Threshold: 1
    
    Save
    
    Register user with Profile of Patrons
    
    Load patron, Bills, Bill Patron, Amount: 5, Submit this Bill
    
    Edit
    
    Main (Profile) Permission Group: Volunteers, Save
    
    The interface should refresh and show a Maximum Bills penalty in the patron
    summary.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	4	Open-ILS/xul/staff_client/server/patron/display.js

commit 8e74348fac9c9dd9017d80ddd22e68a6683ee984
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 29 13:46:24 2011 -0500

    SETVAL the permission.grp_tree sequence after adding pinned IDs
    
    If we do not update the associated sequence after adding pinned IDs,
    sites will be unable to add new permission groups until enough attempts
    have failed. Let's bypass that little bit of pain.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql

commit ef1d9593715ce5f0c541b037b72e73eb20da35d9
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 29 13:33:38 2011 -0500

    Prevent permission group conflicts in 2.1 upgrade script
    
    The 2.0-2.1 upgrade script relies on pinned IDs for permission.grp_tree
    entries, which might conflict with custom permission groups that a site
    might have added previously. A little manipulation can make life safe
    for the pinned IDs.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	0	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql

commit 7387ce9cfd181173f64b265e9ec13815d487271c
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Tue Nov 15 16:56:16 2011 -0800

    Making the user profile selector disabled rather than readonly
    in the case of a user editing their own account.  This prevents
    a nasty bug whereby Dojo widgets with the readOnly flag set
    become labels and therefore do not correctly hold a 'value'
    like a normal form widget.  See LP#806625 for details.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	3	Open-ILS/web/js/ui/default/actor/user/register.js

commit a2b7721969e23bcdbf0841473e533bcbc40f6934
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Nov 29 23:09:47 2011 -0500

    Prevent null 852 $a in marc_export
    
    852 $a is supposed to correspond to the institution holding the item
    from which access is given, according to the MARC Format for Holdings
    Data specification. As the org unit shortnames typically don't
    correspond to one of the MARC Code List for Organization entries, we've
    assumed that users will define the --location parameter; however, if
    that parameter isn't defined, the empty string is used and an empty
    subfield is generated. This, in turn, makes other MARC-parsing tools
    unhappy. So, only generate an 852 $a if we have an actual value for the
    --location parameter.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	4	Open-ILS/src/support-scripts/marc_export.in

commit 6c87bbe67e65036ed4e6923623de27304b08aa0d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jan 9 15:53:28 2012 -0500

    Placeholder upgrade script for late-backport of a fix for 2.0
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	0	Open-ILS/src/sql/Pg/upgrade/0665.schema.placelholder.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0665.schema.placelholder.sql

commit d4a2d2cd5ea5e42d2be6480c5507a22a7ee83ab8
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jan 5 18:39:07 2012 -0500

    A/T Event Revalidation shouldn't change event states from complete to found
    
    Ideally, revalidation should be guaranteed not to change anything about
    the event itself at the database level, but I'm not sure we're there
    yet.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger.pm
17	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Event.pm
19	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/EventGroup.pm

commit 663317194fcf77ef584634adc543d050457821ac
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jan 9 13:49:40 2012 -0500

    Stamping upgrade script for current_shelf_lib
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
27	0	Open-ILS/src/sql/Pg/upgrade/0664.schema.hold-current-shelf-lib.sql
0	28	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.hold-current-shelf-lib.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0664.schema.hold-current-shelf-lib.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.hold-current-shelf-lib.sql

commit 922c9def9f04aa8855f34e14d5fd5f93ee3b1a54
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Sep 26 14:40:19 2011 -0400

    LP#845763 remote added content breaks
    
    remote added content breaks when using locally served content
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent.pm

commit 589690affc8b0bc4c3464d77a6a55439f945cb72
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Jan 5 17:37:55 2012 -0500

    Wrap upgrade script for archivable stat cats
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
96	0	Open-ILS/src/sql/Pg/upgrade/0663.schema.archive_circ_stat_cats.sql
0	61	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.statistical_archive.sql
0	23	Open-ILS/src/sql/Pg/upgrade/XXXY.schema.statistical_archive.all_circulation.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0663.schema.archive_circ_stat_cats.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.statistical_archive.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXY.schema.statistical_archive.all_circulation.sql

commit ee27d36a3121b409d17ba1016be93372a792c0d4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 17 14:49:16 2011 -0400

    Circ Statistical Archiving
    
    Copy Location
    
    Instead of only archiving the copy location with aged circs, do so with all
    circs, using the copy location at time of circ. This allows for running of
    reports on the copy location even after the item is no longer in it.
    
    Statistical Categories
    
    Add a flag to statistical categories to allow them to be archived with all
    circulations (at checkout). Reports can then be run on regular and aged
    circulations based on the contents of the statistical categories.
    
    This patch was inspired by Tim Spindler's submission to
    https://bugs.launchpad.net/evergreen/+bug/798255 - thanks Tim!
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

40	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/action.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/actor.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/asset.pm
1	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
1	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
44	2	Open-ILS/src/sql/Pg/090.schema.action.sql
61	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.statistical_archive.sql
23	0	Open-ILS/src/sql/Pg/upgrade/XXXY.schema.statistical_archive.all_circulation.sql
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
10	0	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.js
15	0	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.statistical_archive.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXY.schema.statistical_archive.all_circulation.sql

commit fa73a59f4b4cbc8d1c4bc1707c664bca555ecab8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jan 5 14:24:16 2012 -0500

    Fix summary.tt2 openurl block
    
    The extra if was likely added to fix a problem with a missing ;
    
    The missing ; was put back, but the extra if then became a problem.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	1	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit b5929b75fc408387140ef70feab7429d9919c952
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Jan 5 00:45:19 2012 -0500

    Teach .gitignore about more built locale fileso
    
    Running a complete build of locales resulted in a lot of new, unwanted
    files in "git status". Hide them.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

105	2	.gitignore

commit eff03a51150ae4d6669537f0e294e44ea2282611
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Jan 5 00:49:10 2012 -0500

    Remove vandelay.dtd from i18n Makefile and dirs
    
    Back in 46e233722f9d1ccec1bd97816bb055caa12f8096, vandelay.dtd was
    removed in favour of the inline Template Toolkit localizations - so pull
    vandelay.dtd references out of the i18n Makfile to avoid corresponding
    errors.
    
    Remove vandelay POT and PO files as well.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	5	build/i18n/Makefile
0	461	build/i18n/po/vandelay.dtd/ar-AR.po
0	471	build/i18n/po/vandelay.dtd/cs-CZ.po
0	469	build/i18n/po/vandelay.dtd/de-DE.po
0	469	build/i18n/po/vandelay.dtd/en-CA.po
0	475	build/i18n/po/vandelay.dtd/en-GB.po
0	473	build/i18n/po/vandelay.dtd/es-ES.po
0	481	build/i18n/po/vandelay.dtd/fr-CA.po
0	461	build/i18n/po/vandelay.dtd/he-IL.po
0	461	build/i18n/po/vandelay.dtd/hu-HU.po
0	475	build/i18n/po/vandelay.dtd/hy-AM.po
0	461	build/i18n/po/vandelay.dtd/oc-FR.po
0	481	build/i18n/po/vandelay.dtd/pt-BR.po
0	473	build/i18n/po/vandelay.dtd/ru-RU.po
0	461	build/i18n/po/vandelay.dtd/sv-SE.po
0	469	build/i18n/po/vandelay.dtd/tr-TR.po
0	465	build/i18n/po/vandelay.dtd/vandelay.dtd.pot
 delete mode 100644 build/i18n/po/vandelay.dtd/ar-AR.po
 delete mode 100644 build/i18n/po/vandelay.dtd/cs-CZ.po
 delete mode 100644 build/i18n/po/vandelay.dtd/de-DE.po
 delete mode 100644 build/i18n/po/vandelay.dtd/en-CA.po
 delete mode 100644 build/i18n/po/vandelay.dtd/en-GB.po
 delete mode 100644 build/i18n/po/vandelay.dtd/es-ES.po
 delete mode 100644 build/i18n/po/vandelay.dtd/fr-CA.po
 delete mode 100644 build/i18n/po/vandelay.dtd/he-IL.po
 delete mode 100644 build/i18n/po/vandelay.dtd/hu-HU.po
 delete mode 100644 build/i18n/po/vandelay.dtd/hy-AM.po
 delete mode 100644 build/i18n/po/vandelay.dtd/oc-FR.po
 delete mode 100644 build/i18n/po/vandelay.dtd/pt-BR.po
 delete mode 100644 build/i18n/po/vandelay.dtd/ru-RU.po
 delete mode 100644 build/i18n/po/vandelay.dtd/sv-SE.po
 delete mode 100644 build/i18n/po/vandelay.dtd/tr-TR.po
 delete mode 100644 build/i18n/po/vandelay.dtd/vandelay.dtd.pot

commit 9557f9d4842d5af0399cc14ccff1dbafeee1a62c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Jan 4 23:57:00 2012 -0500

    Add language update script for Launchpad -> Evergreen
    
    Launchpad uses different names for locales than we do in Evergreen, and
    we want to only update translations that are actually new or have
    changed in Launchpad, so dump some intelligence into a script that can
    help us with that work.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

213	0	build/i18n/scripts/update_pofiles
 create mode 100755 build/i18n/scripts/update_pofiles

commit b702621d768f62a4c5806cec172a823546231b8e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Jan 4 23:18:08 2012 -0500

    Update translations from Launchpad
    
    Created using the fancy new update_pofiles script. Huzzah!
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	3	build/i18n/po/AutoFieldWidget.js/cs-CZ.po
20	10	build/i18n/po/AutoFieldWidget.js/de-DE.po
4	3	build/i18n/po/AutoFieldWidget.js/en-CA.po
4	3	build/i18n/po/AutoFieldWidget.js/en-GB.po
4	3	build/i18n/po/AutoFieldWidget.js/es-ES.po
4	3	build/i18n/po/AutoFieldWidget.js/fr-CA.po
4	3	build/i18n/po/AutoFieldWidget.js/hy-AM.po
20	10	build/i18n/po/AutoFieldWidget.js/oc-FR.po
4	3	build/i18n/po/AutoFieldWidget.js/pt-BR.po
4	3	build/i18n/po/AutoFieldWidget.js/ru-RU.po
18	8	build/i18n/po/AutoFieldWidget.js/tr-TR.po
178	0	build/i18n/po/Searcher.js/cs-CZ.po
178	0	build/i18n/po/Searcher.js/de-DE.po
178	0	build/i18n/po/Searcher.js/en-CA.po
178	0	build/i18n/po/Searcher.js/en-GB.po
178	0	build/i18n/po/Searcher.js/es-ES.po
178	0	build/i18n/po/Searcher.js/fr-CA.po
178	0	build/i18n/po/Searcher.js/hy-AM.po
178	0	build/i18n/po/Searcher.js/ru-RU.po
9	8	build/i18n/po/TranslatorPopup.js/cs-CZ.po
19	13	build/i18n/po/TranslatorPopup.js/de-DE.po
4	3	build/i18n/po/TranslatorPopup.js/en-CA.po
4	3	build/i18n/po/TranslatorPopup.js/en-GB.po
4	3	build/i18n/po/TranslatorPopup.js/es-ES.po
4	3	build/i18n/po/TranslatorPopup.js/fr-CA.po
4	3	build/i18n/po/TranslatorPopup.js/hy-AM.po
19	13	build/i18n/po/TranslatorPopup.js/oc-FR.po
4	3	build/i18n/po/TranslatorPopup.js/pt-BR.po
4	3	build/i18n/po/TranslatorPopup.js/ru-RU.po
18	12	build/i18n/po/TranslatorPopup.js/tr-TR.po
4	3	build/i18n/po/User.js/cs-CZ.po
13	7	build/i18n/po/User.js/de-DE.po
4	3	build/i18n/po/User.js/en-CA.po
4	3	build/i18n/po/User.js/en-GB.po
4	3	build/i18n/po/User.js/es-ES.po
4	3	build/i18n/po/User.js/fr-CA.po
4	3	build/i18n/po/User.js/hy-AM.po
14	8	build/i18n/po/User.js/oc-FR.po
4	3	build/i18n/po/User.js/pt-BR.po
4	3	build/i18n/po/User.js/ru-RU.po
13	7	build/i18n/po/User.js/tr-TR.po
7	4	build/i18n/po/XULTermLoader.js/cs-CZ.po
18	10	build/i18n/po/XULTermLoader.js/de-DE.po
7	4	build/i18n/po/XULTermLoader.js/en-CA.po
7	4	build/i18n/po/XULTermLoader.js/en-GB.po
7	4	build/i18n/po/XULTermLoader.js/es-ES.po
7	4	build/i18n/po/XULTermLoader.js/fr-CA.po
7	4	build/i18n/po/XULTermLoader.js/hy-AM.po
19	11	build/i18n/po/XULTermLoader.js/oc-FR.po
7	4	build/i18n/po/XULTermLoader.js/pt-BR.po
7	4	build/i18n/po/XULTermLoader.js/ru-RU.po
22	12	build/i18n/po/XULTermLoader.js/tr-TR.po
35	37	build/i18n/po/admin.properties/cs-CZ.po
59	29	build/i18n/po/admin.properties/de-DE.po
2	3	build/i18n/po/admin.properties/en-CA.po
3	4	build/i18n/po/admin.properties/en-GB.po
7	6	build/i18n/po/admin.properties/es-ES.po
2	3	build/i18n/po/admin.properties/fr-CA.po
2	3	build/i18n/po/admin.properties/hy-AM.po
17	13	build/i18n/po/admin.properties/oc-FR.po
8	13	build/i18n/po/admin.properties/pt-BR.po
6	5	build/i18n/po/admin.properties/ru-RU.po
7	8	build/i18n/po/auth.properties/cs-CZ.po
5	5	build/i18n/po/auth.properties/de-DE.po
2	3	build/i18n/po/auth.properties/en-CA.po
3	4	build/i18n/po/auth.properties/en-GB.po
3	4	build/i18n/po/auth.properties/es-ES.po
5	6	build/i18n/po/auth.properties/fr-CA.po
4	4	build/i18n/po/auth.properties/hy-AM.po
15	11	build/i18n/po/auth.properties/oc-FR.po
2	3	build/i18n/po/auth.properties/pt-BR.po
2	3	build/i18n/po/auth.properties/ru-RU.po
16	13	build/i18n/po/auth.properties/tr-TR.po
82	0	build/i18n/po/authority.js/cs-CZ.po
82	0	build/i18n/po/authority.js/de-DE.po
82	0	build/i18n/po/authority.js/en-CA.po
82	0	build/i18n/po/authority.js/en-GB.po
82	0	build/i18n/po/authority.js/es-ES.po
82	0	build/i18n/po/authority.js/fr-CA.po
82	0	build/i18n/po/authority.js/hy-AM.po
82	0	build/i18n/po/authority.js/oc-FR.po
82	0	build/i18n/po/authority.js/pt-BR.po
12	9	build/i18n/po/capture.js/cs-CZ.po
93	33	build/i18n/po/capture.js/de-DE.po
7	4	build/i18n/po/capture.js/en-CA.po
7	4	build/i18n/po/capture.js/en-GB.po
7	4	build/i18n/po/capture.js/es-ES.po
11	8	build/i18n/po/capture.js/fr-CA.po
15	12	build/i18n/po/capture.js/hy-AM.po
94	34	build/i18n/po/capture.js/oc-FR.po
23	18	build/i18n/po/capture.js/pt-BR.po
7	4	build/i18n/po/capture.js/ru-RU.po
142	143	build/i18n/po/cat.properties/cs-CZ.po
615	523	build/i18n/po/cat.properties/de-DE.po
16	15	build/i18n/po/cat.properties/en-CA.po
13	14	build/i18n/po/cat.properties/en-GB.po
58	59	build/i18n/po/cat.properties/es-ES.po
83	151	build/i18n/po/cat.properties/fr-CA.po
16	16	build/i18n/po/cat.properties/hy-AM.po
55	129	build/i18n/po/cat.properties/pt-BR.po
62	55	build/i18n/po/cat.properties/ru-RU.po
183	56	build/i18n/po/cat.properties/tr-TR.po
111	160	build/i18n/po/circ.properties/cs-CZ.po
299	44	build/i18n/po/circ.properties/de-DE.po
28	21	build/i18n/po/circ.properties/en-CA.po
29	22	build/i18n/po/circ.properties/en-GB.po
35	51	build/i18n/po/circ.properties/es-ES.po
92	66	build/i18n/po/circ.properties/fr-CA.po
23	17	build/i18n/po/circ.properties/hy-AM.po
107	84	build/i18n/po/circ.properties/pt-BR.po
103	80	build/i18n/po/circ.properties/ru-RU.po
79	110	build/i18n/po/common.properties/cs-CZ.po
113	101	build/i18n/po/common.properties/de-DE.po
2	19	build/i18n/po/common.properties/en-CA.po
3	20	build/i18n/po/common.properties/en-GB.po
5	24	build/i18n/po/common.properties/es-ES.po
34	33	build/i18n/po/common.properties/fr-CA.po
18	35	build/i18n/po/common.properties/hy-AM.po
44	35	build/i18n/po/common.properties/oc-FR.po
11	52	build/i18n/po/common.properties/pt-BR.po
29	34	build/i18n/po/common.properties/ru-RU.po
15	17	build/i18n/po/conify.dtd/cs-CZ.po
8	4	build/i18n/po/conify.dtd/de-DE.po
2	3	build/i18n/po/conify.dtd/en-CA.po
3	4	build/i18n/po/conify.dtd/en-GB.po
3	4	build/i18n/po/conify.dtd/es-ES.po
2	3	build/i18n/po/conify.dtd/fr-CA.po
2	3	build/i18n/po/conify.dtd/hy-AM.po
3	4	build/i18n/po/conify.dtd/pt-BR.po
2	3	build/i18n/po/conify.dtd/ru-RU.po
84	72	build/i18n/po/conify.js/cs-CZ.po
210	202	build/i18n/po/conify.js/de-DE.po
20	9	build/i18n/po/conify.js/en-CA.po
22	9	build/i18n/po/conify.js/en-GB.po
24	10	build/i18n/po/conify.js/es-ES.po
24	14	build/i18n/po/conify.js/fr-CA.po
24	11	build/i18n/po/conify.js/hy-AM.po
24	11	build/i18n/po/conify.js/pt-BR.po
20	9	build/i18n/po/conify.js/ru-RU.po
217	191	build/i18n/po/conify.js/tr-TR.po
509	1186	build/i18n/po/db.seed/cs-CZ.po
2127	2233	build/i18n/po/db.seed/de-DE.po
379	1123	build/i18n/po/db.seed/en-CA.po
381	1125	build/i18n/po/db.seed/en-GB.po
373	1150	build/i18n/po/db.seed/es-ES.po
457	1150	build/i18n/po/db.seed/fr-CA.po
363	1049	build/i18n/po/db.seed/hy-AM.po
1983	3496	build/i18n/po/db.seed/oc-FR.po
354	1908	build/i18n/po/db.seed/pt-BR.po
348	999	build/i18n/po/db.seed/ru-RU.po
1800	3306	build/i18n/po/db.seed/tr-TR.po
658	789	build/i18n/po/fm_IDL.dtd/cs-CZ.po
4729	2673	build/i18n/po/fm_IDL.dtd/de-DE.po
6	4	build/i18n/po/fm_IDL.dtd/en-CA.po
6	4	build/i18n/po/fm_IDL.dtd/en-GB.po
103	186	build/i18n/po/fm_IDL.dtd/es-ES.po
26	38	build/i18n/po/fm_IDL.dtd/fr-CA.po
46	43	build/i18n/po/fm_IDL.dtd/hy-AM.po
65	113	build/i18n/po/fm_IDL.dtd/pt-BR.po
62	104	build/i18n/po/fm_IDL.dtd/ru-RU.po
152	103	build/i18n/po/ils_events.xml/cs-CZ.po
332	247	build/i18n/po/ils_events.xml/de-DE.po
87	38	build/i18n/po/ils_events.xml/en-CA.po
95	41	build/i18n/po/ils_events.xml/en-GB.po
138	123	build/i18n/po/ils_events.xml/es-ES.po
176	93	build/i18n/po/ils_events.xml/fr-CA.po
96	45	build/i18n/po/ils_events.xml/hy-AM.po
377	178	build/i18n/po/ils_events.xml/pt-BR.po
325	153	build/i18n/po/ils_events.xml/ru-RU.po
1415	1460	build/i18n/po/lang.dtd/cs-CZ.po
4337	3687	build/i18n/po/lang.dtd/de-DE.po
615	666	build/i18n/po/lang.dtd/en-CA.po
624	846	build/i18n/po/lang.dtd/en-GB.po
903	1263	build/i18n/po/lang.dtd/es-ES.po
857	981	build/i18n/po/lang.dtd/fr-CA.po
677	724	build/i18n/po/lang.dtd/hy-AM.po
796	900	build/i18n/po/lang.dtd/pt-BR.po
724	1024	build/i18n/po/lang.dtd/ru-RU.po
123	97	build/i18n/po/multiclass_search_help.html/cs-CZ.po
104	78	build/i18n/po/multiclass_search_help.html/en-CA.po
104	77	build/i18n/po/multiclass_search_help.html/en-GB.po
120	93	build/i18n/po/multiclass_search_help.html/es-ES.po
108	77	build/i18n/po/multiclass_search_help.html/fr-CA.po
116	8	build/i18n/po/multiclass_search_help.html/hu-HU.po
103	77	build/i18n/po/multiclass_search_help.html/hy-AM.po
99	48	build/i18n/po/multiclass_search_help.html/oc-FR.po
122	95	build/i18n/po/multiclass_search_help.html/pt-BR.po
119	93	build/i18n/po/multiclass_search_help.html/ru-RU.po
129	7	build/i18n/po/multiclass_search_help.html/tr-TR.po
229	218	build/i18n/po/offline.properties/cs-CZ.po
292	32	build/i18n/po/offline.properties/de-DE.po
24	18	build/i18n/po/offline.properties/en-CA.po
23	18	build/i18n/po/offline.properties/en-GB.po
21	27	build/i18n/po/offline.properties/es-ES.po
47	52	build/i18n/po/offline.properties/fr-CA.po
35	30	build/i18n/po/offline.properties/hy-AM.po
37	37	build/i18n/po/offline.properties/pt-BR.po
34	34	build/i18n/po/offline.properties/ru-RU.po
186	77	build/i18n/po/offline.properties/tr-TR.po
117	112	build/i18n/po/opac.dtd/cs-CZ.po
233	75	build/i18n/po/opac.dtd/de-DE.po
20	15	build/i18n/po/opac.dtd/en-CA.po
21	16	build/i18n/po/opac.dtd/en-GB.po
18	15	build/i18n/po/opac.dtd/es-ES.po
29	18	build/i18n/po/opac.dtd/fr-CA.po
192	108	build/i18n/po/opac.dtd/he-IL.po
81	77	build/i18n/po/opac.dtd/hy-AM.po
150	23	build/i18n/po/opac.dtd/oc-FR.po
49	70	build/i18n/po/opac.dtd/pt-BR.po
15	15	build/i18n/po/opac.dtd/ru-RU.po
149	29	build/i18n/po/opac.dtd/tr-TR.po
23	17	build/i18n/po/opac.js/cs-CZ.po
142	44	build/i18n/po/opac.js/de-DE.po
12	6	build/i18n/po/opac.js/en-CA.po
18	19	build/i18n/po/opac.js/en-GB.po
14	6	build/i18n/po/opac.js/es-ES.po
15	9	build/i18n/po/opac.js/fr-CA.po
12	6	build/i18n/po/opac.js/hy-AM.po
83	30	build/i18n/po/opac.js/oc-FR.po
23	22	build/i18n/po/opac.js/pt-BR.po
16	8	build/i18n/po/opac.js/ru-RU.po
68	24	build/i18n/po/opac.js/sv-SE.po
79	29	build/i18n/po/opac.js/tr-TR.po
272	256	build/i18n/po/patron.properties/cs-CZ.po
406	319	build/i18n/po/patron.properties/de-DE.po
48	44	build/i18n/po/patron.properties/en-CA.po
48	43	build/i18n/po/patron.properties/en-GB.po
45	59	build/i18n/po/patron.properties/es-ES.po
86	83	build/i18n/po/patron.properties/fr-CA.po
43	41	build/i18n/po/patron.properties/hy-AM.po
54	64	build/i18n/po/patron.properties/pt-BR.po
68	74	build/i18n/po/patron.properties/ru-RU.po
127	79	build/i18n/po/patron.properties/tr-TR.po
27	26	build/i18n/po/pickup_and_return.js/cs-CZ.po
45	16	build/i18n/po/pickup_and_return.js/de-DE.po
4	3	build/i18n/po/pickup_and_return.js/en-CA.po
4	3	build/i18n/po/pickup_and_return.js/en-GB.po
4	3	build/i18n/po/pickup_and_return.js/es-ES.po
4	3	build/i18n/po/pickup_and_return.js/fr-CA.po
4	3	build/i18n/po/pickup_and_return.js/hy-AM.po
4	3	build/i18n/po/pickup_and_return.js/pt-BR.po
4	3	build/i18n/po/pickup_and_return.js/ru-RU.po
11	11	build/i18n/po/pull_list.js/cs-CZ.po
29	15	build/i18n/po/pull_list.js/de-DE.po
4	3	build/i18n/po/pull_list.js/en-CA.po
4	3	build/i18n/po/pull_list.js/en-GB.po
4	3	build/i18n/po/pull_list.js/es-ES.po
12	11	build/i18n/po/pull_list.js/fr-CA.po
4	3	build/i18n/po/pull_list.js/hy-AM.po
17	16	build/i18n/po/pull_list.js/pt-BR.po
4	3	build/i18n/po/pull_list.js/ru-RU.po
17	15	build/i18n/po/register.js/cs-CZ.po
125	14	build/i18n/po/register.js/de-DE.po
6	4	build/i18n/po/register.js/en-CA.po
6	4	build/i18n/po/register.js/en-GB.po
7	6	build/i18n/po/register.js/es-ES.po
32	31	build/i18n/po/register.js/fr-CA.po
6	4	build/i18n/po/register.js/hy-AM.po
6	4	build/i18n/po/register.js/pt-BR.po
6	4	build/i18n/po/register.js/ru-RU.po
123	12	build/i18n/po/register.js/tr-TR.po
121	124	build/i18n/po/reports.dtd/cs-CZ.po
13	12	build/i18n/po/reports.dtd/de-DE.po
2	3	build/i18n/po/reports.dtd/en-CA.po
3	4	build/i18n/po/reports.dtd/en-GB.po
11	12	build/i18n/po/reports.dtd/es-ES.po
4	5	build/i18n/po/reports.dtd/fr-CA.po
14	15	build/i18n/po/reports.dtd/hy-AM.po
3	4	build/i18n/po/reports.dtd/pt-BR.po
2	3	build/i18n/po/reports.dtd/ru-RU.po
6	7	build/i18n/po/reports.dtd/tr-TR.po
44	44	build/i18n/po/reports.js/cs-CZ.po
37	34	build/i18n/po/reports.js/de-DE.po
4	4	build/i18n/po/reports.js/en-CA.po
6	4	build/i18n/po/reports.js/en-GB.po
6	4	build/i18n/po/reports.js/es-ES.po
6	5	build/i18n/po/reports.js/fr-CA.po
16	9	build/i18n/po/reports.js/hu-HU.po
4	4	build/i18n/po/reports.js/hy-AM.po
6	4	build/i18n/po/reports.js/pt-BR.po
4	4	build/i18n/po/reports.js/ru-RU.po
8	7	build/i18n/po/reports.js/tr-TR.po
59	50	build/i18n/po/reservation.js/cs-CZ.po
91	58	build/i18n/po/reservation.js/de-DE.po
12	6	build/i18n/po/reservation.js/en-CA.po
12	6	build/i18n/po/reservation.js/en-GB.po
13	8	build/i18n/po/reservation.js/es-ES.po
21	14	build/i18n/po/reservation.js/fr-CA.po
14	7	build/i18n/po/reservation.js/hy-AM.po
12	6	build/i18n/po/reservation.js/ru-RU.po
24	16	build/i18n/po/selfcheck.js/cs-CZ.po
120	36	build/i18n/po/selfcheck.js/de-DE.po
13	6	build/i18n/po/selfcheck.js/en-CA.po
13	6	build/i18n/po/selfcheck.js/en-GB.po
16	12	build/i18n/po/selfcheck.js/es-ES.po
13	6	build/i18n/po/selfcheck.js/fr-CA.po
17	8	build/i18n/po/selfcheck.js/hy-AM.po
13	6	build/i18n/po/selfcheck.js/pt-BR.po
13	6	build/i18n/po/selfcheck.js/ru-RU.po
646	0	build/i18n/po/serial.properties/cs-CZ.po
620	0	build/i18n/po/serial.properties/de-DE.po
641	0	build/i18n/po/serial.properties/en-CA.po
641	0	build/i18n/po/serial.properties/en-GB.po
618	0	build/i18n/po/serial.properties/es-ES.po
620	0	build/i18n/po/serial.properties/fr-CA.po
649	0	build/i18n/po/serial.properties/hy-AM.po
37	35	build/i18n/po/vandelay.dtd/cs-CZ.po
39	19	build/i18n/po/vandelay.dtd/de-DE.po
2	3	build/i18n/po/vandelay.dtd/en-CA.po
3	4	build/i18n/po/vandelay.dtd/en-GB.po
11	8	build/i18n/po/vandelay.dtd/es-ES.po
4	4	build/i18n/po/vandelay.dtd/fr-CA.po
30	31	build/i18n/po/vandelay.dtd/hy-AM.po
3	4	build/i18n/po/vandelay.dtd/pt-BR.po
4	4	build/i18n/po/vandelay.dtd/ru-RU.po
46	38	build/i18n/po/vandelay.dtd/tr-TR.po
 create mode 100644 build/i18n/po/Searcher.js/cs-CZ.po
 create mode 100644 build/i18n/po/Searcher.js/de-DE.po
 create mode 100644 build/i18n/po/Searcher.js/en-CA.po
 create mode 100644 build/i18n/po/Searcher.js/en-GB.po
 create mode 100644 build/i18n/po/Searcher.js/es-ES.po
 create mode 100644 build/i18n/po/Searcher.js/fr-CA.po
 create mode 100644 build/i18n/po/Searcher.js/hy-AM.po
 create mode 100644 build/i18n/po/Searcher.js/ru-RU.po
 create mode 100644 build/i18n/po/authority.js/cs-CZ.po
 create mode 100644 build/i18n/po/authority.js/de-DE.po
 create mode 100644 build/i18n/po/authority.js/en-CA.po
 create mode 100644 build/i18n/po/authority.js/en-GB.po
 create mode 100644 build/i18n/po/authority.js/es-ES.po
 create mode 100644 build/i18n/po/authority.js/fr-CA.po
 create mode 100644 build/i18n/po/authority.js/hy-AM.po
 create mode 100644 build/i18n/po/authority.js/oc-FR.po
 create mode 100644 build/i18n/po/authority.js/pt-BR.po
 create mode 100644 build/i18n/po/serial.properties/cs-CZ.po
 create mode 100644 build/i18n/po/serial.properties/de-DE.po
 create mode 100644 build/i18n/po/serial.properties/en-CA.po
 create mode 100644 build/i18n/po/serial.properties/en-GB.po
 create mode 100644 build/i18n/po/serial.properties/es-ES.po
 create mode 100644 build/i18n/po/serial.properties/fr-CA.po
 create mode 100644 build/i18n/po/serial.properties/hy-AM.po

commit 9815279a598e7997a4bff907beae0f1da4ebc2f5
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 22 17:42:03 2011 -0500

    Resolver: Fix method signature for deleting cache entries
    
    The order of arguments was incorrect and also contained an unnecessary
    entry for the open-ils.resolver.delete_cached_holdings method signature.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Art <artrhyno@uwindsor.ca>

6	10	Open-ILS/src/perlmods/lib/OpenILS/Application/ResolverResolver.pm
1	1	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit 48dc6f2010807f87edd6ac757ffb7e0430d7bff3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 22 17:13:29 2011 -0500

    OpenURL resolution in TPAC - further cleanup
    
    We appear to be getting one null or empty value in the args.issns array,
    which was causing spurious lookups of null ISSNs, so skip the entry if
    it is an empty string.
    
    Also, switch from the product-specific "sfx" variable name to the
    product-neutral "openurls" as we have CUFTS in the mix these days.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Art <artrhyno@uwindsor.ca>

7	6	Open-ILS/src/templates/opac/parts/record/summary.tt2
4	3	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 692ccb6288e24041a91ffb4617562fa95449c65e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 22 16:08:07 2011 -0500

    Make resolver HTTP timeout setting implementation neutral
    
    Rather than exposing the underlying mechanism (LWP) for the HTTP
    request via the "lwp_timeout" setting, use "request_timeout" so that if
    we switch to a different HTTP library the setting name doesn't
    contradict it.
    
    Also, add an example setting to opensrf.xml.example.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Art <artrhyno@uwindsor.ca>

1	0	Open-ILS/examples/opensrf.xml.example
11	11	Open-ILS/src/perlmods/lib/OpenILS/Application/ResolverResolver.pm

commit e64c8643fedc3bf121d618aaf595d03cd3d685fd
Author: Art Rhyno <artrhyno@uwindsor.ca>
Date:   Wed Dec 14 20:13:30 2011 -0500

    Timeout for resolver interactions
    
    These changes add some timeout options for using the resolver
    setup. For example:
    
    request open-ils.resolver open-ils.resolver.resolve_holdings "issn", \
        "0013-0618", "http://sfx.scholarsportal.info/windsor", 10
    
    where "10" is the number of seconds for a timeout. A default timeout can be
    specified in the opensrf.xml file in the ResolverResolver section as well:
    
    <lwp_timeout>30</lwp_timeout>
    
    from TPAC, a request can be also include a timeout option:
    
    [% IF openurl.enabled == 'true';
        FOR issn IN args.resolver_issns;
          resolver = ResolverResolver.resolve_issn(issn, openurl.baseurl,20);
              FOR res IN resolver;
    %]
    
    where "20" is the number of seconds for a timeout.
    
    In working through this, I found some bugs in my resolver collection
    code in misc_util.tt2 for isbns which I have addressed.
    
    Signed-off-by: Art Rhyno <artrhyno@uwindsor.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Art <artrhyno@uwindsor.ca>

79	7	Open-ILS/src/perlmods/lib/OpenILS/Application/ResolverResolver.pm
5	5	Open-ILS/src/perlmods/lib/Template/Plugin/ResolverResolver.pm
23	22	Open-ILS/src/templates/opac/parts/misc_util.tt2

commit d2f41ba6829aad91367cb5e47a5825ffcb7ee2df
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Dec 28 15:44:36 2011 -0500

    Use hold current shelf lib to determine availability : opac sorting
    
    The availability of a hold can now be determined by
    hold.current_shelf_lib == hold.pickup_lib.
    
    This change uses the new hold availability test to sort available
    holds to front/top of a patron's holds list (for the OPAC).
    
    Affects open-ils.circ.holds[.canceled|id_list].retrieve
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

11	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit e94ca037bf2ce8a9923c28b53cdb0d8c1247a7de
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Jan 4 13:32:33 2012 -0500

    Teach cstore et al about predicate-style truth tests in ORDER BY clauses
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

20	0	Open-ILS/src/c-apps/oils_sql.c

commit 5992dd30fafda48d7226939332ddb029ac83bca1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Dec 28 13:58:45 2011 -0500

    Use hold current shelf lib to determine availability : hold shelf browse
    
    The availability of a hold can now be determined by
    hold.current_shelf_lib == hold.pickup_lib.
    
    This change updates the staff client code to only display the "available
    on" value (i.e. shelf_time) in the holds list when the current_shelf_lib
    == pickup_lib and not just that it's captured and on a shelf.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	5	Open-ILS/xul/staff_client/server/circ/util.js

commit f4c5013abfb8ce026fb21d4fdcd985e09c55aa67
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Dec 28 09:54:32 2011 -0500

    Use hold current shelf lib to determine availability : SIP
    
    The availability of a hold can now be determined by
    hold.current_shelf_lib == hold.pickup_lib.
    
    This change updates the unavailable holds count function for the patron
    information SIP call(s).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	6	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit bcef00bd27782fa730bf3b82c263c1e8c421245f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 16:34:46 2011 -0500

    Use hold current shelf lib to determine availability : A/T validator
    
    The availability of a hold can now be determined by
    hold.current_shelf_lib == hold.pickup_lib.
    
    This change updates the HoldIsAvailable action/trigger validator to use
    the new test.  I've left the original belt-and-suspenders checks in
    place and marked them as redundant within the code for reference.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Validator.pm

commit 85716b57f62b9de89327561f37cc3807d5fd6787
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 16:20:08 2011 -0500

    Use hold current shelf lib to determine availability : opac hold count
    
    The availability of a hold can now be determined by
    hold.current_shelf_lib == hold.pickup_lib.
    
    This change updates the API call for open hold counts for a patron.
    
    open-ils.actor.user.hold_requests.count
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 4aac5e8fb061fa3bdd9808e9519cc605c2b1725a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 15:47:00 2011 -0500

    Alter hold pickup lib from shelf avoids transit
    
    When the pickup library for a hold is changed while the hold is on the
    shelf, we no longer put the copy into transit to the new location.
    Instead, we clear the shelf_expire_time (to prevent premature
    expiration) and leave the hold and copy otherwise untouched.
    
    This makes it possible for staff to identify items that are sitting on
    the holds shelf that need to be put into transit to a new pickup
    library.  The transit will be created when the item is checked in at the
    originating library.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	28	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
53	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit fbf349a8bd1293cbb94f5cd74bac9a8a54ed48e5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Dec 28 11:17:37 2011 -0500

    New hold status for "Wrong Shelf"
    
    Adds a new hold status code (8) to indicate when a hold is sitting on
    the wrong holds shelf.
    
    In the OPAC, a hold status of 8 is displayed as in-transit.  Neither
    waiting-for-copy or in-transit are entirely accurate.  In-transit makes
    slightly more sense, since the copy is captured and (slowly) making its
    way to the correct shelf.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
1	1	Open-ILS/src/templates/opac/parts/hold_status.tt2
1	1	Open-ILS/web/opac/skin/default/js/myopac.js
3	0	Open-ILS/xul/staff_client/server/circ/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit da521bed5758a5ee7d6f15e25dc7d3c00546071a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 15:55:33 2011 -0500

    Hold current_shelf_lib for shelf browse API
    
    Use the new current_shelf_lib column on hold requests to determine which
    copies are on a given shelf.  This also removes the shelf_time filter
    since shelf_time is guaranteed to be set if current_shelf_lib is set.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 46a751a8a8ded31c2dd7cfe96d9385e9037c353f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 13:18:08 2011 -0500

    Hold current_shelf_lib API for setting/clearing.
    
    Sets and clears the hold.current_shelf_lib value as appropriate during
    hold capture, transit checkin, hold resetting, etc.
    
    Also, we now create hold transits (instead of regular transits) when a
    captured copy is (unexpectedly) found at the wrong branch and needs to
    transit to the pickup lib.  This can happen if the captured copy simply
    transits to the wrong place (existing behavior) or the pickup lib for
    the hold was changed while the copy was on the shelf (new behavior).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

30	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit a9e670511c2953bcd16fce74a48cd8b7a7cb43e0
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 12:19:05 2011 -0500

    Hold current_shelf_lib DB and IDL
    
    Schema, upgrade, and IDL pieces for a new
    action.hold_request.current_shelf_lib column.  The goal of the column is
    to track the location where a hold is currently sitting on a hold shelf.
    Typically, this will be the pickup library, however, if the pickup
    library has changed while the hold was on the shelf, the current shelf
    lib will be different.
    
    The upgrade script sets current_shelf_lib to match the pickup_lib for
    all holds that are currently active and on the shelf.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	0	Open-ILS/examples/fm_IDL.xml
2	1	Open-ILS/src/sql/Pg/090.schema.action.sql
28	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.hold-current-shelf-lib.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.hold-current-shelf-lib.sql

commit 20a6185001d99f486040039ec73d2b6775ade4b9
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Nov 22 11:55:45 2011 -0500

    Avoid updating deleted call numbers for 2.0 -> 2.1 upgrade
    
    25% of the call numbers on our production system are deleted, so
    filtering out the deleted call numbers from the update in the 2.0 -> 2.1
    upgrade saves a significant amount of time.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	2	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql

commit 3706bb0514e49ba4f4db51b48cab9aae5524a895
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jan 3 12:00:47 2012 -0500

    Add OpenILS::WWW::Proxy::Authen Module
    
    Enables HTTP Basic Authentication access control.
    
    Uses the OILSProxyPermissions and OILSProxyLoginType settings, but prompts
    are controlled by the Apache AuthName directive.
    
    This module allows things like Directory Indexing and non-perl or otherwise
    incompatible with the normal proxy module Response (or similar) handlers to
    be password-protected.
    
    It also supports the OpenILS::WWW::Proxy user/passwd CGI params to allow
    an easier transition between the two.
    
    For example:
    
    <Location /authen_login/>
        Options +Indexes
        PerlOptions +GlobalRequest
        PerlSetVar OILSProxyPermissions "VIEW_REPORT_OUTPUT"
        PerlSendHeader On
        AuthType Basic
        AuthName "Notices Login"
        PerlAuthenHandler OpenILS::WWW::Proxy::Authen
        require valid-user
        allow from all
    </Location>
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

177	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/Proxy/Authen.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/Proxy/Authen.pm

commit f9493ae5b5416ff17685b9c8dcc0b813336f0ad8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jan 3 13:48:18 2012 -0500

    Change default proxy configs to Authen variant
    
    Also, because Authen causes Indexes to function, turn them off by default.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

37	22	Open-ILS/examples/apache/eg_vhost.conf

commit 7f50fd7b3d5ec0c8f27a27a6768aab67601202ba
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Jan 4 10:36:08 2012 -0500

    Stamping upgrade script for coded value map index normalizer
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0662.schema.coded-value-map-index-normalizer.sql
0	24	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.coded-value-map-index-normalizer.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0662.schema.coded-value-map-index-normalizer.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.coded-value-map-index-normalizer.sql

commit 8602d3d8073eb66ff1dd19d0e534e43cdefb7f14
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 3 16:41:42 2012 -0500

    Coded value map index normalizer
    
    New index normalizer which maps a coded value from the record to the
    display value configured in config.coded_value_map.  The normalizer is
    applied with one parameter, the ctype of the coded_value_map to use for
    the mapping.
    
    E.g config.metabib_field_index_norm_map:
    
    id | field | norm |    params     | pos
    ---+-------+------+---------------+-----
    57 |    31 |   17 | ["item_lang"] |  -1
    
    * pos = -1 causes this normalizer to be applied to facet_entry's
    
    This is primarily useful for facets.  For example, you could create a
    metabib_field for language and mark it as a facet_field.  Applying this
    index would allow the mapped language names (e.g. "French" instead of
    "fre") to display as facets.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
8	0	Open-ILS/src/sql/Pg/999.functions.global.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.coded-value-map-index-normalizer.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.coded-value-map-index-normalizer.sql

commit e0896f470df01957b192a60a9b2b8496309516ea
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 3 17:30:43 2012 -0500

    Revert "TPAC: Uniform search lib / depth settings"
    
    Reverting partial commit that accidentally crept in, causing TPAC
    breakage.
    
    This reverts commit ea71899306e026bd0c9c91180a0af76a55fbec08.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 1579acb673f1840c9171ea788e4dfa98ce77d54e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Dec 30 11:54:00 2011 -0500

    Fix typo causing Javascript Shell to not enable
    
    DEBUG_CIENT != DEBUG_CLIENT
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 5cc7a3f6aef196011eb035f327fdfe7316f7cde9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Dec 30 10:39:01 2011 -0500

    Use the FTP site for Xulrunner downloads
    
    releases.mozilla.org was causing trouble for us; the FTP site appears to
    be more stable.
    
    Oh, and bump the Xulrunner version slightly while we are at it.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/xul/staff_client/Makefile.am

commit ea71899306e026bd0c9c91180a0af76a55fbec08
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Dec 27 12:31:03 2011 -0500

    TPAC: Uniform search lib / depth settings
    
    The current TPAC code uses logic embedded within the templates to
    determine which org unit and depth to apply to searches.
    
    This commit attempts to standardize the logic within the new
    OpenILS::WWWW::EGCatLoader::Util::_get_search_lib() function and sets
    the result as a new context variable, "search_ou". The org unit is
    determined as follows (first matching condition wins):
    
    * specific CGI "loc" value
    * logged-in user's preferred search library
    * logged-in user's home org unit
    * specific CGI "physical_loc" value
    
    The depth is set as follows (first matching condition wins):
    
    * specific CGI "depth" value
    * depth of the chosen org_unit
    
    As of this commit, a library that wishes to set the a default search
    org unit for any given user should set the "physical_loc" CGI param;
    after the user performs their first search, the "loc" CGI param will
    propagate through most interfaces. When a user clicks "Your account log
    in", the user's preferred search library or home org unit will be set as
    the new search lib.
    
    At any time after that, the user can select a different org unit from
    the org unit selector to explicitly set the "loc" CGI param.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 67a2606376232fec9d2803a30f146f4176695402
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Dec 28 18:42:18 2011 -0500

    TPAC: Add "preferred search location" preference setting
    
    Working towards parity with the JSPAC, give the user the ability to set
    their preferred search library in account preferences via the org
    selector. The value defaults to the user's home OU.
    
    Also set a sane default of 10 search results per page in the absence of
    any preference, as the default had been set to 5.
    
    While we're in there, remove some of the inline styles and weird markup
    in the user preference page, and refactor the O:W:EGCatLoader:Account
    module to accept an easily-appended list of preferences to be set.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

11	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
22	36	Open-ILS/src/templates/opac/myopac/prefs_settings.tt2

commit 611b4b1ab4b586a815bb4035bf141438c5939b46
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Dec 27 21:17:02 2011 -0500

    TPAC: Set search_ou context in common loader
    
    By setting the search_ou context in load_common() after checking for a
    valid user session, we can catch the remaining pages in TPAC in which
    the default search library was not being set properly.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit c3583b4788574ad6b940f447b69c303c1c7810f0
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Dec 27 18:36:32 2011 -0500

    TPAC: Resolve conflict with master
    
    The changes for LP909111 ended up causing a conflict with this branch.
    Resolve!
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

0	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit d04e4cea8ffbd0e9e9ab5bb11fa6e4b60c3443c5
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Dec 27 12:31:03 2011 -0500

    TPAC: Uniform search lib / depth settings
    
    The current TPAC code uses logic embedded within the templates to
    determine which org unit and depth to apply to searches.
    
    This commit attempts to standardize the logic within the new
    OpenILS::WWWW::EGCatLoader::Util::_get_search_lib() function and sets
    the result as a new context variable, "search_ou". The org unit is
    determined as follows (first matching condition wins):
    
    * specific CGI "loc" value
    * logged-in user's preferred search library
    * logged-in user's home org unit
    * specific CGI "physical_loc" value
    
    The depth is set as follows (first matching condition wins):
    
    * specific CGI "depth" value
    * depth of the chosen org_unit
    
    As of this commit, a library that wishes to set the a default search
    org unit for any given user should set the "physical_loc" CGI param;
    after the user performs their first search, the "loc" CGI param will
    propagate through most interfaces. When a user clicks "Your account log
    in", the user's preferred search library or home org unit will be set as
    the new search lib.
    
    At any time after that, the user can select a different org unit from
    the org unit selector to explicitly set the "loc" CGI param.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
8	9	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
26	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
1	1	Open-ILS/src/templates/opac/parts/advanced/search.tt2
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit f49146ec6b6c0e54056a911a0f21e2d5c80a38b5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 27 13:45:02 2011 -0500

    TPac: improve search depth extraction
    
    Improves how we determine the depth of a search.  The Order of
    operations:
    
    1. Depth encoded within the search query, e.g. depth(2)
    2. CGI depth param
    3. Default is to match the depth of the searched org unit
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

16	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
7	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 3d358abbf1d069e66476e7edb21d6c43428521db
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 29 19:26:17 2011 -0400

    Reverse Copy Location picker labels via WS Setting
    
    If the setting is set then place the name before the org unit. This allows
    for typing of the start of the name without having to deal with the org
    unit shortname "eating" the start of the label (and thus type-in), but
    preserves the information the org unit provides.
    
    As an example, instead of having to type:
    CONS : St
    To get close to the default "Stacks" in a long list you could just type
    St
    And likely get to, or close to, Stacks.
    
    The option can be toggled from the Workstation Administration menu.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    Conflicts:
    
    	Open-ILS/xul/staff_client/chrome/content/main/menu.js
    	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/xul/staff_client/chrome/content/main/main.js
34	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
3	0	Open-ILS/xul/staff_client/defaults/preferences/prefs.js
10	1	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit 3290c8297054c7e9376f3864e219f25197a543b8
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Dec 23 01:56:02 2011 -0500

    TPAC: Display monograph parts
    
    In search results and record details, display monograph parts if
    associated with a copy. Uses unapi for search results and json_query for
    record details. Only generates the "Part" column in the copy table if
    that record actually has a monograph part; otherwise the column is not
    generated.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

11	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
7	0	Open-ILS/src/templates/opac/parts/misc_util.tt2
14	0	Open-ILS/src/templates/opac/parts/record/copy_table.tt2
17	2	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 91c31e5eb7e1afcca2f020770c89bc3776696b11
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Dec 21 16:51:48 2011 -0500

    SIP2: Fix transit home on checkin
    
    The Checkin doesn't need a destination_loc, but the item needs it set.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Sarah E. Chodrow <sarah.chodrow@bibliotheca-itg.com>

1	2	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/Checkin.pm

commit be003fdfc99174e951e117d30d968919be073fe8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Dec 22 10:13:03 2011 -0500

    SVF in bib record summary: extract attrs on the server
    
    This repairs a FIXME within the custom bib overlay code related to
    parsing metabib.record_attr stores within the JS.  Instead, now we use
    an attr parsing utility function which compiles a regular hash so the
    client no longer needs to parse it.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm
2	8	Open-ILS/xul/staff_client/server/cat/bib_brief_overlay.js

commit 0f7bab7be9b762600b6801dee4e8d7cef3b6b468
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Dec 8 17:48:42 2011 -0500

    support SVF in staff client bib record summary
    
    This is in support of https://bugs.launchpad.net/evergreen/+bug/822928, re: Cat Date
    
    So for example, let's suppose you want to store a "Cat Date" in MARC tag 915, subfield a.
    
    You could do this in the database:
    
    INSERT INTO config.record_attr_definition (name,label,filter,sorter,tag,sf_list)
        VALUES ( 'cat_date', 'Cat Date', 'f', 't', '915', 'd' );
    
    Add this to server/locale/en-US/cat_custom.properties (optional but recommended):
    
    staff.cat.bib_brief.cat_date.label=Cat Date:
    staff.cat.bib_brief.cat_date.accesskey=
    
    And then add something like this to server/skin/custom.js:
    
        try {
    
            netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
            var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces['nsIPrefBranch']);
    
            prefs.setCharPref(
                'oils.bib_brief.horizontal.dynamic_grid_replacement.data',
                js2JSON([
                    ["title",           "edition",  "editor",       "cat_date"],
                    ["author",          "pubdate",  "edit_date",    "holds"],
                    ["bib_call_number", "tcn",      "create_date",  "items"]
                ])
            );
    
            prefs.setCharPref(
                'oils.bib_brief.alternate_copy_summary.dynamic_grid_replacement.data',
                js2JSON([
                    ["title",       "edition",  "editor",       "cat_date"],
                    ["author",      "pubdate",  "edit_date",    "holds"],
                    ["call_number", "tcn",      "create_date",  "items"]
                ])
            );
    
        } catch(E) {
            dump('Error in custom.js trying to set oils.bib_brief.*.dynamic_grid_replacement.data: ' + E + '\n');
        }
    
    Finally, re-ingest any records with tag 915d (you can simply edit the MARC via
    the MARC Editor for a specific record, or if the ingest.reingest.force_on_same_marc
    row in config.internal_flag is enabled and you're not doing this during library
    hours, you can re-ingest all records with UPDATE biblio.record_entry SET marc = marc;)
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm
18	0	Open-ILS/xul/staff_client/server/cat/bib_brief_overlay.js

commit b68d391e7f60162551443d10b99f343039e271ee
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Dec 21 17:13:49 2011 -0500

    Wrap upgrade for "Tag previously circulated items" YAOUS
    
    Also fix a typo ("currenlty") and use the full "circulation" for easier
    translation.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
33	0	Open-ILS/src/sql/Pg/upgrade/0661.data.yaous-opac-tag-circed-items.sql
0	30	Open-ILS/src/sql/Pg/upgrade/XXXX.data.yaous-opac-tag-circed-items.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0661.data.yaous-opac-tag-circed-items.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.yaous-opac-tag-circed-items.sql

commit 69e67ef6482442e2a67cc21359e6d4a44e41c228
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Nov 29 16:54:52 2011 -0500

    TPac; indicate search results previously checked out
    
    When a user is logged in to the tpac and performs a search, indicate in
    the results set when any of the result items were ever checked out by
    the logged in user.
    
    Items will only be tagged when the related org setting is enabled and
    the user has opted-in to circ history tracking.
    
    New org unit setting is "opac.search.tag_circulated_items" /
    "Tag Circulated Items in Results"
    
    In the search results, just below title/author/callnumber/copy-count, a
    new line is displayed that says "I have checked out this item before"
    with a purdy little checkmark.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
38	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
13	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
30	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.yaous-opac-tag-circed-items.sql
7	4	Open-ILS/src/templates/opac/parts/result/table.tt2
9	0	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.yaous-opac-tag-circed-items.sql

commit e981f761f16dcad55276b4df65303ae7ed40df3e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Dec 21 16:19:47 2011 -0500

    TPac: Don't show part selector on hold result page
    
    Instead, duplicate the hold list's "part name in parens" display, when a
    part was selected.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	17	Open-ILS/src/templates/opac/parts/place_hold_result.tt2

commit e1c981fcfc2fa850a90885afd95d8eadff68ae55
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Dec 19 12:57:08 2011 -0500

    TPAC: Change title tooltip in results table to useful message
    
    From dbs's original commit:
    
    The tooltip that would display when hovering over the title of a result
    in the results table was simply the URI-escaped version of the title
    text - not particularly helpful. Change this to say "Display record
    details" as an actual hint about what action will occur when the user
    clicks on a title in the results list.
    
    This modified commit changes the title to 'Display record details for
    "<title>"'
    
    This commit also introduces the HTML plugin as a new
    loaded-by-default template plugin.  Among other things, it's useful for
    ensuring HTML attributes are safely encoded, moresoe than |html, which
    does not escape quotes.
    
    https://bugs.launchpad.net/evergreen/+bug/902979
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	0	Open-ILS/src/templates/opac/parts/header.tt2
2	1	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 34900f4472145967b4f42f1f9971f0fc33403291
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Dec 21 12:58:46 2011 -0500

    TPAC: Split result copy counts into a separate template
    
    As Thomas Berezansky suggests, sites are likely to want to customize the
    display of copy counts depending on whether they're consortial sharers,
    how deep they want to display, whether they want to just show the
    matching search scope... make it easy to customize by moving the
    copy counts portion of the results table into a separate template.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

12	0	Open-ILS/src/templates/opac/parts/result/copy_counts.tt2
1	12	Open-ILS/src/templates/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/result/copy_counts.tt2

commit f286433d9fb2039e7adb174caeb2ce07bbd090ae
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Dec 21 01:06:06 2011 -0500

    TPAC: Improve display of holds/copy counts on record details
    
    Based on some suggestions from Thomas Berezansky in LP 906168:
    
      * Change the "Copies" header to "Available copies"
      * Simplify the copy language to "# copies at <library>" (we still need
        the noun "copies" but "available" has been factored out)
      * Create a "Holds" header and move the holds information under that
      * Put the "Available copies" and "Holds" into inline-block elements
        so that they can take less vertical space on a wide screen but
        will wrap on a narrow screen.
      * Fix the line spacing between LI elements
    
    In addition, break up the lengthy summary TT2 file into a few smaller
    parts. In particular, make a copy_counts.tt2 file as sites are very
    likely to customize this to, in some cases, not show the consortial
    counts, or in other cases to only show the consortial count and current
    search library.
    
    Also fix some horrible CSS issues in the header in which the "Place
    hold" and "Add to list" buttons were above the title / image, as well as
    remove some of the CSS manipulation to plain H2 elements that gave them
    no top margin.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

16	0	Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
117	0	Open-ILS/src/templates/opac/parts/record/copy_table.tt2
46	175	Open-ILS/src/templates/opac/parts/record/summary.tt2
16	10	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/templates/opac/parts/record/copy_counts.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/copy_table.tt2

commit 91a4256e9f2d91f2b93c9348f7c7877af4267627
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Dec 18 23:54:15 2011 -0500

    TPAC: Display additional levels of copy counts
    
    In line with the MassLNC TPAC suggestion, display the copy counts for
    search results and record details not only at the consortial level, but
    also at up to two additional levels of the org unit hierarchy (but no
    deeper than the user has chosen to search).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

6	3	Open-ILS/src/templates/opac/parts/misc_util.tt2
19	3	Open-ILS/src/templates/opac/parts/record/summary.tt2
10	4	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 9451c6d6b7a954eb50e514e73f6e0b22bbc08f77
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Oct 7 16:11:33 2011 -0400

    TPac; display mono part in account holds list/edit
    
    Part label is appended to the title, wrapped in (parens).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

11	13	Open-ILS/src/templates/opac/myopac/holds.tt2
7	2	Open-ILS/src/templates/opac/myopac/holds/edit.tt2

commit 74c15038fe70697c4feca0e0c225d943656a3a70
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 6 14:34:03 2011 -0400

    TPac: holds placement on monographic parts
    
    Ability to place holds on monographic parts.  In the holds placement
    form, if a record has parts, a parts selector will display in the form
    allowing the user to optionally specificy a monographic part for the
    hold.
    
    If a record has no non-part copies, the user is required to select a
    part, because, in such cases, the hold cannot be fulfilled without
    selecting a part.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

94	19	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
17	17	Open-ILS/src/templates/opac/parts/place_hold.tt2
18	0	Open-ILS/src/templates/opac/parts/place_hold_result.tt2

commit cf5da241bad88898d9ed9ced6cc1d89f301ddfd5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Nov 8 10:56:14 2011 -0500

    bookbag CSV gets bib attrs; A/T unapi method
    
    * Added a bib record unapi retrieval utility method for action/trigger
    templates.
    
    * Updated the bookbag CSV template to include data for the "item_type"
    record attribute both to have it and as an example of how the unapi
    retrieval works.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

11	5	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
22	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/ContainerCSV.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
3	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0660.data.bib-container-csv-unapi-template.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0660.data.bib-container-csv-unapi-template.sql

commit 447e0d800963a1e64845adecbc7a09e9fc1a96c4
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Dec 20 16:19:08 2011 -0500

    Add "Last circulation date" field to new rcl view
    
    Some libraries will want the option of filtering out copies which have
    truly never circulated, so offering up the bare "last circulation date"
    field rather than coalescing it with "create date" will give report
    writers the ability to use an IS NOT NULL clause.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

7	4	Open-ILS/examples/fm_IDL.xml

commit 4a2b6049eadf5e42982189bb0c03f485a6056ac2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Sep 6 12:46:04 2011 -0400

    Last Circulation timestamp for reports
    
    Specifically intended for Weeding reports.
    
    Easily swapped out (if needed) to include legacy circ data,
    when available from a migration.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

34	0	Open-ILS/examples/fm_IDL.xml

commit 3827196fc40c620ca17d5ac8c00b8a61d6cb5ada
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Sep 6 11:38:18 2011 -0400

    Hold ratios by pickup library for reports
    
    Specifically intended for "point in time" reports.
    
    In our case, per-library purchase alerts.
    
    Uses Hold Copy Map table to get more accurate numbers for copy/volume/part holds.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

51	0	Open-ILS/examples/fm_IDL.xml

commit a7cf3cf191a6f36fe6cbd9df88f6faeb928d9b06
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Dec 20 11:33:33 2011 -0500

    Escape the backslash to avoid warning in PostgreSQL 9.0-
    
    In PostgreSQL 9.1, "standard_conforming_strings" is ON by default and
    there's no warning - but previous versions of PostgreSQL will see the
    backslash and throw a warning about how you haven't escaped the
    backslash. Thanks to Thomas Berezansky for noticing.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/tests/datasets/concerto.sql

commit f71a2399f60242b868fe6e65e4ea4d6ad5f27378
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 9 12:38:55 2011 -0500

    Add concerto.sql dataset with callnums, copies, and URIs
    
    Useful for testing a fresh Evergreen database, the concerto.sql dataset
    is an SQL file that adds 100 bib records and automatically generates
    assorted call numbers and copies for 3 of the branches. 50 of the
    records include unadorned 856 fields and 25 of them have located URIs
    (25 scoped at SYS1, and 10 scoped at both SYS1 and BR3).
    
    In the effort to make the one-shot load of sample bib / copy / call
    number data broad and realistic, delete some of the entities, add
    prefixes and suffixes to some of the call numbers, and include some
    monograph parts and conjoined items.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

238	0	Open-ILS/tests/datasets/concerto.sql
 create mode 100644 Open-ILS/tests/datasets/concerto.sql

commit aa4b09bbf6c33991f9dcac15a664b3ae1cb90840
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Dec 20 11:42:17 2011 -0500

    Remove top-level templates_custom directory
    
    This top-level directory and version of advanced.tt2 slipped into commit
    c9cdea869b5 and was noticed by Bill Erickson. It should not be here.
    Send it into oblivion.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	41	templates_custom/opac/advanced.tt2
 delete mode 100644 templates_custom/opac/advanced.tt2

commit a04e725a3d98bd242328c0e305a5ac657b2a2e3e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 19 13:13:18 2011 -0500

    Add built staff client dir to .gitignore as well
    
    Thanks to Thomas Berezansky for the suggestion; you can tell what I
    haven't built on my system :)
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	.gitignore

commit c52d64927529736d069ee479cf1cc100c030a59d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 19 12:55:10 2011 -0500

    Add a .gitignore file suitable for master
    
    "git status" is painful in a source directory in which you're built and
    installed Evergreen. This commit adds a .gitignore file that masks most
    of the files and directories that you don't want to even think about, in
    the hopes that the default Evergreen development experience can be mo'
    betta.
    
    Variations on this could be backported to rel_2_1 and rel_2_0 but take
    care as some of the files that used to be source files in older releases
    are now build from *.in files via autoconf.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

191	0	.gitignore
 create mode 100644 .gitignore

commit dcf2493f4ead094c8ded527b120e8ae057a7e5f2
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 19 11:17:12 2011 -0500

    Wrap upgrade script for CREATE_REPORT_TEMPLATE permission
    
    Permissions to create report templates will automatically be added to
    any group that currently has the ability to run reports as part of the
    upgrade process; if you want to make use of the ability to prevent some
    groups from creating ad-hoc reports, remove the CREATE_REPORT_TEMPLATE
    permission from permission.grp_perm_map for that group.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
25	0	Open-ILS/src/sql/Pg/upgrade/0659.add_create_report_perms.sql
0	12	Open-ILS/src/sql/Pg/upgrade/XXXX.report_perms.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0659.add_create_report_perms.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.report_perms.sql

commit 84cc8a18b0b516800915245dbdba87886f04202b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Sep 25 15:00:08 2011 -0400

    Add permission for creating report templates
    
    Because we would like people to be able to run them, but not create them.
    
    Also, allow VIEW_REPORT_OUTPUT in reporter interface, so
    that you can see the contents of shared output folders.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

17	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Reporter.pm
5	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
12	0	Open-ILS/src/sql/Pg/upgrade/XXXX.report_perms.sql
2	2	Open-ILS/web/reports/oils_rpt.js
9	7	Open-ILS/web/reports/oils_rpt_folders.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.report_perms.sql

commit 512400e63a3cb5362545b7ca0cc9729ac628774a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Nov 22 11:55:45 2011 -0500

    Avoid updating deleted call numbers for 2.0 -> 2.1 upgrade
    
    25% of the call numbers on our production system are deleted, so
    filtering out the deleted call numbers from the update in the 2.0 -> 2.1
    upgrade saves a significant amount of time.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql

commit e91a77636450c0449402bee51ae6ef22b8a11ff5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Dec 8 11:26:33 2011 -0500

    Show Suspended holds as Suspended
    
    In the staff client and JSPac show the status of a suspended hold as
    Suspended rather than something like "Waiting for copy".
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
3	1	Open-ILS/web/opac/skin/default/js/myopac.js
1	0	Open-ILS/web/opac/skin/default/xml/myopac/myopac_holds.xml
3	0	Open-ILS/xul/staff_client/server/circ/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit 18eb592b77d1ce42c2e0e32c8a393d9ea7779fba
Author: Jason Stephenson <jason@sigio.com>
Date:   Sat Dec 10 20:28:48 2011 -0500

    Add class_for_hint function to OpenILS::Utils::Fieldmapper.
    
    Use this function to find a Fieldmapper class from the JSON hint or
    class id:
    
    my $class = Fieldmapper::class_for_hint('au');
    print("$class\n");
    
    Will print:
    
    Fieldmapper::actor::user
    
    Signed-off-by: Jason Stephenson <jason@sigio.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/Fieldmapper.pm

commit f18da3a7a00951e80c131be8c8486e8a28bc323d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Dec 15 14:38:54 2011 -0500

    LP904915 Restore call number columns
    
    in Check In interface
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/circ/checkin.js

commit 5729e72def2bf7cc7345d93ef255d28626df0915
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Dec 15 10:28:33 2011 -0500

    turn objects (such as null) into empty strings
    
    when they're being treated as strings (with escape_html) during printing
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit 722e91ea874551fd00856241d3083da23fffd534
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 16 14:00:24 2011 -0500

    LP# 902667 - Wrap upgrade script for Dewey sorting
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
48	0	Open-ILS/src/sql/Pg/upgrade/0658.schema.acn_dewey_sort_fix.sql
0	43	Open-ILS/src/sql/Pg/upgrade/xxxx.dewey-sort-fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0658.schema.acn_dewey_sort_fix.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.dewey-sort-fix.sql

commit a769d4798a3b0500825d1cb3082f73d7e1a2c6b3
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Sat Dec 10 16:49:01 2011 -0800

    Fix Dewey call number sorting
    
    Ported over Koha commit aef8358c - fix for Koha Bug 4265.
    Further documented in Evergreen LP # 902667
    Here's the description from the commit message by Magnus Enger:
    
    C4::ClassSortRoutine::Dewey turns "306 Les" into "306_Les"
    for items.cn_sort and MARC-field 952$6, which results in
    "306.46 Les" being sorted before "306 Les" in the OPAC.
    With this patch, "306 Les" is turned into "306_000000000000000_Les".
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
43	0	Open-ILS/src/sql/Pg/upgrade/xxxx.dewey-sort-fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.dewey-sort-fix.sql

commit 39ef430d3862277bcf0df977ac48985dd7f64f2c
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Dec 1 15:05:12 2011 -0500

    Fix the POD in Cronscript.pm.in.
    
    I lied when I said it includes Data::Dumper, so you don't have to.
    It does include Data::Dumper, but if you want to use Data::Dumper
    in your script, you still have to use Data::Dumper.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	2	Open-ILS/src/perlmods/lib/OpenILS/Utils/Cronscript.pm.in

commit 2727b04df37e4903fa14c4b8368e87b55dc9ba69
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Dec 1 12:38:55 2011 -0500

    Make some improvements to Cronscript.pm.
    
    Allow the session method to function when called more than once with
    different service names.
    
    Add some useful new methods:
    
    logout: Calls open-ils.auth.session.delete if we're logged in.
    
    die_event: Causes a script to croak if the object passed in is an event,
    or optionally a certain named event.
    
    warn_event: Causes a script to output an error message if the object passed
    in is an event, or optionally a certain named event.
    
    Use OpenILS::Application::AppUtils.
    
    Default to staff login in Cronscript->authenticate method.
    
    Improve the Croncript.pm.in POD to include a better synopsis of its features.
    
    Clean up some other sections of the POD, remove the TODO section, and add
    some SEE ALSO entries.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

170	31	Open-ILS/src/perlmods/lib/OpenILS/Utils/Cronscript.pm.in

commit 5f1742e1556d3631fe797ee79137b706d8e1e9ee
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Dec 10 10:43:47 2011 -0500

    TPAC: Assume that templates are encoded in UTF-8
    
    Per http://template-toolkit.org/docs/faq/index.html
    under "Why do I get rubbish for my utf-8 templates?", Template::Toolkit
    does not assume that templates are encoded in UTF-8, which runs counter
    to current assumptions circa 2011.
    
    Practically, this means that before this change any UTF8 characters
    used for purposes such as Unicode art or otherwise would be garbled in
    the generated Web page. This commit tells Template::Toolkit to assume
    that the templates are UTF8 without forcing us to monkey with byte-order
    markers.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit eaba45621b11324ea40b49e60d435c9977428299
Author: bott <bott@grpl.org>
Date:   Wed Dec 14 12:31:30 2011 -0500

    Allow for the page offset when listing the "Result x of y" values.
    
    The record details page did not show the page offset correctly, so
    result 13 would show up as "Result 3 of ###", and result 23 would also
    show up as "Result 3 of ###".
    
    Signed-off-by: bott <bott@grpl.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	0	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 00294ea6d3f4482b502cdc4cb68b7791c4c531a6
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Dec 14 14:30:52 2011 -0500

    Fix can_have_copies checks
    
    Bibs aren't required to have sources. Thus, adjust all appropriate locations
    to support a default state of "no source bibs can have copies", without
    erroring out.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/opac/skin/default/js/rdetail.js
2	2	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
1	1	Open-ILS/xul/staff_client/server/cat/bib_brief.js
6	2	Open-ILS/xul/staff_client/server/cat/copy_browser.js

commit 11c9d08d61d0d8fa9a4d68c42367e398b930e2d5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Dec 14 13:36:05 2011 -0500

    Process still-shelved, canceled holds in clear-shelf process
    
    Holds that are canceled but still physically on the hold shelf are
    processed like other holds during the clear-shelf process.  They will be
    grouped in the same manner and if a custom post-clear status is
    configured, copies linked to already-canceled holds will get the custom
    status.  The only difference is already-canceled holds will not be
    re-canceled during the clear-shelf process.
    
    This change has the added benefit of leveraging another API call to
    retrieve the shelf-expired holds instead of using its own custom
    json-query.
    
    See https://bugs.launchpad.net/evergreen/+bug/904332
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

13	18	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit fb2229781b11f34508713a6cd36162aa85654b93
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 13 14:32:45 2011 -0500

    Clear hold shelf/shelf_expire time for pickup lib change
    
    If a hold is on the holds shelf and the pickup library changes, clear
    the shelf_time and shelf_expire_time, since the hold is now in transit.
    
    This is particularly important for avoiding action_trigger events for
    the "hold_request.shelf_expires_soon" hook for what is now an
    in-transit item.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit b2255089e3f4431c314e7b83a3c851af023443bd
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Dec 6 02:16:16 2011 -0500

    TPAC: Add prefixes and suffixes to call number displays
    
    Call numbers can be associated with prefixes and suffixes meant for
    display purposes; display these with the call numbers in search results
    and record details.
    
    Thanks to Lebbeous and Bill for the assist in sorting out the remaining
    portion of the hairy json_query for the record display.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

18	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
13	0	Open-ILS/src/templates/opac/parts/misc_util.tt2
14	2	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit 5b4b7003d59238ba04d745b21adbb1d8c2005b2f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Oct 11 16:42:03 2011 -0400

    Make canceled but still on the shelf holds show up
    
    Browse Hold Shelf otherwise can't see holds canceled after the item was
    placed on the shelf.
    
    This also causes the expired view to show canceled but still in on the
    hold shelf status holds to show up.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

64	0	Open-ILS/examples/fm_IDL.xml
10	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit a5044ab62aa321b8bcafb346b55d13667e88c1f2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Dec 14 10:34:19 2011 -0500

    Stamping upgrade for LP898248: Address Alert
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
79	0	Open-ILS/src/sql/Pg/upgrade/0657.schema.address-alert.sql
0	79	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.address-alert.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0657.schema.address-alert.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.address-alert.sql

commit 2b106bccd4925eac180e9b1c48cf2d423d4a8aee
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Dec 9 15:52:32 2011 -0500

    Alert addresses for patron registration : UI
    
    Add support for comparing user addresses to alert addresses.  When an
    address is found, the address in question is styled (the header row
    turns red) and the configured alert message is shown along the
    top-right, where other warnings appear.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	0	Open-ILS/src/templates/actor/user/register.tt2
21	0	Open-ILS/web/css/skin/default/register.css
137	40	Open-ILS/web/js/ui/default/actor/user/register.js

commit 0ed92e5fa45fa74a79ffe771b4c618391d39f3b8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Dec 9 15:51:49 2011 -0500

    Alert addresses for patron registration : API
    
    Middle-layer API call for matching addresses to alert addresses
    
    open-ils.actor.address_alert.test(auth, orgid, fields)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

45	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit b57c8a5a5782b085c12291cd43c8a39ce7842849
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Dec 9 10:43:28 2011 -0500

    Alert addresses for patron registration : configuration UI
    
    Conify UI for managing Alert Addresses
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

62	0	Open-ILS/src/templates/conify/global/actor/address_alert.tt2
1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/src/templates/conify/global/actor/address_alert.tt2

commit 3ac16e523cad1cf05704b3e5fcee07504f7674b1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 6 16:09:16 2011 -0500

    Alert addresses for patron registration : DB/IDL
    
    DB and IDL components to support configuration of alert addresses.  The
    target use case for alert addresses is in the patron registration
    interface.  When a patron's address matches an alert address, the staff
    should be notified.
    
    Alert address fields are treated as regular expressions.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

30	0	Open-ILS/examples/fm_IDL.xml
17	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
50	0	Open-ILS/src/sql/Pg/999.functions.global.sql
79	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.address-alert.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.address-alert.sql

commit 6349068fe22ff9431fca5ad9f1adadd6a5d0aea6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 13 11:03:23 2011 -0500

    json_query boolean function param support
    
    Solves the following problem when passing boolean parameter values to
    json_query functions using the 'from' construct.
    
    E.g.  {"from" : ["some_func_name", true]}
    
    oils_sql.c:2568 open-ils.cstore: Error quoting key string [(null)]
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

17	9	Open-ILS/src/c-apps/oils_sql.c

commit 910dd43e3e5edec11f6ebac363dfec42c56a96b4
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 12 00:44:34 2011 -0500

    TPAC: Remove more inline styles from results table
    
    Most of the inline styles are gone from the results table.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

7	18	Open-ILS/src/templates/opac/parts/result/table.tt2
22	4	Open-ILS/web/css/skin/default/opac/style.css

commit fa09b94fc71cb4e7282de057119a9115aa35c84a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 12 00:29:47 2011 -0500

    RPAC: Remove one formatting row from results
    
    One of the table rows was being inserted into every result simply to
    provide a border that is better handled via CSS on the existing useful
    elements. Begone.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	3	Open-ILS/src/templates/opac/parts/result/table.tt2
8	1	Open-ILS/web/css/skin/default/opac/style.css

commit 6faac2b00f86f61eede58b1867b3c5bd11740b5f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 12 00:06:39 2011 -0500

    TPAC: results use floated DIVs instead of table layout
    
    Rather than a table containing a single row for the rather gross purpose
    of placing the facet sidebar on the left, a little bit of a divider
    between the facets and the results, and the results on the right, just
    use a floated div and a relatively positioned div for the two pertinent
    chunks of content. Bonus: one touch of CSS moves the facet sidebar to
    the right instead of the left.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	13	Open-ILS/src/templates/opac/parts/result/table.tt2
7	1	Open-ILS/web/css/skin/default/opac/style.css

commit 43a2d1465e6ae1f8fbd2a8873d602e6b55700f51
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Dec 11 23:37:02 2011 -0500

    TPAC: Record details - inline style to classes
    
    Continue the march towards no inline styles in the record details page.
    Includes a small tweak for electronic resource display so that the
    unordered list gains a bit of space on the left-hand side from the image
    location.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

10	10	Open-ILS/src/templates/opac/parts/record/summary.tt2
1	1	Open-ILS/src/templates/opac/parts/result/table.tt2
42	6	Open-ILS/web/css/skin/default/opac/style.css

commit 92b0d1dd1c96ec8fce51dbed12321a0c4f047f60
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Dec 11 19:51:10 2011 -0500

    TPAC: Include Chilifresh conditionally
    
    Rather than including Chilifresh JavaScript and table cells
    unconditionally, only include the Chilifresh calls if an account has
    been defined in the Apache environment.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	1	Open-ILS/src/templates/opac/parts/base.tt2
2	0	Open-ILS/src/templates/opac/parts/result/table.tt2

commit b5315a444a87b9807aa15bf355699a4640fba63f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Dec 11 17:40:39 2011 -0500

    TPAC: Fix styling in advanced searchbar
    
    Per Peter Lux's comment, we needed to fix the styling in the advanced
    search bar. Marking the DIV id with "search-box" makes it consistent
    with the searchbar in other interfaces.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/advanced.tt2

commit 9548cbd83525e1b5af987e308f60a4e946cba155
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Dec 11 17:39:43 2011 -0500

    TPAC: Fix whitespace in advanced.tt2
    
    Indentation was non-standard following plux's addition of the basic link
    in the advanced search UI; fix that up.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	10	Open-ILS/src/templates/opac/advanced.tt2

commit c9cdea869b574306ca09ada2c5e5058ec540a873
Author: Peter Lux <plux@upei.ca>
Date:   Fri Dec 9 16:12:00 2011 -0500

    TPAC: Link to Basic Search from advanced page
    
    The searchbar in basic search, results, record details offers an option
    to get to advanced search - but advanced search doesn't offer a way to
    get directly back to a basic search. Now it does; however, some CSS is
    required to make it look consistent.
    
    Signed-off-by: Peter Lux <plux@upei.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

11	1	Open-ILS/src/templates/opac/advanced.tt2
41	0	templates_custom/opac/advanced.tt2
 create mode 100644 templates_custom/opac/advanced.tt2

commit 3791aec127f76fe78d83fe508f38c6399cf01bbf
Author: Art Rhyno <artrhyno@uwindsor.ca>
Date:   Fri Dec 9 16:36:28 2011 -0500

    Added CUFTS support in ResolverResolver
    
    This is based on the CUFTS implementation for UPEI. This is
    very closely modeled on the SFX implementation.
    
    opensrf.xml.example has been modified to include a <resolver_type>
    element for ResolverResolver; by default, SFX will be used and this
    shouldn't break anything else. If you use CUFTS rather than SFX, you
    can specify 'cufts'.
    
    Signed-off-by: Art Rhyno <artrhyno@uwindsor.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	1	Open-ILS/examples/opensrf.xml.example
121	0	Open-ILS/src/perlmods/lib/OpenILS/Application/ResolverResolver.pm

commit 9a5af472bd3e5d18ab0530d855c91471ca3aefa0
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 9 15:12:53 2011 -0500

    TPAC: Fix record summary e-resource and copy display
    
    Electronic resources were wrapped with an ugly black line and no
    differentiation from the outstanding text. Give them a light background
    and remove the black line. Also, use an unordered list if we have more
    than one URI to display.
    
    Move the copy summary below the "Copies" heading that immediately
    follows it for a more logical grouping of elements.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

15	8	Open-ILS/src/templates/opac/parts/record/summary.tt2
2	4	Open-ILS/web/css/skin/default/opac/style.css

commit def53e4743953d0ad50f24f52145d8db5da85b58
Author: Chris Sharp <csharp@georgialibraries.org>
Date:   Fri Dec 9 14:02:31 2011 -0500

    Fix typo in comment in Open-ILS/src/extras/Makefile.install.
    
    Signed-off-by: Chris Sharp <csharp@georgialibraries.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

1	1	Open-ILS/src/extras/Makefile.install

commit 02d253017e563241b32227fbc712050f49eb71ce
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Dec 8 15:53:16 2011 -0500

    Update the README for Ubuntu Precise Pangolin (12.04).
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Chris Sharp <csharp@georgialibraries.org>

9	3	README

commit 611d70b069a760378aed841f9db8238916f98c60
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Dec 8 12:10:20 2011 -0500

    Update Open-ILS/src/extras/Makefile.install for Ubuntu 12.04.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Chris Sharp <csharp@georgialibraries.org>

52	6	Open-ILS/src/extras/Makefile.install

commit efb42e224820ac5e7f0ff10336e83173d4831831
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 9 12:05:14 2011 -0500

    TPAC: Remove more explicit widths from results page
    
    Refactor the facet sidebar such that headers consist of a floated span
    and a div with no specific width; absent a specific width, the button
    will float over top of text that might expand due to translation.
    
    Also remove the explicit table cell width for the results counter column
    and move some inline styles over to CSS. More to be done in results
    table but we are on our way.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	5	Open-ILS/src/templates/opac/parts/result/facets.tt2
5	8	Open-ILS/src/templates/opac/parts/result/table.tt2
8	8	Open-ILS/web/css/skin/default/opac/style.css

commit 4659e31a24f2c860ae1a5a1e7dde497650aaa741
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Dec 9 11:09:24 2011 -0500

    TPAC: Use padding instead of explicit width for tabs
    
    Explicit widths work well for a combination of a specific font sizes and
    a known string; however, in the context of translation, strings may get
    longer than the explicit width allows. Using padding gives us more
    flexibility to accommodate different font sizes and variable length
    strings; the uniformity of the tab size will be sacrificed but perhaps
    that is not such a bad thing.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/css/skin/default/opac/style.css

commit 6ebb789434cb554ce1036d92a4dded3ecf23b989
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Nov 16 15:19:18 2011 -0500

    Serials: be less eager to offer season dropdown in holding code mini-wizard
    
    The recent commit (ebce79a288b in master) to make the holding code
    mini-wizard offer a dropdown for season offers it too often, sometimes
    in completely inappropriate cases.
    
    This commit gets it right, and incidentally fixes two totally broken
    links elsewhere in alternate serials control view interfaces.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

3	3	Open-ILS/web/js/dojo/openils/widget/HoldingCode.js
1	1	Open-ILS/web/js/ui/default/serial/list_item.js
1	1	Open-ILS/web/js/ui/default/serial/list_stream.js

commit 4922474d703b12021d755957afcffa6c75dbe28e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 1 23:01:24 2011 -0500

    Propagate search scope through advanced search interfaces
    
    If a user had a chosen search scope (via the CGI "loc" parameter), it
    would be lost when switching to the advanced search interfaces. Now we
    progagate the search scope through the advanced search interfaces.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	5	Open-ILS/src/templates/opac/advanced.tt2
2	0	Open-ILS/src/templates/opac/parts/advanced/expert.tt2
1	0	Open-ILS/src/templates/opac/parts/advanced/numeric.tt2
1	1	Open-ILS/src/templates/opac/parts/advanced/search.tt2

commit 0b0c9a8e0fef7dbac99fe460cfe004d0d47caf03
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Dec 6 09:56:55 2011 -0500

    Stamping upgrade for LP893315: filter_deleted_acns_from_unapi
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
97	0	Open-ILS/src/sql/Pg/upgrade/0656.LP893315_schema.function.filter_deleted_acns_from_unapi.holdings_xml.sql
0	97	Open-ILS/src/sql/Pg/upgrade/XXXX.LP893315_schema.function.filter_deleted_acns_from_unapi.holdings_xml.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0656.LP893315_schema.function.filter_deleted_acns_from_unapi.holdings_xml.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.LP893315_schema.function.filter_deleted_acns_from_unapi.holdings_xml.sql

commit 47a16f516d5bf3cdd3d22b14821b7500e092465a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Nov 25 13:20:32 2011 -0500

    LP893315: Do not return delected call numbers in holdings_xml
    
    Per LP893315, deleted call numbers were obscuring the actual active URIs
    associated with a given bib record in a given scope at the default limit
    of 5 results per record in unapi.holdings_xml.
    
    Filtering out the deleted call numbers from the results seems like a
    good idea, as we're generally interested in only showing the active
    results (at least as in-db unapi is currently used). This also addresses
    the problem of not showing active URIs when there are active URIs to
    display.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/sql/Pg/990.schema.unapi.sql
97	0	Open-ILS/src/sql/Pg/upgrade/XXXX.LP893315_schema.function.filter_deleted_acns_from_unapi.holdings_xml.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.LP893315_schema.function.filter_deleted_acns_from_unapi.holdings_xml.sql

commit 27e32d09248a684e6291dd0aca5af4408271a352
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Dec 5 11:44:41 2011 -0500

    Code comments and tweaks for lost processing
    
    This commit is intended to do the following:
    
    * Fix case where MISSING status is not retained for items
      being sent 'home' (as it was in previous versions)
    * Be more explicit about when we unset the LOST status and when
      we do not in checkin_handle_lost()
    * Prevent update of the copy in checkin_handle_lost() unless we
      actually change the status
    * Restore log messages for special handling of LOST/MISSING
      checkins away from 'home'
    * Provide additional code comments to clarify intended behavior
    
    Note: Given the current restructure, MISSING item behavior is no
    longer affected by 'lost_immediately_available' setting.  That
    seemed more bug than feature, and can be implemented later
    (perhaps as a separate setting) if required.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

27	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit acc0939f9879b02d3f55321eb8efccc4a35e9fad
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Nov 29 09:22:29 2011 -0500

    Check OILS_SETTING_LOST_IMMEDIATELY_AVAILABLE in checkin_handle_lost.
    
    Check the value of OILS_SETTING_LOST_IMMEDIATELY_AVAILABLE before
    changing the copy status in checkin_handle_lost. This makes the setting
    actually do something.
    
    Add a couple of blank lines to aid in readability.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 787c445239a4457761e8ce52ecb8a136e1e2a892
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Nov 17 15:15:09 2011 -0500

    Fix LP851000.
    
    Remove about 14 lines from OpenILS/Application/Circ/Circulate.pm
    in the checkin_handle_circ subroutine that check whether or not
    the checkin happens at the copy's circ_lib and the value of the
    circ.lost_immediately_available org unit setting.
    
    This change causes the handle_lost subroutine to run regardless of
    where the checkin takes place for a more consistent experience.
    
    Whether or not billings are voided, overdues restored, etc. is still
    determined by the copy's circ_lib.
    
    Given how the hold targeter and transit code works, it does not appear
    the the circ.lost_immediately_available setting could ever do what it
    was intended to do. Given these changes to the code it is now unnecessary.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	15	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit d71b923ea0f7d16b19bb7e98176609726867b98a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Nov 25 12:30:24 2011 -0500

    TPAC: Protect against missing 901c in legacy MARCXML
    
    Bad MARCXML to which Evergreen has been unable to add a 901c happens -
    particularly with legacy MARCXML. Currently, TPAC crashes hard with an
    ugly error if a 901c is not found when attempting to display the record
    in search results. In comparison, the JSPAC displays the record without
    a problem.
    
    This commit logs a warning and enables the TPAC to continue somewhat
    gracefully (the problem record is simply skipped in the search results).
    A more robust solution may be to teach unapi.bre to add the record ID to
    the results and to have the TPAC pull from that, rather than relying on
    the MARCXML itself to contain the record ID.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit c4e56c4c40c6a69887834a2fd5d7d099c9987097
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Dec 5 13:32:23 2011 -0500

    Add versioned upgrade script for "Bib source: can have copies"
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
15	0	Open-ILS/src/sql/Pg/upgrade/0655.config.bib_source.can_have_copies.sql
0	2	Open-ILS/src/sql/Pg/upgrade/XXXX.config.bib_source.can_have_copies.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0655.config.bib_source.can_have_copies.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.config.bib_source.can_have_copies.sql

commit 86e08c1b4b92b44f5531f3fc8804c3cbece84723
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Nov 15 19:31:12 2011 -0500

    Refactor retrieval of cbs object into cat.util.get_cbs_for_bre_id().
    
    Avoid code duplication.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	14	Open-ILS/xul/staff_client/server/cat/bib_brief.js
2	11	Open-ILS/xul/staff_client/server/cat/copy_browser.js
18	1	Open-ILS/xul/staff_client/server/cat/util.js

commit 55258cb47a8fcd52bea496918bbfe7a2214a3bb6
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Oct 4 16:54:32 2011 -0400

    Add can have copies check to the Add MFHD Record link in rdetail.
    
    This prevents the button from the JSPAC from being able to add MFHD
    records to the affected bib record.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	1	Open-ILS/web/js/dojo/openils/opac/nls/opac.js
1	0	Open-ILS/web/opac/common/js/config.js
13	3	Open-ILS/web/opac/skin/default/js/rdetail.js

commit a99b57ae6d48977bd0bacd230f740d635177b433
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Oct 4 10:29:23 2011 -0400

    Modify copy browser to check for bib_source.can_have_copies.
    
    Add code to server/cat/copy_browser.js.
    Add error string to server/local/en-US/cat.properties.
    Swap obj. for g. that was copied from opac.js.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

35	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit a835939bcff6eb25df489488105c5c64704bf69a
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Oct 3 20:09:37 2011 -0400

    Modify server/cat/bib_brief.js to check for source can have volumes.
    
    Copy/paste code from chrome/content/cat/opac.js.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

25	0	Open-ILS/xul/staff_client/server/cat/bib_brief.js

commit 741e1869ddc7d62207cd242e02afd88bb32c2f76
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Sat Oct 1 12:02:16 2011 -0400

    Check for bib_source.can_have_copies in cataloging.
    
    Retrieve the BRE and CBS object in the add_volumes method of
    opac.js.
    
    Check if the CBS can have copies, and if not, tell the user such
    and return.
    
    Also required adding an api entry in constants.js and a new message
    in offline.properties.
    
    This is the beginning of the client code changes. There are very
    likely to be more.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

52	0	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
1	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.xul
1	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties

commit da556c7f5fedf03ed1d6e84050033c237b774b1c
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Fri Sep 30 11:28:08 2011 -0400

    Add can_have_copies field to config.bib_source.
    
    Add the column definition to config.bib_source in
    002.schema.config.sql.
    
    Insert TRUE into the column for the default sources created in
    950.data.seed-values.sql.
    
    Add the field definition to class id cbs in fm_IDL.xml.
    
    Teach OpenILS/Application/Storage/CDBI/config.pm about new field.
    
    Add upgrade script for config.bib_source.can_have_copies.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/config.pm
5	2	Open-ILS/src/sql/Pg/002.schema.config.sql
6	6	Open-ILS/src/sql/Pg/950.data.seed-values.sql
2	0	Open-ILS/src/sql/Pg/upgrade/XXXX.config.bib_source.can_have_copies.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.config.bib_source.can_have_copies.sql

commit 27d6d7a7c05ca944de70f1f033c9333c3ed5128e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Dec 1 23:06:50 2011 -0500

    LP881774: Missing schema on function in 2.0-2.1 upgrade
    
    Although the search path is altered to include the evergreen schema at
    the start of the upgrade, one of the functions in the evergreen schema
    does not resolve when invoked without the explicit schema later in the
    upgrade script. We address that superficial (but failure provoking / time
    wasting) problem by qualifying the function with the evergreen schema in
    this commit, but we should also find out why the altered search path
    does not seem to be functioning in the upgrade script.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql

commit e0a936729ada587e33ab3a701901c3d0a1ed3acb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Dec 1 16:02:29 2011 -0500

    pin a version number for the patron card editor upgrade script
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
11	0	Open-ILS/src/sql/Pg/upgrade/0654.patron_card_editor.sql
0	6	Open-ILS/src/sql/Pg/upgrade/XXXX.patron_card_editor.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0654.patron_card_editor.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.patron_card_editor.sql

commit 73944dd4501b982a17f5f7a54474b6e2e8d01ee8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Nov 1 14:00:46 2011 -0400

    When editing cards, lock tab on apply changes
    
    Hopefully to prevent people from moving away before saving.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

7	0	Open-ILS/web/js/ui/default/actor/user/register.js

commit 176890efb3162fa488fc4cfbfc9cc23fc350c976
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Nov 1 10:11:24 2011 -0400

    Seed values/upgrade script for card edit perms
    
    Not assigned to anyone by default.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

5	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
6	0	Open-ILS/src/sql/Pg/upgrade/XXXX.patron_card_editor.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.patron_card_editor.sql

commit 76a9ebb18fb60bc6b1f041f11009f9dab947058c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Nov 1 10:01:43 2011 -0400

    Check Profile Editing Perms for Card Editor
    
    Don't allow Active/Primary card changes unless you have the ability to edit
    the patron's primary profile group.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/web/js/ui/default/actor/user/register.js

commit 8d0168013b8281c3e10ecbc78c4b45fdf92760f9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Nov 1 09:18:47 2011 -0400

    Active/Primary Editing for Patron Cards
    
    Changes "See All" into an editing interface, allowing for changing of the
    active and primary state of each card.
    
    Each requires a specific permission:
    
    UPDATE_PATRON_ACTIVE_CARD
    UPDATE_PATRON_PRIMARY_CARD
    
    Without the appropriate permission the interface will show the green check
    or red x instead of the editing elements. If you don't have either
    permission then the Apply Changes button is hidden.
    
    As the editing interface exists, also show the "See All" button when there
    is only one card, but not when registering a new patron. This allows for
    toggling the lone card's active flag, as well as replacing a card but
    leaving the old one active.
    
    To ensure that you can do the above, and to avoid some other errors, the
    new card on a patron is saved to the editCard variable, rather than using
    patron.card(). This both allows for "Replacing" a new non-primary card into
    place as well as avoiding issues with editing the primary and active states
    at the same time (the interface would try and update the new primary card
    with the old primary card's barcode). Also, when checking for duplicate
    barcodes, update the editCard with the barcode so the See All interface can
    show the new card's barcode in the list properly.
    
    Finally, included is localization for the All Cards interface headers and
    buttons.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

7	4	Open-ILS/src/templates/actor/user/register.tt2
1	1	Open-ILS/src/templates/actor/user/register_table.tt2
6	1	Open-ILS/web/js/dojo/openils/actor/nls/register.js
90	11	Open-ILS/web/js/ui/default/actor/user/register.js

commit 7ab686868965f22323a330f119be950c0db7bd76
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Nov 16 09:48:11 2011 -0500

    Tpac: ability to edit name, description of bookbags later
    
    You could already name and describe when creating them, and now you can
    edit that later.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

28	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
41	8	Open-ILS/src/templates/opac/myopac/lists.tt2
7	0	Open-ILS/web/css/skin/default/opac/style.css

commit 6db17fe4e94531abd3253b8300d36ded05b5837d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Nov 25 15:46:58 2011 -0500

    LP896405: Address SQL upgrade issues getting to 2.2-alpha1
    
    Martha Driscoll tried out the 2.2-alpha1 upgrade script and found a few
    problems noted in this thread:
    http://list.georgialibraries.org/pipermail/open-ils-dev/2011-November/007747.html
    
    "upgrade_log" does not exist
    > LINE 1: INSERT INTO config.upgrade_log (version, applied_to) VALUES .
    
    This fails because the "applied_to" column does not exist at this point
    in the schema upgrade. Just remove the "applied_to" column from the
    INSERT statement.
    
    This will probably fail because most sites won't have applied 0526 to
    their production server, so move the statements outside of the
    transaction.
    
    Also, in my own testing I ran into:
    
    public / evergreen function namespace issues we tried to address back in
    the 2.0(?) timeframe. New sites will have the is_json() function in the
    evergreen namespace, while old sites will have it in public, so we do
    _not_ qualify the function name and just let the searchpath handle the
    resolution.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	3	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql

commit ffe01e475e63623e945b066828a170a335ccb8ca
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Nov 25 14:46:37 2011 -0500

    Start collecting version-upgrade scripts in one spot
    
    Rename the upgrade scripts missing "-upgrade-db" in their name
    
    Add the 2.0.* upgrade scripts to version-upgrade
    
    Discard the really old upgrade scripts that don't necessarily match what
    was actually packaged and released.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	719	Open-ILS/src/sql/Pg/1.2.1-1.2.2-upgrade-db.sql
0	44	Open-ILS/src/sql/Pg/1.2.2.0-1.2.2.1-upgrade-db.sql
0	58	Open-ILS/src/sql/Pg/1.2.2.1-1.2.2.2-upgrade-db.sql
0	64	Open-ILS/src/sql/Pg/1.2.2.2-1.2.2.3-upgrade-db.sql
0	522	Open-ILS/src/sql/Pg/1.2.2.3-1.2.3.0-upgrade.sql
0	5735	Open-ILS/src/sql/Pg/1.2.4-1.4-upgrade-db.sql
0	100	Open-ILS/src/sql/Pg/1.4-shadow_full_rec-upgrade-db.sql
0	7506	Open-ILS/src/sql/Pg/1.4.0.5-1.6.0.0-upgrade-db.sql
0	19597	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql
0	6031	Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql
0	164	Open-ILS/src/sql/Pg/2.0.3-2.0.4-upgrade-db.sql
19597	0	Open-ILS/src/sql/Pg/version-upgrade/1.6.1-2.0-upgrade-db.sql
8920	0	Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql
340	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.0-2.0.1-upgrade-db.sql
445	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.1-2.0.2-upgrade-db.sql
232	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.2-2.0.3-upgrade-db.sql
175	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.3-2.0.4-upgrade-db.sql
99	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.4-2.0.5-upgrade-db.sql
972	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.5-2.0.6-upgrade-db.sql
949	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.6-2.0.7-upgrade-db.sql
637	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.7-2.0.8-upgrade-db.sql
249	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.8-2.0.9-upgrade-db.sql
14	0	Open-ILS/src/sql/Pg/version-upgrade/2.0.9-2.0.10-upgrade-db.sql
6473	0	Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
951	0	Open-ILS/src/sql/Pg/version-upgrade/2.1.0-2.1.1-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.2.1-1.2.2-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.2.2.0-1.2.2.1-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.2.2.1-1.2.2.2-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.2.2.2-1.2.2.3-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.2.2.3-1.2.3.0-upgrade.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.2.4-1.4-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.4-shadow_full_rec-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.4.0.5-1.6.0.0-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/2.0.3-2.0.4-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/1.6.1-2.0-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0-2.1-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.0-2.0.1-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.1-2.0.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.2-2.0.3-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.3-2.0.4-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.4-2.0.5-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.5-2.0.6-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.6-2.0.7-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.7-2.0.8-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.8-2.0.9-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.0.9-2.0.10-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.1-2.2-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/version-upgrade/2.1.0-2.1.1-upgrade-db.sql

commit c1202c1492a210ea51610a164d938faef4a4d28c
Author: Ben Shum <bshum@biblio.org>
Date:   Wed Nov 23 15:14:32 2011 -0500

    Fix for LP894125 - reshelving interval
    
    Update to reshelving code to utilize actor.org_unit_ancestor_setting function
    and properly retrieve org settings for "circ.reshelving_complete.interval" for
    org unit or ancestors.
    
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

2	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 235e56f010d08625c305e59f7df8413139c7c277
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Nov 22 13:33:07 2011 -0500

    Enable record summary to be scrollable at larger font sizes
    
    The record summary at the top of the cataloguing interfaces appears to
    determine its size based on the "normal" font size at load; then, when a
    larger font size is applied to the page, the text gets hidden by the
    fixed size of the groupbox.  Ideally the groupbox would adjust to
    accomodate the larger font size, but after trying many different
    approaches the best short-term approach seems to be to enable overflow
    so that scrollbars can appear when necessary.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/bib_brief.xul

commit 04d57bca29380bfd648d38c28f5071f64118d293
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Nov 21 13:47:30 2011 -0500

    Limit display to 856 with ind1 = 4 and ind2 = 0 or 1.
    
    Minor modification to Open-ILS/src/templates/opac/parts/
    misc_util.tt2 that limits the display of 856 urls to that have
    indicator 1 equal to 4 and indicator 2 equal to 0 or 1. These should
    be those that point directly to the resource.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/misc_util.tt2

commit 209b870d5edf0981cdc78d06ee480c51318b9614
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Oct 3 16:31:45 2011 -0400

    TPac: show non-asset.uri 856 URLs on detail page
    
    Display "global" 856 URLs in record detail page.  A "global" URL in this
    case is one that has no ownership and has not been extracted out as an
    asset.uri.  As of right now, this is any 856 that has no $9, $w, or $n
    subfield data.
    
    Links are displayed directly after asset.uri links using the same style.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

20	0	Open-ILS/src/templates/opac/parts/misc_util.tt2
1	1	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit 910e31cfa9e5cf79a5938c8d41316444af7098a0
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Nov 21 12:41:03 2011 -0500

    Avoid redundant install_cpan_force dependencies
    
    The "install" target and each of the generic distro targets in
    Makefile.install included install_cpan_force; make the "install" target
    more useful by factoring out the install_libdbi dependency so that
    "install" is truly common again (and we only add the install_cpan_force
    dependency once).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	5	Open-ILS/src/extras/Makefile.install

commit 5536bd52ecea4d13c82c1bd5a4eb86a83c78f34d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Nov 21 12:38:56 2011 -0500

    Add install_yaz dependency to debian and ubuntu Makefile.install
    
    To build SimpleServer 1.15 we need a version of yaz 4.2+, so add
    install_yaz as a dependency for debian and ubuntu. This should have been
    added in LP 872284 but was overlooked due to local testing and didn't
    get any further testing before being committed.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/extras/Makefile.install

commit 5ee9fd8bdd36c6c52896adfb8d18f9b843b4ad3d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Nov 18 11:15:04 2011 -0500

    bump xulrunner version
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/Makefile.am

commit 7adc27d5e8db4c3c16c0da5a553dd409cf196620
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Nov 17 16:13:02 2011 -0500

    Switch to new Google Books API; make SSL friendly
    
    As implied in the title, this commit does two things.  First, it
    switches to the new Google Books API (which is both imminent and
    also necessary to make SSL calls work).  Though the information is
    scant, from what I have read and experienced, we do not need an
    API key to do searches and previews.  I have also not hit any kind
    of unauthenticated limit in several days of heavy testing, so I
    would figure we are safe (at this point) for normal end-user OPAC
    browsing.
    
    Second, all Google Book requests are now done over https.  This
    eliminates the majority of mixed content warnings when browsing
    securely, though you still get a warning when you actually do
    preview a book.
    
    In addition to possibly implementing protocol detection (rather
    than doing https all the time as a "lowest" common denominator),
    there are a few minor points where we might consider future changes.
    Those points are commented within the code.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	10	Open-ILS/web/opac/skin/default/js/rdetail.js
33	7	Open-ILS/web/opac/skin/default/js/result_common.js

commit 1934d49521b7e10daa8094757d8fe33e28dc15d4
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Nov 17 14:46:41 2011 -0500

    Stamp upgrade scripts for both unapi update and vandelay-to-bucket
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0652.data.vandelay-queue-bib-bucket-type.sql
167	0	Open-ILS/src/sql/Pg/upgrade/0653.schema.unapi-indb-optional-org.sql
0	13	Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-queue-bib-bucket-type.sql
0	167	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi-indb-optional-org.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0652.data.vandelay-queue-bib-bucket-type.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0653.schema.unapi-indb-optional-org.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-queue-bib-bucket-type.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi-indb-optional-org.sql

commit 28671a277e9683ab5c72afcaab8c330d6d3b3e47
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Nov 8 15:13:53 2011 -0500

    Default to org tree root for bre unapi funcs
    
    If the org unit ("site") parameter to unapi.biblio_record_entry_feed()
    or unapi.bre() is equal to "-" or NULL, default to the root of the org
    unit tree.  In cases where the caller does not care to limit by site,
    determing the shortname of the root org node is one less step the client
    now has to take.
    
    Original patch from Mike Rylander.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

13	4	Open-ILS/src/sql/Pg/990.schema.unapi.sql
167	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi-indb-optional-org.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unapi-indb-optional-org.sql

commit ad07dc3faddeca280969bf6825a6947e27419b96
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Oct 31 17:33:23 2011 -0400

    Vandelay; copy imported bib queue recs to bucket
    
    Adds a "Copy to Bucket" option within the Vandelay queue interface.
    User is given the option to name the bucket.  If the bucket already
    exists, the records are added to the existing bucket.  Otherwise, a new
    bucket is created and the records are added.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	1	Open-ILS/src/templates/vandelay/inc/queue.tt2
3	0	Open-ILS/web/css/skin/default.css
5	0	Open-ILS/web/js/dojo/openils/vandelay/nls/vandelay.js
47	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
 create mode 100644 Open-ILS/web/js/dojo/openils/vandelay/nls/vandelay.js

commit aed4b69715f34188a9c906d72345632d41283415
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Oct 31 14:56:48 2011 -0400

    Vandelay; API for creating buckets from queues
    
    * Adds a new biblio record entry bucket type of "vandelay_queue"
    * Adds a new API call that allows callers to create new buckets (or add
    to existing buckets), copying imported records from a vandelay queue
    into the bucket.
    
    open-ils.vandelay.bib_queue.to_bucket
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

97	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
7	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
13	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-queue-bib-bucket-type.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-queue-bib-bucket-type.sql

commit 472c7e7669e21cc8cc08b14b00e768e420d1151c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 16 11:50:57 2011 -0500

    Repair errant explode_array in upgrade script.
    
    The upgrade script 0562.schema.copy_active_date.sql included 2 calls to
    explode_array after explode_array had been removed from the baseline
    schema.  This upgrade just copies the contents of the
    action.hold_request_permit_test function from the baseline schema to
    repair the function for anyone following the upgrade scripts.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
201	0	Open-ILS/src/sql/Pg/upgrade/0651.schema.unnest-hold-permit-upgrade-script-repair.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0651.schema.unnest-hold-permit-upgrade-script-repair.sql

commit 3b4dc8585d5a6f5f4b77f2868f02acfb035f321f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Nov 16 12:00:48 2011 -0500

    Stamping upgrade script for copy visibility vs peer-bibs fix
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
219	0	Open-ILS/src/sql/Pg/upgrade/0650.function.copy_visibility_vs_peer_bibs.sql
0	207	Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0650.function.copy_visibility_vs_peer_bibs.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql

commit cda0eaa622a6d8524cdfca19ce925dc382f6bea2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Oct 24 10:36:39 2011 -0400

    Distinct cache_copy_visibility copy/record
    
    Because if you peer bib a copy to the bib it is on things don't like you.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/999.functions.global.sql
207	0	Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql

commit d0572fee8bcf0427901341ba7e9cd24db7162481
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Oct 18 15:10:07 2011 -0400

    Obey renewal rules for SIP2 Checkout
    
    If local policy OR the selfcheck are set to not do renewals than don't
    attempt them.
    
    Also, return whether a renewal was attempted (success or failure) so that
    the self check on the other end has a better clue what went on.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

15	4	Open-ILS/src/perlmods/lib/OpenILS/SIP.pm

commit 02211d5c48e703e691564c69b6ef42a98f5e15b6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Sep 26 12:06:07 2011 -0400

    Improvement for telephony: just-in-time event revalidation
    
    One of the shortcomings with using the Action/Trigger based telephony in
    Evergreen until now was that while you might have overdue notices
    generated and sent to a system where Asterisk runs for later calling,
    but if the notice was generated on a Saturday night, and you have Asterisk
    set up not to place any calls again until Monday morning, Asterisk has
    no way of revalidating that call at the last minute.  That is, the
    system could not determine whether the items that were overdue on
    Saturday night are still overdue on Monday morning, and whether the call
    should still be made.
    
    Now we have a workable solution to that.
    
    The eg-pbx-allocator.pl script, which takes call files for Asterisk from
    a "staging" directory and slowly drips them onto Asterisk's spool can
    now consult an open-ils.justintime which in turn asks open-ils.trigger
    whether given events, enumerated within the call files themselves, are
    still valid.
    
    open-ils.trigger is designed to run as a private service, so that's why
    we need a public service that doesn't do anything too sensitive.
    
    This open-ils.justintime service can potentially be extended to offer other
    just-in-time information to the allocator right before a call goes onto
    Asterisk's spool. For example, that might be a good time to check the time
    of day and make a late decision on which phone number to use for a given
    user (day_phone, evening_phone, other_phone).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

22	0	Open-ILS/examples/opensrf.xml.example
114	13	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-allocator.pl
1	0	Open-ILS/src/asterisk/pbx-daemon/eg-pbx-daemon.conf
33	0	Open-ILS/src/perlmods/lib/OpenILS/Application/JustInTime.pm
34	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger.pm
26	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Event.pm
19	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/EventGroup.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/JustInTime.pm

commit b10df430e2afc97012bb4749b2b05226876db2db
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Nov 15 16:22:08 2011 -0500

    Stamped upgrade for full circ count view fix
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
21	0	Open-ILS/src/sql/Pg/upgrade/0649.schema.fix_full_circ_count_view.sql
0	7	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.fix_full_circ_count_view.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0649.schema.fix_full_circ_count_view.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.fix_full_circ_count_view.sql

commit dbbb3a30c5f3fdfbd7f423e399d0e3707f4ae515
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 29 10:44:26 2011 -0400

    Use DISTINCT in counts to avoid dupes
    
    Otherwise you get:
    Legacy count + 2(normal count)(aged count)
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/extend-reporter.sql
1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.fix_full_circ_count_view.sql

commit e6a0371eee20b373d2f09d27f0b44e712d481991
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Sep 29 09:23:49 2011 -0400

    Full Circ Count View Amplifies Legacy Circs
    
    The current extend_reported.full_circ_count sums the legacy circ count
    column, but this results in amplifying the count by the number of current
    circs in the system.  This commit adds the legacy count to the GROUP BY
    instead of summing it.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/sql/Pg/extend-reporter.sql
7	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.fix_full_circ_count_view.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.fix_full_circ_count_view.sql

commit 91201d1923a7498b95ab0adb7540a00636e413c3
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Nov 15 11:08:00 2011 -0500

    Skip shelved holds at checkout auto-fill
    
    Already happened for volume/title hold, but target map checking wasn't
    checking to see if the current copy was shelved.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 20f9733c135ddff42242ee66df9abc4eb3532e9b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Oct 16 15:48:38 2011 -0400

    Net::Z3950::SimpleServer 1.15 should not require sedding
    
    Checking both versions of the packages listed on ftp.indexdata.dk, the
    hardcoded path to yaz-config does not exist in Makefile.PL - thus, we
    should be able to drop the "sed" instruction for 1.15.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	1	Open-ILS/src/extras/Makefile.install

commit 987be97fe33add57240b6b85588d9fa45b1f48e0
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Oct 16 11:40:59 2011 -0400

    Install yaz-4.2 and Net::Z3950::Simpleserver 1.15
    
    Net::Z3950::Simpleserver 1.14+ requires yaz 4.2.x, as well as currently
    suffering from a Makefile.PL problem that involves a hard-coded path to
    yaz-config (https://rt.cpan.org/Public/Bug/Display.html?id=70444).
    Provide a sed command to resolve the latter problem and upgrade our
    "current version of yaz" to yaz 4.2.x.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	4	Open-ILS/src/extras/Makefile.install

commit c0d38352beda1142d7f1bcff5c6e5bd78ce24093
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Sep 28 16:50:03 2011 -0400

    Fix a problem in the clear holds shelf list printer
    
    This is a "special" interface that you get to via Admin -> For
    Developers -> Local Administration in the staff client.
    
    The addition features to one "side" of this hackish interface of label affix
    and parts had caused breakage on the other "side."  This fixes that.
    
    Also improve document printing, making it less likely the progress
    dialog itself gets printed.
    
    One day this will be replaced with something better.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
2	1	Open-ILS/web/opac/extras/circ/alt_holds_print.html
9	4	Open-ILS/web/opac/extras/circ/alt_holds_print.js

commit 50600776185d1e083d80eaa93a924a96ee9ae8d2
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Nov 15 15:45:02 2011 -0500

    Stamped upgrade for asset.merge_record_assets fix
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
263	0	Open-ILS/src/sql/Pg/upgrade/0648.function.merge_record_assets_meets_acq.sql
0	252	Open-ILS/src/sql/Pg/upgrade/XXXX.function.merge_record_assets_meets_acq.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0648.function.merge_record_assets_meets_acq.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.function.merge_record_assets_meets_acq.sql

commit 9585b14186e8b66d629b083ae41baaa8f541f976
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Sep 13 12:22:58 2011 -0400

    LP#849143 fix some gaps in bib record merging
    
    Tweaks asset.merge_record_assets such that it considers acquisition line items and user requests, serial subscriptions, booking resource types, biblio monograph parts, and biblio peer bib copy maps. I'm not handling vandelay.queued_record.imported_as or any other vandelay tables, but we may wish to do that too. We're also leaving acq.acq_lineitem_history alone.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

101	0	Open-ILS/src/sql/Pg/999.functions.global.sql
252	0	Open-ILS/src/sql/Pg/upgrade/XXXX.function.merge_record_assets_meets_acq.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.function.merge_record_assets_meets_acq.sql

commit 9dd5b420ff5ffa3fe775a07c904d16b1a8fbfd40
Author: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
Date:   Tue Nov 1 15:59:13 2011 -0400

    Aligned the MARC editor subfields to 'start' fixes long subfield display
    
    When viewing a record in the MARC editor that has extremely long
    entries in a subfield, the output would align in the center of the
    subfield making the output hard to read.  This patch adds an
    align: 'start' option to both the subfield, and the subfield code
    elements in the marcSubfield function to make the subfields align in a
     more readable manner.
    Signed-off-by: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 98d4fd4946c7d534a4287624520a6938bbd22fa0
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 23 17:45:39 2011 -0400

    Acq: (un)receive w/o assets should not attempt a copy update
    
    When receiveing a lineitem for a PO that was activated without assets,
    avoid any attempts to update said non-existent assets.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

16	12	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 5a0beda6173e6d7715ed3f454e787297d96d29d2
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Sep 13 08:48:52 2011 -0400

    LP#848945 - Hide Empty Libs checkbox
    
    The "Show Libraries With Items" button in Holdings Maintenance shows all the
    libs with items regardless of the library/depth filters. One problem is that
    when the list refreshes (whenever an item/volume is edited, deleted, or added),
    staff using this feature have to re-press the button, which can take a while for
    some bibs. This branch removes this button and replaces it with a "sticky"
    checkbox labelled "Hide Empty Libs".
    
    This allows you to do almost the same thing; you can set the context library to
    Consortium and the depth filter to the lowest depth, which would normally show
    all libs, but then use the checkbox to prune out the ones that have no children
    and no volumes(*). One possible use case that we'd lose is the ability to show a
    specific set of libs that don't already have volumes in addition to all the libs
    that do.
    
    * - Also, the test for whether to hide an org or not is very simplistic, but
    easy to implement. A more aggressive test would hide a library and all its
    descendants if none of the descendants have volumes.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	2	Open-ILS/web/opac/locale/en-US/lang.dtd
50	7	Open-ILS/xul/staff_client/server/cat/copy_browser.js
2	1	Open-ILS/xul/staff_client/server/cat/copy_browser.xul

commit a56df6fc6a4146c104e069a3c81fbb4b72283e94
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Nov 15 15:04:08 2011 -0500

    Patch from Jeff Davis (SITKA) fixing cardless patron updates
    
    Quoth the bug report (https://bugs.launchpad.net/evergreen/+bug/851110):
    
      On our Evergreen 2.0.8 system, it sometimes arises that a patron's card gets deleted. If it was the patron's only card, it becomes impossible to add a new card to the account via the staff client.
    
      How to reproduce:
      1. Retrieve a patron record for a patron who has no associated card.
      2. Click the Edit button.
      3. Click Replace Barcode and enter a new barcode.
      4. Click Save. This does not work - the process hangs, and if you hit Reload, you will find that your changes were not saved.
    
      I believe this happens because some code in register.js assumes the patron has at least one card. I have a potential fix that this comment box is too small to contain ... uh, that is to say, I will post it momentarily.
    
    Which he did, and I applied.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	3	Open-ILS/web/js/ui/default/actor/user/register.js

commit 152c1f76c27fad50e1fbd4a494b7e0b251eb7b4f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 22 09:24:56 2011 -0400

    Throw out non-digit barcodes for strict check
    
    Characters like "." are valid for numbers, but not the algorithm.
    
    Thus, we need to throw out "16.00" despite the check for
    "16.00" == Number("16.00")
    returning true.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/xul/staff_client/chrome/content/util/barcode.js

commit ca4ab76a356eca4d2043631d4d8c730f04f95f6d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 22 09:16:31 2011 -0400

    Don't check barcode without strict enabled
    
    Item status was, unlike other interfaces, doing the strict check, THEN
    looking at the checkbox and if it was checked return.
    
    This caused issues when the barcode crashes out the strict checking.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/xul/staff_client/server/circ/copy_status.js

commit 08609764ae1dca51fd68b76742bbf243de437a38
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Oct 7 10:03:34 2011 -0400

    Fix JSPac Hold Editor Org Selector
    
    Don't wipe out all changes just because the OU was changed.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	1	Open-ILS/web/opac/skin/default/js/holds.js

commit ffcf0428e6c57d7c3e075094caae3a62305c1f32
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Nov 15 12:18:53 2011 -0500

    Stamped upgrade script for hold_notification update via A/T cleanup module
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0647.data.hold-notification-cleanup-mod.sql
0	24	Open-ILS/src/sql/Pg/upgrade/XXXX.data.hold-notification-cleanup-mod.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0647.data.hold-notification-cleanup-mod.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.hold-notification-cleanup-mod.sql

commit ae9a66066ff3d50e6aa5bb37ad50afdd7e795af2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 15:21:39 2011 -0400

    Hold notification creation A/T cleanup module
    
    New CreateHoldNotification Action/Trigger cleanup module that, when
    linked to a hold-based event_definition, adds an entry into
    action.hold_notification for each hold processed.  The main user-facing
    change from this will be that the hold notification time / count in the
    staff client will now take A/T notices into effect in addition to
    manually created hold notifications.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

28	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Cleanup.pm
11	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.hold-notification-cleanup-mod.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.hold-notification-cleanup-mod.sql

commit ceeea809f0f5fedd694b8d18fc03dd1bcc1a174f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Oct 18 16:22:25 2011 -0400

    Further support for "circ.collections.exempt" setting
    
    Added support for skipping users that have the
    "circ.collections.exempt" setting in the API call:
    
    open-ils.collections.users_of_interest.warning_penalty.retrieve
    
    This call is an alternate entry point for finding users to consider
    for collections processing
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

23	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Collections.pm

commit 1ad56082788211d91030f47147efbbfd3e4be77e
Author: Steven Callender <stevecallender@esilibrary.com>
Date:   Wed Oct 19 18:51:14 2011 +0000

    Reshelving update.
    
    Update to the reshelving code to make it faster and utilize the new status change time field on asset.copy.
    
    Signed-off-by: Steven Callender <stevecallender@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	29	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit a3b3409f5f357297848a473dbba024a65b2aa7f0
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Nov 14 13:18:30 2011 -0500

    TPac: Fix glitch in displaying received holdings
    
    Under "issues held" on the record detail page, holdings summaries for
    received issues are nested in an additional layer of array as compared
    to MFHD-based holdings, so compensate.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/templates/opac/parts/record/issues.tt2

commit 6c8d8bc88eda71c54b9833d2480ff8859b2c088f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Oct 24 16:27:29 2011 -0400

    Clear shelf canceled holds notification fix
    
    After cancelling a batch of holds via the clear-shelf process, before we
    send the holds off to action/trigger for potential notification
    generation, re-fetch the holds from the DB to pick up the calculated
    cancel_time value (i.e. get a real value for "now").  Otherwise, A/T may
    die attempting to create a DateTime object by parsing "now".
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

9	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 240685d185761087aba05b48efccc7796d91aecb
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 2 11:28:57 2011 -0400

    TPac; hold success confirmation; redirect repairs
    
    1. After a successful hold placement, provide feedback to the user that
    the hold placement succeeded.  After placement, the user is taken to a
    page (same page for failed holds) where the title(s) are listed along
    with the success/failure information for each.
    
    2. In some cases, the user may be redirected to the my account page
    instead of the point of origin for holds placement.  This occurs
    generally when the user is not already logged in and is asked to log in
    prior to holds placement.
    
    3. As a side effect, this change replaces one of the ornery
    history.go(-1) actions with a true href/URL.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	37	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	8	Open-ILS/src/templates/opac/parts/place_hold.tt2
8	4	Open-ILS/src/templates/opac/parts/place_hold_result.tt2
2	1	Open-ILS/src/templates/opac/parts/record/issues.tt2
6	3	Open-ILS/src/templates/opac/parts/record/summary.tt2
2	1	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 2cd2a9817e0a887865402c4b5dd8fd9660bd573a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Nov 3 10:18:12 2011 -0400

    TPac; reduce vertical space caused by chilifresh link
    
    CSS loaded from chilifresh forces a fixed height on the
    .chili_review class, which causes significant vertical space gobbling in
    the results and details pages.  Solution is to change the chili_review
    container from a <div> to a <span>, where the height has no effect.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/templates/opac/parts/record/awards.tt2
1	1	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 93502ff44099a3372c30e135cc007f3b8becc4dd
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Oct 23 16:58:53 2011 -0700

    Make idlval build, rather than be dead code
    
    The tool "idlval" contained in Open-ILS/src/c-apps can be used to check
    the correctness of fieldmapper definitions in files like
    Open-ILS/examples/fm_IDL.xml - but currently does not have a build
    target, nor does it compile cleanly due to the use of unspecified
    OpenSRF header files. This commit adds a build target, fixes the compile
    problems, and installs the tool in the bin directory.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	1	Open-ILS/src/c-apps/Makefile.am
2	2	Open-ILS/src/c-apps/idlval.c

commit d9255c0d0a8c7cafdcd5d4763d200d4c9ac63f37
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Nov 8 14:39:29 2011 -0500

    Add link to cbs from bre via bre.source -> cbs.id in fm_IDL.xml.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/examples/fm_IDL.xml

commit bf325156572bd2a3cbe05f75cde1a9a48149986f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Nov 8 15:01:43 2011 -0500

    Show the patron account Create Date in both horizontal and vertical patron summary panes
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
11	0	Open-ILS/xul/staff_client/server/patron/summary.js
3	0	Open-ILS/xul/staff_client/server/patron/summary_overlay.xul
3	0	Open-ILS/xul/staff_client/server/patron/summary_overlay_horiz.xul

commit b415ad55eb6ffa1edf6ba0fa4db42fe5ef466563
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Nov 8 18:42:18 2011 -0500

    LP887822 mint_condition/Quality not set correctly
    
    during item creation.
    
    Specifically, the Javascript object for a new item (acp) does not explicitly set
    the mint_condition field, leaving it null. The item attribute editor treats the
    null as false (which it displays as "Mediocre" for that field). The database has
    a not null constraint the corresponding column in asset.copy, and defaults to
    true. So a new item in the attribute editor will show "Mediocre", but when
    actually created, will become "Good".
    
    This branch just sets mint_condition to true when an item is created.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
1	0	Open-ILS/xul/staff_client/server/cat/util.js
1	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 2eda8d02e83b20a0d3f33a53ef5b3fbebda355e3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 9 10:13:28 2011 -0500

    Tpac; repair login link after password reset
    
    After a successful password reset, the UI offers a link to "Log In to My
    Account".  Loging in this way would ultimately redirect the user back to
    the password reset form.  This patch updates the Log In link to point to
    myopac/main, which will direct the user to log in first,  instead of
    pointing directly to /login, which, lacking any other information,
    will return the user to the referer after logging in.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/templates/opac/password_reset.tt2

commit 6901876007a52d8c09da3605e85ef461bd06bfb2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Nov 11 13:22:34 2011 -0500

    TPac; propagate query params to adv search (results link)
    
    Update the "Advanced Search" link that shows on search results pages
    (next to "Another Search") to propagate the current query into the
    advanced search page, just like the Advanced Search link just above the
    search bar.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/templates/opac/results.tt2

commit 56ab0960ed7a5a389cb57dacee7b72d8cff810ee
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Nov 11 15:25:49 2011 -0500

    tpac; honor password reset matching email setting
    
    If the "circ.password_reset_request_requires_matching_email" org unit
    setting is enable, prompt the user to enter the email address associated
    with the account and subsequently pass it on to the password_reset api
    call.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
3	1	Open-ILS/src/templates/opac/password_reset.tt2

commit ebce79a288b6a597d5b871379de3b714d2196c5e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Nov 14 15:31:14 2011 -0500

    Serials: in the holding code mini-wizard, offer a dropdown for seasons
    
    This spares the user from having to remember the MFHD code for the
    season, when dealing with periodicals issued by season (21 - 24 for
    Spring - Winter, respectively).
    
    This also applies sets the "scrollOnFocus" attribute to false for the
    dijits within the mini wizard, as the jumpy behavior you get in
    less-than-fullscreen staff client windows is otherwise maddening.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

49	7	Open-ILS/web/js/dojo/openils/widget/HoldingCode.js

commit 7d4598a3874536c365934f6f3e9745636415d642
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Nov 14 16:27:05 2011 -0500

    tpac; improve ssl and authentication redirection
    
    Create a better separation between pages the require SSL and those
    that also require authentication.  This change has a number of
    beneficial side effects:
    
    1. If a user is already logged in and is somehow redirected to the
    non-SSL version of a page requiring SSL (via, for example, some external
    link), they are simply taken to the SSL equivlent of the page first.  If
    they are found to be logged in, we're done.  If not, they are directed to
    the login page like usual.
    
    2. password_reset page now requires SSL (but not auth, obviously)
    
    3. Removed the unnecessary warning about logging out on a non-SSL
    connection.  We now redirect the user to the SSL version of logout so,
    if they are in fact logged in, they can be successfully logged out.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	14	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 8347b18f4975457c4ef888da99cd269cf220e8de
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Nov 14 17:16:46 2011 -0500

    Reindex is not just for non-filing indicators anymore
    
    Since we discovered the apostrophe parsing problem affects records with
    text containing apostrophes at any position, don't limit ourselves to
    non-filing indicator titles. In theory you might want to reindex any
    record that contains an apostrophe, but in practice we found the most
    confusion occurs with searching for titles - so target those in the
    upgrade script.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	1	Open-ILS/src/sql/Pg/upgrade/XXXX.fix-nonfiling-titles.sql

commit 60392810e3060287116f50ff53021600298e4392
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Nov 14 16:44:29 2011 -0500

    Add the search_normalize() variant to in-database
    
    And teach our normalizers to use search_normalize() instead of
    naco_normalize() across the board.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

90	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix-nonfiling-titles.sql

commit 2bc4e97f72b39cc0093d3e295f97fcb4fa91106d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Nov 10 01:05:40 2011 -0500

    Create a search_normalize() variant of naco_normalize()
    
    In the quest to support searching text that contains leading articles
    joined by an apostrophe - for example, "l'histoire" - such that a
    searcher can enter either "l'histoire" or "histoire" and get results -
    add a variant of naco_normalize() that does not strip the apostrophe
    entirely, but rather replaces it with a space such that the root word
    can be indexed appropriately.
    
    This implementation refactors the OpenILS::Utils::Normalize code to make
    the differences between search_normalize() and naco_normalize() as clear
    as possible, but duplicates code significantly in the in-db version of
    the code. Someday maybe the database can rely on
    OpenILS::Utils::Normalize instead of inline functions :)
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

9	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
33	3	Open-ILS/src/perlmods/lib/OpenILS/Utils/Normalize.pm
7	1	Open-ILS/src/perlmods/t/14-OpenILS-Utils.t
75	0	Open-ILS/src/sql/Pg/002.functions.config.sql
8	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 77011103fbf99f1e1acf9266252ddf30d164d5ef
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Nov 11 13:41:33 2011 -0500

    LP825039: Add reingest logic for non-filing titles
    
    Rather than reindexing all titles that have a non-filing indicator, this
    upgrade handles the known problematic cases (apostrophes with leading
    articles). On our system that's 55K out of 2.2M records - not bad at
    all.
    
    We also ensure the format is set to MODS32 for title:proper, as sites
    might have customized it on a MARC basis and we don't want to reindex
    the records with NULL values due to a mix of format and XPath.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

12	1	Open-ILS/src/sql/Pg/upgrade/XXXX.fix-nonfiling-titles.sql

commit c4928a48a93d88a01fa2b01b761b8306cacb8b30
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Nov 11 13:29:25 2011 -0500

    Add unnumbered upgrade script for non-filing titles
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3145	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix-nonfiling-titles.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix-nonfiling-titles.sql

commit f67f85dd9dca7bb3f0683ccbe33a7b03bcbdd289
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Nov 10 01:05:40 2011 -0500

    Index leading articles with apostrophes correctly
    
    Titles with non-filing characters used to get separated by spaces; not a
    problem in English with leading articles like "The" and "A" which are
    followed by spaces anyway, but a significant problem for French where
    "L'anne" is not supposed to be turned into "L' anne".
    
    To combat this, we define a titleNonfiling variant in the MODS32
    stylesheets that ignores the second indicator and does not wrap leading
    articles in the nonSort element, avoiding the injection of unwanted
    spaces.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
36	0	Open-ILS/src/sql/Pg/953.data.MODS32-xsl.sql
36	0	Open-ILS/xsl/MARC21slim2MODS32.xsl

commit 8f2a17b6fa2978a867ba7178b0fbc196a968fd7b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Oct 26 09:45:54 2011 -0400

    Make checkin retargeting parts-aware
    
    Skip part holds on copies san parts
    Skip part holds for parts not on the copy
    Skip title holds for copies with parts
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

14	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 13bad8097a693995089e08c9bc4352445dec1929
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Oct 11 11:25:51 2011 -0400

    More filtering of characters that could end up in PO JEDI template output
    
    Backslashes cause problems too.  Let's JSON encode this thing and get it
    right once and for all.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Ben Shum <bshum@biblio.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

24	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
1	7	Open-ILS/src/support-scripts/edi_pusher.pl

commit 65e7211b4298f65d0b628d834996a4669098ecdc
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Nov 10 17:22:22 2011 -0500

    Serials: allow freer input in holding code mini-wizard
    
    In the Subscription Details interface of the Alternate Serials Control
    View, under the Issuance tab, if you create a new issuance you can
    now enter things like "01/02" in (say) the month field to denote a combined
    January/February issue.  All those fields are now free-form, whereas some of
    them used to be numeric only.
    
    Also, avoid an occasional issue where an error message about
    dijit.form.DateTextBox not being a constructor would appear in the
    JavaScript console.  The problem was in a race condition among some
    co-dependent JavaScript files that were all being loaded at the same
    time.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

3	9	Open-ILS/web/js/dojo/openils/widget/HoldingCode.js
2	0	Open-ILS/web/js/ui/default/serial/subscription/issuance.js

commit da9df53b242b2ed20662aa668f74290b3a0d86eb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Nov 10 12:55:32 2011 -0500

    LP88653 force SSL for requests from local XUL
    
    Modifies RemoteRequest.js to convert any http:// request URL to https:// if the
    requesting location has a chrome:// protocol.
    
    Modifies util/network.js such that any use of util.network.request (as opposed
    to util.network.simple_request) will assume "secure" for the resulting request.
    
    Adds an example to the bottom of eg_vhost.conf for forcing SSL for an entire
    site (OPAC and everything), courtesy of Dan Wells.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

5	0	Open-ILS/examples/apache/eg_vhost.conf
1	1	Open-ILS/web/opac/common/js/RemoteRequest.js
6	1	Open-ILS/xul/staff_client/chrome/content/util/network.js

commit 3762864f03c2ed7ccec910d25f7b6b950a1ccdca
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Nov 10 01:04:50 2011 -0500

    Fedora 16 updates to README and Makefile.install
    
    Fedora 16 is out, we can improve the README and Makefile.install some to
    better support it.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

12	4	Open-ILS/src/extras/Makefile.install
4	5	README

commit 240c6b11634e1e7b23b9388057b91c4cc3883e10
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 9 15:55:50 2011 -0500

    TPac; disallow certain actions for captured holds
    
    In the hold edit page, where users can update the pickup library,
    suspend holds, etc. disallow actions that don't make sense for holds
    that have already been captured.  These include suspending the hold and
    changing the expire time.
    
    This patch also replaces the confusing "Cancel" button in the hold edit
    interface (which does not cancel the hold) with a "Go Back" button which
    returns to the holds list.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	6	Open-ILS/src/templates/opac/myopac/holds/edit.tt2

commit 89628336fa54a6418d12f7732960a243abd3151f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 9 15:54:21 2011 -0500

    TPac; batch hold update detects suspension of captured hold
    
    If the user attempts to suspend a captured hold via batch hold update,
    warn that user af the update the some holds may not have been suspended
    and why.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
6	0	Open-ILS/src/templates/opac/myopac/holds.tt2

commit 19eedc943cec55f20f944b2ed7656bd7fe65e30f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 9 15:51:40 2011 -0500

    Prevent hold suspencion for captured holds in API
    
    This codifies at the API layer the standard Evergreen practice of
    disallowing suspension of holds that have already been captured.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/extras/ils_events.xml
6	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit fbc13c68b13b704634f0691906d995e1af5b39b8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 9 14:08:10 2011 -0500

    prevent suspend in transit initial poking
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit dae71513d8e48b01ff3fdc4b52cc67c723c32fea
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Nov 9 11:00:05 2011 -0500

    XML.ignoreWhitespace causes syntax errors
    
    So remove it.
    
    Disabling pretty printing appears to be enough to fix the marc editor.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	2	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 0e2f7fd8f40c12634bdcfa47bceabd0ddf60bbb6
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Nov 9 09:37:44 2011 -0500

    Fix a typo that snuck through the cracks in Cronscript.pm.in.
    
    We had Opensrf::AppSession rather than OpenSRF::AppSession, which isn't
    caught by the simple use_ok() tests that we largely rely on for our
    current Perl test suite. In addition, when we manually tested the change
    to Cronscript.pm.in, we didn't do both configure && make to ensure that
    the new version of Cronscript.pm reflected the changes. Lots to learn,
    luckily the method wasn't being used by anything else in Evergreen yet.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/Cronscript.pm.in

commit fc8925034444d844d6028d0984a2d3f971f2d746
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Nov 7 17:28:02 2011 -0500

    Fix vanishing whitespace in marc editor
    
    XML.ignoreWhitespace and XML.prettyPrinting cause whitespace to vanish.
    
    So disable them at the top of marcedit.js.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	0	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit ef82b6171473d9f4c705e5bd1db592d72746ae2d
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Oct 31 11:46:48 2011 -0400

    lp849447: trival stylistic tweaks
    
    - rename variable avoid double-negative
    - avoid 'Variable declared in conditional statement' perlcritic gripe
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit 935535bb17a25d9cc862137a0fea58bfd59352f4
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Nov 8 12:43:44 2011 -0500

    Protect against slony replication lag, LP#621448
    
    Make open-ils.circ.captured_holds.id_list.* API calls authoritative within
    the staff client to avoid replication-lag related stale displays.  Inspired
    by James Fournie at SITKA.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
2	2	Open-ILS/xul/staff_client/chrome/content/main/constants.js

commit 7c1e6256fc3534f834dba8d66dcab98587c4e31d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Nov 7 16:44:42 2011 -0500

    README: Use consistent endings (none!) for titles/subtitles
    
    Most, but not all, of the titles/subtitles had colons appended. This
    looks really weird in the Table of Contents, so try to be consistently
    unweird and have no appended colons.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

16	16	README

commit d1c113ccf99adff705a6da4ba9e776fbeacaef92
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Nov 7 16:38:32 2011 -0500

    Backup the existing opensrf config files before copying
    
    Per a suggestion from Wolf Halton <wolf.halton@gmail.com>, create backup
    versions of the opensrf configuration files when we're copying the
    Evergreen example versions over, so that we can retrieve the Jabber user
    names and passwords and domains from the backups (if necessary).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

8	2	README

commit 25c9c433d44ab7261628d435efa80c764a714d99
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Nov 3 15:51:41 2011 -0400

    TPac; detail page "Search Results" page correction
    
    On the detail page, when the user selects the "Search Results" link to
    return the original search results, return to the correct page in the
    search.  The correct page will be the page where the currently viewed
    record sits within the search.  Normally, this is the last viewed
    results page.  However, if the user does some paging within the detail
    page, enough to cross a page boundry, "Search Results" will take them to
    the new page (i.e. the page w/ the current record).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/record/body.tt2

commit 920145f106003170406543e94ee4e42c32bd70f5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 2 15:45:06 2011 -0400

    TPac; sort items out list by due date, oldest first
    
    Sort items most in need of return (i.e. oldest due date) to top.  This
    is done by replacing the call to "open-ils.actor.user.checked_out",
    which does a lot more than we need, in a way that does not support
    sorting/paging, with a simple json_query.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

19	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 2b6a71ec267c809cc3fea0d5c888aff61255aed8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Sep 28 19:00:56 2011 -0400

    Close All Tabs shortcut
    
    Enable CTRL+Click on the close tab "X" to close all tabs.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

25	1	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit b14b8d123df40abd9c543efa62fc4f59479b3f62
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Sep 27 15:42:49 2011 -0400

    LP#860845 hold placement UI can break
    
    hold placement UI can break and give misleading error on Submit
    
    Adds some defensive coding, but since I don't quite grok everything going on here, may not be the best fix.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	1	Open-ILS/web/opac/skin/default/js/holds.js

commit 173eb0fb2cfa3be5d703f44c6a0a49162b21668e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Sep 13 14:48:16 2011 -0400

    Skip forced targeting of frozen holds
    
    Otherwise a frozen hold can be manually retargeted by staff and captured.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit d36ad5dd697deab3b41127b75417c6c6f0083f9e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 15 14:57:19 2011 -0400

    Acq: List provider code in lineitem lists
    
    Along with selection list and purchase order, when an item is attached
    to a purchase order, also show the provider code
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/src/templates/acq/common/li_table.tt2
6	0	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 3759c86cc548f11f58ea54792e4b886bde6b7b53
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Oct 24 13:52:14 2011 -0400

    TPac; improved UPC extraction
    
    Handle the case where a record has multiple UPC's.  When this occurs,
    use the first UPC as the value for added content lookups as necessary.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	1	Open-ILS/src/templates/opac/parts/misc_util.tt2

commit 25c2dbe0ad7b9f642181dd504d58e87790ad6a8f
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Tue Nov 1 16:01:57 2011 -0700

    This prevents the acq unified_search method from returning anything other
    than the objects of the expected type.
    
    This is to address LP 884991 in which Acq users get a perm error for each
    result of a search that they don't have access to retrieve.  They shouldn't
    even know about the existence of anything they don't have access to retrieve.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Search.pm

commit 4a13d896946250245e6866357c1b2ce134c01417
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Nov 2 09:47:04 2011 -0400

    Tpac; hold error message 18n string extraction repairs
    
    Make it possible for xgettext.pl (using
    Locale::Maketext::Extract::Plugin::TT2) to extract hold error
    message strings for translation.  The plugin is not quite
    smart enough to extract wholly dynamic values from the templates, since
    it (presumably) only parses the templates and does not execute them.
    The solution is to wrap the strings in l() where they are defined.
    
    Add an example for the EVENT_MSG_MAP for the event PATRON_EXCEEDS_FINES.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

18	17	Open-ILS/src/templates/opac/parts/hold_error_messages.tt2
2	2	Open-ILS/src/templates/opac/parts/place_hold_result.tt2

commit 481133f0b0433ff373dcf2eb88c8bb1645bb5c2d
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Nov 4 16:44:57 2011 -0400

    Correct oversight: replace old with new approach to upgrade script versioning
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0646.schema.lp854972_copy_counts_unshadow.sql

commit 461018fabc4ed18cba9e719af199e45cdf889483
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Tue Sep 20 12:03:03 2011 -0700

    Previously invisible copies showed as beige in the staff client, they stopped doing this in 2.0
    
    This is because in 2.0 the copy counts logic was moved from open-ils.storage.biblio.record_entry.copy_count.staff
    to an in-database function wrapped in open-ils.search.biblio.record.copy_count.staff.  Both methods returned various
    counts including an 'unshadow' count, however the 'unshadow' in the new database function was not completed and it
    has only been returning a simple copy count rather than a count of opac visible copies as it should be to
    replicate the old behaviour.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	2	Open-ILS/src/sql/Pg/040.schema.asset.sql
69	0	Open-ILS/src/sql/Pg/upgrade/0646.schema.lp854972_copy_counts_unshadow.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0646.schema.lp854972_copy_counts_unshadow.sql

commit 05e16eea42d1b6c4e282f36dd434d8170cc9669a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Oct 6 16:13:51 2011 -0400

    Acq: better error message if trying to create PO without provider or agency
    
    Before now, if you leave either the provider or ordering agency
    fields blank in the "Create Purchase Order" dialog, you get a
    nonsensical warning about prepayment.
    
    This fixes that.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/web/js/dojo/openils/acq/nls/acq.js
5	1	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 9a0120762a77f44f2f117b574f20ed4cd5ae7da1
Author: Liam Whalen <lwhalen@nrcan-rncan.gc.ca>
Date:   Thu Nov 3 16:53:57 2011 -0400

    Modified authority.indexing_ingest_or_delete to update MARC data
    
    The authority.indexing_ingest_or_delete trigger in the update script
    was missing a call to authority.propagate_changes which is responsible
    for updating the MARC data of records affected by an auhtority merge.
    This patch adds the call to authority.propagate_changes as it appears
    in the authority.indexing_ingest_or_delete trigger from the file
    999.functions.global.sql.
    
    Signed-off-by: Liam Whalen <lwhalen@nrcan-rncan.gc.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	0	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql

commit 450b6106418e04f86ed1d3135f60c2ca23693f7d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Oct 21 12:36:48 2011 -0400

    Repair Vandelay match_set_tree link
    
    ctx.base_path includes the "/eg" portion of the path, so no need to
    duplicate that in the template.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/templates/conify/global/vandelay/match_set.tt2

commit a63abb63756cf5e2df6ca53a856c1179cf97581f
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Oct 6 12:06:09 2011 -0400

    Acq: fix a bug that sometimes prevents the general search page from loading
    
    Within Acquisitions General Search, javascript included from one file
    in the <head> relies on the variable "localeStrings" being initialized
    by javascript included from a file in <body>.  Sometimes the wrong
    javascript wins the race, you get an error about localeStrings being
    undefined in the Javascript console, and the page stops loading.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	2	Open-ILS/web/js/ui/default/acq/common/li_table.js
6	0	Open-ILS/web/js/ui/default/acq/search/unified.js

commit 8399d37d204e7190d4f1cb1c8efe245d3bdda94c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Nov 1 17:02:44 2011 -0400

    Fine generator; raise multi-session mode recv timeout
    
    When fetching the batch of overdue circ IDs to process for fine
    generation, wait a little longer for the data to arrive, since
    it is a longer running DB query than most.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/support-scripts/fine_generator.pl

commit 009f27d2f1d9a42966ee753f8f98be8f5fe45164
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Nov 1 16:18:37 2011 -0400

    forgot to update upgrade_log
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 738357a7012fa033b8e0ca380b4bba227326b345
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Nov 1 15:58:15 2011 -0400

    pin upgrade version number
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

165	0	Open-ILS/src/sql/Pg/upgrade/0645.schema.null_svf_protection.sql
0	161	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.null_svf_protection.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0645.schema.null_svf_protection.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.null_svf_protection.sql

commit 79e571732cea6ca71ada70e7c707cdf7bf95fa8a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Nov 1 15:49:15 2011 -0400

    Protect SVF normalizers against NULL values
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/030.schema.metabib.sql
161	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.null_svf_protection.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.null_svf_protection.sql

commit 856ca6d995b8723e3fc17eef70ee738fe24219dc
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Nov 1 13:29:25 2011 -0400

    Force Amazon AC requests to use 10-digit ISBNs
    
    Inspired by a patch submitted by Ian Bays <ian.bays@ptfs-europe.com>
    via https://bugs.launchpad.net/evergreen/+bug/870171, this patch takes
    the incoming key and, if it is longer than 10 characters (a 10-digit
    ISBN or Amazon ID), attempts to normalize it and return a 10-digit ISBN.
    
    We don't normalize all incoming keys because some sites are horribly
    abusing the 020 MARC field to include an Amazon ID instead of an ISBN -
    but that works in practice and we'd rather not break working
    installations if we can avoid it.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

17	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/Amazon.pm

commit e000ec5da7ec06c3179276e22a91dd76f80b4981
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Oct 19 16:47:03 2011 -0400

    Use ne on line 631 of Actor.pm.
    
    This is so that we stop getting errors like
    
    Argument "1319057146.8881216485.4819607085" isn't numeric in numeric ne (!=) at
    /usr/local/share/perl/5.10.1/OpenILS/Application/Actor.pm line 630.
    
    in /openils/var/log/open-ils.actor_stderr.log
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 19b81874ffbdf91f4acbe93f8e8f4c44f111c6a1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Nov 1 11:35:41 2011 -0400

    Tpac; bookbag MARC retrieved via unapi
    
    Make sure the bookbag interface has access to metabib.record_attr's by
    retrieving and parsing the marcxml via unapi (get_records_and_facets).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	7	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 0c29090151e896568214eef2ed2ae69b49c16974
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 31 16:56:55 2011 -0400

    Trivial whitespace touchup to Cronscript.pm.in
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

10	5	Open-ILS/src/perlmods/lib/OpenILS/Utils/Cronscript.pm.in

commit f4c3e205857cc2a23f847f69b07385b8c27938f0
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Oct 31 16:36:27 2011 -0400

    OpenILS::Utils::Cronscript can have only 1 session.
    
    Work around the above limitation by using OpenSRF::AppSession
    to create a session for open-ils.auth in the authenticate method.
    
    Also requires us to manually check if we're bootstrapped, since
    we can't rely on OpenILS::Utils::Cronscript->session to do it for
    us.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/Cronscript.pm.in

commit b2958a8bb6145c5aa2eee8aa0b7b6a306732785a
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Oct 31 15:48:38 2011 -0400

    Add authentication capability to OpenILS::Utils::Cronscript.
    
    This allows the client script to call authenticate with a hash ref of
    user information so that the user can login and get an authtoken if
    needed.
    
    It also stores the authtoken and authtime values for later retrieval.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

49	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/Cronscript.pm.in

commit 9c54bcb71017d3679841b51457069bbfd4b55c75
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Oct 31 11:00:02 2011 -0400

    Tpac: show staff saved searches on no-results page
    
    Not having it there is awkward for the user who relies on the feature
    and enters a search term that gets no results.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/templates/opac/parts/result/lowhits.tt2
2	1	Open-ILS/web/css/skin/default/opac/style.css

commit 4d1273d822af9c754dd4fd52e842594191f9e0da
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Oct 27 18:20:00 2011 -0400

    Tpac: staff saved searches expand/collapse, use right ou context for setting
    
    1) Display staff saved searches collapsed by default. This makes the facet
    display right underneath it more accessible in the case of long search
    histories.
    
    2) When checking the org unit setting for the limiting number of
    searches to save, use the user's ws_ou as the context, since this is a
    staff-client feature.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

27	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
23	5	Open-ILS/src/templates/opac/parts/staff_saved_searches.tt2
8	0	Open-ILS/web/css/skin/default/opac/style.css

commit d2e88db7f4ac78a89ea604c480f653e1431d7639
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Oct 27 09:42:37 2011 -0400

    A tweak to eg.conf to prevent against the BEAST exploit in TLS/SSL
    
    Based on recommedation from https://community.qualys.com/blogs/securitylabs/2011/10/17/mitigating-the-beast-attack-on-tls
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	1	Open-ILS/examples/apache/eg.conf

commit 3c5e7a0d2a79f6c50daaf85fc751174b253c9869
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Oct 28 10:40:03 2011 -0400

    Tpac: fix the doubly wrapped holds editor
    
    For some reason it must have made since in the past to wrap this
    interface in both parts/base.tt2 and myopac/parts/base.tt2, but
    nowadays that results in having extra headers and footers around
    the actual page contents, so the layout looks broken.
    
    This fixes that. No other interfaces were doing this double wrapping.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/holds/edit.tt2

commit 84d3f4d0724183b3b8c506f90a30993d596df9a7
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Oct 28 13:49:42 2011 -0400

    Tpac: Rename orig_loc to physical_loc, for clarity's sake.
    
    This is an OPAC parameter not so much meant for use by patrons at home,
    but for users at machines physically located in libraries.  In
    conjunction with OpenILS::WWW::Redirector, it helps those machines
    "remember" what branch they're in.
    
    Anyway, the name orig_loc doesn't make the parameter's meaning quite as
    clear as it could whne you encounter it in code.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
6	6	Open-ILS/src/perlmods/lib/OpenILS/WWW/Redirect.pm

commit 6f75dd2839cc76e01141ef547e8b0e80cdbd4c87
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Oct 27 17:37:06 2011 -0400

    Tpac: clear the per-process cache of org-unit settings on each page load
    
    Any time saved is not worth the confusion of changes to org unit settings not
    taking effect in the TPAC without an apache restart, or worse, taking
    effect for some page loads but not others.
    
    Actually authored by Bill.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit a378a358cf0abdc21c74e730262838fd77f25450
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Oct 28 11:09:32 2011 -0400

    Stamping upgrade script for YAOUS-target-when-closed
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0644.data.YAOUS-target-when-closed.sql
0	24	Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-target-when-closed.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0644.data.YAOUS-target-when-closed.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-target-when-closed.sql

commit a0d2b8817ae38824043674aef7d054d6064ae389
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Sep 28 14:28:35 2011 -0400

    Add and use two YAOUS to allow hold targeting on copies at closed OUs
    
    One YAOUS completely ignores the closedness of the circ lib of the copy
    being tested for potential targeting.
    
    The other YAOUS ignores the closedness of the circ lib IFF the circ lib of
    the copy being tested matches the pickup lib of the hold request.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

54	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
17	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-target-when-closed.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-target-when-closed.sql

commit 2578112ce9f93acb950f8e20c5dd1ef12fb4daac
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 27 12:12:40 2011 -0400

    Tpac; holds edit page format icon improvements
    
    * Fixed the image path to the format_icon
    * Use the format_label as the title for the format_icon image
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/holds/edit.tt2

commit 83d70f918cb7f143e55778dd25dc8ac56d970674
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 27 13:03:26 2011 -0400

    TPac; sort coded value maps by label alphabetically
    
    Affects languages, formats, and audience.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

8	2	Open-ILS/src/templates/opac/parts/coded_value_selector.tt2

commit 8081334e304d2fdcdd6126c60eceeebeb650495c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 27 15:10:23 2011 -0400

    Tpac; style due-date red/error for overdue items
    
    In the patrons items out list, if an item is overdue, style the due date as
    "error" (i.e. bold red).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	3	Open-ILS/src/templates/opac/myopac/circs.tt2

commit ef1103f2f9a075ef55e35fd9e4d9e662c56b6104
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Sep 27 11:56:51 2011 -0400

    LP#860685 List Actions and Print List fix
    
    List Actions and Print List broken in Check In interface when not using "Fast
    Entry (Asynchronous)", due to the way we're using list.refresh_row.  This fixes
    the internal list state for tracking retrieved versus un-retrieved list rows.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	1	Open-ILS/xul/staff_client/server/circ/checkin.js

commit cbd07ddf30a918b2e7fba359c7091a241ed704b6
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Oct 14 16:42:20 2011 -0400

    LP874597 password from phone # when cloning users
    
    Patron: password from phone # does not work when cloning users
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

25	18	Open-ILS/web/js/ui/default/actor/user/register.js

commit 9ea87436847f7335d154bd3ab9a05505ec5812bf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Oct 26 14:56:01 2011 -0400

    Z39.50 service filter repairs
    
    Do not attempt to filter out Z39.50 services by permission when
    retrieveing the services in a non-authenticate manner (i.e. from within
    the Z39.50 code).  Otherwise, the code will die on $e->requestor->id,
    because there is no requestor.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

12	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Z3950.pm

commit 743bae4691dd37124e9184b4eeb4bb54599bc158
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Oct 5 09:39:47 2011 -0400

    Z39.50 local catalog fetch-more repairs
    
    Fixes the following problem:
    
    When paging through local catalog results in the Z39.50 interface,
    paging off then end of the local results would result in an unknown
    server error caused by trying to retrieve an empty list of records.
    
    $list->{count} in this context is the overall hit count, not the counts
    in the current page of results.  Note also if {count} is zero, the list
    of IDs will be undef, so we use both.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 4a0c30d4914d740bd8e2464706b149724bb6efdc
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 26 16:19:13 2011 -0400

    SIP2 Checkout "no-code" failure fix
    
    Instead of assuming that code exists on a response do more checks.
    
    Specifically, a response code can be empty but not zero when there is no
    defined event code for the failure code.
    
    An easily tested case of this is standing penalties.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

18	18	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/Checkout.pm

commit 2a77078c43bec6aab61c75a03f4801fe735cff58
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Oct 26 18:35:04 2011 -0400

    Stamping Upgrade script to populate authority.simple_heading
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
23	0	Open-ILS/src/sql/Pg/upgrade/0643.data.populate_authority_simple_heading.sql
0	23	Open-ILS/src/sql/Pg/upgrade/XXXX.data.populate_authority_simple_heading.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0643.data.populate_authority_simple_heading.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.populate_authority_simple_heading.sql

commit b00d34fc683698c37201b0966abaeafcabb75c23
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Oct 26 13:05:17 2011 -0400

    Upgrade script to populate authority.simple_heading
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

23	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.populate_authority_simple_heading.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.populate_authority_simple_heading.sql

commit d11c07ae59a6a34215aab2dfd76b785eb9c2e388
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Oct 6 18:06:22 2011 -0400

    Avoid a possible bug in selection list deletion
    
    This particularly matters for the "ephemeral," unnamed selection list that
    Acquisitions General Search uses to hold bib records represented as
    lineitems, as that list is deleted for the next run of that kind of
    search.
    
    It's possible to get lineitems onto that list that are in a state
    other than "new".  Code that deletes this list first deletes the
    lineitems that belong to it, but that code formerly assumed that there
    are two types of lineitems. "new" ones (that should be deleted) and ones
    that belong to purchase orders (that should be deatched).  That doesn't
    necessarily cover all possible lineitems on the picklist, so deletion
    ultimately fails.
    
    This fixes that.
    
    [update: now this bugfix incorporates a bugfix, the need for which was
    detected by Ben Shum. See LP #869581]
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit beda681b74c9ca4a753388ff14a6ec17b846a20d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Oct 25 11:53:25 2011 -0400

    Provide a QP modifier for sorting NULLS FIRST in the core SQL
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 9df73cf0035b9f9f804cdab74719bad5bdc1a2d2
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Oct 19 17:53:58 2011 -0400

    Tiny bookbag improvements
    
    Bookbag feed item sort order now defined
    
    Bookbag list sort order on the "My Lists" page is now less agressively
    propagated
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm
2	2	Open-ILS/src/templates/opac/myopac/lists.tt2

commit 754b20944c0c54a644c6af120ff69acad5cbb126
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 20 11:39:40 2011 -0400

    TPac; holds format icon follow-up fix
    
    'bre' is no longer available to the templates.  use bre_id instead.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/hold_history.tt2
1	1	Open-ILS/src/templates/opac/myopac/holds.tt2

commit 3cee27e41f8c90ba63086bc29cab9fa01cb6bb7a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 20 10:37:39 2011 -0400

    Tpac; repair format icon display in holds lists
    
    * Fetch MARC XML from unapi to pick up metabib::record_attr's for each
    record.
    
    * Update format icon code in holds list to use new-style precompiled
    format_icon
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
5	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	5	Open-ILS/src/templates/opac/myopac/hold_history.tt2
2	5	Open-ILS/src/templates/opac/myopac/holds.tt2

commit b66817dc66ed35c64bc80a70d7c9f328be8d4d61
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 23:18:28 2011 -0400

    TPAC: Create a meaningful bookbag class
    
    Combine two meaningless opac-auto classes into a single bookbag class.
    Also give a max-width to the bookbag description to prevent action
    buttons from sprawling off to the right side of the screen.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/myopac/lists.tt2
0	2	Open-ILS/web/css/skin/default/opac/semiauto.css
10	0	Open-ILS/web/css/skin/default/opac/style.css

commit 36ce2d913b01e1061c55d79df8ca93211adff7a5
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 22:29:28 2011 -0400

    TPAC: Remove unused HTML from bookbags page
    
    A number of "hide_me" nodes were being kept on the page, only one of
    which is actually referenced anywhere (to be displayed as help for
    sharing). The rest are not invoked anywhere, so we delete them to reduce
    the clutter and page size.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	46	Open-ILS/src/templates/opac/myopac/lists.tt2

commit b6e117684b74a8c72fd9dd8b4b0468401590fbcf
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 22:19:20 2011 -0400

    TPAC: Strip inline styles from bookbags page
    
    Also use a margin instead of width percentage to keep bookbag action
    buttons closer to the bookbag title; with a full-width layout the
    buttons were almost disassociated from the bookbag title.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

10	10	Open-ILS/src/templates/opac/myopac/lists.tt2
14	1	Open-ILS/web/css/skin/default/opac/style.css

commit 80d5c4a4c7e81a7b5739befdd5a621a70d42d5f0
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Oct 19 18:16:14 2011 -0400

    TPAC: avoid problem with HOLD_EXISTS event in hold placement
    
    If you place a hold on something that generates a HOLD_EXISTS event (and
    no other events?) you get a 500 error from Apache and an error in the
    logs saying "not a hash reference" about $result in the lines I've
    changed here.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 2119df527e881f81b6ce4d8ed3fef71c247a1cd2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Oct 19 17:17:41 2011 -0400

    TPac; use canned get_hold_status call for history UI
    
    For consistency, use the same get_hold_status BLOCK to determine holds
    status display in the holds history UI.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	18	Open-ILS/src/templates/opac/myopac/hold_history.tt2

commit 9c0d4beb484bb268c8ed8db0d4725d420305fdfc
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Oct 16 12:45:52 2011 -0400

    LP875819: Fix SRU and Z39.50 default search index failures
    
    Per http://www.loc.gov/standards/sru/specs/cql.html :
    
    All parts of CQL are case insensitive [...] If any case insensitive
    part of CQL is specified with both upper and lower case, it is
    for aesthetic purposes only.
    
    So fold the SRU qualifier and relation to lower case. This then
    matches the srw.serverchoice entry that we already have in
    config.metabib_search_alias so that default searches will successfully
    point to the keyword index.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

9	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit 80e1c87653c01ccb67d011146c13fa02ed2f23d3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Oct 19 16:53:44 2011 -0400

    TPac; Fetch authoritative user object in my-account
    
    Since user data changes in my-account, any time we fetch the fleshed
    user object, fetch it within a transaction to avoid retrieval from a
    (potentially lagging) DB replica.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

11	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit c0a0d6999d35a7157bef988c6218ddf31974896a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 16:58:53 2011 -0400

    TPAC: Search text box is weird in Firefox
    
    The span border was conflicting with the input border for the text input
    box. Also addresses the text box being jammed against the "for" word.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	4	Open-ILS/web/css/skin/default/opac/style.css

commit a79111ea901703318bbc8edaba643bf38859bb74
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 16:53:46 2011 -0400

    TPAC: Restore a width to search bar elements
    
    Use em's instead of pixels to better handle relative fonts at some
    distant point in the future.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/css/skin/default/opac/style.css

commit 47d7b67590ec7a7566982ede9c05d10b9ae18947
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 16:00:58 2011 -0400

    Fix README issues
    
    Martha Driscoll <driscoll@noblenet.org> noted that the
    create_database.sql script wasn't actually targeted by the psql command,
    and also that there was an extraneous <code> tag in the OpenSRF start
    command.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	README

commit 4186d6f18ab2e022e99a8b7478c13d67b33a1db3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 15:44:25 2011 -0400

    TPAC: Delete contentslider.css as it is not being used
    
    Nothing references contentslider.css, it is noise.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	39	Open-ILS/web/css/skin/default/opac/contentslider.css
 delete mode 100644 Open-ILS/web/css/skin/default/opac/contentslider.css

commit d6557d0254c87eb009c7475c574279350333ffb2
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 15:33:01 2011 -0400

    TPAC: Remove unused CSS from semiauto.css
    
    Ran a script that essentially did the equivalent of:
    
    for i in "semiauto.css definitions"; do
        echo -n $i; echo -n " : "; ack -c -h "$i" Open-ILS/src/templates/opac
    
    Where there were no hits, I deleted the entry from semiauto.css.
    
    Now things are getting manageable...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	117	Open-ILS/web/css/skin/default/opac/semiauto.css

commit 2382dbe9003a35f83dc0ee12dfe10db37cd1e65d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 15:24:50 2011 -0400

    TPAC: Localize the "move to bookbag" string
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/anon_list.tt2

commit 6439d5f95c101c43fb78001b2fa62c43f5756d00
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 13:00:49 2011 -0400

    TPAC: Bring used CSS definitions over from semiauto.css
    
    Convert ".red" class to ".alert", delete classes that were defined in
    semiauto.css as being verified as being in use that are actually no longer
    in use, and merge the remainder to style.css. This will avoid one more
    HTTP request as well as a huge mess of CSS to have to worry about
    carrying around.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/myopac/circs.tt2
3	3	Open-ILS/src/templates/opac/myopac/main.tt2
1	1	Open-ILS/src/templates/opac/myopac/prefs.tt2
1	1	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
0	26	Open-ILS/web/css/skin/default/opac/semiauto.css
52	0	Open-ILS/web/css/skin/default/opac/style.css

commit fe4efe2ef44dca5321840f75367313444468ccf6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Oct 19 13:42:16 2011 -0400

    CStoreEditor batch_retrieve repairs
    
    1. If the caller provides additional cstore params, like flesh,
    flesh_fields, etc. make sure we only use the first component of the
    search (the list of identifier values) for the cstore search.
    
    2. Determine the identifier field from the class being retrieved instead
    of hard-coding it to be "id"
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

12	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/CStoreEditor.pm

commit b5aacbb7145948814ea73788505821945a2a545e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Oct 19 12:23:00 2011 -0400

    add some 1em margins just to avoid text against the left edge
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

12	10	Open-ILS/web/css/skin/default/opac/style.css

commit 672b6863ecb31a061c9de597df0f7fe4c9bef0ca
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 20 15:44:12 2011 -0400

    ACQ: Add open holds count to lineitem worksheet
    
    Includes a generic bre_open_holds_count reactor utility method
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

9	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
85	0	Open-ILS/src/sql/Pg/upgrade/0642.data.acq-worksheet-hold-count.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0642.data.acq-worksheet-hold-count.sql

commit a9475ad61c4279bdd2f1b5cb3c60f1bba1a00c74
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 19 12:00:34 2011 -0400

    TPAC: Remove most egregious fixed-width style attributes
    
    Attacking the most obvious width elements in style.css gives us a usable
    TPAC display, albeit with some remaining cleanup in extremely limited
    widths.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

15	16	Open-ILS/web/css/skin/default/opac/style.css

commit 82ded68e36fdff10db4d76aeb3d1fe4510333b44
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Oct 19 00:36:58 2011 -0400

    Tiny follow up to previous commit regarding sorting bookbag items
    
    Do the same thing to the sorter for the anonymous list
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/anon_list.tt2

commit 384b53fe4a28a89afd8a420f3f5e41d44682bcd6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Oct 18 23:38:53 2011 -0400

    TPac: Put staff saved searches in same div as facets on the results page
    
    And on the record page, make them less ugly. We need to get rid of this
    974-px-wide business. It's ridiculous, and it keeps us busy fighting CSS
    just to keep a silly grey margin on the right side of the display, and
    it keeps us from using all available space.  We need to simplify the CSS
    greatly, in fact. Let's bite that bullet sooner than later.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/src/templates/opac/parts/result/table.tt2
1	9	Open-ILS/src/templates/opac/results.tt2
2	2	Open-ILS/web/css/skin/default/opac/style.css

commit a42f0289fd4608e47410ff2f88012052d72e4798
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Oct 18 19:54:42 2011 -0400

    remove the Sort by Relavance option from the bookbag sort options
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/lists.tt2
1	1	Open-ILS/src/templates/opac/parts/filtersort.tt2

commit 8d941d04b0f831c125e7c0b00ce03b25f680959e
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue Oct 18 13:25:34 2011 -0400

    add a couple semicolons
    
    Not strictly required, but may as well save a picosecond
    of grief for the next person who adds to this code.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 711f4252efc589836bbee08ae8ae9b7e31cb2516
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 15 13:38:17 2011 -0400

    Create events for hold_request.cancel.patron
    
    When a patron cancels his/her own hold, create events for the
    (already-existing) hold_request.cancel.patron A/T hook.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

5	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 1fd945019278c0fd05346aca4a88c0c94f0fae8a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Oct 18 12:07:46 2011 -0400

    Re-fetch hold for cancel notify to correct timestamp
    
    Re-fetch the cancelled hold from the DB before passing it off to
    action/trigger for notification processing.  Otherwise, A/T attempts to
    perform date math on "now" instead of a valid timestamp and subsequently
    croaks.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 296264efe6fcef702bf87e1bf6dba3ced81b9645
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Oct 16 18:39:00 2011 -0400

    Cache open-ils.fielder results by locale
    
    The problem was particularly visible in search facets, but existed
    before: the cache key used for fielder results did not take locale into
    account, so on a multi-locale system the first locale won and populated
    the cache for all other locales.
    
    Use a session locale if provided, otherwise default to the locale set in
    opensrf.xml
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

6	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Fielder.pm

commit 0a3ba77bfb997d4896f9f8168057db39f4f14953
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Oct 18 11:42:56 2011 -0400

    Add a view-in-catalog link to bookbags
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

7	0	Open-ILS/src/templates/opac/myopac/lists.tt2

commit 9eaadfeda3506e52651c8b8695da1e569765ec7c
Author: Sarah E. Chodrow <sarah.chodrow@bibliotheca-itg.com>
Date:   Wed Sep 14 09:15:14 2011 -0400

    Initial patch from Sarah Chodrow on LP bug 849447.
    
    Also check for standing penalties and expired cards when checking
    if it is ok for the patron to checkout, charge_ok.
    
    Developer's Certificate of Origin 1.1
    
    By making a contribution to this project, I certify that:
    
    (a) The contribution was created in whole or in part by me and I
        have the right to submit it under the open source license
        indicated in the file; or
    
    (b) The contribution is based upon previous work that, to the best
        of my knowledge, is covered under an appropriate open source
        license and I have the right under that license to submit that
        work with modifications, whether created in whole or in part
        by me, under the same open source license (unless I am
        permitted to submit under a different license), as indicated
        in the file; or
    
    (c) The contribution was provided directly to me by some other
        person who certified (a), (b) or (c) and I have not modified
        it.
    
    (d) I understand and agree that this project and the contribution
        are public and that a record of the contribution (including all
        personal information I submit with it, including my sign-off) is
        maintained indefinitely and may be redistributed consistent with
        this project or the open source license(s) involved.
    
    Signed-off-by: Sarah E. Chodrow (sarah.chodrow@bibliotheca-itg.com)
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

18	2	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit 30fa94a8d64250e336b4f2b56b2901414fcc6323
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Oct 18 10:07:08 2011 -0400

    Stamping upgrade script for LP#847973
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
11	0	Open-ILS/src/sql/Pg/upgrade/0641.schema.org_unit_setting_json_check.sql
0	11	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_setting_json_check.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0641.schema.org_unit_setting_json_check.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_setting_json_check.sql

commit e4b1f26c84f090b1ccc2c56681ac3bff40e1b7d8
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Sep 12 11:29:51 2011 -0400

    LP#847973 ensure JSON values for org settings
    
    I don't believe you can violate this constraint via the Library Settings UI,
    but this will catch speedy-admins mucking directly in the database.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	1	Open-ILS/src/sql/Pg/005.schema.actors.sql
11	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_setting_json_check.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.org_unit_setting_json_check.sql

commit 7114a6b284d57814a7937741d3afac97025ab917
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 17 15:00:33 2011 -0400

    TPac: Describe bookbags mo' semantically
    
    Rather than "big-strong", use a heading (H2, as the previously used H2
    headings got bumped to H1) and wrap the description in a styled DIV
    rather than just dumping it after a <br /> and wrapping it in <em>.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/templates/opac/myopac/lists.tt2
5	0	Open-ILS/web/css/skin/default/opac/style.css

commit 19bd5bf1e2376d652440946b2f6b2d5f2daa2f24
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Oct 14 17:53:49 2011 -0400

    TPac: bookbags - stop trying to show everything at once
    
    Go back to displaying one bookbag at a time (not counting the temporary
    list, when that is populated)
    
    This hopefully constitutes a usability improvement.
    
    While it doesn't provide paging of bookbags themselves or of the items
    therein, it should make that easier to do.  Showing all bookbags and all
    their items made it nonobvious how paging would even be expected to
    behave.
    
    This also provides the same sorting for the items in the temporary list
    as in real bookbags.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

22	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
28	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
9	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
138	136	Open-ILS/src/templates/opac/myopac/lists.tt2
29	24	Open-ILS/src/templates/opac/parts/anon_list.tt2
1	1	Open-ILS/src/templates/opac/parts/filtersort.tt2
12	0	Open-ILS/web/css/skin/default/opac/style.css

commit 0609edea9c6a0e51c4362a6dcaea601e36f06b62
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 17 13:54:10 2011 -0400

    Typo: It's MARC, not Marc. Sheesh.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/web/opac/locale/en-US/lang.dtd

commit c3ada14743a66e686f1ae5b2579c3a3b027739c9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Sep 14 13:58:27 2011 -0400

    Save MARC Default Template per-server
    
    In case you use multiple servers with different template lists
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/xul/staff_client/server/cat/marc_new.xul

commit 552003348b8401db102b971c0dc7df1a838faf99
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Sep 14 13:37:27 2011 -0400

    Remember MARC Template selection
    
    Implement both a workstation default and "last used" for the MARC template
    selector.
    
    Workstation default is set with a new "Set Workstation Default" button.
    
    "Last used" will override the workstation default, and is updated every
    time you load a template. It is forgotten when you close the client.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
33	2	Open-ILS/xul/staff_client/server/cat/marc_new.xul
2	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 4cdaec700215f07cf3bf35c8f09fb6dc347c0b4e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Oct 4 15:28:36 2011 -0400

    Add "submit on enter" to all advanced search boxes
    
    Instead of just the one with an ID specified.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

7	1	Open-ILS/web/opac/skin/default/js/adv_global.js

commit a816a7136c1947d6bda773dae30647e102849a55
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Oct 14 14:20:56 2011 -0400

    Stamped upgrade scrip fro authorities-indb-with-nfi
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
544	0	Open-ILS/src/sql/Pg/upgrade/0640.schema-acs-nfi.sql
0	544	Open-ILS/src/sql/Pg/upgrade/XXXX.schema-acs-nfi.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0640.schema-acs-nfi.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema-acs-nfi.sql

commit 4ac646952b8c40fc8cf445e77e76287b28da36b8
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Oct 11 14:25:36 2011 -0400

    Move the NACO normalization script to earlier in the baseline schema installation process, as it is now used in the authority schema
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

72	0	Open-ILS/src/sql/Pg/002.functions.config.sql
0	72	Open-ILS/src/sql/Pg/020.schema.functions.sql

commit 40a4b6e6a7784eedd80c8ca968ee2316314f54d0
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Oct 7 16:22:42 2011 -0400

    Wrapper functions in the baseline schema that were missed in the upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema-acs-nfi.sql

commit 399a5cc724ee3afce781f7e9dc1b50bb570a952b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Oct 7 10:15:19 2011 -0400

    Address regression causing main headings to be null because the thesaurus code we not being extracted as it was before
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
4	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema-acs-nfi.sql

commit 52fc7f08004508d0355f93dd7c4c51cc193b0513
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Sep 21 16:38:08 2011 -0400

    New in-db search and browse of authorities with non-filing-indicator support
    
    Upon authority ingest, record simple authority headings for searching,
    browsing and sorting.  Respect non-filing indicators, if configured
    (configuration is the nfi field on authority.control_set_authority_field).
    
    Provide a full suite of search/browse top/center alpha/rank functions
    based on authority tag, bib tag or browse axis at the database layer.
    
    Provide functions to find the main-only and full tag list, and ref-variant
    versions of the previously defined functions.
    
    Teach OpenILS::WWW::SuperCat (responsible for RESTful feed-generating
    interfaces) to use new OpenILS::Application::SuperCat methods that in
    turn use the database methods.  The change should be transparent to
    users of SuperCat web APIs.
    
    Carry indicators over from authority main entries to bibs, when applying
    them in the marc editor.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/examples/fm_IDL.xml
45	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/authority.pm
86	0	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
29	12	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm
436	12	Open-ILS/src/sql/Pg/011.schema.authority.sql
7	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
7	0	Open-ILS/src/sql/Pg/999.functions.global.sql
533	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema-acs-nfi.sql
9	0	Open-ILS/xul/staff_client/server/cat/marcedit.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema-acs-nfi.sql

commit a97ede007d7928117b734a43acd3d12343795e22
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Oct 14 12:14:14 2011 -0400

    LP873614 print_init error printing bill history
    
    xulG.url_prefix needs to be present for anything using util/print.js and the
    Mozilla print strategy.  Alternately, we could duplicate the logic behind
    url_prefix and bundle it into print.js :-/
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	1	Open-ILS/xul/staff_client/server/patron/bill2.js

commit 5a651ffedcf45dd3fbb0d9263ab82f7d1676dd8f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Oct 13 22:26:25 2011 -0400

    settings-tester.pl - add TPac required modules
    
    Keep up with the TPac requirements in settings-tester.pl
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	1	Open-ILS/src/support-scripts/settings-tester.pl

commit 7842cea0c8304c2c86cb0f045e3563e667064285
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Oct 13 22:25:04 2011 -0400

    Add MARC::Record 2.0.1 minimum test to settings-tester.pl
    
    Wrap the use_ok() tests in a BEGIN block, per the recommendation of the
    Test::More perldoc.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

8	5	Open-ILS/src/support-scripts/settings-tester.pl

commit ada4a5ab37dbb7a5568b00e0096afbb26216e9f2
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Oct 13 22:15:53 2011 -0400

    Settings-tester.pl whitespace
    
    Might as well complete the conversion of the file into modernity.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

169	169	Open-ILS/src/support-scripts/settings-tester.pl

commit 6fdbecf11a7999d62a869f48e78aecf1f74aaf5e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Oct 13 22:13:02 2011 -0400

    Remove oils_web.xml test from settings-tester.pl
    
    In master, oils_web.xml is no more, replaced instead by Apache
    configuration. Awww yeah.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	12	Open-ILS/src/support-scripts/settings-tester.pl

commit debb295184b26018a0087ac60f54f7eaf7b837de
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Oct 13 22:10:23 2011 -0400

    Modernize settings-tester.pl a bit
    
    * Add a section that checks for Evergreen services in opensrf_core.xml
    * Ignore the qstore database credentials, as qstore is unused currently
    * Split things off into subroutines for easier reading
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

196	154	Open-ILS/src/support-scripts/settings-tester.pl

commit 425c29e1e3c80b8d1fc637bf557dc3801e3245e6
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Sep 22 12:52:08 2011 -0400

    Fixes for SIP2 Fee Payment.
    
    Skip negative or zero bill balance when paying multiple bills.
    
    Log amount paid, bill id, balance, and amount remaining when paying
    multiple bills.
    
    Use sprintf("%.2f") to avoid floating point errors.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

8	2	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm

commit 9c344376f62ddb4a917c5e8894ab8f909e4af5ba
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Oct 13 15:57:30 2011 -0400

    Stamping upgrade for asset.merge_record_assets fix from dbs
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
165	0	Open-ILS/src/sql/Pg/upgrade/0639.schema.asset_merge_record_assets.sql
0	168	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.asset_merge_record_assets.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0639.schema.asset_merge_record_assets.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.asset_merge_record_assets.sql

commit 9eff9a28b617f77b7cf488319b2f6e1399a8143e
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Oct 13 11:49:45 2011 -0400

    Fix located URI merging in action.merge_record_assets()
    
    Perhaps due to the unexpected results of the XPath expression, which
    returns a count of nodes for subfields, etc, rather than just a count of
    the number of 856 datafields, NULL was being concatenated onto a string
    - which of course made the string NULL.
    
    Use COALESCE() to prevent the NULLness from spreading and enable
    action.merge_record_assets() to do the right thing.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	1	Open-ILS/src/sql/Pg/999.functions.global.sql
168	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.asset_merge_record_assets.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.asset_merge_record_assets.sql

commit 28cd1266dd18fc1e81f110db2ca6e9a05155b9ff
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Sep 27 13:02:14 2011 -0400

    More self-closing cleanup
    
    All div and span tags in tt2, js, html, and xhtml files.
    
    Ignored .xml files, as they are not (to my knowledge) served as text/html.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

12	12	Open-ILS/src/templates/acq/invoice/view.tt2
2	2	Open-ILS/src/templates/acq/lineitem/findbib.tt2
2	2	Open-ILS/src/templates/acq/lineitem/related.tt2
1	1	Open-ILS/src/templates/acq/lineitem/worksheet.tt2
2	2	Open-ILS/src/templates/acq/picklist/brief_record.tt2
1	1	Open-ILS/src/templates/acq/picklist/list.tt2
1	1	Open-ILS/src/templates/acq/picklist/user_request.tt2
6	6	Open-ILS/src/templates/acq/po/view.tt2
1	1	Open-ILS/src/templates/acq/search/unified.tt2
1	1	Open-ILS/src/templates/actor/user/register.tt2
1	1	Open-ILS/src/templates/circ/selfcheck/main.tt2
1	1	Open-ILS/src/templates/conify/global/action_trigger/event_definition_data.tt2
1	1	Open-ILS/src/templates/conify/global/asset/copy_location_order.tt2
1	1	Open-ILS/src/templates/conify/global/config/barcode_completion.tt2
1	1	Open-ILS/src/templates/conify/global/config/circ_matrix_matchpoint.tt2
1	1	Open-ILS/src/templates/conify/global/config/coded_value_map.tt2
1	1	Open-ILS/src/templates/vandelay/inc/progress.tt2
9	9	Open-ILS/src/templates/vandelay/inc/queue.tt2
2	2	Open-ILS/src/templates/vandelay/inc/upload.tt2
57	57	Open-ILS/web/conify/global/actor/org_unit.html
1	1	Open-ILS/web/conify/global/admin.html
1	1	Open-ILS/web/js/dojo/openils/widget/GridColumnPicker.js
1	1	Open-ILS/web/js/dojo/openils/widget/TranslatorPopup.js
7	7	Open-ILS/web/reports/oils_rpt.xhtml
8	8	Open-ILS/web/reports/oils_rpt_builder.xhtml
5	5	Open-ILS/web/reports/oils_rpt_editor.xhtml
3	3	Open-ILS/web/reports/oils_rpt_folder_window.xhtml
3	3	Open-ILS/web/reports/oils_rpt_param_editor.xhtml
3	3	Open-ILS/xul/staff_client/server/admin/cash_reports.xhtml
4	4	Open-ILS/xul/staff_client/server/admin/closed_dates.xhtml
1	1	Open-ILS/xul/staff_client/server/admin/copy_locations.xhtml
2	2	Open-ILS/xul/staff_client/server/admin/hold_pull_list.xhtml
9	9	Open-ILS/xul/staff_client/server/admin/hold_pull_list_classic.xhtml
1	1	Open-ILS/xul/staff_client/server/admin/non_cat_types.xhtml
9	9	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml
2	2	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml
7	7	Open-ILS/xul/staff_client/server/patron/ue.xhtml
3	3	Open-ILS/xul/staff_client/server/patron/user_edit.xhtml

commit e9c35ab32aba749f56eef02d0794d6f86633c952
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 27 10:51:29 2011 -0400

    Replace self-closing divs with open/close divs
    
    XML != HTML
    
    Traditionally, Vandelay templates were parsed as XML on the server for
    DTD replacement.  With the advent of locale::maketext for templates,
    Vandelay no longer needs to be parsed as XML.  However, not parsing as
    XML leaves any self-closing divs (<div/>) intact in the final source,
    which are treated as opening divs in text/html.  This patch replaces
    self-closing divs with open/close pairs.
    
    https://bugs.launchpad.net/evergreen/+bug/860676
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/conify/global/config/hold_matrix_matchpoint.tt2
1	1	Open-ILS/src/templates/vandelay/inc/attrs.tt2
2	2	Open-ILS/src/templates/vandelay/inc/queue.tt2

commit ad99eb3eb6109e8250d068c23ed5238b968109b3
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Sep 26 15:52:52 2011 -0400

    Verify session before trying any transactions in SIP->pay_fee.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	0	Open-ILS/src/perlmods/lib/OpenILS/SIP.pm

commit 0cceaa8c24d18b8e2d3691049eef97ae3f373ca6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Oct 12 14:04:01 2011 -0400

    TPac: One prefers to download CSV, not to display it
    
    For the "Download CSV" operation in the TPac "My Lists" interface,
    provoke the user's browser to download the file, rather than displaying
    the file in a new tab/window.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

9	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/src/templates/opac/myopac/lists.tt2

commit 4d6da36ad97c638af7aef89734dc9cb90e3c1020
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 12 14:54:25 2011 -0400

    Give OrgTree.js a locale, always
    
    We started generating locale-specific OrgTree.js files many moons ago,
    and now no longer provide a "default" locale in the root of the
    common/js directory. The result was that the index.xhtml page for the
    staff client was throwing an "_l is undefined" exception; largely
    meaningless, as it seems that the OrgTree isn't even used on that page,
    but noise that doesn't need to be in the JavaScript console.
    
    Here we correct that exception by providing a locale, and hopefully
    prevent any further copy/paste mistakes.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/xul/staff_client/server/index.xhtml

commit bb952f0ade4daec445a5acd10f266285c15af2f3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Oct 11 17:03:57 2011 -0400

    Authentication block logging
    
    * Login too-many-auth-failures message at Info level instead of Internal
    * Log the username getting blocked
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/c-apps/oils_auth.c

commit 654b080c06b6060bacf9c8de755c78712e71d619
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Oct 12 11:47:47 2011 -0400

    Fix cut-paste-o in unapi.sitem, re stream and unit subobjects~
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/990.schema.unapi.sql
35	0	Open-ILS/src/sql/Pg/upgrade/0638.schema.unapi.sitem-fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0638.schema.unapi.sitem-fix.sql

commit 93622d6b359f257300e8837f80bf4eb17864536d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Oct 12 11:01:34 2011 -0400

    Incorrect version number in the upgrade script
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0637.schema.renewal_checkout_counting.sql

commit d667a4942857c8cf4a0c82069eabba44a8c49425
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Oct 12 10:58:47 2011 -0400

    copy-paste-o from the seed data
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	3	Open-ILS/src/sql/Pg/upgrade/0636.data.grace_period_extend.sql

commit e32d01510af485b0b87546781e6ed386af4eb8fc
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Fri Sep 16 08:52:44 2011 -0400

    Fix z39.50 import isbn and issn searches on local catalog.
    
    Make cat_search_z_style_wrapper do identifier searches for isbn and
    issn.
    
    Modify the_quest_for_knowledge to accept identifier searches for isbn
    and issn.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 07deed5b4a5f5e915bbfafd4417642fcfd0eeab4
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Fri Sep 16 12:45:11 2011 -0400

    Add Show In Catalog button to Z39.50 Import.
    
    Changes to z3950.xul:
    Add show_in_catalog command.
    Add button next to Mark for Overlay button.
    
    Changes to z3950.js:
    Enable/disable Show In Catalog button whenever Mark for Overlay
    button is enabled/disabled.
    Add code for show_in_catalog to open the record detail screen in
    a new tab.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

25	0	Open-ILS/xul/staff_client/server/cat/z3950.js
6	0	Open-ILS/xul/staff_client/server/cat/z3950.xul

commit 17c9ebd5d6d3548b23693c544d0ec1d94928d03f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 12 09:43:40 2011 -0400

    README: For master, focus on PostgreSQL 9.1
    
    Given that the backports for Debian and Ubuntu already offer PostgreSQL
    9.1, and Fedora 16 (out in a few weeks) comes with 9.1, focus on 9.1
    where it is available.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

8	11	README

commit 12364ddc04685660fab3f1462910d38cfd94beb7
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Oct 12 09:06:31 2011 -0400

    Add instructions/targets for Ubuntu/Debian PG9.1
    
    No Fedora/RHEL/CentOS changes due to my lack of test environment.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

9	0	Open-ILS/src/extras/Makefile.install
7	1	README

commit 7f8dc5342ca5bb9f93e46bf931d98a198916943e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Oct 12 08:51:01 2011 -0400

    Fix README for 9.1+ DB creation instructions
    
    Also fix 9.0 typo of - instead of _ in filename.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	3	README

commit 0738f5462cc9ae6af9785608a5230498883521e3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Oct 11 20:31:24 2011 -0400

    README: Minor whitespace cleanup
    
    Just to get the indentation standardized on second and subsequent lines
    of bullets. No big whoop.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	4	README

commit b5118965bfc1a19b747420a5b9b06cdb0ef8b2eb
Author: Ben Shum <bshum@biblio.org>
Date:   Tue Oct 11 18:51:32 2011 -0400

    Change PostgreSQL 9 source for Ubuntu Lucid users.
    
    Currently, Ubuntu Lucid does not have backport options for PostgreSQL 9.
    Instead, most community members who use Lucid have been using
    Martin Pitt's PPA as an external repository source.
    Signed-off-by: Ben Shum <bshum@biblio.org>
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

7	3	README

commit ff2f86b94f445a87d1b7c937e275d9e454b735c5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Oct 11 16:55:12 2011 -0400

    TPac: Use workstation to determine staff
    
    Instead of user agent, which may be set easily by anyone, use the presence
    of a workstation ID to determine "staff" use of the TPac.
    
    This is much less likely to be spoofed or incorrect due to things like
    previous use of the extension version of the client in Firefox.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 9ef0d32e369c0501746dd0cc3edfb81a7cecff43
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Oct 11 11:33:28 2011 -0400

    TPac; repairs to advanced search query propagation
    
    In some cases, TPac will duplicate components of an advanced search
    query into the advanced search rows.  This patch fixes that with
    better array handling, particularly with CGI param search components
    that do not have corresponding analogs at a given array position (i.e.
    starting out with arrays of different sizes)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	13	Open-ILS/src/templates/opac/parts/advanced/global_row.tt2

commit 67a9cbcf7e20bd3711a7d207fa47fe4f68fe2e7d
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Sep 7 02:41:43 2011 -0400

    Protect against undefined value as ARRAY reference
    
    We should not assume that the caller is going to supply an array
    (empty or not) of addresses or cards in the input values for the
    open-ils.actor.patron.update method.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

6	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 2e0f3937a7053f25560c79daead9e008d108d5d2
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Sun Sep 25 22:58:32 2011 -0400

    fix another POD glitch
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/tests/datasets/edi_scratch/baker_taylor.ordrsp.jedi.pl

commit c4fba0c28826d0f6b3e1e31ad9c5d8f4ead1041f
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Sun Sep 25 22:51:56 2011 -0400

    fix up POD
    
    - avoids some noise when building the Perl modules for
      distributions that check for correctness when converting
      POD to man pages
    - add a an author test, taken straight from the Test::Pod
      documentation, for POD correctness
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Picklist.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/biblio.pm
3	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/CStoreEditor.pm
3	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/ModsParser.pm
2	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/Redirect.pm
10	0	Open-ILS/src/perlmods/xt/author/pod.t
 create mode 100644 Open-ILS/src/perlmods/xt/author/pod.t

commit fde1da34e60cd2affad35c2622675709e11538eb
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 10 16:46:48 2011 -0400

    Give CentOS / RHEL a chance at installing PostgreSQL 9.0
    
    Evergreen 2.1 requires PostgreSQL 9.0, and we accordingly updated the
    package names back in the summer to point at PostgreSQL 9.0, but nobody
    running CentOS / RHEL brought to our attention that the repo target
    needed to be updated as well. This, although untested, at least gives
    CentOS / RHEL users a fighting chance of installing Evergreen master /
    2.1 on their system.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

3	3	Open-ILS/src/extras/Makefile.install

commit a538232653b8e379e1f6b2e856d5b613d2cdc3aa
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 10 16:15:04 2011 -0400

    Fix broken Net::Z3950::SimpleServer 1.14 install
    
    Pin the install of Net::Z3950::SimpleServer to the
    known-to-work-with yaz 3.0.x version, 1.12. 1.14 introduced dependencies
    on yaz 4.1.x that can't be easily worked around.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

6	4	Open-ILS/src/extras/Makefile.install

commit 10114285701cf1312f9e058ac8ed30f114ead4ab
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 21 17:16:32 2011 -0400

    Correct varname for PostgreSQL RPMs
    
    On Fedora, Red Hat, and CentOS, we were still trying to install
    the set of PostgreSQL RPMs for PostgreSQL 8.4 using PGSQL_84_RPMS.
    This had been updated to PGSQL_90_RPMS to match the updated
    database version - using the right varname resolves the problem
    (at least on Fedora).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

3	3	Open-ILS/src/extras/Makefile.install

commit 4e6dcbfb6ea318afca3303c313c6d57615de93ff
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Oct 10 13:45:16 2011 -0400

    Stamping baseline schema for previous commit
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 08382dd05f8ee1dc1ba3ad4935e8d35cc9d6b052
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Oct 10 13:42:11 2011 -0400

    Fix, as provided by Doug Kyle, for LP#822918
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

18	16	Open-ILS/src/sql/Pg/100.circ_matrix.sql
201	0	Open-ILS/src/sql/Pg/upgrade/0637.schema.renewal_checkout_counting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0637.schema.renewal_checkout_counting.sql

commit 68a82e7eea6df75eae3966c95538047af0e98a57
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Oct 10 13:32:55 2011 -0400

    Stamped upgrade script for Grace Period Closed-Date Extension features
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
52	0	Open-ILS/src/sql/Pg/upgrade/0636.data.grace_period_extend.sql
0	28	Open-ILS/src/sql/Pg/upgrade/XXXX.data.grace_period_extend.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0636.data.grace_period_extend.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.grace_period_extend.sql

commit e4bb24703fe6a73a649691761b2df308dd21bbbf
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 15 12:10:12 2011 -0400

    Grace period auto extension and backdate awareness
    
    Grace period auto extension:
    
    Default is "grace periods don't auto extend".
    
    OU setting turns on grace period auto extension. By default they only do so
    when the grace period ends on a closed date, but there are two modifiers to
    change that.
    
    The first modifier causes grace periods to extend for all closed dates that
    they intersect. This is "grace periods are only consumed by open days."
    
    The second modifier causes a grace period that ends just before a closed
    day, with or without extension having happened, to include the closed day
    (and any following it) as well. This is mainly so that a backdate into the
    closed period following the grace period will assume the "best case" of the
    item having been returned after hours on the last day of the closed date.
    
    Backdate grace period awareness:
    
    By moving grace period calculations into a shared location backdating can
    check the grace period, including extensions. If it finds that the backdate
    is within the grace period (before or after extension) then instead of
    voiding the fines for after the backdate it instead voids all fines for the
    circulation. This emulates what would have happened (no fines) if the item
    had been checked in at the time the backdate was made to take effect.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

107	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/CircCommon.pm
2	32	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
28	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
28	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.grace_period_extend.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.grace_period_extend.sql

commit cdb637c0e24b5b9a04c6c66b5afeffd26d9e5d0d
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Fri Oct 7 14:01:43 2011 -0400

    trival typo fix
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/templates/conify/global/config/coded_value_map.tt2

commit 05f49e9f344f988fb0fe70739b02d48ebfbb9754
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Oct 7 11:38:14 2011 -0400

    control client dump statements through pref
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

9	1	Open-ILS/xul/staff_client/server/skin/custom.js.example

commit d0063cd6e536f4a27925e8228f8a1622717f7974
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Oct 7 09:08:38 2011 -0400

    TPac: Jump-to-details on first result page only
    
    When activated, jump-to-record-details-on-1-hit should only come into
    play on the first page of results.  In other words, if page 2 of a
    search has 1 item, do not jump to the record details page for that item.
    Instead, show page 2 of the search results.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 004d23837442fc5410ecf823342d4837f0f8c69b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 6 16:34:40 2011 -0400

    TPac; start new facet "search" on page 0
    
    When selecting a facet, thereby appending it to the current search,
    start the search over at the first page.  In other words, don't drop
    into page X of a new search, since there may be no page X of the new
    search.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/result/facets.tt2

commit ee0b0144f2b2818d67752323ff1d2f52ea4e3cd3
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Thu Oct 6 13:55:43 2011 -0400

    fix authentication failure
    
    Ensure that the auth_limit values are read when open-ils.auth
    initializes, not during oilsAuthInit().  This solves a problem
    observed on brick-based setups where authentication could
    incorrectly fail because the drone that processes
    open-ils.auth.authenticate.complete didn't have the the block
    count value initialized yet.
    
    Also fixed type nit when compare the fail count to the block
    limit.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

35	35	Open-ILS/src/c-apps/oils_auth.c

commit 1dc246008f287819da7ad9107e87a5bd967dbdae
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 30 16:55:05 2011 -0400

    Fix "0 holds created" message on successful hold
    
    Caused by results not always being an array.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	0	Open-ILS/xul/staff_client/server/patron/place_hold.js

commit 0db5e112ffda7099c3209d33d12bc2a42153a4f0
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Oct 6 11:42:54 2011 -0400

    TPac: My List add/remove page anchor fix
    
    Removed /g modifier from URL anchor regex to prevent URLs with multiple
    page #-anchors.  This change primarily affects IE which includes #-anchors
    in the referer header.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm

commit 2c4841f00487b0653f69fa2fa7f7917353a1e6a5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Oct 4 17:51:35 2011 -0400

    Really add *entire* selection list to a purchase order, when desired,
    
    and generally do what a user would expect when, in Acq, the user
    executes an operation on "all items".
    
    This addresses LaunchPad bug #810030.
    
    The fundamental issue is that an AcqLiTable, which is used in several
    different ways in different interfaces, may be representing items on a
    selection list (for example), but it doesn't necessarily know all of the
    items that belong to that selection list.  It only knows what it has drawn.
    
    This addresses that deficiency by teaching the getSelected() method
    some new tricks so that it can consult the server in the various ways
    appropriate to getting a list of /all/ the items on a selection list, a
    purchase order, a virtual PO, a set of search results, etc.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

160	39	Open-ILS/web/js/ui/default/acq/common/li_table.js
13	0	Open-ILS/web/js/ui/default/acq/common/li_table_pager.js
46	19	Open-ILS/web/js/ui/default/acq/search/unified.js

commit 1ba8903c40413f692ff0146ece061417eafcdafd
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 5 16:30:54 2011 -0400

    Fix copy-paste-o: "su - postgres" to become postgres
    
    Thanks to sal_ in IRC who caught this nugget!
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	README

commit 21ab8e25595faf24bfc413611f7e3a52497c140d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Oct 5 13:12:30 2011 -0400

    README: Explicitly identify accounts for commands
    
    Add a preamble to the beginning listing all of the accounts referenced
    in the instructions (Linux accounts, PostgreSQL accounts, Evergreen
    administrator accounts). Also move the Developer Instructions to the
    start to follow the natural order of operations.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

153	113	README

commit 5787a0ffb34f19f432fac8a9c112b8d2170501f0
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Oct 5 15:16:17 2011 -0400

    Avoid collecting facet data for non-facet fields
    
    If a config.metabib_field (Admin -> Server Admin -> MARC Search/Facet
    Fields) starts out as a facet field but is later changed, data for that
    facet can still bubble up since it has already been extracted.  This
    patch prevents facets for config.metabib_field entries whose
    facet_field=false from getting collected/cached for search results.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit b808c3860cc23513aaa061398a0b4f7b5895bbc5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Oct 4 15:25:00 2011 -0400

    TPac: jump to details page on single hit
    
    When enabled, any time an OPAC search yields 1 result, the user will be
    redirected to the record detail page for that result.  This change adds
    2 new org unit settings, one to control the behavior in the staff
    client, the other to control the public catalog.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

58	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
17	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
44	0	Open-ILS/src/sql/Pg/upgrade/0635.data.opac.jump-to-details-setting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0635.data.opac.jump-to-details-setting.sql

commit 55b1a4a086ebd786d37ce88e171b077792519a01
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Oct 4 23:17:39 2011 -0400

    Fix typo in lang.dtd: "instantenous"
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/opac/locale/en-US/lang.dtd

commit 3ce3300ff879d23e53852e71879e42d0e2d8dc63
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Oct 4 23:04:15 2011 -0400

    i18n: Fix es-ES illegal use of '%' in lang.dtd
    
    The '%' character is used to include previously defined blocks in DTD
    files; would be nice if translate-toolkit gave a more obvious error to
    alert us to this rather than saying the en-US doesn't validate and
    dying.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	4	build/i18n/po/lang.dtd/es-ES.po

commit d3a08ef7eb34a4834d1590bf1ff1953330d2e22a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Oct 4 14:40:44 2011 -0400

    Slightly updated about.html for rel_2_1
    
    Not sure we want to actually keep listing individuals in this file -
    there's a lot more credit to spread around - but at least I can bring it
    somewhat up to date with current info.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

15	9	Open-ILS/xul/staff_client/chrome/content/main/about.html

commit cb56b66329964ecf0fdd27ae721b93d321b30c62
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Oct 4 14:22:15 2011 -0400

    pin version for upgrade script
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
10	0	Open-ILS/src/sql/Pg/upgrade/0634.security_lockdown.sql
0	3	Open-ILS/src/sql/Pg/upgrade/XXXX.security_lockdown.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0634.security_lockdown.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.security_lockdown.sql

commit c5b58fa98b415173786de6aa35db68d4aece2f35
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Aug 15 09:04:13 2011 -0400

    Unwrapped upgrade script for security lockdown
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	0	Open-ILS/src/sql/Pg/upgrade/XXXX.security_lockdown.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.security_lockdown.sql

commit 8d748bd69eb6d75ad4c6fc7360bcae5e9a52a41a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Aug 15 08:59:31 2011 -0400

    Require permission or pref to debug in client
    
    Disables all debug functions I know of unless:
    
    1 - You have new DEBUG_CLIENT permission (after login)
    
    This should work even on operator change.
    Once a given debug interface is open you can change operator back.
    
    2 - You have a client with the debug preference enabled
    
    This causes the client in all places I touched to think you have DEBUG_CLIENT
    This also allows debugging *before* login, including in the Standalone interface.
    
    Debug functions I know of:
    
    Debug box on login page (already protected by pref)
    Debug items in Admin menu
        Venkman
        Javascript Shells
        Inspector
        Chrome List
    CTRL+SHIFT+F7 debug box in overlays
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/util_overlay_chrome.xul
1	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/util_overlay_offline.xul
2	0	Open-ILS/xul/staff_client/chrome/content/auth/controller.js
15	0	Open-ILS/xul/staff_client/chrome/content/main/main.js
40	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
33	11	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
1	1	Open-ILS/xul/staff_client/server/OpenILS/util_overlay.xul

commit 3cbc8a303e969243105a6e80104aec6b889aaf05
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 12 09:17:46 2011 -0400

    Clear password from password_prompt post-login
    
    Otherwise it remains as the plain text value.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	0	Open-ILS/xul/staff_client/chrome/content/auth/controller.js

commit b235f1e01d959ae673d8b89bd062508b7b16fdeb
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Oct 4 14:13:43 2011 -0400

    i18n: Fix ru-RU lang.dtd problem
    
    No ampersands at the end of a string! Breaks moz2po horribly.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	build/i18n/po/lang.dtd/ru-RU.po

commit 2d28a7aa88394c8167e30e683f7e3b01b7a5c939
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Oct 4 13:20:41 2011 -0400

    pin version for upgrade script
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
27	0	Open-ILS/src/sql/Pg/upgrade/0633.new_print_method.sql
0	20	Open-ILS/src/sql/Pg/upgrade/XXXX.new_print_method.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0633.new_print_method.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.new_print_method.sql

commit ef3742e255ca87755cae467fdc67b2c71f6e9be7
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Sep 12 12:43:59 2011 -0400

    Switch to Modal printing
    
    Prevents an OS-level race condition on window focus.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	3	Open-ILS/xul/staff_client/chrome/content/util/print.js
1	1	Open-ILS/xul/staff_client/chrome/content/util/print_win.js

commit 4894c8f25d5a59dbd5d830c28fc9f50fe31cb92f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Aug 24 11:32:15 2011 -0400

    Unwrapped upgrade script for print.custom_js_file
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

20	0	Open-ILS/src/sql/Pg/upgrade/XXXX.new_print_method.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.new_print_method.sql

commit 865c23330a9e891024e2df3696dfe5a827ed545c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Aug 24 11:31:59 2011 -0400

    Remove in-template javascript, add script files
    
    Adds support for a print_custom.js file and an org unit specified file.
    
    If either exists and contains a print_custom function it will be called
    before printing to allow for DOM manipulation.
    
    If neither exists the print_win.js file will call all functions it has
    defined.
    
    In addition, if any code sets do_print to false the window will close
    instead of attempting to print.
    
    The print_custom function will receive the type of template used, if any.
    This only applies to "Receipt Template" based print jobs, and the type in
    question is the "Type" that shows in the template editor.
    
    Functions defined in print_win.js:
    
    print_init
        Main function, checks for print_custom and does final printing
    
    print_do_sums
        Does summing of values.
    
    print_check_alt
        Does swapping out of template blocks with display:none styling.
    
    print_check_noprint
        Disables printing under certain circumstances.
    
    For more information about usage of the print_do_sums, print_check_alt,
    and print_check_noprint functions check the comments in print_win.js.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

11	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
25	4	Open-ILS/xul/staff_client/chrome/content/util/print.js
165	0	Open-ILS/xul/staff_client/chrome/content/util/print_win.js
 create mode 100644 Open-ILS/xul/staff_client/chrome/content/util/print_win.js

commit 3891ba9abdf39dd079472e5213e7db1407e47b8d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Oct 4 13:00:59 2011 -0400

    Stamped upgrade script for username limit settings
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
33	0	Open-ILS/src/sql/Pg/upgrade/0632.data.username-limit-settings.sql
0	26	Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0632.data.username-limit-settings.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql

commit 0bb87e5c2c8cc4d8ec2e76773a26d1c5f07dbd38
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Sep 26 10:19:20 2011 -0400

    Unwrapped, badly named upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

26	0	Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.temp.sql

commit 7abf33b9d79e6b565621b84be2c08d68e69db5e9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 22:37:22 2011 -0400

    Wording change on username error
    
    Add that they may be restricted by policy.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/update_username.tt2
1	1	Open-ILS/web/opac/locale/en-US/opac.dtd

commit 1f3b8dc16977fcb1a76b22443b79fbc204be7ed2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 22:31:41 2011 -0400

    Username Change Limits
    
    Default is "Only allowed to change username if it looks like a barcode".
    
    There is a "Lock Username Changes" option to disallow username changing via
    the OPAC entirely, useful if syncing usernames to an outside source.
    
    There is also a username change limit disabling option that, if enabled and
    the Lock option is disabled, allows the previous behaviour of unlimited
    username changes.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

49	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
18	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
4	0	Open-ILS/src/templates/opac/myopac/prefs.tt2
17	1	Open-ILS/web/opac/skin/default/js/myopac.js

commit 501968ff1bb546e26e6e683901c9f58b4f187596
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 21:50:15 2011 -0400

    Username Rules
    
    In TPac, enforce the "username can't look like a barcode" rule.
    Add new setting for username validation. If set, usernames must match.
    Add patron registration checks for usernames:
        No spaces
        If set, can look like a barcode (initial/no username picked)
        If set, can look like a username
        If both set, must look like one of them
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

14	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
9	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1	1	Open-ILS/src/templates/opac/myopac/update_username.tt2
28	1	Open-ILS/web/js/ui/default/actor/user/register.js
8	0	Open-ILS/web/opac/skin/default/js/myopac.js

commit 0d181b644230dc82ce9dfcb5b16e59276a3a1f5d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 16:51:20 2011 -0400

    Require password to change email/username
    
    Alter backend to check password period, not just for password changes.
    Add form elements for asking for current password to JSPac and TPac.
    Add handling for said form elements where needed.
    Add handling for "incorrect password" events in TPac.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
14	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
7	0	Open-ILS/src/templates/opac/myopac/update_email.tt2
7	0	Open-ILS/src/templates/opac/myopac/update_username.tt2
4	2	Open-ILS/web/opac/skin/default/js/myopac.js
30	8	Open-ILS/web/opac/skin/default/xml/myopac/myopac_summary.xml

commit 412b231c92c2dc9efe221a9c00c08a97ea35a0a2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 16:28:29 2011 -0400

    TPac: Default Password Strength Rule
    
    Every other password interface seems to have it.
    Implemented as a single regex in this case.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

5	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 949039a1666f888444dc541ad5fa2601c57aef47
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Sep 12 13:33:03 2011 -0400

    When workstation is invalid request a new seed
    
    The original one may no longer be valid
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	0	Open-ILS/xul/staff_client/chrome/content/auth/session.js

commit 263ae01df4c90d17c5052fa37da7ca365a5b5b59
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 1 16:41:33 2011 -0400

    Make more auth values configurable
    
    Amount of time seed is valid
    Amount of time to keep failure count in memcache since last auth event
    Number of failures before locking out auth attempts
    
    Also, remove seed from memcache once it has been used once.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

5	0	Open-ILS/examples/opensrf.xml.example
47	8	Open-ILS/src/c-apps/oils_auth.c

commit efeff4fb87ce5ebe274d407af309cf8088af9954
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 30 11:55:35 2011 -0400

    Brute Force protection for authentication
    
    Count auth failures in memcache.
    If 10+ have occurred cause failure.
    
    After 90 seconds of no activity counter resets.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

29	0	Open-ILS/src/c-apps/oils_auth.c

commit 87fd4a693825072a764bb112aa20e4388e024944
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Sep 30 13:37:58 2011 -0400

    link asset.copy_template.status to config.copy_status in the IDL
    
    If nothing else, this provides a dropdown for status in the copy
    template editor (the one for Serials, under the admin menus, not the
    one on the copy editing interface).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	1	Open-ILS/examples/fm_IDL.xml

commit 855a9926c2294128d30cb4c49d25eb3c0e3f7a93
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Oct 4 09:22:03 2011 -0400

    Make sure baseline schema is up to date
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit de67a84de3bbb1cb70e3224765c5cbf85c8f1cc1
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 3 23:35:35 2011 -0400

    Fix update_db.sh to set eg_version correctly
    
    psql wants --set=VARNAME=VALUE, we had -set VARNAME=VALUE; tested this
    fix and it works with PostgreSQL 9.0.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	build/tools/update_db.sh

commit 4a31cf769598910ab49f99995007fef966bdb61f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 3 23:22:27 2011 -0400

    TPAC: Fix searchbar typo by closing div
    
    Nesting of divs was thrown off, resulting in the footer appearing in the
    wrong place in search results / record display / etc, with the result
    that the footer inherited the 974px width instead of full 100% width.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit c8af163c565cab39ea10e832b0ca459fb82fdbf0
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 3 22:34:47 2011 -0400

    LP865817: Fix Located URI visibility test
    
    Wrapped upgrade script for LP865817.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

326	0	Open-ILS/src/sql/Pg/upgrade/0631.schema.located_uri_visiblity_fix.sql
0	333	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.located_uri_visiblity_fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0631.schema.located_uri_visiblity_fix.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.located_uri_visiblity_fix.sql

commit ba47ecc6196055886ad6f23284819be5dec8448d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Oct 3 15:01:26 2011 -0400

    Correct Located URI visiblity
    
    Located URIs should be visible when they exist at the search context org unit
    or an ancestor thereof.  However, before the change embodied in this commit,
    they effectively acted exactly like copies, making records visible anywhere
    within the context+depth range.
    
    An example, using the stock example OU hierarchy:
    
     * Before this change, a Located URI with an owner of BR1 would cause its
    record to show up in a search at (or scoped to via a depth parameter) BR1,
    SYS1 or CONS.
    
     * Before this change, a Located URI with an owner of SYS1 would NOT cause its
    record to show up in a search at (or scoped to via a depth parameter) BR1!
    
     * After this change, a Located URI with an owner of BR1 will cause its record
    to show up only in a search with a context OU of BR1, irrespective of depth
    scoping.
    
     * After this change, a Located URI with an owner of SYS1 WILL cause its
    record to show up in a search with a context OU of BR1 or SYS1, regardless of
    depth scoping.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

14	1	Open-ILS/src/sql/Pg/300.schema.staged_search.sql
333	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.located_uri_visiblity_fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.located_uri_visiblity_fix.sql

commit 0e9dab142d4cd6eabc395a01971eeef1005e50c3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 3 22:03:00 2011 -0400

    TPAC: No need for a 26px padding on the header bottom
    
    26px on the bottom of the header was giving a bit too much space to the
    header.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/css/skin/default/opac/style.css

commit 93be12f729cd6b21b40294daebe2272105687bd1
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Oct 3 21:58:17 2011 -0400

    TPAC: Replace dashboard images with CSS
    
    Also gets rid of a number of tables and a bunch of CSS definitions with
    hard-coded widths that will cause trouble when longer translated terms
    get dropped into place.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

24	72	Open-ILS/src/templates/opac/parts/topnav.tt2
26	37	Open-ILS/web/css/skin/default/opac/style.css
-	-	Open-ILS/web/images/dash-corner-left1.png
-	-	Open-ILS/web/images/dash-corner-left2.png
-	-	Open-ILS/web/images/dash-corner-mid1.png
-	-	Open-ILS/web/images/dash-corner-mid2.png
-	-	Open-ILS/web/images/dash-corner-right1.png
-	-	Open-ILS/web/images/dash-corner-right2.png
-	-	Open-ILS/web/images/dash-divider.jpg
 delete mode 100644 Open-ILS/web/images/dash-corner-left1.png
 delete mode 100644 Open-ILS/web/images/dash-corner-left2.png
 delete mode 100644 Open-ILS/web/images/dash-corner-mid1.png
 delete mode 100644 Open-ILS/web/images/dash-corner-mid2.png
 delete mode 100644 Open-ILS/web/images/dash-corner-right1.png
 delete mode 100644 Open-ILS/web/images/dash-corner-right2.png
 delete mode 100644 Open-ILS/web/images/dash-divider.jpg

commit d19847c24827faadfcdb5035af21374016c8e632
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Oct 3 11:52:34 2011 -0400

    Tpac: expand facet display fix
    
    When only one facet is collapsed, make sure we can expand it.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	2	Open-ILS/src/templates/opac/parts/result/facets.tt2

commit d28ca61d634511a6bf693b8b4e3da1ef18dcd503
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 30 16:01:22 2011 -0400

    TPac: Facets on results page
    
    Show search facets along the left side of the results page.  Clicking on
    a facet re-runs the current search with the  new facet appeneded.
    Selected facets are styled to indicate they are selected.  Clicking on a
    selected facet removes that facet from the set of selected facets (i.e.
    it backs out the facet).
    
    TODO: update CSS to match default Evergreen skin
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
16	6	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
95	0	Open-ILS/src/templates/opac/parts/result/facets.tt2
2	2	Open-ILS/src/templates/opac/parts/result/table.tt2
73	0	Open-ILS/web/css/skin/default/opac/style.css
-	-	Open-ILS/web/images/adv_search_minus_btn.png
-	-	Open-ILS/web/images/adv_search_plus_btn.png
-	-	Open-ILS/web/images/facet_box_bg.png
-	-	Open-ILS/web/images/facet_box_bg_bottom.png
 create mode 100644 Open-ILS/src/templates/opac/parts/result/facets.tt2
 create mode 100644 Open-ILS/web/images/adv_search_minus_btn.png
 create mode 100644 Open-ILS/web/images/adv_search_plus_btn.png
 create mode 100644 Open-ILS/web/images/facet_box_bg.png
 create mode 100644 Open-ILS/web/images/facet_box_bg_bottom.png

commit 11c3308a4b88c5d6c03b68058fb142c1b650e01b
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Oct 3 16:03:00 2011 -0400

    JSPAC: Fix a bug (I think) in orgIsMine(), and show more MFHD holdings ...
    
    ... when search scope would have it so.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/web/opac/common/js/org_utils.js
2	1	Open-ILS/web/opac/skin/default/js/rdetail.js

commit a443e3b6e3aa7d75dc61dc95fa2cdc408ebfda65
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Mon Oct 3 16:07:30 2011 -0400

    Tweak the tab shape in TT OPAC
    
    A slight modification to the "tab" elements throughout the OPAC to make them look more like tabs on a file folder.  I
    found the rounded off bottoms less attractive, so I flattened them out to flow more evenly with the rest of the page.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	2	Open-ILS/web/css/skin/default/opac/style.css

commit 85ab9d852476148221f1fc6af5732dff990fc0b7
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Mon Oct 3 10:47:22 2011 -0400

    Have TTPac utilize gradient friendly, transparent PNG files for the Evergreen logo
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/footer.tt2
1	1	Open-ILS/src/templates/opac/parts/homesearch.tt2
1	1	Open-ILS/src/templates/opac/parts/topnav_logo.tt2
-	-	Open-ILS/web/opac/images/eg_tiny_logo.png
-	-	Open-ILS/web/opac/images/main_logo.png
-	-	Open-ILS/web/opac/images/small_logo.png
 create mode 100644 Open-ILS/web/opac/images/eg_tiny_logo.png
 create mode 100644 Open-ILS/web/opac/images/main_logo.png
 create mode 100644 Open-ILS/web/opac/images/small_logo.png

commit d318641e28690e15c4af03fe16f3a5ab544d1f0c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Oct 2 22:59:28 2011 -0400

    TPAC: Simple CSS gradients for the header/footer
    
    Firefox, Safari, Chrome, Opera, and the Android browser support
    gradients. Use them. iOS 5 will support gradients. IE does not,
    naturally, but support is promised for IE 10.
    
    Including better IE support.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/src/templates/opac/parts/footer.tt2
2	0	Open-ILS/src/templates/opac/parts/topnav.tt2
16	6	Open-ILS/web/css/skin/default/opac/style.css

commit f7a390f42e1978335f944b471a4ecbd82a1212ca
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Sep 20 09:20:06 2011 -0400

    TPAC: Remove the printnav bar from all screens
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

0	1	Open-ILS/src/templates/opac/advanced.tt2
0	1	Open-ILS/src/templates/opac/cnbrowse.tt2
0	1	Open-ILS/src/templates/opac/home.tt2
0	1	Open-ILS/src/templates/opac/login.tt2
0	1	Open-ILS/src/templates/opac/mylist.tt2
0	1	Open-ILS/src/templates/opac/parts/myopac/base.tt2
0	1	Open-ILS/src/templates/opac/place_hold.tt2
1	2	Open-ILS/src/templates/opac/record.tt2
0	1	Open-ILS/src/templates/opac/results.tt2

commit e25803954e90932e37d92ca8d197cc2591e3b0fe
Author: Dan Scott <dscott@laurentian.ca>
Date:   Tue Sep 20 09:19:41 2011 -0400

    Revamp the search bar to a narrative, single-line style
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

33	53	Open-ILS/src/templates/opac/parts/searchbar.tt2
1	1	Open-ILS/web/css/skin/default/opac/style.css

commit 8216e5cb24b71636cf35913ede8add8de36ea81b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 19 23:09:51 2011 -0400

    Add the remaining extras back to the record details
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit bf90109b0187b58b8754b091e129b21f44325ac2
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 19 22:49:55 2011 -0400

    TPAC: and then there were series
    
    Also, tighten up spacing considerably.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

4	4	Open-ILS/src/templates/opac/parts/record/authors.tt2
27	11	Open-ILS/src/templates/opac/parts/record/series.tt2
58	59	Open-ILS/src/templates/opac/parts/record/summary.tt2

commit 25f19af5dd3f8db2bd776d6f4f102b0d25615cec
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 19 19:55:08 2011 -0400

    Move the copies up higher
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

43	37	Open-ILS/src/templates/opac/parts/record/summary.tt2
3	2	Open-ILS/web/css/skin/default/opac/style.css

commit adce3ba75655c74a90b7cece4a34196ecdaf492c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 19 19:43:28 2011 -0400

    Remove "Expand all extras" as there are fewer extras to expand
    
    Cleaner.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/templates/opac/parts/record/authors.tt2
0	1	Open-ILS/src/templates/opac/parts/record/extras.tt2
7	27	Open-ILS/src/templates/opac/parts/record/summary.tt2
11	12	Open-ILS/web/css/skin/default/opac/style.css

commit 4bfb479dac07e004a11483332b1aaf19ac71cf4c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 19 18:59:25 2011 -0400

    Going for the Jungle skin feel (like Amazon)
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

15	10	Open-ILS/src/templates/opac/parts/record/authors.tt2
0	2	Open-ILS/src/templates/opac/parts/record/body.tt2
0	2	Open-ILS/src/templates/opac/parts/record/extras.tt2
23	20	Open-ILS/src/templates/opac/parts/record/subjects.tt2
141	157	Open-ILS/src/templates/opac/parts/record/summary.tt2
31	2	Open-ILS/web/css/skin/default/opac/style.css

commit f3bed157bc524e5c88e07407fc56b1bfb8998406
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 30 12:19:35 2011 -0400

    TPac: propagate searches to advanced search page
    
    The link that takes users to the advanced searc page now propagates
    any existing (well, all) search URL params.  The change required some
    minor augmentation to the code that builds the advanced search form.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

13	0	Open-ILS/src/templates/opac/parts/advanced/global_row.tt2
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2

commit d34fa398b8d875524808a8005aa19fe65e107822
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 23:27:19 2011 -0400

    LP740320: Make <enter> submit the new bookbag dialog
    
    For the keyboard jockeys out there - if the enter key doesn't submit,
    the UI reviewer will not commit.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	1	Open-ILS/web/opac/skin/default/js/rdetail.js

commit c947f931015bd2ae7b10b7658392ece9e3e9812b
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Fri Aug 26 09:23:53 2011 -0700

    Initial dialog isn't quite wide enough, here's a hackish way to fix it
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/opac/skin/default/xml/page_rdetail.xml

commit f8b04fff3c1c9e676748c7de71017c289c9a0305
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Fri Aug 26 09:19:14 2011 -0700

    Should probably use a more common button rather than the one for the advanced search
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/opac/skin/default/xml/page_rdetail.xml

commit ab9105555d12927c19b7191d20705e691bec66a8
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Fri Aug 26 08:56:44 2011 -0700

    This makes more sense as an alert; the Dojo dialog has no button which is not user-friendly.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 1540fbd90ac4311e0eda95f88efb73cea37a60a7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 2 12:42:53 2011 -0400

    Markup-based dijit.Dialog implementation, inspired by and based on a patch from Joseph Lewis in https://bugs.launchpad.net/evergreen/+bug/787162
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

24	5	Open-ILS/web/opac/skin/default/js/rdetail.js
5	1	Open-ILS/web/opac/skin/default/xml/page_rdetail.xml

commit 75316b940b908ad47682dea64210d1775e96fc90
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 22:22:14 2011 -0400

    i18n: Merge en-GB translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

18	9	build/i18n/po/AutoFieldWidget.js/en-GB.po
16	11	build/i18n/po/TranslatorPopup.js/en-GB.po
11	6	build/i18n/po/User.js/en-GB.po
16	9	build/i18n/po/XULTermLoader.js/en-GB.po
160	82	build/i18n/po/acq.js/en-GB.po
42	7	build/i18n/po/admin.properties/en-GB.po
7	6	build/i18n/po/auth.properties/en-GB.po
104	45	build/i18n/po/capture.js/en-GB.po
698	526	build/i18n/po/cat.properties/en-GB.po
390	64	build/i18n/po/circ.properties/en-GB.po
151	109	build/i18n/po/common.properties/en-GB.po
17	9	build/i18n/po/conify.dtd/en-GB.po
245	250	build/i18n/po/conify.js/en-GB.po
4557	2473	build/i18n/po/db.seed/en-GB.po
5707	3626	build/i18n/po/fm_IDL.dtd/en-GB.po
587	351	build/i18n/po/ils_events.xml/en-GB.po
4695	3747	build/i18n/po/lang.dtd/en-GB.po
77	104	build/i18n/po/multiclass_search_help.html/en-GB.po
354	53	build/i18n/po/offline.properties/en-GB.po
205	32	build/i18n/po/opac.dtd/en-GB.po
67	36	build/i18n/po/opac.js/en-GB.po
463	330	build/i18n/po/patron.properties/en-GB.po
66	35	build/i18n/po/pickup_and_return.js/en-GB.po
40	27	build/i18n/po/pull_list.js/en-GB.po
128	18	build/i18n/po/register.js/en-GB.po
6	5	build/i18n/po/reports.dtd/en-GB.po
5	7	build/i18n/po/reports.js/en-GB.po
127	79	build/i18n/po/reservation.js/en-GB.po
139	53	build/i18n/po/selfcheck.js/en-GB.po
36	9	build/i18n/po/vandelay.dtd/en-GB.po

commit 09e9d3e8f3daa985e579fda01ce5d01b4d94361c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 22:14:50 2011 -0400

    i18n: Merge en-CA translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

18	9	build/i18n/po/AutoFieldWidget.js/en-CA.po
17	12	build/i18n/po/TranslatorPopup.js/en-CA.po
12	7	build/i18n/po/User.js/en-CA.po
17	10	build/i18n/po/XULTermLoader.js/en-CA.po
161	83	build/i18n/po/acq.js/en-CA.po
137	100	build/i18n/po/admin.properties/en-CA.po
4	3	build/i18n/po/auth.properties/en-CA.po
105	46	build/i18n/po/capture.js/en-CA.po
1022	923	build/i18n/po/cat.properties/en-CA.po
659	386	build/i18n/po/circ.properties/en-CA.po
299	278	build/i18n/po/common.properties/en-CA.po
119	114	build/i18n/po/conify.dtd/en-CA.po
247	250	build/i18n/po/conify.js/en-CA.po
3728	2783	build/i18n/po/db.seed/en-CA.po
4000	3472	build/i18n/po/fm_IDL.dtd/en-CA.po
556	465	build/i18n/po/ils_events.xml/en-CA.po
6691	5868	build/i18n/po/lang.dtd/en-CA.po
76	96	build/i18n/po/multiclass_search_help.html/en-CA.po
119	28	build/i18n/po/offline.properties/en-CA.po
203	30	build/i18n/po/opac.dtd/en-CA.po
147	43	build/i18n/po/opac.js/en-CA.po
787	616	build/i18n/po/patron.properties/en-CA.po
66	35	build/i18n/po/pickup_and_return.js/en-CA.po
41	28	build/i18n/po/pull_list.js/en-CA.po
128	18	build/i18n/po/register.js/en-CA.po
204	179	build/i18n/po/reports.dtd/en-CA.po
111	102	build/i18n/po/reports.js/en-CA.po
128	80	build/i18n/po/reservation.js/en-CA.po
140	54	build/i18n/po/selfcheck.js/en-CA.po
136	115	build/i18n/po/vandelay.dtd/en-CA.po

commit 80833b49b985049002703de648e3831c8b5f2941
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 21:57:24 2011 -0400

    i18n: Merge pt-BR translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

18	9	build/i18n/po/AutoFieldWidget.js/pt-BR.po
16	11	build/i18n/po/TranslatorPopup.js/pt-BR.po
11	6	build/i18n/po/User.js/pt-BR.po
16	9	build/i18n/po/XULTermLoader.js/pt-BR.po
54	33	build/i18n/po/acq.js/pt-BR.po
40	5	build/i18n/po/admin.properties/pt-BR.po
5	4	build/i18n/po/auth.properties/pt-BR.po
90	33	build/i18n/po/capture.js/pt-BR.po
682	528	build/i18n/po/cat.properties/pt-BR.po
363	54	build/i18n/po/circ.properties/pt-BR.po
150	109	build/i18n/po/common.properties/pt-BR.po
15	7	build/i18n/po/conify.dtd/pt-BR.po
249	254	build/i18n/po/conify.js/pt-BR.po
4041	2926	build/i18n/po/db.seed/pt-BR.po
5750	3619	build/i18n/po/fm_IDL.dtd/pt-BR.po
449	399	build/i18n/po/ils_events.xml/pt-BR.po
4771	3797	build/i18n/po/lang.dtd/pt-BR.po
95	122	build/i18n/po/multiclass_search_help.html/pt-BR.po
352	52	build/i18n/po/offline.properties/pt-BR.po
205	29	build/i18n/po/opac.dtd/pt-BR.po
47	25	build/i18n/po/opac.js/pt-BR.po
458	317	build/i18n/po/patron.properties/pt-BR.po
31	11	build/i18n/po/pickup_and_return.js/pt-BR.po
29	16	build/i18n/po/pull_list.js/pt-BR.po
122	11	build/i18n/po/register.js/pt-BR.po
9	5	build/i18n/po/reports.dtd/pt-BR.po
5	7	build/i18n/po/reports.js/pt-BR.po
52	33	build/i18n/po/reservation.js/pt-BR.po
113	36	build/i18n/po/selfcheck.js/pt-BR.po
37	9	build/i18n/po/vandelay.dtd/pt-BR.po

commit 6935a6353c9f841049c32982ee59518a99e3c3d4
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 21:51:03 2011 -0400

    i18n: Merge ru-RU translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

16	7	build/i18n/po/AutoFieldWidget.js/ru-RU.po
16	11	build/i18n/po/TranslatorPopup.js/ru-RU.po
11	6	build/i18n/po/User.js/ru-RU.po
11	6	build/i18n/po/XULTermLoader.js/ru-RU.po
45	28	build/i18n/po/acq.js/ru-RU.po
38	9	build/i18n/po/admin.properties/ru-RU.po
5	4	build/i18n/po/auth.properties/ru-RU.po
94	37	build/i18n/po/capture.js/ru-RU.po
676	521	build/i18n/po/cat.properties/ru-RU.po
337	50	build/i18n/po/circ.properties/ru-RU.po
130	100	build/i18n/po/common.properties/ru-RU.po
13	5	build/i18n/po/conify.dtd/ru-RU.po
252	255	build/i18n/po/conify.js/ru-RU.po
4566	2810	build/i18n/po/db.seed/ru-RU.po
5769	3644	build/i18n/po/fm_IDL.dtd/ru-RU.po
415	341	build/i18n/po/ils_events.xml/ru-RU.po
4757	3797	build/i18n/po/lang.dtd/ru-RU.po
93	119	build/i18n/po/multiclass_search_help.html/ru-RU.po
345	48	build/i18n/po/offline.properties/ru-RU.po
178	31	build/i18n/po/opac.dtd/ru-RU.po
140	41	build/i18n/po/opac.js/ru-RU.po
459	329	build/i18n/po/patron.properties/ru-RU.po
32	12	build/i18n/po/pickup_and_return.js/ru-RU.po
33	20	build/i18n/po/pull_list.js/ru-RU.po
127	15	build/i18n/po/register.js/ru-RU.po
5	4	build/i18n/po/reports.dtd/ru-RU.po
5	5	build/i18n/po/reports.js/ru-RU.po
65	42	build/i18n/po/reservation.js/ru-RU.po
113	36	build/i18n/po/selfcheck.js/ru-RU.po
36	10	build/i18n/po/vandelay.dtd/ru-RU.po

commit e5c85982815a40fdc87f083d8d2eba2a575d3418
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 16:22:06 2011 -0400

     i18n: Merge Armenian (hy-AM) translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

18	9	build/i18n/po/AutoFieldWidget.js/hy-AM.po
16	11	build/i18n/po/TranslatorPopup.js/hy-AM.po
11	6	build/i18n/po/User.js/hy-AM.po
16	9	build/i18n/po/XULTermLoader.js/hy-AM.po
160	83	build/i18n/po/acq.js/hy-AM.po
40	5	build/i18n/po/admin.properties/hy-AM.po
5	5	build/i18n/po/auth.properties/hy-AM.po
103	46	build/i18n/po/capture.js/hy-AM.po
702	528	build/i18n/po/cat.properties/hy-AM.po
402	70	build/i18n/po/circ.properties/hy-AM.po
150	108	build/i18n/po/common.properties/hy-AM.po
14	6	build/i18n/po/conify.dtd/hy-AM.po
245	250	build/i18n/po/conify.js/hy-AM.po
4873	2853	build/i18n/po/db.seed/hy-AM.po
5710	3629	build/i18n/po/fm_IDL.dtd/hy-AM.po
584	349	build/i18n/po/ils_events.xml/hy-AM.po
1583	728	build/i18n/po/lang.dtd/ar-AR.po
4714	3776	build/i18n/po/lang.dtd/hy-AM.po
77	103	build/i18n/po/multiclass_search_help.html/hy-AM.po
361	56	build/i18n/po/offline.properties/hy-AM.po
216	41	build/i18n/po/opac.dtd/hy-AM.po
147	43	build/i18n/po/opac.js/hy-AM.po
459	319	build/i18n/po/patron.properties/hy-AM.po
67	34	build/i18n/po/pickup_and_return.js/hy-AM.po
40	27	build/i18n/po/pull_list.js/hy-AM.po
128	18	build/i18n/po/register.js/hy-AM.po
8	7	build/i18n/po/reports.dtd/hy-AM.po
5	5	build/i18n/po/reports.js/hy-AM.po
127	78	build/i18n/po/reservation.js/hy-AM.po
140	53	build/i18n/po/selfcheck.js/hy-AM.po
43	16	build/i18n/po/vandelay.dtd/hy-AM.po

commit a8f5e602915bb54bfa614696bf1df5381a456d08
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 16:13:52 2011 -0400

    i18n: Merge cs-CZ translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

18	9	build/i18n/po/AutoFieldWidget.js/cs-CZ.po
16	11	build/i18n/po/TranslatorPopup.js/cs-CZ.po
11	6	build/i18n/po/User.js/cs-CZ.po
17	10	build/i18n/po/XULTermLoader.js/cs-CZ.po
163	81	build/i18n/po/acq.js/cs-CZ.po
100	75	build/i18n/po/admin.properties/cs-CZ.po
16	16	build/i18n/po/auth.properties/cs-CZ.po
104	46	build/i18n/po/capture.js/cs-CZ.po
838	773	build/i18n/po/cat.properties/cs-CZ.po
660	338	build/i18n/po/circ.properties/cs-CZ.po
140	128	build/i18n/po/common.properties/cs-CZ.po
75	66	build/i18n/po/conify.dtd/cs-CZ.po
255	259	build/i18n/po/conify.js/cs-CZ.po
3648	3049	build/i18n/po/db.seed/cs-CZ.po
5367	3171	build/i18n/po/fm_IDL.dtd/cs-CZ.po
436	382	build/i18n/po/ils_events.xml/cs-CZ.po
5164	4330	build/i18n/po/lang.dtd/cs-CZ.po
97	123	build/i18n/po/multiclass_search_help.html/cs-CZ.po
419	139	build/i18n/po/offline.properties/cs-CZ.po
433	272	build/i18n/po/opac.dtd/cs-CZ.po
143	47	build/i18n/po/opac.js/cs-CZ.po
515	393	build/i18n/po/patron.properties/cs-CZ.po
67	35	build/i18n/po/pickup_and_return.js/cs-CZ.po
41	27	build/i18n/po/pull_list.js/cs-CZ.po
128	18	build/i18n/po/register.js/cs-CZ.po
18	6	build/i18n/po/reports.dtd/cs-CZ.po
30	27	build/i18n/po/reports.js/cs-CZ.po
128	80	build/i18n/po/reservation.js/cs-CZ.po
141	53	build/i18n/po/selfcheck.js/cs-CZ.po
83	62	build/i18n/po/vandelay.dtd/cs-CZ.po

commit 933e7df26650a9b45794594743d037d21305f9ab
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 15:51:22 2011 -0400

    i18n: Merge es-ES translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

16	7	build/i18n/po/AutoFieldWidget.js/es-ES.po
16	11	build/i18n/po/TranslatorPopup.js/es-ES.po
11	6	build/i18n/po/User.js/es-ES.po
16	9	build/i18n/po/XULTermLoader.js/es-ES.po
168	79	build/i18n/po/acq.js/es-ES.po
60	24	build/i18n/po/admin.properties/es-ES.po
7	6	build/i18n/po/auth.properties/es-ES.po
104	45	build/i18n/po/capture.js/es-ES.po
975	796	build/i18n/po/cat.properties/es-ES.po
616	318	build/i18n/po/circ.properties/es-ES.po
171	152	build/i18n/po/common.properties/es-ES.po
38	30	build/i18n/po/conify.dtd/es-ES.po
258	252	build/i18n/po/conify.js/es-ES.po
3184	2419	build/i18n/po/db.seed/es-ES.po
4921	2914	build/i18n/po/fm_IDL.dtd/es-ES.po
390	312	build/i18n/po/ils_events.xml/es-ES.po
5114	4080	build/i18n/po/lang.dtd/es-ES.po
93	120	build/i18n/po/multiclass_search_help.html/es-ES.po
324	48	build/i18n/po/offline.properties/es-ES.po
452	205	build/i18n/po/opac.dtd/es-ES.po
52	28	build/i18n/po/opac.js/es-ES.po
417	318	build/i18n/po/patron.properties/es-ES.po
38	11	build/i18n/po/pickup_and_return.js/es-ES.po
30	17	build/i18n/po/pull_list.js/es-ES.po
126	13	build/i18n/po/register.js/es-ES.po
25	20	build/i18n/po/reports.dtd/es-ES.po
5	7	build/i18n/po/reports.js/es-ES.po
82	58	build/i18n/po/reservation.js/es-ES.po
121	38	build/i18n/po/selfcheck.js/es-ES.po
35	17	build/i18n/po/vandelay.dtd/es-ES.po

commit 2b86062d80cae0c620495c8275203e182aa37518
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 29 15:39:02 2011 -0400

    i18n: Merge fr-CA translation from Launchpad
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

18	9	build/i18n/po/AutoFieldWidget.js/fr-CA.po
16	11	build/i18n/po/TranslatorPopup.js/fr-CA.po
11	6	build/i18n/po/User.js/fr-CA.po
16	9	build/i18n/po/XULTermLoader.js/fr-CA.po
173	69	build/i18n/po/acq.js/fr-CA.po
41	11	build/i18n/po/admin.properties/fr-CA.po
7	6	build/i18n/po/auth.properties/fr-CA.po
88	31	build/i18n/po/capture.js/fr-CA.po
496	207	build/i18n/po/cat.properties/fr-CA.po
448	115	build/i18n/po/circ.properties/fr-CA.po
79	49	build/i18n/po/common.properties/fr-CA.po
14	6	build/i18n/po/conify.dtd/fr-CA.po
269	259	build/i18n/po/conify.js/fr-CA.po
4364	3298	build/i18n/po/db.seed/fr-CA.po
2571	2038	build/i18n/po/fm_IDL.dtd/fr-CA.po
611	342	build/i18n/po/ils_events.xml/fr-CA.po
2475	305	build/i18n/po/lang.dtd/fr-CA.po
73	98	build/i18n/po/multiclass_search_help.html/fr-CA.po
321	51	build/i18n/po/offline.properties/fr-CA.po
222	43	build/i18n/po/opac.dtd/fr-CA.po
153	46	build/i18n/po/opac.js/fr-CA.po
376	137	build/i18n/po/patron.properties/fr-CA.po
68	34	build/i18n/po/pickup_and_return.js/fr-CA.po
35	22	build/i18n/po/pull_list.js/fr-CA.po
123	11	build/i18n/po/register.js/fr-CA.po
37	20	build/i18n/po/reports.dtd/fr-CA.po
48	43	build/i18n/po/reports.js/fr-CA.po
124	71	build/i18n/po/reservation.js/fr-CA.po
143	47	build/i18n/po/selfcheck.js/fr-CA.po
41	13	build/i18n/po/vandelay.dtd/fr-CA.po

commit 3c061dc852add8f9b86006e9265d6ecbb7c0753a
Author: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
Date:   Fri Sep 16 08:52:08 2011 -0400

    Modified spine_labels.js to retain UTF-8 encoding
    
    Dan Wells posted a fix to the DEV list for receipt printing that allowed the
    receipt printer to print UTF-8 characters.  I used the ideas in that fix to
    modify spine_labels.js.  In spine_labels.js, the url passed to the preview in
    preview_xul_192 was encoding the url with the javascript encode() function.
    This function does not preserve UTF-8 encodings.  I changed the function to
    encodeURIComponent, and UTF-8 characters are now displayed properly by the
    spine label printer code.
    
    Signed-off-by: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/xul/staff_client/server/cat/spine_labels.js

commit e9e952727db270125e540716c211eaca39c0b9bf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 29 11:57:46 2011 -0400

    Added missing Penalty module import for AssetCommon
    
    The lack of import primarily affected the Action/Trigger MarkItemLost
    reactor, which does not already import OpenILS::Utils::Penalty directly
    or indirectly.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm

commit 0d5636809fbb11784edc37fd611ac1471c9e1f29
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Sep 28 23:06:19 2011 -0400

    Remove an installation step: Listen 443 uncommenting
    
    Every distribution known to man ships Apache listening on port 443, so
    installers always have to comment out the "Listen 443" directive - so
    why not just comment it out ourselves and save a step in the
    installation instructions?
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/examples/apache/eg.conf
0	2	README

commit 503c7c67128190a6f0e45395a3c55c1f2f55c46f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Sep 28 17:23:13 2011 -0400

    TPac: move google analytics import to head
    
    Google Analytics documention recommends loading the JS in the page
    <head>.
    
    http://www.google.com/support/googleanalytics/bin/answer.py?answer=174090
    
    Use as directed by default.
    
    Also, moved the JS loading chunk to its own template to ease override by
    those who do not wish to use as directed.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/src/templates/opac/parts/base.tt2
18	0	Open-ILS/src/templates/opac/parts/goog_analytics.tt2
0	18	Open-ILS/src/templates/opac/parts/js.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/goog_analytics.tt2

commit a1ca1de82d94bfccb695194944b63f5220f1cb81
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Wed Sep 28 09:09:33 2011 -0400

    A slight modification to prevent clipping in the EDI Accounts interface
    
    Just a few tweaks via CSS to make sure the footer notes don't clip off part of the main grid.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	1	Open-ILS/src/templates/conify/global/acq/edi_account.tt2

commit c5553546720fbace2cb24641e2d1956a3e709c68
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Sep 28 15:45:36 2011 -0400

    Provide proper hrefs for links back from report debugging pages
    
    Reimplementation of a fix provided by Michael Peters.  The originally submitted
    patch included several fixes provided by an unrelated patch, and a regression
    in build-time embedded tokens.
    
    Original branch at: http://git.evergreen-ils.org/?p=working/Evergreen.git;a=shortlog;h=refs/heads/user/mrpeters-isl/clark_kent_back_links
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	7	Open-ILS/src/reporter/clark-kent.pl

commit 4d0676d86ab0c8c85416666d6fcb73c64457647c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 22 12:51:22 2011 -0400

    LP856567: Mark HTML report output as Unicode-encoded
    
    Non-ASCII characters in report ouput that has been generated in HTML
    format appears to be corrupted when viewed in a browser. This can be
    manually corrected by switching the "Encoding" browser option, but it
    would be better to include <meta charset='utf-8'> in the output HTML to
    tell the browser directly.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	2	Open-ILS/src/reporter/clark-kent.pl

commit 6970e27424e43fa35c2e876025bfe89091b553f2
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Sep 27 12:22:38 2011 -0400

    MFHD compression fails with pattern-less captions
    
    The current code assumes that if you try to compress a range of
    MFHD holdings, you actually have the necessary pattern information.
    This commit introduces a very basic check to avoid the most common
    failure case.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD.pm
6	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Caption.pm

commit 10ed91a20a1f76d452688b0033b8a33b7d988e32
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Sep 27 11:46:03 2011 -0400

    Teach update_db.sh to find the currently installed version number via eg_config and supply that when applying updates
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	1	build/tools/update_db.sh

commit 2d4ae0fe29d4170c7f8c021df58bc3a64bebe317
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 27 16:14:59 2011 -0400

    Read STDIN up to record separator then stop
    
    The initial (and only known) target for the importer is OCLC Connexion
    exports, which export 1 record at a time, with each record ending with
    the standard record separator.  There is no end-of-file /
    end-of-transmission indicator, so the while() loop always blocks and
    fails on the timeout alarm after the first record is read.
    
    Until a more flexible solution is in place, roll back support for
    reading multiple records via STDIN.  The original commit was
    
    679506975f0efb6e2f6f17b0c19e3c53c5bfda44
    
    Note, the feature being rolled back was not actually necessary to
    implement the feature in the commit (file-based imports).  It was just
    an added bonus.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	4	Open-ILS/src/support-scripts/marc_stream_importer.pl

commit 54a691aa0206e9f4d4d9cba24bd4c1e49e774b83
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Sep 23 10:55:28 2011 -0400

    LP857460: Get the generic class scheme when adding vols
    
    In a default Evergreen instance, in the "Add Volumes" interface for a
    bib record with both LC and Dewey call numbers, the list of call numbers
    from which you can select appears to be limited to Dewey, even though
    the "Bib Call #" field is populated with an LC call number.
    
    The problem is that here we're grabbing the first entry from the
    asset.call_number_classification table, and you might expect that to be
    the "Generic" entry - however, it turns out to be the "Dewey" entry
    because the entries are ordered alphabetically by .name(), not by
    database ID. (You can test this be changing the name of "Dewey" to
    "Vicious" and see that the "Generic" entry is chosen instead).
    
    This commit changes the process to first search the acnc array for a
    name() = "Generic"; and then if we don't find that, fall back to the
    first entry in the classification scheme.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

22	7	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 250ec72283a24e4aec4f672f4bbc51dfa2b7e211
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 26 17:15:25 2011 -0400

    Removed old vandelay config from sample apache config
    
    Bye, bye xmlent
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	23	Open-ILS/examples/apache/eg_vhost.conf

commit b56c7173b3df954a351c51df27ed3870c235588b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Sep 26 10:04:35 2011 -0400

    TPac: Respect OU opac_visible flags
    
    Unless we appear to be in staff mode. Then continue to ignore them.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

11	9	Open-ILS/src/templates/opac/parts/org_selector.tt2

commit d299e9c6dbc978be4e3a565e859f7b43c4df9b5e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 19:03:27 2011 -0400

    TPac: Fix bolding of bad email/username
    
    HTML filter the variable, not the entire language string.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	1	Open-ILS/src/templates/opac/myopac/update_email.tt2
2	1	Open-ILS/src/templates/opac/myopac/update_username.tt2

commit 69046b827fc4ad21fa6fba99d9f0b983d59b7562
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 14:55:18 2011 -0400

    TPac: Hide CC Payment info when not enabled
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

13	1	Open-ILS/src/templates/opac/myopac/main.tt2
2	1	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2

commit f3e16a8d3b2bd2189d406238728af41f6d176738
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Sep 24 14:23:00 2011 -0400

    TPac Fixes - Missing Quotes
    
    Start off real easy, add some missing quotes.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2

commit 6d7ed210b38701d6ce7aa48c866f7d67ad5dcb8e
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Sep 26 14:23:31 2011 -0400

    Stamping Upgrade Script for Suppress Transits
    
    In addition to stamping, this commit also makes a few trivial
    wording changes.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
23	0	Open-ILS/src/sql/Pg/upgrade/0630.data.suppress_transits.sql
0	17	Open-ILS/src/sql/Pg/upgrade/XXXX.suppress_transits.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0630.data.suppress_transits.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.suppress_transits.sql

commit 27e89882761790636a4ebce6e9ae6dbf261b0553
Author: Jeff Godin <jgodin@tadl.org>
Date:   Wed Sep 14 12:41:51 2011 -0400

    Create git .mailmap file for Evergreen
    
    This is an initial .mailmap file for Evergreen.
    
    The .mailmap file is used by git-shortlog to "coalesce together
    commits by the same person".
    
    In the output of git-shortlog, this eliminates duplicate entries
    such as the username@UUID entries from the svn to git migration.
    
    Compare "git shortlog -nes" with and without this .mailmap
    
    Signed-off-by: Jeff Godin <jgodin@tadl.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

26	0	.mailmap
 create mode 100644 .mailmap

commit 8dc22762b47160e8ccc7e4ab3331f87bc330303a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 23 19:30:20 2011 -0400

    Unwrapped Suppress Transits upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

17	0	Open-ILS/src/sql/Pg/upgrade/XXXX.suppress_transits.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.suppress_transits.sql

commit 8a62edcb3599555413b08e05639003b8e62d613a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Sep 13 21:50:11 2011 -0400

    Suppress Transits
    
    Add two new OU settings:
    
    circ.transit.suppress_hold
    circ.transit.suppress_non_hold
    
    If a transit would be generated between the current library and another and
    the appropriate setting is set for both end with the same value the transit
    will be suppressed. If either end is set to an empty string then transit
    suppression will be disabled, even if both ends are set to an empty string.
    
    In addition, transits from other locations will be received when their
    destination shares suppression with the current library.
    
    circ.transit.suppress_hold will cause holds to go to the hold shelf instead
    of into transit when in effect. Non-hold transits should not check it. This
    should be useful when multiple parts of a library share a hold shelf, but
    are split on the org tree.
    
    circ.transit.suppress_non_hold will cause items to reshelve instead of
    going into transit. Hold transits should not check it. This should be
    useful when multiple parts of a library are in the same building and have
    no need to transit items before reshelving/cataloging.
    
    In order to suppress *all* transits both settings need to be set.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

62	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
18	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit f71a516945762f485ee2e7c625c8ac65bf346307
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 26 13:34:00 2011 -0400

    TPAC: Fix for staff UI with multiple MFHD records
    
    XUL's JavaScript doesn't mind trailing commas on an array,
    but really doesn't like an array in which the elements aren't separated
    by commas :)
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/js.tt2

commit 47f48c33b79bd8dec079ebc0f474ecc1d3aaf0d8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 26 12:56:17 2011 -0400

    TPac: MFHD staff client actions integration
    
    Populdate the necessary window.mfhdDetails data for the staff client and
    fire the mfhdDrawn event
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

27	11	Open-ILS/src/templates/opac/parts/js.tt2
4	2	Open-ILS/web/js/ui/default/opac/staff.js

commit 7e952b4ed88f7425be9ce9c1f7aff9a789578c66
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Sep 26 12:18:03 2011 -0400

    Stamping upgrade script for EDI cleanup
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0629.data.jedi-template.sql
0	14	Open-ILS/src/sql/Pg/upgrade/XXXX.data.jedi-template.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0629.data.jedi-template.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.jedi-template.sql

commit aca9a4d5c7879737ca6fd26fa9b98bee413b93b5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Sep 19 13:19:22 2011 -0400

    Some EDI translation fixes for troublesome input characters
    
    This attempts to address enough of the issues in
    https://bugs.launchpad.net/evergreen/+bug/812593 to move forward.
    
    When the ? character appears in lineitem attributes for a PO that we
    send off for EDI translation, the translator fails if that ? is the last
    character of the string.  This commit avoids that situation.
    
    This commit also removes any Unicode characters from the JEDI (the input
    to the translator process), as they're not going to make it to the
    EDIFACT output anyhow, and will just confound the translator.
    
    This commit also pre-escapes quotation marks in lineitem attributes so
    that we don't produce invalid JSON for our JEDI.
    
    This commit also destroys the death star.
    
    Seriously, the right way to fix some of the issues people have had is
    for somebody to learn Ruby and to address them either in edi_webrick.rb, in
    edi4r, or in openils-mapper (wherever the issues may be).  Working on
    that.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

39	13	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
4	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.jedi-template.sql
7	1	Open-ILS/src/support-scripts/edi_pusher.pl
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.jedi-template.sql

commit fac08ad3cf420e35550c8e64cb36b866210ea125
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Sep 14 14:25:41 2011 -0400

    TPac: Page through search results on details page
    
    Consistent with jspac, when you land on a record details page and you
    got there from doing a search, let the user page through the search
    results directly on the record detail page.
    
    This also includes the necessary JS callbacks to support paging in the
    staff client.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

30	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
39	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
12	0	Open-ILS/src/templates/opac/parts/js.tt2
34	26	Open-ILS/src/templates/opac/parts/record/body.tt2
2	0	Open-ILS/src/templates/opac/parts/searchbar.tt2
1	0	Open-ILS/web/css/skin/default/opac/style.css
26	0	Open-ILS/web/js/ui/default/opac/staff.js

commit de392c054fa1eb554a1a1f7f60f8656e2375cde9
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Sep 26 11:04:12 2011 -0400

    perl-parent prerequisite for RHEL. hope it's fine for centos :)
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/src/extras/Makefile.install

commit be71f1911d4c1eea8d796f39cf15f94e164d246f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Sep 18 22:27:00 2011 -0400

    TPAC: Add some style to MFHD holdings summaries
    
    Simple grey background for the holdings summary header for each record;
    add a TBODY element to the holdings table for validity; offset the MFHD
    type by 1em to group entries under each holdings location.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	2	Open-ILS/src/templates/opac/parts/record/issues.tt2
14	0	Open-ILS/web/css/skin/default/opac/style.css

commit 46642d7ab8c8d5c0cb3caf26dbb67bc399f318fd
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Sep 18 21:12:23 2011 -0400

    TPAC: Give MFHD summaries OU / depth awareness
    
    Rather than returning all results and filtering on the client-side, as
    we're currently doing in the JSPAC, teach the
    open-ils.search.serial.record.bib.retrieve method to accept optional OU
    & OU depth arguments and do the filtering in the query; cuts down on
    network traffic and should be generally more efficient.
    
    Note that in the absence of an explicit "depth" CGI param,
    EGCatLoader/Record currently defaults to a depth of "0"; we could
    teach it to look up & cache the depth of the "loc" param for the sake of
    convenience & arguably more accuracy.
    
    Also note that the sub/dist serial approach probably needs to be taught
    similar method-side filtering, but I hope more knowledgeable brains will
    work out what should happen with ssub.holding_lib / sdist.owning_lib.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

56	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Serial.pm
1	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit a36f7b4c1015541f81c6e3c3ebf8e2e21dbcdbb8
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sun Sep 18 01:37:37 2011 -0400

    TPAC: tentative MFHD display steps
    
    Retrieve and display MFHD records in the TPAC, piggybacking on the
    "Issues" twisty section.
    
    TODO: Take org_unit & depth into account when deciding which MFHD
    records to display. Right now we're just showing all of them.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

24	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
1	1	Open-ILS/src/templates/opac/parts/record/extras.tt2
29	0	Open-ILS/src/templates/opac/parts/record/issues.tt2

commit ed2310ad88bebe1f8be9cf3764ec11503c25f74f
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Sun Sep 25 16:55:38 2011 -0400

    lp859190: make marc_stream_import always import non-matches
    
    Fixes regression of (implicit, undocumented) functionality
    introduced in commit da3a45344205.  Current use case for
    the streaming MARC importer for OCLC Connexion exports assumes
    that non-matching records should always be added.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/support-scripts/marc_stream_importer.pl

commit bee3a079be187e575b72e007e844d496c291684b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Sep 23 14:58:25 2011 -0400

    silent macro updates
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

19	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js

commit d24a63f7f69b568c812465dd850a159731b09fb7
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Sep 23 14:17:02 2011 -0400

    we need %mbts_xact_start% for both the bills_current and bills_historical receipt templates
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js

commit b1076c1dd9ca699c086999fb9800cfc35ed1bd6b
Author: Jeff Godin <jgodin@tadl.org>
Date:   Tue Sep 20 16:27:54 2011 -0400

    Fix bills_current template to use mbts_id macro
    
    Fix bills_current template to use mbts_id macro instead of
    non-existant id macro. Also update sample data so that receipt
    preview displays correctly with respect to mbts_id macro.
    
    Fixes https://bugs.launchpad.net/evergreen/+bug/811175
    
    Signed-off-by: Jeff Godin <jgodin@tadl.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
9	9	Open-ILS/xul/staff_client/server/circ/print_list_template_editor.js

commit d0e5e7177e0e48246787aeebb410356522bdb709
Author: Jeff Godin <jgodin@tadl.org>
Date:   Wed Sep 21 16:41:19 2011 -0400

    Fix: Current Bills thinks it is Bill History
    
    This fixes LP 855894: Bills interface calls itself Bill History,
    uses bills_historical receipt template
    
    https://bugs.launchpad.net/evergreen/+bug/855894
    
    At some point in development, the Current Bills and the Bill History
    interface were in a unified file, with an xul_param of "current" used
    to switch between the two.
    
    Nothing currently sets the xul_param "current", so the Current Bills
    interface (bill2.xul and bill2.js) was improperly:
    
    * not hiding the xact_finish column
    * using a caption label of "Bill History"
    * using the bills_historical receipt template
    
    The Bill History interface was okay -- "not current" was the default.
    
    This commit removes the tests for xul_param('current') and uses the
    appropriate code for each interface.
    
    // this code in both bill2.js and bill_history.js:
    var template = 'bills_historical';
    if (xul_param('current')) template = 'bills_current';
    
    // becomes:
    var template = 'bills_current';    // in bill2.js
    var template = 'bills_historical'; // in bill_history.js
    
    Also: added missing staff.patron.bill_interface.caption.label entity
    
    Signed-off-by: Jeff Godin <jgodin@tadl.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
3	9	Open-ILS/xul/staff_client/server/patron/bill2.js
3	10	Open-ILS/xul/staff_client/server/patron/bill_history.js

commit f79e932bf77919cc14b8b52848d15097eced2fb1
Author: Jeff Godin <jgodin@tadl.org>
Date:   Tue Sep 20 14:41:10 2011 -0400

    Remove the old bills interface.
    
    Remove the old bills interface and references to it.
    
    see https://bugs.launchpad.net/evergreen/+bug/854951
    
    Also remove the XUL_PATRON_BILL_ALTERNATE_VIEW constant and the
    bills_main_view receipt template, as they were only referenced
    in bills.js.
    
    The bills_main_view template will still persist in existing
    workstation configurations until such time as we have code to
    remove unused templates.
    
    I made no effort to remove strings which may have only been used
    by the old bills interface.
    
    Signed-off-by: Jeff Godin <jgodin@tadl.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	6	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
0	1	Open-ILS/xul/staff_client/chrome/content/main/constants.js
0	3	Open-ILS/xul/staff_client/server/main/data.xul
1	1	Open-ILS/xul/staff_client/server/patron/bill_cc_info.xul
0	1159	Open-ILS/xul/staff_client/server/patron/bills.js
0	88	Open-ILS/xul/staff_client/server/patron/bills.xul
0	121	Open-ILS/xul/staff_client/server/patron/bills_overlay.xul
 delete mode 100644 Open-ILS/xul/staff_client/server/patron/bills.js
 delete mode 100644 Open-ILS/xul/staff_client/server/patron/bills.xul
 delete mode 100644 Open-ILS/xul/staff_client/server/patron/bills_overlay.xul

commit c2a60e545a4c950879c694a91004b50f955801ae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 22 16:55:50 2011 -0400

    TPac: repair IE check-all action on transaction list
    
    IE does not respond to 'onchange' for checkboxes?  Use onclick
    instead...
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/src/templates/opac/myopac/main.tt2

commit 9b4693f07a26eed41dfdd98cbc8a59a1a6070962
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 22 11:10:09 2011 -0400

    Stamped upgrade script for ACQ fund view repairs
    
    At the heart of this change is the need to force acq.fund_debit_total to
    return exactly 1 row per fund, instead of 1 per fund + encumbrance
    value.  However, such a change required rearranging a number of
    dependent views.
    
    Also added acq.fund_spent_balance to the set of views that needs
    dropping and re-building.
    
    Minor SQL format change to match surrounding code in schema file
    
    See also https://bugs.launchpad.net/evergreen/+bug/800477
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
16	16	Open-ILS/src/sql/Pg/200.schema.acq.sql
52	0	Open-ILS/src/sql/Pg/upgrade/0628.schema.acq_fund_view_repairs.sql
0	34	Open-ILS/src/sql/Pg/upgrade/xxxx.schema.acq_lp800477
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0628.schema.acq_fund_view_repairs.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.schema.acq_lp800477

commit 4bd5e0b84af5c14cd9e4edbe631e193df4de4274
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Mon Sep 19 16:01:01 2011 -0700

    Addresses LP#800477 where some acq views calculate the totals incorrectly or in unexpected ways.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	17	Open-ILS/src/sql/Pg/200.schema.acq.sql
34	0	Open-ILS/src/sql/Pg/upgrade/xxxx.schema.acq_lp800477
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.schema.acq_lp800477

commit 0c2ec9663097fcb42a55931799619b99adbe1233
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 22 10:57:47 2011 -0400

    The tpac should be SSL inside the staff client
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js

commit 6886c07f4ce333e9a0586ff373037137b9866991
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 22 10:36:57 2011 -0400

    Fix broken Work Log UI
    
    Missed a map_row_to_columns when I was ripping those out in c9c05ce8e179d7a9d4325ac1f429e91fcfe7c9a0
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	1	Open-ILS/xul/staff_client/server/admin/work_log.js

commit 07668697cf13b4687eab878b13446b4771ec9c4e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 22 10:27:11 2011 -0400

    TPac: credit card payment bug fixes / cleanup
    
    * Repaired bug with paying multiple transactions
    * Replaced JS-based back/cancel navigation with a's
    * Added some debug logging
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
10	2	Open-ILS/src/templates/opac/myopac/main_pay.tt2
6	7	Open-ILS/src/templates/opac/myopac/main_payment_form.tt2

commit 5e134e4975fc674a2adfd3e893f2eba49a7bc292
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 22 10:20:27 2011 -0400

    Tpac: better param array detection in mkurl()
    
    Avoid propagating empty arrays as "ARRAY(JUNK)"
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	1	Open-ILS/src/templates/opac/parts/header.tt2

commit 3ba2b7b83280933a36b9b24a19bf386afa8dab3f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Thu Sep 22 01:11:06 2011 -0400

    Password resets: avoid run-on subjects
    
    The password reset template had a space on the first blank line after
    the Subject: which lead to the first paragraph being tacked onto the
    Subject line. Get rid of the space, and create an upgrade script ready
    to roll.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
37	0	Open-ILS/src/sql/Pg/upgrade/0627.data.patron-password-reset-msg.sql
0	38	Open-ILS/src/sql/Pg/upgrade/XXXX.data.patron-password-reset-msg.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0627.data.patron-password-reset-msg.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.patron-password-reset-msg.sql

commit 5dbb9095a5ea8e83e1560c8d62b9c8e208477a66
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 20 10:43:58 2011 -0400

    TPac: password reset honors success/error style
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/src/templates/opac/password_reset.tt2
3	0	Open-ILS/web/css/skin/default/opac/style.css

commit b16adc7c6f88c59492fa37d57dceaf49b1d17b4a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 19 18:18:41 2011 -0400

    TPac: integrated patron password reset
    
    Port the existing password reset functionality into TPac.  This allows
    us to leverage the TPac innards for localization.  It also means there's
    one less moving part.  (and, incidentally, no more dojo for the form).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
68	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
38	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.patron-password-reset-msg.sql
2	2	Open-ILS/src/templates/opac/parts/login/form.tt2
71	0	Open-ILS/src/templates/opac/password_reset.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.patron-password-reset-msg.sql
 create mode 100644 Open-ILS/src/templates/opac/password_reset.tt2

commit 5708b03000eb649c0feda7d430b0096d1faebade
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 16 11:49:08 2011 -0400

    Tpac: longer timeout for marc "expert" search
    
    Since MARC searches can take a while, raise the default timeout from
    1 minute to 2, with the option (at the API layer) of raising it to 5.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

14	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
9	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit e0d8dbf11299207399fd471afeca45cd1bb8346b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Sep 21 13:25:38 2011 -0400

    Add Toggle option to portal for TPac use
    
    In testing I didn't have to restart the staff client, but as constants.js
    is loaded pretty much everywhere I have no clue where the URL array may
    be stale.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	0	Open-ILS/web/opac/locale/en-US/lang.dtd
28	0	Open-ILS/xul/staff_client/server/index.xhtml

commit cedf3685e166614a7c4fe68b60ac1ae950f88c82
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Sep 21 11:35:24 2011 -0400

    Create preference for opac used in staff client
    
    If enabled use the TPac. Otherwise JSPac.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

17	2	Open-ILS/xul/staff_client/chrome/content/main/constants.js
3	0	Open-ILS/xul/staff_client/defaults/preferences/prefs.js

commit 760b324ab8e9db5dcef03d3b8fff819eb17417ae
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Sep 21 22:36:09 2011 -0400

    TPAC: Make "Sort by" select box match style of search bar
    
    The "Sort by" select box in search results had a native widget style,
    compared to the search widget styles of the search bar. A simple CSS
    tweak makes it consistent.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/css/skin/default/opac/style.css

commit b011b7b4b075075010708d56f18834445576fbbb
Author: Dan Scott <dscott@laurentian.ca>
Date:   Wed Sep 21 21:56:39 2011 -0400

    Group "Sort by" and sort select box together
    
    The sort select box was weirdly way over on the right. Fix that.
    
    Also address slightly weird vertical alignment of some elements of the
    results header bar.
    
    Also use <label> to group the "sort by" with the select box; a bit
    better for screen reasers.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

6	6	Open-ILS/src/templates/opac/results.tt2
0	6	Open-ILS/web/css/skin/default/opac/style.css

commit 038c205d146e49ba9727370cc661da9676ff6223
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Sep 21 11:47:36 2011 -0400

    properties in chrome:// return XHR status 0
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/xul/staff_client/chrome/content/main/bindings.xml

commit a120c5a051fa52e61198367eff494e1e3d7d1e4d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Sep 21 11:16:08 2011 -0400

    bump xulrunner version
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/Makefile.am

commit 9d4dc5eb3d3bcfef8aabf47108fa0d399ee5d0c6
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Sep 20 10:52:02 2011 -0400

    LP#854760 messagecat fails with certain 404 pages
    
    We were failing to check the HTTP status on the underlying XHR requests.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/xul/staff_client/chrome/content/main/bindings.xml

commit 4bccbbdf0267c8dd2aca177f5485e9f3ced38c5f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Sep 16 23:44:28 2011 -0400

    Can't have two identical IDs on the same page
    
    Nobody who cares about the pure Web experience ever noticed that this
    page has two identical IDs. Chromium and other browsers complain,
    though, so make them happy.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/templates/password-reset/request-form.tt2

commit 19d5ae86242a855724b1b45d521e145b4b1ee793
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Aug 30 16:30:44 2011 -0400

    fix Show in Catalog for part holds
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

8	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit 5f798af865fdd0d30fa29d95f181df0ad2d43a64
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Sep 9 16:09:33 2011 -0400

    make it obvious that Request Type is required in Create Request dialog
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/examples/fm_IDL.xml

commit 6622633d58332ff9ebf1f7247e8f7fe74fce63a4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 28 08:16:22 2011 -0400

    acq user requests link from patron display
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
13	0	Open-ILS/xul/staff_client/server/patron/display.js
1	0	Open-ILS/xul/staff_client/server/patron/display.xul
1	0	Open-ILS/xul/staff_client/server/patron/display_horiz_overlay.xul
1	0	Open-ILS/xul/staff_client/server/patron/display_overlay.xul

commit 3745fe23d7ef465a1f6164ec67b9215af3a4c0f7
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 28 07:53:56 2011 -0400

    show acq user requests action from lineitems in lists
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/templates/acq/common/li_table.tt2
1	1	Open-ILS/src/templates/acq/picklist/user_request.tt2
3	0	Open-ILS/web/js/ui/default/acq/common/li_table.js
2	7	Open-ILS/web/js/ui/default/acq/picklist/user_request.js

commit 183eaa9491bfe876a6be9558ac16c7f307d7c4ee
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 28 07:27:45 2011 -0400

    wire up Create Request action in acq user requests UI
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/acq/picklist/user_request.tt2
15	0	Open-ILS/web/js/ui/default/acq/picklist/user_request.js

commit bab0eb7e00016f6a05db8251c2f75b00f0e8c235
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 26 09:11:07 2011 -0400

    context filters for acq user requests UI
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

31	8	Open-ILS/src/templates/acq/picklist/user_request.tt2
2	0	Open-ILS/web/js/dojo/openils/acq/nls/acq.js
145	6	Open-ILS/web/js/ui/default/acq/picklist/user_request.js

commit f24c07b0c98d3647b144f8a93674b2ee0ecb10ce
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 26 08:31:32 2011 -0400

    copy/paste-o's, remove (near) duplicate code
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	1	Open-ILS/src/templates/acq/picklist/user_request.tt2
0	18	Open-ILS/web/js/ui/default/acq/picklist/user_request.js

commit 6eac593d2abbb661b58ed8b91c09f91cc58c03f3
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Sep 20 10:55:55 2011 -0400

    Do not overwrite controlmap entries, but extend them (Floating Subdivisions!)
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	2	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit 0817ec391611a1a47923f1c44fd5b117a0967793
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 25 14:20:56 2011 -0400

    Clear hold shelf [expire] time at checkout to alternate patron
    
    When an item on the holds shelf is checked out to an alternate patron
    (i.e. not the hold user), clear the shelf_time and shelf_expire_time
    along with capture_time, current_copy, etc. on the hold.
    
    tsbere++ for isolating the problem.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 5568ae69ac55ab021e3a2fe0583c3ca7602b8578
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Sep 19 17:41:48 2011 -0400

    Take care of some missed db upgrade script numbers
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
17	0	Open-ILS/src/sql/Pg/upgrade/0625.data.opac_staff_saved_search_size.sql
69	0	Open-ILS/src/sql/Pg/upgrade/0626.schema.bookbag-goodies.sql
0	17	Open-ILS/src/sql/Pg/upgrade/XYXY.data.opac_staff_saved_search_size.sql
0	69	Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bookbag-goodies.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0625.data.opac_staff_saved_search_size.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0626.schema.bookbag-goodies.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XYXY.data.opac_staff_saved_search_size.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bookbag-goodies.sql

commit b17fe79ef7043ee06d78585bfbb9e425a8b67d3c
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Sep 19 14:07:22 2011 -0400

    lp854084: fix catalog link in line item table when using TT-OPAC
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 1b5b41377692e56976bcce019cb2908bab48559a
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Sep 16 23:45:53 2011 -0400

    TPAC: Enable password resets - crude, for now
    
    Use the existing crude password reset form to enable password resets.
    Slightly longer term, we need to destroy the existing form and pull it
    into TPAC proper (including such good stuff as real localization and
    getting rid of Dojo / Dijit), but this works for now.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/templates/opac/login.tt2
5	0	Open-ILS/src/templates/opac/parts/config.tt2
4	14	Open-ILS/src/templates/opac/parts/login/form.tt2

commit eef093193ef5d5a0bf21972dca4147c0d0c573be
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Sep 16 19:13:12 2011 -0400

    Staff saved searches when browsing catalog in staff client
    
    By default, show a user's ten most recent searches to them on the left
    side of the results and record details pages.  Configurable by org unit
    setting 'opac.staff_saved_searches.size'
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
7	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
5	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
80	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
9	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
17	0	Open-ILS/src/sql/Pg/upgrade/XYXY.data.opac_staff_saved_search_size.sql
8	0	Open-ILS/src/templates/opac/parts/staff_saved_searches.tt2
10	1	Open-ILS/src/templates/opac/record.tt2
12	2	Open-ILS/src/templates/opac/results.tt2
4	0	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XYXY.data.opac_staff_saved_search_size.sql
 create mode 100644 Open-ILS/src/templates/opac/parts/staff_saved_searches.tt2

commit 6a83b31d3129d82aff77d1b1ca95af1cca8c331a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Aug 3 16:05:21 2011 -0400

    It's a lineitem detail (copy) batch receiver
    
    You can get to it via a button in the upper right-hand corner of
    the view-invoice interface, assuming you're looking at an invoice that's
    already been created/saved (and which has acqlid objects in a receivable
    state), not one you're just now creating.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

64	0	Open-ILS/src/templates/acq/invoice/receive.tt2
1	1	Open-ILS/src/templates/acq/invoice/view.tt2
3	2	Open-ILS/web/js/dojo/openils/acq/nls/acq.js
356	0	Open-ILS/web/js/ui/default/acq/invoice/receive.js
18	0	Open-ILS/web/js/ui/default/acq/invoice/view.js
 create mode 100644 Open-ILS/src/templates/acq/invoice/receive.tt2
 create mode 100644 Open-ILS/web/js/ui/default/acq/invoice/receive.js

commit 9f273271093aa9226c5a27613bb5f7f1d3f0e7db
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Sep 16 18:31:56 2011 -0400

    Bookbag enhancements in TTOPAC
    
    Bookbags have descriptions now (and they're reflected in feeds).
    Bookbag item notes are editable.
    Bookbags can now be sorted by title or author using QP tricks.
    You can export a bookbag as CSV.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/examples/fm_IDL.xml
40	16	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor/Container.pm
52	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
17	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
49	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/ContainerCSV.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
208	21	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm
5	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat/Feed.pm
4	0	Open-ILS/src/sql/Pg/070.schema.container.sql
50	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
69	0	Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bookbag-goodies.sql
1	0	Open-ILS/src/templates/opac/myopac/list/print.tt2
65	5	Open-ILS/src/templates/opac/myopac/lists.tt2
1	1	Open-ILS/src/templates/opac/parts/advanced/search.tt2
4	5	Open-ILS/src/templates/opac/parts/filtersort.tt2
2	0	Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/ContainerCSV.pm
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/YYYY.schema.bookbag-goodies.sql
 create mode 100644 Open-ILS/src/templates/opac/myopac/list/print.tt2

commit 22dc530aeb26749ebaf6121353d97f8ce4a252b3
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Sep 16 22:16:19 2011 -0400

    TPAC: PROCESS config.tt2 needed in results.tt2
    
    If the values in config.tt2 are not available to the results page, then
    all of them are false - so Google Analytics, Resolver, etc, won't work
    in the results page.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/src/templates/opac/results.tt2

commit 6af8d867625bb5eb3b144c0e4db008360697c518
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jul 6 10:12:00 2011 -0400

    Set refworks default org to match org tree root
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/templates/opac/parts/record/refworks.tt2

commit b4c93a00a526b215b70bbd8c857314d63740adcf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 16 16:32:34 2011 -0400

    TPac: clicking on open "extras" tab closes the tab
    
    In record detail page, if a tab (e.g. Subjects) is open, clicking on the
    tab header again will close the tab.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	2	Open-ILS/src/templates/opac/parts/record/extras.tt2

commit 48ab6c5f669c2e6862446fe6a6694b2b822b60a4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 16 14:00:32 2011 -0400

    TPac: display table of contents on record details
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/templates/opac/parts/misc_util.tt2
3	1	Open-ILS/src/templates/opac/parts/record/extras.tt2

commit f32605e5ad6cf8ece852af911e41260af5a3b59a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Sep 16 11:29:19 2011 -0400

    Stamping db upgrade script for Fixed Field Cont/Conf typo/thinko
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
19	0	Open-ILS/src/sql/Pg/upgrade/0624.data.fix_marc_conf_cont.sql
0	7	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_marc_conf_cont.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0624.data.fix_marc_conf_cont.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_marc_conf_cont.sql

commit 6e3f83e2209d9008abb6c83f72491f0df7da1506
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 16 10:45:38 2011 -0400

    In-DB suffered from Cont/Conf issues as well
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
7	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_marc_conf_cont.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_marc_conf_cont.sql

commit 48ff6a7a2cbea1247845329347623781c2844242
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 16 10:24:01 2011 -0400

    Fix Fixed Fields Editor Conf and Cont
    
    Conf was defined with Cont's fields
    Cont was missing
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

10	0	Open-ILS/web/js/dojo/MARC/FixedFields.js

commit c603e94ac69a90176d9eabce525fa84a31c7e5ae
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Fri Sep 16 10:23:32 2011 -0400

    lp 851915: remove last references to /openils/lib/perl5
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

0	1	Open-ILS/examples/apache/eg.conf
2	2	Open-ILS/tests/datasets/README

commit ebdce54658567c79462ac51bda071d0035118df5
Author: Dan Scott <dscott@laurentian.ca>
Date:   Fri Sep 16 09:59:54 2011 -0400

    LP 851915: Remove references to /openils/lib/perl5
    
    To prevent old versions of the OpenSRF and Evergreen Perl modules from
    conflicting with the new versions of these modules (which are now
    located in the default system Perl package directories), remove
    references to them.
    
    Also, O:W:AddedContent contains an old reference to a distro-specific
    Perl directory that we can clean up at the same time.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

0	1	Open-ILS/examples/apache/startup.pl
0	2	Open-ILS/src/extras/import/direct_ingest.pl
0	2	Open-ILS/src/extras/import/direct_loader.pl
0	2	Open-ILS/src/extras/import/pg_loader.pl
0	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent.pm

commit 19381fa63d48e834ec7a98f4e43e88dc524c837c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 15 12:08:55 2011 -0400

    pin down upgrade script version numbers

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
253	0	Open-ILS/src/sql/Pg/upgrade/0622.data.YAOUS-i18n-update.sql
50	0	Open-ILS/src/sql/Pg/upgrade/0623.schema.YAOUS-log-table.sql
0	253	Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-i18n-update.sql
0	50	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.YAOUS-log-table.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0622.data.YAOUS-i18n-update.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0623.schema.YAOUS-log-table.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-i18n-update.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.YAOUS-log-table.sql

commit f7c32accf873a459e12c7803b3d21a72d6155564
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 15 12:05:14 2011 -0400

    add in the org setting history triggers
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

35	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.YAOUS-log-table.sql

commit 5d898ed0f7bd7128e8cffd596ecc6a4353a9fe02
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 8 14:27:48 2011 -0400

    CLEANUP ALL THE COUST and fix history view
    
    Move all COUST seed values to the same insert statement in 950.data.seed-values.sql
    Make data upgrade file do *all* the changes that happen in the seed values
    Add groups to some of the new settings since Joseph looked at the list
    Make history view escape &, <, and > before showing values to prevent HTML from being parsed
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2033	1875	Open-ILS/src/sql/Pg/950.data.seed-values.sql
241	155	Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-i18n-update.sql
2	0	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js

commit d5043efbad49eef4b723567d27b6094b02d5e663
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Sep 7 14:27:05 2011 -0400

    Cleanup, yay! Give YAOUS logging table a surrogate pkey and upgrade script; clean up some typos; position the existing upgrade script correctly
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

6	5	Open-ILS/examples/fm_IDL.xml
3	2	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/800.fkeys.sql
1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
0	167	Open-ILS/src/sql/Pg/upgrade/9999.data-seed-values-group update.sql
167	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-i18n-update.sql
15	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.YAOUS-log-table.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/9999.data-seed-values-group update.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.YAOUS-i18n-update.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.YAOUS-log-table.sql

commit 4af6d17a09ad214c63724a47ff7113d70fc3f849
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Thu Jul 7 13:21:53 2011 -0600

    Added the following features/imporovements suggested by the community:
    
     * Sort history by date descending.
     * Add revert button to history.
     * Search after pause.
     * Dynamically adjust amount of time message is shown by its length.
     * Fix a bug about things not being shown in history after delete.
     * Fix a problem with user not being shown change if they make a change in a
       context that isn't currently shown.
     * Do i18n on everything.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

19	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
45	9	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
4	3	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit d2ae9eddb7e9e324e7dad774c9fdd284ab2102de
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Mon Jun 20 13:36:25 2011 -0600

    Fixed my database errors (although some still exist, I can't tell if they
    are mine or not, I'm going to test the master and see if they exist there...)
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/002.schema.config.sql
2	0	Open-ILS/src/sql/Pg/800.fkeys.sql

commit 1e8a378b54b546ac0a474d39a24c00a195e5d026
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Fri Jun 17 15:05:51 2011 -0600

    Cleaned up so it shouldn't ruin the database creation (hopefully).
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

8	19	Open-ILS/src/sql/Pg/002.schema.config.sql
18	0	Open-ILS/src/sql/Pg/005.schema.actors.sql

commit 721e1be02c0088b9ecb553b0963e90a1da31418b
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Wed Jun 15 13:28:26 2011 -0600

    Fixed the non i18n settings for oust.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

36	30	Open-ILS/src/sql/Pg/950.data.seed-values.sql
11	12	Open-ILS/src/sql/Pg/upgrade/9999.data-seed-values-group update.sql

commit 1f625985a72f18f79d638fee580b6aed9da47153
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Wed Jun 15 11:46:33 2011 -0600

    Got rid of old bug (pre me) that existed when an autowidget was used then
    canceled and the next setting wasn't an autowidget. The autowidget would
    continue to appear because it was never destroyed.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

6	0	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js

commit f69f755ad51afbdeb6645f150506dc58501a1551
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Wed Jun 15 11:03:14 2011 -0600

    Changed text in seed values to reflect addition of groups, added an update
    script for groups, fixed org_unit_settings.js so the dojo grid would correctly
    alphabetize with the additon of groups and the removal of groups from the
    labels themselves.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

10	10	Open-ILS/src/sql/Pg/950.data.seed-values.sql
168	0	Open-ILS/src/sql/Pg/upgrade/9999.data-seed-values-group update.sql
2	2	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/9999.data-seed-values-group update.sql

commit 46586b0535e478e94a1685a374b2a5f4c29c9778
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Wed Jun 15 08:35:45 2011 -0600

    Remove duplicates due to groups in seed-values.sql, and include groups in
    seed-values; delete seed values upgrade patch.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

369	154	Open-ILS/src/sql/Pg/950.data.seed-values.sql
0	219	Open-ILS/src/sql/Pg/upgrade/0550.data.seed_values_ous_groups.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/0550.data.seed_values_ous_groups.sql

commit 53b70bf549b67038b79270611e29e0d6dee16fd2
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Tue Jun 14 15:46:59 2011 -0600

    Updated so that the history shows the org-unit shortname rather than the id.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

11	8	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
3	3	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit 96af8f5182acf5c04b6cc85d5ef0a3ff93aae6a3
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Tue Jun 14 13:35:33 2011 -0600

    Convert buttons to toobar cleaning up page a lot. Added new notification
    system.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

5	0	Open-ILS/web/opac/locale/en-US/lang.dtd
73	15	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
96	24	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit ddfdd0ce75aa04ec90d25785d671a5009d54d4b3
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Mon Jun 13 16:54:06 2011 -0600

    Added revision logging to oust, updated fm_IDL.xml to reflect that
    and changed org_unit_settings.js and org_unit_settings.xhtml to add some
    functionality of revisions.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

23	0	Open-ILS/examples/fm_IDL.xml
49	0	Open-ILS/src/sql/Pg/002.schema.config.sql
11	4	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
17	9	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit 0bba2e0c63ba4ed126bf6a77fb1e51ee73a28912
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Thu Jun 9 15:14:22 2011 -0600

    Updated the staff_client code to be much better at searching, renamed the sql upgrade script b/c 0549 was just snatched up!
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	218	Open-ILS/src/sql/Pg/upgrade/0549.data.seed_values_admin_cleanup.sql
219	0	Open-ILS/src/sql/Pg/upgrade/0550.data.seed_values_ous_groups.sql
16	7	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/0549.data.seed_values_admin_cleanup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0550.data.seed_values_ous_groups.sql

commit e997eb021386bbce171a5b8fafa3d509b8bf9e54
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Thu Jun 9 13:17:16 2011 -0600

    Finished import/export of settings.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

7	0	Open-ILS/web/opac/locale/en-US/lang.dtd
68	3	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
27	10	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit d94433ac4283c8caf481424612e25aa9ac01e833
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Wed Jun 8 14:07:27 2011 -0600

    Updated to include search.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

10	1	Open-ILS/web/opac/locale/en-US/lang.dtd
77	9	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
24	12	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml
1	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties

commit 9bc32a7f257fc68f79bc3fd6004fda799f8697d7
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Tue Jun 7 11:34:20 2011 -0600

    Added Tags support in the org_unit_settings display page.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

7	2	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
3	1	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit 35b7724eb625f077beec10a26ed2c0669925ca86
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Mon Jun 6 16:06:25 2011 -0600

    Whoops, typed in the wrong number.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0549.data.seed_values_admin_cleanup.sql

commit 6842714bf0226c85c71bf79d7d0c6166363f1153
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Mon Jun 6 15:59:37 2011 -0600

    Forgot to put in the logging information :)
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

6	0	Open-ILS/src/sql/Pg/upgrade/0549.data.seed_values_admin_cleanup.sql

commit c109dc2adb8019307256061419e287a3ea31a031
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Mon Jun 6 15:03:27 2011 -0600

    Added seed values for the "tags" of the settings in org unit settings.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

212	0	Open-ILS/src/sql/Pg/upgrade/0549.data.seed_values_admin_cleanup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0549.data.seed_values_admin_cleanup.sql

commit 3c2ee5ec8476153cf2b119087dc421329b01a1da
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Sep 15 09:11:47 2011 -0400

    Set ind2 to the value of indicicator 2 supplied by the user, not ind1
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit fd70fb824fd606ee8b2d1d2870f89e5c117f9e60
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Sep 14 15:43:55 2011 -0400

    Make sure we only render the most recent request to the canvas, so a laggy network does not cause double rendering or stale display
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

19	7	Open-ILS/web/js/dojo/openils/BibTemplate.js

commit f44becacb7548894873b4573b8a5aad48a320dae
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Wed Sep 14 12:27:45 2011 -0400

    lp834961: fix authoritative versions of callnumber retrieval calls
    
    Makes open-ils.search.callnumber[.fleshed].retrieve.authoritative
    actually be authoritative.  Fixes bug where adding a volume
    could result in a false ASSET_CALL_NUMBER_NOT_FOUND error if using
    database replication and Slony-II.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

10	30	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
6	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 8c5c65d2c6532f4e5d059d6ae59507707b428010
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Sep 13 15:37:06 2011 -0400

    Provide a default value for, and explicitly change, the record type so the type dropdown works as intended
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/xul/staff_client/server/cat/marcedit.js
1	1	Open-ILS/xul/staff_client/server/cat/marcedit.xul

commit 8c3fab3c4a25a9b8a439882f154736a79396f46e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 13 15:10:27 2011 -0400

    Update find view link in fund list UI to reflect relocated template
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/acq/fund/list.tt2

commit 2bbc2db5b259ad8cf3dfa7568eab71e084e2bf13
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 13 13:42:01 2011 -0400

    Remove unused reference to oils_web.xml in startup.pl
    
    TODO: give EGCatLoader child_init-like functionality to connect to
    opensrf to address the (unlikely) case that EGWeb/EGCatLoader are
    the first/only mod_perl handlers loaded on an Evergreen Apache server.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/examples/apache/startup.pl

commit 233f560c27a3fae70901ff6674ccd5e676676bb6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 13 13:32:22 2011 -0400

    Further updates to eg_vhost for tpac
    
    * Comment out locale handlers that do not have translations by default.
    Otherwise, Apache will log the error in the error log.
    
    * Added some additional configuration comments
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	7	Open-ILS/examples/apache/eg_vhost.conf

commit b77e56f5ee450eacaec9b9ff51ec6ce6098faea8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 13 13:00:53 2011 -0400

    Stamped upgrade for opac_payment_history_age_limit
    
    ...which is a new org setting defining how far back to reach for
    payments to display in the payments history page in tpac.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
17	0	Open-ILS/src/sql/Pg/upgrade/0621.data.opac_payment_history_age_limit.sql
0	17	Open-ILS/src/sql/Pg/upgrade/XXXX.data.opac_payment_history_age_limit.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0621.data.opac_payment_history_age_limit.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.opac_payment_history_age_limit.sql

commit 5c49a67dc363d7ba11a0174f9268601ac37ae5bb
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 23:42:56 2011 -0400

    Delete a set of images that are no longer used
    
    Given the switch to CSS-styling instead of images, many of the images in
    the repository are no longer used and can be deleted.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

-	-	Open-ILS/web/images/KCLS_logo_horiz.gif
-	-	Open-ILS/web/images/acct-btn-hover.png
-	-	Open-ILS/web/images/acct-btn.png
-	-	Open-ILS/web/images/acct_checked_out_off.gif
-	-	Open-ILS/web/images/acct_checked_out_on.gif
-	-	Open-ILS/web/images/acct_favs_off.gif
-	-	Open-ILS/web/images/acct_favs_on.gif
-	-	Open-ILS/web/images/acct_fines_off.jpg
-	-	Open-ILS/web/images/acct_fines_on.jpg
-	-	Open-ILS/web/images/acct_holds_off.gif
-	-	Open-ILS/web/images/acct_holds_on.gif
-	-	Open-ILS/web/images/acct_lists_off.gif
-	-	Open-ILS/web/images/acct_lists_on.gif
-	-	Open-ILS/web/images/acct_payments_off.jpg
-	-	Open-ILS/web/images/acct_payments_on.jpg
-	-	Open-ILS/web/images/acct_prefs_off.gif
-	-	Open-ILS/web/images/acct_prefs_on.gif
-	-	Open-ILS/web/images/acct_summary_off.gif
-	-	Open-ILS/web/images/acct_summary_on.gif
-	-	Open-ILS/web/images/add_search_row_btn.gif
-	-	Open-ILS/web/images/adv_search.png
-	-	Open-ILS/web/images/adv_search_hover.png
-	-	Open-ILS/web/images/adv_search_off.gif
-	-	Open-ILS/web/images/adv_search_on.gif
-	-	Open-ILS/web/images/another_search.png
-	-	Open-ILS/web/images/another_search_hover.png
-	-	Open-ILS/web/images/asknow_available.gif
-	-	Open-ILS/web/images/btnCancel.png
-	-	Open-ILS/web/images/btnSubmit.png
-	-	Open-ILS/web/images/expert_search_off.gif
-	-	Open-ILS/web/images/expert_search_on.gif
-	-	Open-ILS/web/images/go-btn-hover.png
-	-	Open-ILS/web/images/go-btn.png
-	-	Open-ILS/web/images/golive.jpg
-	-	Open-ILS/web/images/login-btn-hover.png
-	-	Open-ILS/web/images/login-btn.gif
-	-	Open-ILS/web/images/login-btn.png
-	-	Open-ILS/web/images/login-btn2.png
-	-	Open-ILS/web/images/logout-btn-hover.png
-	-	Open-ILS/web/images/logout-btn.png
-	-	Open-ILS/web/images/num_search_off.gif
-	-	Open-ILS/web/images/num_search_on.gif
-	-	Open-ILS/web/images/pay-fines-btn-hover.png
-	-	Open-ILS/web/images/pay-fines-btn.png
-	-	Open-ILS/web/images/pay_fines_btn.gif
-	-	Open-ILS/web/images/search_btn.gif
-	-	Open-ILS/web/images/sub_checked_hist_off.jpg
-	-	Open-ILS/web/images/sub_checked_hist_on.jpg
-	-	Open-ILS/web/images/sub_checked_out_off.jpg
-	-	Open-ILS/web/images/sub_checked_out_on.jpg
-	-	Open-ILS/web/images/sub_holds_hist_off.jpg
-	-	Open-ILS/web/images/sub_holds_hist_on.jpg
-	-	Open-ILS/web/images/sub_holds_off.jpg
-	-	Open-ILS/web/images/sub_holds_on.jpg
-	-	Open-ILS/web/images/sub_prefs_info_off.jpg
-	-	Open-ILS/web/images/sub_prefs_info_on.jpg
-	-	Open-ILS/web/images/sub_prefs_notify_off.jpg
-	-	Open-ILS/web/images/sub_prefs_notify_on.jpg
-	-	Open-ILS/web/images/sub_prefs_search_off.jpg
-	-	Open-ILS/web/images/sub_prefs_search_on.jpg
-	-	Open-ILS/web/images/view_my_list.png
-	-	Open-ILS/web/images/view_my_list_hover.png
 delete mode 100644 Open-ILS/web/images/KCLS_logo_horiz.gif
 delete mode 100644 Open-ILS/web/images/acct-btn-hover.png
 delete mode 100644 Open-ILS/web/images/acct-btn.png
 delete mode 100644 Open-ILS/web/images/acct_checked_out_off.gif
 delete mode 100644 Open-ILS/web/images/acct_checked_out_on.gif
 delete mode 100644 Open-ILS/web/images/acct_favs_off.gif
 delete mode 100644 Open-ILS/web/images/acct_favs_on.gif
 delete mode 100644 Open-ILS/web/images/acct_fines_off.jpg
 delete mode 100644 Open-ILS/web/images/acct_fines_on.jpg
 delete mode 100644 Open-ILS/web/images/acct_holds_off.gif
 delete mode 100644 Open-ILS/web/images/acct_holds_on.gif
 delete mode 100644 Open-ILS/web/images/acct_lists_off.gif
 delete mode 100644 Open-ILS/web/images/acct_lists_on.gif
 delete mode 100644 Open-ILS/web/images/acct_payments_off.jpg
 delete mode 100644 Open-ILS/web/images/acct_payments_on.jpg
 delete mode 100644 Open-ILS/web/images/acct_prefs_off.gif
 delete mode 100644 Open-ILS/web/images/acct_prefs_on.gif
 delete mode 100644 Open-ILS/web/images/acct_summary_off.gif
 delete mode 100644 Open-ILS/web/images/acct_summary_on.gif
 delete mode 100644 Open-ILS/web/images/add_search_row_btn.gif
 delete mode 100644 Open-ILS/web/images/adv_search.png
 delete mode 100644 Open-ILS/web/images/adv_search_hover.png
 delete mode 100644 Open-ILS/web/images/adv_search_off.gif
 delete mode 100644 Open-ILS/web/images/adv_search_on.gif
 delete mode 100644 Open-ILS/web/images/another_search.png
 delete mode 100644 Open-ILS/web/images/another_search_hover.png
 delete mode 100644 Open-ILS/web/images/asknow_available.gif
 delete mode 100644 Open-ILS/web/images/btnCancel.png
 delete mode 100644 Open-ILS/web/images/btnSubmit.png
 delete mode 100644 Open-ILS/web/images/expert_search_off.gif
 delete mode 100644 Open-ILS/web/images/expert_search_on.gif
 delete mode 100644 Open-ILS/web/images/go-btn-hover.png
 delete mode 100644 Open-ILS/web/images/go-btn.png
 delete mode 100644 Open-ILS/web/images/golive.jpg
 delete mode 100644 Open-ILS/web/images/login-btn-hover.png
 delete mode 100644 Open-ILS/web/images/login-btn.gif
 delete mode 100644 Open-ILS/web/images/login-btn.png
 delete mode 100644 Open-ILS/web/images/login-btn2.png
 delete mode 100644 Open-ILS/web/images/logout-btn-hover.png
 delete mode 100644 Open-ILS/web/images/logout-btn.png
 delete mode 100644 Open-ILS/web/images/num_search_off.gif
 delete mode 100644 Open-ILS/web/images/num_search_on.gif
 delete mode 100644 Open-ILS/web/images/pay-fines-btn-hover.png
 delete mode 100644 Open-ILS/web/images/pay-fines-btn.png
 delete mode 100644 Open-ILS/web/images/pay_fines_btn.gif
 delete mode 100644 Open-ILS/web/images/search_btn.gif
 delete mode 100644 Open-ILS/web/images/sub_checked_hist_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_checked_hist_on.jpg
 delete mode 100644 Open-ILS/web/images/sub_checked_out_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_checked_out_on.jpg
 delete mode 100644 Open-ILS/web/images/sub_holds_hist_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_holds_hist_on.jpg
 delete mode 100644 Open-ILS/web/images/sub_holds_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_holds_on.jpg
 delete mode 100644 Open-ILS/web/images/sub_prefs_info_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_prefs_info_on.jpg
 delete mode 100644 Open-ILS/web/images/sub_prefs_notify_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_prefs_notify_on.jpg
 delete mode 100644 Open-ILS/web/images/sub_prefs_search_off.jpg
 delete mode 100644 Open-ILS/web/images/sub_prefs_search_on.jpg
 delete mode 100644 Open-ILS/web/images/view_my_list.png
 delete mode 100644 Open-ILS/web/images/view_my_list_hover.png

commit 24a78a9a3e21a526813a48b79939e69276caab6f
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 23:03:33 2011 -0400

    CSS-ize account preference sub-tabs
    
    Same old, same old.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

13	13	Open-ILS/src/templates/opac/parts/myopac/prefs_base.tt2
5	5	Open-ILS/web/css/skin/default/opac/style.css

commit 3556ce0756e19352c13e427fa0f34e4df69ea864
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 22:51:23 2011 -0400

    Fix mislabelling of Cancel button as Submit
    
    As funny as it was to give people two options: Submit, or Submit, one
    could imagine that it would be confusing. Also, remove the alt / title
    attributes now that we're using meaningful markup that stands on its
    own.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	5	Open-ILS/src/templates/opac/myopac/holds/edit.tt2

commit ebbdf0d928606a12017d4e0c61662add2ebde923
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 22:47:29 2011 -0400

    CSS-ize holds and holds history tabs
    
    From images to CSS-styled links.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/myopac/circ_history.tt2
5	6	Open-ILS/src/templates/opac/myopac/hold_history.tt2
3	4	Open-ILS/src/templates/opac/myopac/holds.tt2
11	7	Open-ILS/web/css/skin/default/opac/style.css

commit 5cf42881b2c9419bcb3341877e72386327b94773
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 22:17:39 2011 -0400

    CSS-ize the search results control bar
    
    Along with the standard "swap images with fancy CSS links", we also
    bring some style to the rather drab "Detailed View" link in the search
    results control bar.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	13	Open-ILS/src/templates/opac/results.tt2
23	17	Open-ILS/web/css/skin/default/opac/style.css

commit 77c01470c2b9075bc8873c6caa3ec8e72cfa9c6d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 16:41:27 2011 -0400

    CSS-ize current circ and circulation history tabs
    
    More accessible. More win.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	5	Open-ILS/src/templates/opac/myopac/circ_history.tt2
4	6	Open-ILS/src/templates/opac/myopac/circs.tt2
29	6	Open-ILS/web/css/skin/default/opac/style.css

commit 5718324ede7eb1b7ab7a9c353ae6b8e79788f0a8
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 16:02:45 2011 -0400

    CSSize fine/payment tabs on My Account page
    
    More consolidation of CSS is a win for making changes in one place.
    More accessibility as well.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/parts/myopac/base.tt2
4	4	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
8	24	Open-ILS/web/css/skin/default/opac/style.css

commit 07fb02a4a2a0e49ec29854532efc90d75a01e7b0
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 15:35:17 2011 -0400

    CSS versions of the main MyOPAC tabs
    
    We can reuse much of the advanced search tab CSS (imagine that!), so not
    only are we getting accessibility and HTTP request wins, we're cutting
    down on the size of the CSS to deal with to skin this cat(alogue).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

8	8	Open-ILS/src/templates/opac/parts/myopac/base.tt2
7	37	Open-ILS/web/css/skin/default/opac/style.css

commit 9287fe8b68d71212eaed662ea30f365e67a328bf
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 15:17:33 2011 -0400

    CSSize the My OPAC login / logout buttons
    
    Use the same relative positioning as the surrounding blocks and things
    look relatively (hah) clean.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	11	Open-ILS/src/templates/opac/parts/topnav.tt2
4	1	Open-ILS/web/css/skin/default/opac/style.css

commit 5f75e36872392462528da9827d6f1b3acedf6f7d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 15:16:50 2011 -0400

    5% radius for subtly rounded corners
    
    15% was too much, especially on long thin blocks; it looked like
    space-time was being warped.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/web/css/skin/default/opac/style.css

commit 3c6c8d2a58b28b6dc0cbc7aba7e4285a95bfd47c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 15:03:18 2011 -0400

    Add some Web 1.5-ishness with rounder corners for tabs
    
    5% radius is a lot more subtle.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	0	Open-ILS/web/css/skin/default/opac/style.css

commit e9d5a28707bf7dca0ba7b365d6d117233f07a50c
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 14:47:04 2011 -0400

    Style the advanced search tabs with CSS
    
    We could go further and disable the link on the active advanced search
    tab, but for now we're just replacing what was there with a reasonable
    visual approximation.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/templates/opac/advanced.tt2
20	24	Open-ILS/web/css/skin/default/opac/style.css

commit 576f0db862b08f8f73c8b2b7e5ba4f7ec9a9e16d
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 14:46:13 2011 -0400

    Turn the login button into a CSS "button"
    
    It's just a fancy link; treat it as such with some fancy CSS.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	5	Open-ILS/src/templates/opac/parts/topnav.tt2

commit e9ff7108bc5b61c7db42cc1f5b6a4c794b86b71f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 14:13:42 2011 -0400

    TPac: Default to en_us if no locales are configured
    
    Code will create an en_us handler that falls through to the strings in
    the templates.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 50e9fb19eff2e3ea8b1f21b5d127bc3bc5bed012
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 14:06:47 2011 -0400

    opac-button is more general than submit-button
    
    Didn't make sense to use a class of submit-button for reset buttons.
    So...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/opac/myopac/circs.tt2
1	1	Open-ILS/src/templates/opac/myopac/holds.tt2
2	2	Open-ILS/src/templates/opac/myopac/holds/edit.tt2
2	2	Open-ILS/src/templates/opac/myopac/lists.tt2
1	1	Open-ILS/src/templates/opac/myopac/main.tt2
1	1	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
1	1	Open-ILS/src/templates/opac/myopac/prefs_settings.tt2
1	1	Open-ILS/src/templates/opac/parts/advanced/expert.tt2
1	1	Open-ILS/src/templates/opac/parts/advanced/numeric.tt2
2	2	Open-ILS/src/templates/opac/parts/advanced/search.tt2
1	1	Open-ILS/src/templates/opac/parts/login/form.tt2
1	1	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
2	2	Open-ILS/src/templates/opac/parts/place_hold.tt2
2	2	Open-ILS/src/templates/opac/parts/place_hold_result.tt2
1	1	Open-ILS/src/templates/opac/parts/searchbar.tt2
2	2	Open-ILS/web/css/skin/default/opac/style.css

commit 66c45b647d76138c6290b56fba1110d2e3fabf62
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 13:55:59 2011 -0400

    Added TPac perl dependencies for deb distros
    
    Template::Plugin::POSIX
    Locale::Maketext::Lexicon (via liblocale-maketext-lexicon-perl)
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/src/extras/Makefile.install

commit 653a15ed049f7a46734cab5f631fb5ce171e6034
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 13:40:19 2011 -0400

    Use SUBMIT buttons instead of IMAGE buttons
    
    With a bit of CSS, we can replace <input type="image"> buttons with
    <input type="submit"> buttons. The payoff is directly translatable
    values and better semantics for screen readers, etc, rather than having
    to set up a process of generating buttons in your colour & languages of
    choice - as well as fewer HTTP requests for images over the network.
    
    Note that we also replace some of the JavaScript-dependent reset /
    cancel links with <input type="reset"> buttons.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	2	Open-ILS/src/templates/opac/myopac/circs.tt2
2	2	Open-ILS/src/templates/opac/myopac/holds.tt2
8	6	Open-ILS/src/templates/opac/myopac/holds/edit.tt2
7	4	Open-ILS/src/templates/opac/myopac/lists.tt2
3	4	Open-ILS/src/templates/opac/myopac/main.tt2
4	1	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
1	1	Open-ILS/src/templates/opac/myopac/prefs_settings.tt2
3	1	Open-ILS/src/templates/opac/parts/advanced/expert.tt2
2	2	Open-ILS/src/templates/opac/parts/advanced/numeric.tt2
6	3	Open-ILS/src/templates/opac/parts/advanced/search.tt2
1	1	Open-ILS/src/templates/opac/parts/login/form.tt2
2	5	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
4	4	Open-ILS/src/templates/opac/parts/place_hold.tt2
5	4	Open-ILS/src/templates/opac/parts/place_hold_result.tt2
1	3	Open-ILS/src/templates/opac/parts/searchbar.tt2
10	0	Open-ILS/web/css/skin/default/opac/style.css

commit 6e0fe3cf1b370b7e7b4aa31920142783d726c7bd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 13:23:17 2011 -0400

    TPac: repaired hold status display bug
    
    Pipe dynamic text through |html inside the hold_status block instead of
    piping the output, since the block returns HTML.
    
    Repaired faulty </div>
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/holds/edit.tt2
9	8	Open-ILS/src/templates/opac/parts/hold_status.tt2

commit 5366725511ca29ddeef81f92be9a92b9638ad8a2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 12:17:52 2011 -0400

    TPac: Do not URI-escape index class/names in search dropdown
    
    id|bibcn, for example, through the |uri filter turns into "id%7Cbibcn"
    in the option value.  Pipe through |html instead, just to be safe.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/qtype_selector.tt2

commit 09b52f79bf3e693e2a2be78b47a2a9c54c286552
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 12:07:43 2011 -0400

    TPac: repaired undefiend 'loc' var in author 'extras' link
    
    Ported the bare href to mkurl() while I was in there
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/templates/opac/parts/record/authors.tt2

commit 9c04d5d814cf767faa59b105d7b88b28f58b8069
Author: Dan Scott <dscott@laurentian.ca>
Date:   Mon Sep 12 11:10:50 2011 -0400

    Can't install oils_web.xml.example if it does not exist
    
    Just remove the entry from Makefile.am and we're happy.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	1	Open-ILS/src/Makefile.am

commit 93182fe142d544b7d969b561bdfa9ad38d9c8138
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 10:26:40 2011 -0400

    Removed sample oils_web.xml; removed from README
    
    Thanks for the suggestion, Dan.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	70	Open-ILS/examples/oils_web.xml.example
0	11	README
 delete mode 100644 Open-ILS/examples/oils_web.xml.example

commit 7735c34215e733bbe7e66a2c504d3baaf5694436
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 09:10:23 2011 -0400

    Remove no-longer-necessary DTD override in vandelay
    
    Also, since vandelay was the only code using this hacked-in override
    option, remove the option from the base template.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	5	Open-ILS/src/templates/base.tt2
0	1	Open-ILS/src/templates/vandelay/vandelay.tt2

commit 46e233722f9d1ccec1bd97816bb055caa12f8096
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 08:43:32 2011 -0400

    Vandelay: import strings from DTD
    
    Using the new template-style embedded string localizer:  [% l('...') %]
    Removed vandelay.dtd.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

26	26	Open-ILS/src/templates/vandelay/inc/attrs.tt2
21	21	Open-ILS/src/templates/vandelay/inc/export.tt2
1	1	Open-ILS/src/templates/vandelay/inc/import_errors.tt2
5	5	Open-ILS/src/templates/vandelay/inc/marchtml.tt2
11	11	Open-ILS/src/templates/vandelay/inc/matches.tt2
3	3	Open-ILS/src/templates/vandelay/inc/progress.tt2
27	27	Open-ILS/src/templates/vandelay/inc/queue.tt2
6	6	Open-ILS/src/templates/vandelay/inc/queueselect.tt2
7	7	Open-ILS/src/templates/vandelay/inc/toolbar.tt2
18	18	Open-ILS/src/templates/vandelay/inc/upload.tt2
1	1	Open-ILS/src/templates/vandelay/vandelay.tt2
0	119	Open-ILS/web/opac/locale/en-US/vandelay.dtd
 delete mode 100644 Open-ILS/web/opac/locale/en-US/vandelay.dtd

commit 1e67a95b6cecaa524d67721367f7cb003245be7e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Sep 12 08:43:25 2011 -0400

    Vandelay: repaired URL path to embedded match set editor
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 5684176224d3a6ae8d8d618c13b031a04a16328e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sun Sep 11 20:07:57 2011 -0400

    TPac: template path cleanup
    
    Rearrange the few templates that relied on the now-defunct oils_web.xml
    handler path/template mapping.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

35	0	Open-ILS/src/templates/acq/currency_type/list.tt2
0	35	Open-ILS/src/templates/acq/financial/list_currency_types.tt2
0	51	Open-ILS/src/templates/acq/financial/list_funding_sources.tt2
0	162	Open-ILS/src/templates/acq/financial/list_funds.tt2
0	257	Open-ILS/src/templates/acq/financial/view_fund.tt2
0	173	Open-ILS/src/templates/acq/financial/view_funding_source.tt2
0	118	Open-ILS/src/templates/acq/financial/view_provider.tt2
162	0	Open-ILS/src/templates/acq/fund/list.tt2
257	0	Open-ILS/src/templates/acq/fund/view.tt2
51	0	Open-ILS/src/templates/acq/funding_source/list.tt2
173	0	Open-ILS/src/templates/acq/funding_source/view.tt2
 create mode 100644 Open-ILS/src/templates/acq/currency_type/list.tt2
 delete mode 100644 Open-ILS/src/templates/acq/financial/list_currency_types.tt2
 delete mode 100644 Open-ILS/src/templates/acq/financial/list_funding_sources.tt2
 delete mode 100644 Open-ILS/src/templates/acq/financial/list_funds.tt2
 delete mode 100644 Open-ILS/src/templates/acq/financial/view_fund.tt2
 delete mode 100644 Open-ILS/src/templates/acq/financial/view_funding_source.tt2
 delete mode 100644 Open-ILS/src/templates/acq/financial/view_provider.tt2
 create mode 100644 Open-ILS/src/templates/acq/fund/list.tt2
 create mode 100644 Open-ILS/src/templates/acq/fund/view.tt2
 create mode 100644 Open-ILS/src/templates/acq/funding_source/list.tt2
 create mode 100644 Open-ILS/src/templates/acq/funding_source/view.tt2

commit a05888910b5c3d360de24399f332881d32a4cab9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sun Sep 11 19:49:37 2011 -0400

    TPac: deprecate oils_web.xml
    
    Configuration values are now loaded from Apache configuration.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

22	5	Open-ILS/examples/apache/eg_vhost.conf
48	127	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 447cc4abd73074c85cf03bd156020f7f42a73eb4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sun Sep 11 11:20:39 2011 -0400

    TPac: locale handling improvements
    
    Allow Locale::Maketext to fall through to parent locales
    (superordinate) when the a translation for a string in the given locale
    is not present.  Locale::Maketext suppports arbitrary-length locale
    tags, so it's possible to create locale hierarchies.
    
    For example, you could create branch-specific translations that fall
    through to system, then full locale, then base locale, then the default
    template strings.
    
    en_us_systemA_branchX => en_us_systemA => en_us => en => <template strings>
    
    Each template string that needs translating will be tried against each
    locale in order until it finds a translation.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	3	Open-ILS/examples/oils_web.xml.example
29	18	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 15c70c70e474fa234534adc1b0cf75a7812a65df
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 9 16:41:45 2011 -0400

    TPac: Review & More content cafe option on results page
    
    Links to a new top-level page.  Also cleaned up some bare &'s in the
    content cafe url.  added a ctx->proto = http / https var.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
2	2	Open-ILS/src/templates/opac/parts/record/summaryplus.tt2
11	0	Open-ILS/src/templates/opac/parts/result/table.tt2

commit b29b7fcf42ee7f72c48070e2eb565d41cc5271f1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 9 16:00:51 2011 -0400

    TPac: move hold status chunk to separate template
    
    ...for easier local overrideing of text that dislays for hold status
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/templates/opac/myopac/holds.tt2
1	0	Open-ILS/src/templates/opac/myopac/holds/edit.tt2
28	0	Open-ILS/src/templates/opac/parts/hold_status.tt2
0	22	Open-ILS/src/templates/opac/parts/misc_util.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/hold_status.tt2

commit 6a11ed573f837bd28f8adf106e6a54ba1c2f9669
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 9 15:13:48 2011 -0400

    TPac: Push subject extras tab to top of extras
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/record/extras.tt2

commit 46d797f76c8ba3c433ec070d98886a4facfd726c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 9 15:13:05 2011 -0400

    TPac: toggle expandy arrow image to down-arrow on expanded record extras tabs
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	5	Open-ILS/src/templates/opac/parts/record/extras.tt2
-	-	Open-ILS/web/images/rdetail_arrow_down.png
 create mode 100644 Open-ILS/web/images/rdetail_arrow_down.png

commit 64961f464187503fa4d282a47f1e54af9f0c9ac7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 9 14:08:31 2011 -0400

    TPac: on-fly-list management improvements
    
    * implemented remove-from-list function
    * After add or remove from list on results page, direct user back to the
    context record via page anchor
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
24	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
4	2	Open-ILS/src/templates/opac/parts/result/table.tt2

commit 7e9faaa523a3f93f6d1479b29efffc8970e7c0d2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 9 11:50:55 2011 -0400

    TPac: avoid 1995-esque "Submit Query" for form submission
    
    On the update username, email, and password pages, use "Submit" instead
    of relying on the browser "Submit Query" label
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/update_email.tt2
1	1	Open-ILS/src/templates/opac/myopac/update_password.tt2
1	1	Open-ILS/src/templates/opac/myopac/update_username.tt2

commit 0d51d18b12745c89b6dff1a04612b5fe97d4c0ba
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 9 10:25:10 2011 -0400

    When checking postgresql version use postgres db
    
    Otherwise we may get an error instead of a version number.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/support-scripts/eg_db_config.pl

commit 0704590d627d437f7796b1a2cf90257a7f5a52a5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 8 18:09:49 2011 -0400

    Take a stab at 9.1 support
    
    Second create database SQL to deal with
    CREATE EXTENSION
    instead of contrib files.
    
    Check create DB steps for errors. If any found, die.
    This should cover "could not load file" from pre-9.1 as well.
    
    Also copied the 9.0 fts-config as 9.1 to avoid that warning during
    database load.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

45	0	Open-ILS/src/sql/Pg/000.english.pg91.fts-config.sql
23	0	Open-ILS/src/sql/Pg/create_database_9_1.sql
36	4	Open-ILS/src/support-scripts/eg_db_config.pl
 create mode 100644 Open-ILS/src/sql/Pg/000.english.pg91.fts-config.sql
 create mode 100644 Open-ILS/src/sql/Pg/create_database_9_1.sql

commit 7194fde763d6a0047687622df0d1d9aa82ba93da
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Sep 10 12:36:14 2011 -0400

    Remove references to Fedora 13 and 14
    
    Fedora 13 has not been supported for months, Fedora 14 is about to lose
    support. Simplifies README and prereq installer a bit.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	6	Open-ILS/src/extras/Makefile.install
1	4	README

commit c17bef273e0cd1b831592980d9409c915b6a6a2b
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Sep 10 12:28:32 2011 -0400

    Refresh dynamic link cache after libjs install
    
    The build of SpiderMonkey can fail if it can't find the freshly
    installed libjs library, so run ldconfig after building libjs to avoid
    that bit o' fun.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/src/extras/Makefile.install

commit f58565e5daee8986ba601752353b51bbd268ffee
Author: Dan Scott <dscott@laurentian.ca>
Date:   Sat Sep 10 12:27:41 2011 -0400

    Fix prerequisite install on Fedora 15
    
    The postgresql package shipped in Fedora proper is just called
    'postgresql-devel', so get that right.
    
    Also, try to put 64-bit libraries in the right directory.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

8	3	Open-ILS/src/extras/Makefile.install

commit 8dcdb50fbb058fb5341c2a24ba3b5e130a8ccbcb
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Sep 9 15:41:00 2011 -0400

    Stamping upgrade for penalty visiblity issue
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
203	0	Open-ILS/src/sql/Pg/upgrade/0620.schema.penalty_fixes.sql
0	191	Open-ILS/src/sql/Pg/upgrade/XXXX.penalty_fixes.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0620.schema.penalty_fixes.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.penalty_fixes.sql

commit c73466daa28974955130222fba67aa9f86782ee1
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 9 14:31:27 2011 -0400

    Fix some standing penalty issues
    
    Circulations were using the circ matchpoint org unit for blocking.
    That could, depending on the matchpoint that matched, result in staff
    not being able to see the penalty that is being blocked for.
    
    In addition, blocking is done based on the full path, not ancestors.
    But, backend functions only used ancestors. Changed them to use the
    full_path variant instead.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/Penalty.pm
2	2	Open-ILS/src/sql/Pg/100.circ_matrix.sql
191	0	Open-ILS/src/sql/Pg/upgrade/XXXX.penalty_fixes.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.penalty_fixes.sql

commit 02805043719388e350a699138dd6a225ead91fc5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Sep 9 15:23:09 2011 -0400

    Fix dos_print when NSPrint interface is used
    
    By adding params.dos_print = true where needed.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit 68acaf4a6ba6471a56a201337fe6594fa4a1df62
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 8 18:51:06 2011 -0400

    TPac: minor i18n string repairs
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/myopac/circs.tt2
3	5	Open-ILS/src/templates/opac/parts/advanced/search.tt2

commit 88c85fc8ef68db2477a0afd70650f225cc3cddc5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 8 18:32:49 2011 -0400

    Repair makefile.am: install template dirs that were previously under /default/
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	8	Open-ILS/src/Makefile.am

commit 6d21b9431c8d73c88b8d41c874ff766c11f90746
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 8 16:08:30 2011 -0400

    Calculate penalties when marking items lost
    
    For example, if you a max fines threshold of $10, and a lost processing fee of
    $50, currently if you mark an item lost (or an item ages to lost) and a patron
    gets billed that $50, they won't automatically have the max fines penalty.  This
    change calculates such penalties at the time a copy is marked and lost and money
    is juggled, within the same transaction.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm

commit 6a244e866430fe67c5ceea408c163dc2236de929
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 8 15:54:47 2011 -0400

    Make bookbag title/author links
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

12	3	Open-ILS/src/templates/opac/myopac/lists.tt2

commit cf693d572b0c44b666919d9244dbeacbf46d1e1a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Sep 8 15:55:42 2011 -0400

    Stamping for LP821404 au last_update_time
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
28	0	Open-ILS/src/sql/Pg/upgrade/0619.schema.au_last_update_time.sql
0	28	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.au_last_update_date.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0619.schema.au_last_update_time.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.au_last_update_date.sql

commit b5bdaab4e418a996182ba8210b91956605198e3a
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Fri Aug 5 10:30:39 2011 -0400

    Also add "Last Update" to the patron summary
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    
    Typo in row id value
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    
    Need to use obj.patron.last_update_date not obj.patron.update_date
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
14	0	Open-ILS/xul/staff_client/server/patron/summary.js
3	0	Open-ILS/xul/staff_client/server/patron/summary_overlay.xul

commit 0b756cf2f413f0b68a0773860e3aff9ba6151e7e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 8 01:56:49 2011 -0400

    fire last_update_time trigger on user insert in addition to update
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/005.schema.actors.sql
1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.au_last_update_date.sql

commit ac23a3355ff39dde2acf0c1c3f0be6e34053983d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 8 01:54:11 2011 -0400

    change column name from last_update_date to last_update_time
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/examples/fm_IDL.xml
2	2	Open-ILS/src/sql/Pg/005.schema.actors.sql
5	5	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.au_last_update_date.sql
1	1	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
1	1	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
2	2	Open-ILS/xul/staff_client/server/patron/display.js
3	3	Open-ILS/xul/staff_client/server/patron/util.js

commit dde8db5c8aa7746def652e5285452f6a387ed4ed
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Aug 5 06:58:07 2011 -0400

    upgrade script for actor.usr.last_update_date
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

28	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.au_last_update_date.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.au_last_update_date.sql

commit cc5f1528feac70bcd8eb26a8326f8499531952d6
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Aug 5 06:56:36 2011 -0400

    Add an actor.usr.last_update_date column
    
    Though should we call it edit_date, like on asset.copy? :)  Also added trigger,
    and some display definitions in the staff client.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/examples/fm_IDL.xml
14	1	Open-ILS/src/sql/Pg/005.schema.actors.sql
1	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
2	2	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
4	1	Open-ILS/xul/staff_client/server/patron/display.js
7	0	Open-ILS/xul/staff_client/server/patron/util.js

commit 642dae8cbd68410b80f518ac1683e64003735738
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 8 03:19:11 2011 -0400

    a CSS hook in case folks want to hide this
    
    If you'd like to hide usr_summary stat cats in the patron
    info pane, add this to server/skin/patron_summary_custom.css:
    
    .stat_cat_summary_row { display: none; }
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	0	Open-ILS/xul/staff_client/server/patron/summary.js

commit 5f933061e617d07c05df88dfa91dca1b1bb96ab8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 12 11:47:43 2011 -0400

    Stat Cat Summary Display Fixes
    
    1 - Suppress sip field and format in horizontal interface
    2 - Make "show in summary" work for vertical interface
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

40	1	Open-ILS/xul/staff_client/server/patron/summary.js

commit 5b702c3daf41dfea3c46a42c0c55a6c1488a44b4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Aug 25 07:44:03 2011 -0400

    Support server/id for server name
    
    Strip off the /id part to get the real server name.
    Each /id gets a different workstation registration.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	2	Open-ILS/xul/staff_client/chrome/content/auth/controller.js
1	1	Open-ILS/xul/staff_client/chrome/content/main/main.js

commit 7de40306a12f46c271441ce2ceac0708d4f56c4e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 8 01:44:38 2011 -0400

    tweak description for "Patron: password from phone #" setting
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
2	0	Open-ILS/src/sql/Pg/upgrade/0618.data.org-setting-phone_pw.sql

commit 47fdb4c815166fa3630ed22bddd6a1dfa1cc8b70
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 8 01:26:34 2011 -0400

    lp#794153 stamping upgrade script for phone pw
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
9	0	Open-ILS/src/sql/Pg/upgrade/0618.data.org-setting-phone_pw.sql
0	3	Open-ILS/src/sql/Pg/upgrade/XXXX.phone_pw.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0618.data.org-setting-phone_pw.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.phone_pw.sql

commit e166e2a2db389ab376b3b2bf474e723205fc7b3d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 2 14:15:44 2011 -0400

    Unwrapped upgrade script for descripition changes
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	0	Open-ILS/src/sql/Pg/upgrade/XXXX.phone_pw.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.phone_pw.sql

commit 6cb15c141b5a6d8c4e1a4c4402ae6bcc75de16ce
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 2 14:15:06 2011 -0400

    Seed data update for regex descriptions
    
    Mention capture group stuff in day_phone
    Add note about day_phone to generic phone
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 353e6ce078a37a2f5b8c3c581602bd9fa36ce0c7
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jun 13 01:01:52 2011 -0400

    Regex check for "last 4 digits of phone number"
    
    If the day_phone regex (direct or from generic phone) has a capture group use it as the "last 4 digits".
    
    For example, you might configure this for day_phone regex:
    
    [2-9]\d{2}-\d{3}-(\d{4})( x\d+)?
    
    With this patch the extension will be ignored for the last 4 digits.
    
    Note: Does not require that the "last 4 digits" capture group actually contain 4 digits.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

13	4	Open-ILS/web/js/ui/default/actor/user/register.js

commit 6402ef9d74cb09a40dc964eca8511bd87723f919
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Sep 7 16:15:20 2011 -0400

    A/T reactor 'AstCall' can't have global CStoreEditor
    
    It's not good for any Evergreen service to try to have a global
    cstoreeditor instance.  Scope it to the handler() sub that needs it, and
    comment out the thus-far unused/unfinished retrieve() sub.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

65	60	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/AstCall.pm

commit 3dbefee19e22677494d8812eb4803df57b4ed715
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Sep 7 16:59:31 2011 -0400

    Stamping upgrade script for reservation capture notification~
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
19	0	Open-ILS/src/sql/Pg/upgrade/0617.schema.add-reservation-email-notify.sql
0	17	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.add-reservation-email-notify.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0617.schema.add-reservation-email-notify.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.add-reservation-email-notify.sql

commit fee611f2b2c5fc7c8ca2e9ec1fc46d6f75f3adbb
Author: Jeff Davis <jdavis@sitka.bclibraries.ca>
Date:   Tue Aug 30 14:03:16 2011 -0700

    Email notification of reservation capture
    
    When a reserved resource is captured, Evergreen does not notify the patron
    that the resource is ready for pickup. (As far as I am aware this is true
    of all versions of Evergreen that include bookings.) This could give rise
    to situations where the patron goes to pick up the resource at the specified
    time, only to find that it hasn't been captured and is currently unavailable.
    
    This change gives you a checkbox to enable email notification when creating
    the reservation, and adds a hook, reactor, and validator so that you can
    create an action trigger to send the emails.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/examples/fm_IDL.xml
9	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Booking.pm
13	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Validator.pm
2	1	Open-ILS/src/sql/Pg/095.schema.booking.sql
18	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
17	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.add-reservation-email-notify.sql
1	0	Open-ILS/web/js/dojo/openils/booking/nls/reservation.js
8	2	Open-ILS/web/js/ui/default/booking/reservation.js
4	0	Open-ILS/web/templates/default/booking/reservation.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.add-reservation-email-notify.sql

commit 42c33a3af8727ff8d0f12490438816e5cf84e2a3
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Sep 7 03:29:40 2011 -0400

    Fix unified interface w/ editing multiple volumes
    
    Breakage if editing existing items across volumes with non-default values for
    call number class, prefix, or suffix.  This was due to some logic happening
    within a loop that was sadly referencing data that changed out from under it
    with every loop iteration (so for example, we were effectively referencing the
    last rendered class menu instead of each in turn).
    
    Remember folks:
    
    for (var unsafe = 0; unsafe < 10; unsafe++) {
        setTimeout(
            function(safe) {
                return function() {
                    do_something_with(safe); // good
                    do_something_with(unsafe); // bad
                };
            }(unsafe),
            1000
        );
    }
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

19	3	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 84a47bebf522f5d38e2c22ae84160099bbd1128d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Aug 31 15:07:52 2011 -0400

    LP#838311 acn_id = undefined error in vol/copy ui
    
    Fixes race condition between multiple event listeners on drop-down menus.  Bug
    happened most often when batch applying values across multiple volumes and then
    hitting save/create/update.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

17	24	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit c7274c046952ae14bd70511ee3b3a3060390a5bd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 31 16:05:50 2011 -0400

    Add CSV filetype filter options Vandelay CSV export
    
    Includes generic support for specifying default filename, extension, and
    new filter types for the XUL NsIFilePicker wrapper
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

24	1	Open-ILS/web/js/dojo/openils/XUL.js
7	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 3790df4cf7223b40a74af8fe5d771013bbbe52ab
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Sep 7 15:18:07 2011 -0400

    Display warning message and prompt before PostgreSQL removal
    
    Building on the good work in LP# 801624, use the -P "prompt" flag
    instead of -yq for apt(itude) to ensure that the user has the ability to
    quit the dependency install and reevaluate whether they want to actually
    destroy their existing PostgreSQL databases. Note that this is
    specifically in the context of the removal of the database packages,
    rather than a global change.
    
    Also, turn the inline comment into a displayed description of what is
    happening and why, along with a nice big warning.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

11	5	Open-ILS/src/extras/Makefile.install

commit ebe5a4950ae04fb844e9fbc7ade9a1b3ac34a920
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Aug 19 12:20:19 2011 -0400

    conditional remove of libpq5 libpq-dev in Makefile
    
    In Makefile.install for the install_pgsql_client_debs_90 target.  Only
    do it if version 8 of libpq-dev is installed.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/extras/Makefile.install

commit f005b29cd1cc52175bbf06cb00e56b49e363eefa
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Sep 7 13:39:32 2011 -0400

    Remove "fallback to old style" UPDATE perm
    
    The middle layer no longer supports the
    UPDATE_ORG_UNIT_SETTING. + name
    form of editing permissions. Don't use it as a fallback.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	3	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js

commit 11bae0ebb53bf99959481d1604185df797dd11ba
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 30 17:04:57 2011 -0400

    Library Settings Editor: Use real perms
    
    When update_perm exists use that permission, instead of a permission based
    solely on the name of the permission.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

22	2	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js

commit ba3920713df112f689ed91132a9dfeffd3033e60
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Sep 7 14:10:56 2011 -0400

    Stamping the upgrade script for in-db OU proximity update
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
46	0	Open-ILS/src/sql/Pg/upgrade/0616.schema.actor_org_unit_trigger_prox_update.sql
0	46	Open-ILS/src/sql/Pg/upgrade/xxxx.schema.actor_org_unit_trigger_prox_update.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0616.schema.actor_org_unit_trigger_prox_update.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.schema.actor_org_unit_trigger_prox_update.sql

commit 5154c4e237a76ca4fcda95fcea5381e9a07ce27d
Author: Steven Callender <stevecallender@esilibrary.com>
Date:   Mon Aug 29 15:11:18 2011 +0000

    LP#836768 Proximity update trigger
    
    Update org proximity automatically when parent org unit is changed to avoid the need to use the autogen -u parameter,
    by means of a trigger on the actor.org_unit table and a new function.
    
    Signed-off-by: Steven Callender <stevecallender@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

41	0	Open-ILS/src/sql/Pg/020.schema.functions.sql
46	0	Open-ILS/src/sql/Pg/upgrade/xxxx.schema.actor_org_unit_trigger_prox_update.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.schema.actor_org_unit_trigger_prox_update.sql

commit 59d09ca287a7c4ec83657d26c902ac13d0b700aa
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Aug 30 12:50:34 2011 -0400

    Fix for LP bug #702422.
    
    Add @libdir@/javascript/ path in legacy script section of
    oils_sip.xml.example so that legacy scripts work with SIP2.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/examples/oils_sip.xml.example
1	0	Open-ILS/src/Makefile.am

commit 8fa616a1ea7395e313168e7b2ca575a43a6483f9
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Wed Aug 31 10:37:21 2011 -0700

    Adding org unit context selector to providers screen
    This helps alleviate the bug reported in LP 731510 and
    generally improves usability.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

27	1	Open-ILS/web/js/ui/default/conify/global/acq/provider.js
8	0	Open-ILS/web/templates/default/conify/global/acq/provider.tt2

commit fe3677052a750698b1bb5a3e5c14c1256e8747f3
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 26 13:56:21 2011 -0400

    Correct pg_config failure in eg_db_config.pl
    
    Missing a =s in getopts config means it becomes a 0 or 1, when it should
    be a string.
    
    The problem only occurs when you are specifying a particular postgresql
    pg_config file (for example, if you have multiple versions of postgresql
    installed).
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/support-scripts/eg_db_config.pl

commit da092a74d90f1289a5f2870b80c75f67e3370f48
Author: Dan Wells <dbw2@calvin.edu>
Date:   Wed Sep 7 11:35:18 2011 -0400

    Clear org_unit cache fix for autogen.sh
    
    autogen.sh is not properly clearing the org_tree cache.  It is
    unclear how this hasn't caused a problem before, but this fix
    works for me and should be at least harmless in other enviroments.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/Configure.pm

commit a09ba5cdfeba633714e6c79e1c6d8e1c992c0e7d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Sep 6 16:28:55 2011 -0400

    Stamp upgrade for generic mapping index normalizer
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
43	0	Open-ILS/src/sql/Pg/upgrade/0615.schema.generic-mapping-index-normalizer.sql
0	43	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.generic-mapping-index-normalizer.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0615.schema.generic-mapping-index-normalizer.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.generic-mapping-index-normalizer.sql

commit 7ce222513d4610c7c978d283933f5dfa6555f14b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 6 11:54:47 2011 -0400

    Generic mapping index normalizer
    
    Useful for mapping values extracted for SVF (metabib.record_attr.attrs)
    attributes to alternate values.  For example, you can map collections of
    MARC Audience codes into groups of codes for to create audience groups.
    
    This normalizer takes a text parameter (in addition to the extracted value)
    that defines a simple mapping between input and output.  Each mapping
    consists of one or more comma separated strings on the left of a separator
    (called the source group), a separator, and a alphanumeric string to the
    right of the separator (called the mapping target). The format of a mapping
    is:
    
      {string}[,{string}][..]=>{non-whitespace-string}
    
    For example:
    
      a,b,c=>X
    
    Multiple mappings can be supplied, separated by whitespace.  Each mapping
    itself is not sensitive to most whitespace.  For instance, the following
    are all equivalent:
    
     a,b,c=>X
     a, b, c => X
        a   ,   b   ,   c    =>     X
    
    In each, "a", "b" and "c" are mapped to "X", and anything else is returned
    without mapping.
    
    Additionionally, whitespace within a string in the source group is tolerated.
    Given a mapping of:
    
      a e i o u, y, w => V
    
    The string "a e i o u", "y" or "w" will return "V".
    
    In addition to explicit mapping, an empty source group will produce a default
    mapping, where anything not matching another mapping will return the mapping
    target.  For instance, given the following:
    
      =>X a,b,c=>Y
    
    An input of "b" will return "Y" and an input of "k" will return "X".  The
    Default mapping target may be the same as the mapping target with an explicit
    source group.  For instance, the following can be interperated as "map a, b
    and c to X, map 1, 2, 3 and anything we don't know about to Y":
    
     a,b,c=>X 1,2,3=>Y =>Y
    
    As a practical example, simplifying the audience values in MARC fixed fields
    to three groups and using those values in a new coded value map would allow
    one to create a dynamically populated search interface that uses more patron-
    friendly terms.  For instance:
    
      a,b,j=>K c,d=>T a=>A =>A g=>E
    
    The above makes the assumption that Unknown, Specialized and Not Coded should
    be lumped in with Audult, just to be safe, and General is for (E)veryone.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
26	0	Open-ILS/src/sql/Pg/999.functions.global.sql
43	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.generic-mapping-index-normalizer.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.generic-mapping-index-normalizer.sql

commit a3244fbba42815b8a0edd23c1d270ab1af2d791c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Sep 6 15:14:20 2011 -0400

    Pull in custom.js with offline/chrome overlays
    
    Or at least try to.  Main goal here is for browser.xul to see url constant
    changes from custom.js and feed them to embedded Acquisition interfaces via
    xulG.urls
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

21	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/util_overlay_chrome.xul
21	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/util_overlay_offline.xul

commit 7ad01367e36c6b8dd0a07590c8708271641ec567
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 6 12:12:36 2011 -0400

    TPac: first try audience_group SVF for audience maps
    
    Allow for configuration of an "audience_group"
    config.record_attr_definition for collecting MARC audience codes into more
    human-friendly groups.  This allows the TPac to behave more like the
    current OPAC, which groups audience values into simpler collections. As
    with "mattype", if no "audience_group" configuration exists, fall back to
    the traditional, long-form "audience" attribute.
    
    For future referene, here's an example setup using an "audience_group"
    attribute.
    
    -- Can be done in MARC Record Attributes admin UI
    INSERT INTO config.record_attr_definition
        (name, label, description, fixed_field, filter)
    VALUES
        ('audience_group', 'Audience Group', 'Audience Group', 'Audn', TRUE);
    
    -- Can be done in MARC Coded Value Maps admin UI
    INSERT INTO config.coded_value_map
        (ctype, code, value, description)
    VALUES
        ('audience_group', 'A', 'Adult', 'Adult Audience'),
        ('audience_group', 'T', 'Teen', 'Teen Audience'),
        ('audience_group', 'C', 'Children', 'Children Audience');
    
    -- No UI currently
    INSERT INTO config.record_attr_index_norm_map
        (attr, norm, params)
    VALUES
        ('audience_group', (
            SELECT id FROM
                config.index_normalizer WHERE func =
                'generic_map_normalizer'
            ),
            '["=>A g,e,f=>A a,c,j,b=>C d=>T"]'
    );
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/opac/parts/advanced/search.tt2

commit 0f044586510bb47a092b4d6b2f9163f0916aad4c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Sep 6 11:28:00 2011 -0400

    Repaired field name thinko for config.record_attr_index_norm_map
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 82162102b6629a901d774d06cdadeae613ca10ba
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Sep 1 09:13:47 2011 -0400

    Hourly fine periods do not charge enough
    
    Hourly fine periods are not charging for the first period of
    overdue-ness. If an item is due at 2:00pm and has a fine of
    $.50 per hour, the first fine should be eligible for generation
    at 2:01pm. As it stands, the first fine does not generate until
    an entire fine period has elapsed, so in this case, 3:00pm.
    
    The previous version of the code had a special case for day-
    granular fine periods, so a majority of fines were not affected.
    This commit expands the same idea (charging for the fine period
    you are currently "in") to all fine periods.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 2f2613ef6835749f7e85069c3668b465da6d2889
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 2 15:25:39 2011 -0400

    TPac: Multiple holds in staff client place-holds session
    
    Leave the patron_barcode cookie in place after holds placement succeeds
    from the embedded catalog so that the next hold request will use the
    same patron.  This allows for multiple hold request to take place within
    one session.  The negative is that the cookie sticks around even after a
    patron session is closed.  This is normally not a problem, because each
    new patron sesion will update the cookie.  (And when the cookie is not
    updated, staff still have the option to /not/ place a hold for the
    pre-selected user).  However, it would be nice to have the staff client
    clear the cookie at the right time.  Will look at that too.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit de2ca6f5dd4841397462921f8a74b2546389ef1f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 2 12:11:27 2011 -0400

    TPac: MARC expert search bug fixes
    
    - Allow for searching on tags w/o specifying subfield
    - Protect against empty search queries
    - Cleanup: Avoid some of the manual osrf session management by using
      $U->simplereq, which does all of that for us.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

31	30	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 9320c6451c38908fbe19d2565bc1c3374164a613
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Sep 2 10:48:46 2011 -0400

    TPac: Submit search on sort/limit change
    
    By popular demand, when the user changes the search sort or
    limit-to-available options, the form is immediately resubmitted via
    JavaScript.  Fails gracefully in the absence of JS.
    
    Minor JS cleanup.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/templates/opac/parts/filtersort.tt2
2	2	Open-ILS/src/templates/opac/results.tt2
8	3	Open-ILS/web/js/ui/default/opac/simple.js

commit 9e5a0f04763fe16e36b9798592a605058b848c2b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Sep 2 12:07:14 2011 -0400

    Stamping upgrade script for LP#837566
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
220	0	Open-ILS/src/sql/Pg/upgrade/0614.schema.cache_visibility_and_peer_records.sql
0	207	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.cache_visibility_and_peer_records.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0614.schema.cache_visibility_and_peer_records.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.cache_visibility_and_peer_records.sql

commit 84469eb3c655724ef24966f6d3c582deeb083e7e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Sep 2 11:13:07 2011 -0400

    LP#837566 undeleting a bib record causes an error
    
    fixes a column reference
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/sql/Pg/999.functions.global.sql
207	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.cache_visibility_and_peer_records.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.cache_visibility_and_peer_records.sql

commit 1b4eab0f9c9266481f2269f1f813318f024eb9a7
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 1 23:18:03 2011 -0400

    fix Acq -> Update Barcodes post-parts
    
    Items from acquisitions were having null instead of [] for .parts()
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 793f2829c4aeaa99de5c18693b61ffb543e22c1d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 1 14:41:42 2011 -0400

    TPac: more template scrubbing and cleaning
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

17	125	Open-ILS/src/templates/opac/myopac/prefs.tt2
0	92	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
2	2	Open-ILS/src/templates/opac/parts/anon_list.tt2
1	1	Open-ILS/src/templates/opac/parts/record/summary.tt2
1	55	Open-ILS/src/templates/opac/parts/result/lowhits.tt2
3	2	Open-ILS/src/templates/opac/parts/result/table.tt2
1	5	Open-ILS/src/templates/opac/parts/searchbar.tt2
0	1	Open-ILS/web/css/skin/default/opac/semiauto.css

commit 8b64336269e57d01f3d5fb284372fec020eb81b0
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Sep 1 14:06:53 2011 -0400

    LP#838969 Silent print cannot be unselected
    
    Thanks Bill!
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/admin/printer_settings.js

commit 5e4a6150df52d23195637a14501f28da5fe2f81e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 1 13:24:43 2011 -0400

    Tpac: Support for skinning via Apache configuration
    
    More generally, support for augmenting the Template Toolkit template
    path list to allow for per-vhost template paths.
    
    For example, a 3-tier consortium could do something like this:
    
    <VirtualHost ...>
        [...]
        PerlAddVar OILSTemplatePath "/openils/var/templates_branch_abc"
        PerlAddVar OILSTemplatePath "/openils/var/templates_system_xyz"
        PerlAddVar OILSTemplatePath "/openils/var/templates_shared"
    </VirtualHost>
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	0	Open-ILS/examples/apache/eg_vhost.conf
6	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 2daaac232315c858aa13166885e8b2ab252c103f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 1 13:02:33 2011 -0400

    Don't prepend / to relative template paths
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 88fd947e16d750f6d48f8f2618f09f78cfe19a40
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 1 10:58:03 2011 -0400

    Remove /default/ from template paths
    
    The original goal of having a /default/ component to the template path
    was to support alternate skins.  However, Template Toolkit supports
    alternate skins through a more elegant mechanism of providing template
    overlays via template path configuration.  In other words, skin files
    will be differentiated by the location of their root path and not
    because they live in a different skin directory inside the main
    template root.
    
    Because of this, the /default/ component in the template path serves
    no purpose and generally just gets in the way.
    
    As a part of this, EGWeb.pm no longer inserts the skin name into the
    template file path.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
60	0	Open-ILS/src/templates/acq/common/claim_dialog.tt2
8	0	Open-ILS/src/templates/acq/common/final_claim_dialog.tt2
24	0	Open-ILS/src/templates/acq/common/info.tt2
30	0	Open-ILS/src/templates/acq/common/inv_dialog.tt2
209	0	Open-ILS/src/templates/acq/common/jubgrid.tt2
473	0	Open-ILS/src/templates/acq/common/li_table.tt2
17	0	Open-ILS/src/templates/acq/common/li_table_pager.tt2
62	0	Open-ILS/src/templates/acq/common/notes.tt2
57	0	Open-ILS/src/templates/acq/financial/claim_eligible.tt2
35	0	Open-ILS/src/templates/acq/financial/list_currency_types.tt2
51	0	Open-ILS/src/templates/acq/financial/list_funding_sources.tt2
162	0	Open-ILS/src/templates/acq/financial/list_funds.tt2
257	0	Open-ILS/src/templates/acq/financial/view_fund.tt2
173	0	Open-ILS/src/templates/acq/financial/view_funding_source.tt2
118	0	Open-ILS/src/templates/acq/financial/view_provider.tt2
137	0	Open-ILS/src/templates/acq/invoice/view.tt2
73	0	Open-ILS/src/templates/acq/lineitem/findbib.tt2
30	0	Open-ILS/src/templates/acq/lineitem/history.tt2
71	0	Open-ILS/src/templates/acq/lineitem/related.tt2
115	0	Open-ILS/src/templates/acq/lineitem/search.tt2
11	0	Open-ILS/src/templates/acq/lineitem/worksheet.tt2
74	0	Open-ILS/src/templates/acq/picklist/bib_search.tt2
35	0	Open-ILS/src/templates/acq/picklist/brief_record.tt2
24	0	Open-ILS/src/templates/acq/picklist/from_bib.tt2
107	0	Open-ILS/src/templates/acq/picklist/list.tt2
97	0	Open-ILS/src/templates/acq/picklist/upload.tt2
66	0	Open-ILS/src/templates/acq/picklist/user_request.tt2
20	0	Open-ILS/src/templates/acq/picklist/view.tt2
5	0	Open-ILS/src/templates/acq/po/create.tt2
46	0	Open-ILS/src/templates/acq/po/edi_messages.tt2
64	0	Open-ILS/src/templates/acq/po/events.tt2
30	0	Open-ILS/src/templates/acq/po/history.tt2
34	0	Open-ILS/src/templates/acq/po/item_table.tt2
143	0	Open-ILS/src/templates/acq/po/search.tt2
138	0	Open-ILS/src/templates/acq/po/view.tt2
38	0	Open-ILS/src/templates/acq/receiving/process.tt2
246	0	Open-ILS/src/templates/acq/search/unified.tt2
74	0	Open-ILS/src/templates/acq/settings/li_attr.tt2
73	0	Open-ILS/src/templates/actor/user/register.tt2
112	0	Open-ILS/src/templates/actor/user/register_table.tt2
29	0	Open-ILS/src/templates/actor/user/trigger_events.tt2
20	8	Open-ILS/src/templates/base.tt2
21	0	Open-ILS/src/templates/booking/capture.tt2
78	0	Open-ILS/src/templates/booking/pickup.tt2
49	0	Open-ILS/src/templates/booking/pull_list.tt2
118	0	Open-ILS/src/templates/booking/reservation.tt2
88	0	Open-ILS/src/templates/booking/return.tt2
82	0	Open-ILS/src/templates/cat/authority/list.tt2
13	0	Open-ILS/src/templates/circ/selfcheck/audio_config.tt2
10	0	Open-ILS/src/templates/circ/selfcheck/banner.tt2
30	0	Open-ILS/src/templates/circ/selfcheck/circ_page.tt2
26	0	Open-ILS/src/templates/circ/selfcheck/fines.tt2
20	0	Open-ILS/src/templates/circ/selfcheck/holds_page.tt2
61	0	Open-ILS/src/templates/circ/selfcheck/main.tt2
7	0	Open-ILS/src/templates/circ/selfcheck/patron_login.tt2
83	0	Open-ILS/src/templates/circ/selfcheck/payment.tt2
27	0	Open-ILS/src/templates/circ/selfcheck/summary.tt2
33	0	Open-ILS/src/templates/conify/global/acq/cancel_reason.tt2
42	0	Open-ILS/src/templates/conify/global/acq/claim_event_type.tt2
42	0	Open-ILS/src/templates/conify/global/acq/claim_policy.tt2
35	0	Open-ILS/src/templates/conify/global/acq/claim_policy_action.tt2
42	0	Open-ILS/src/templates/conify/global/acq/claim_type.tt2
100	0	Open-ILS/src/templates/conify/global/acq/distribution_formula.tt2
80	0	Open-ILS/src/templates/conify/global/acq/edi_account.tt2
33	0	Open-ILS/src/templates/conify/global/acq/exchange_rate.tt2
31	0	Open-ILS/src/templates/conify/global/acq/fund_tag.tt2
28	0	Open-ILS/src/templates/conify/global/acq/invoice_item_type.tt2
28	0	Open-ILS/src/templates/conify/global/acq/invoice_payment_method.tt2
32	0	Open-ILS/src/templates/conify/global/acq/lineitem_alert.tt2
33	0	Open-ILS/src/templates/conify/global/acq/lineitem_marc_attr_def.tt2
211	0	Open-ILS/src/templates/conify/global/acq/provider.tt2
96	0	Open-ILS/src/templates/conify/global/action/survey.tt2
23	0	Open-ILS/src/templates/conify/global/action/survey/edit.tt2
122	0	Open-ILS/src/templates/conify/global/action_trigger/event_definition.tt2
88	0	Open-ILS/src/templates/conify/global/action_trigger/event_definition_data.tt2
30	0	Open-ILS/src/templates/conify/global/asset/copy_location_order.tt2
52	0	Open-ILS/src/templates/conify/global/asset/copy_template.tt2
37	0	Open-ILS/src/templates/conify/global/biblio/monograph_part.tt2
70	0	Open-ILS/src/templates/conify/global/booking/resource.tt2
63	0	Open-ILS/src/templates/conify/global/booking/resource_attr.tt2
63	0	Open-ILS/src/templates/conify/global/booking/resource_attr_map.tt2
59	0	Open-ILS/src/templates/conify/global/booking/resource_attr_value.tt2
61	0	Open-ILS/src/templates/conify/global/booking/resource_type.tt2
36	0	Open-ILS/src/templates/conify/global/cat/authority/browse_axis.tt2
71	0	Open-ILS/src/templates/conify/global/cat/authority/browse_axis_authority_field_map.tt2
88	0	Open-ILS/src/templates/conify/global/cat/authority/control_set.tt2
132	0	Open-ILS/src/templates/conify/global/cat/authority/control_set_authority_field.tt2
71	0	Open-ILS/src/templates/conify/global/cat/authority/control_set_bib_field.tt2
100	0	Open-ILS/src/templates/conify/global/cat/authority/thesaurus.tt2
37	0	Open-ILS/src/templates/conify/global/config/acn_prefix.tt2
37	0	Open-ILS/src/templates/conify/global/config/acn_suffix.tt2
28	0	Open-ILS/src/templates/conify/global/config/actor_sip_fields.tt2
28	0	Open-ILS/src/templates/conify/global/config/asset_sip_fields.tt2
26	0	Open-ILS/src/templates/conify/global/config/barcode_completion.tt2
35	0	Open-ILS/src/templates/conify/global/config/billing_type.tt2
77	0	Open-ILS/src/templates/conify/global/config/circ_matrix_matchpoint.tt2
28	0	Open-ILS/src/templates/conify/global/config/circ_matrix_weights.tt2
88	0	Open-ILS/src/templates/conify/global/config/circ_modifier.tt2
63	0	Open-ILS/src/templates/conify/global/config/coded_value_map.tt2
32	0	Open-ILS/src/templates/conify/global/config/global_flag.tt2
80	0	Open-ILS/src/templates/conify/global/config/hard_due_date.tt2
73	0	Open-ILS/src/templates/conify/global/config/hard_due_date_values.tt2
33	0	Open-ILS/src/templates/conify/global/config/hold_matrix_matchpoint.tt2
28	0	Open-ILS/src/templates/conify/global/config/hold_matrix_weights.tt2
32	0	Open-ILS/src/templates/conify/global/config/idl_field_doc.tt2
32	0	Open-ILS/src/templates/conify/global/config/metabib_field.tt2
64	0	Open-ILS/src/templates/conify/global/config/org_unit_setting_type.tt2
35	0	Open-ILS/src/templates/conify/global/config/record_attr_definition.tt2
28	0	Open-ILS/src/templates/conify/global/config/rule_age_hold_protect.tt2
28	0	Open-ILS/src/templates/conify/global/config/rule_circ_duration.tt2
28	0	Open-ILS/src/templates/conify/global/config/rule_max_fine.tt2
28	0	Open-ILS/src/templates/conify/global/config/rule_recurring_fine.tt2
65	0	Open-ILS/src/templates/conify/global/config/standing_penalty.tt2
64	0	Open-ILS/src/templates/conify/global/config/usr_setting_type.tt2
28	0	Open-ILS/src/templates/conify/global/config/weight_assoc.tt2
28	0	Open-ILS/src/templates/conify/global/config/z3950_source.tt2
41	0	Open-ILS/src/templates/conify/global/permission/grp_penalty_threshold.tt2
94	0	Open-ILS/src/templates/conify/global/vandelay/match_set.tt2
150	0	Open-ILS/src/templates/conify/global/vandelay/match_set_tree.tt2
0	60	Open-ILS/src/templates/default/acq/common/claim_dialog.tt2
0	8	Open-ILS/src/templates/default/acq/common/final_claim_dialog.tt2
0	24	Open-ILS/src/templates/default/acq/common/info.tt2
0	30	Open-ILS/src/templates/default/acq/common/inv_dialog.tt2
0	209	Open-ILS/src/templates/default/acq/common/jubgrid.tt2
0	473	Open-ILS/src/templates/default/acq/common/li_table.tt2
0	17	Open-ILS/src/templates/default/acq/common/li_table_pager.tt2
0	62	Open-ILS/src/templates/default/acq/common/notes.tt2
0	57	Open-ILS/src/templates/default/acq/financial/claim_eligible.tt2
0	35	Open-ILS/src/templates/default/acq/financial/list_currency_types.tt2
0	51	Open-ILS/src/templates/default/acq/financial/list_funding_sources.tt2
0	162	Open-ILS/src/templates/default/acq/financial/list_funds.tt2
0	257	Open-ILS/src/templates/default/acq/financial/view_fund.tt2
0	173	Open-ILS/src/templates/default/acq/financial/view_funding_source.tt2
0	118	Open-ILS/src/templates/default/acq/financial/view_provider.tt2
0	137	Open-ILS/src/templates/default/acq/invoice/view.tt2
0	73	Open-ILS/src/templates/default/acq/lineitem/findbib.tt2
0	30	Open-ILS/src/templates/default/acq/lineitem/history.tt2
0	71	Open-ILS/src/templates/default/acq/lineitem/related.tt2
0	115	Open-ILS/src/templates/default/acq/lineitem/search.tt2
0	11	Open-ILS/src/templates/default/acq/lineitem/worksheet.tt2
0	74	Open-ILS/src/templates/default/acq/picklist/bib_search.tt2
0	35	Open-ILS/src/templates/default/acq/picklist/brief_record.tt2
0	24	Open-ILS/src/templates/default/acq/picklist/from_bib.tt2
0	107	Open-ILS/src/templates/default/acq/picklist/list.tt2
0	97	Open-ILS/src/templates/default/acq/picklist/upload.tt2
0	66	Open-ILS/src/templates/default/acq/picklist/user_request.tt2
0	20	Open-ILS/src/templates/default/acq/picklist/view.tt2
0	5	Open-ILS/src/templates/default/acq/po/create.tt2
0	46	Open-ILS/src/templates/default/acq/po/edi_messages.tt2
0	64	Open-ILS/src/templates/default/acq/po/events.tt2
0	30	Open-ILS/src/templates/default/acq/po/history.tt2
0	34	Open-ILS/src/templates/default/acq/po/item_table.tt2
0	143	Open-ILS/src/templates/default/acq/po/search.tt2
0	138	Open-ILS/src/templates/default/acq/po/view.tt2
0	38	Open-ILS/src/templates/default/acq/receiving/process.tt2
0	246	Open-ILS/src/templates/default/acq/search/unified.tt2
0	74	Open-ILS/src/templates/default/acq/settings/li_attr.tt2
0	73	Open-ILS/src/templates/default/actor/user/register.tt2
0	112	Open-ILS/src/templates/default/actor/user/register_table.tt2
0	29	Open-ILS/src/templates/default/actor/user/trigger_events.tt2
0	39	Open-ILS/src/templates/default/base.tt2
0	21	Open-ILS/src/templates/default/booking/capture.tt2
0	78	Open-ILS/src/templates/default/booking/pickup.tt2
0	49	Open-ILS/src/templates/default/booking/pull_list.tt2
0	118	Open-ILS/src/templates/default/booking/reservation.tt2
0	88	Open-ILS/src/templates/default/booking/return.tt2
0	82	Open-ILS/src/templates/default/cat/authority/list.tt2
0	13	Open-ILS/src/templates/default/circ/selfcheck/audio_config.tt2
0	10	Open-ILS/src/templates/default/circ/selfcheck/banner.tt2
0	30	Open-ILS/src/templates/default/circ/selfcheck/circ_page.tt2
0	26	Open-ILS/src/templates/default/circ/selfcheck/fines.tt2
0	20	Open-ILS/src/templates/default/circ/selfcheck/holds_page.tt2
0	61	Open-ILS/src/templates/default/circ/selfcheck/main.tt2
0	7	Open-ILS/src/templates/default/circ/selfcheck/patron_login.tt2
0	83	Open-ILS/src/templates/default/circ/selfcheck/payment.tt2
0	27	Open-ILS/src/templates/default/circ/selfcheck/summary.tt2
0	33	Open-ILS/src/templates/default/conify/global/acq/cancel_reason.tt2
0	42	Open-ILS/src/templates/default/conify/global/acq/claim_event_type.tt2
0	42	Open-ILS/src/templates/default/conify/global/acq/claim_policy.tt2
0	35	Open-ILS/src/templates/default/conify/global/acq/claim_policy_action.tt2
0	42	Open-ILS/src/templates/default/conify/global/acq/claim_type.tt2
0	100	Open-ILS/src/templates/default/conify/global/acq/distribution_formula.tt2
0	80	Open-ILS/src/templates/default/conify/global/acq/edi_account.tt2
0	33	Open-ILS/src/templates/default/conify/global/acq/exchange_rate.tt2
0	31	Open-ILS/src/templates/default/conify/global/acq/fund_tag.tt2
0	28	Open-ILS/src/templates/default/conify/global/acq/invoice_item_type.tt2
0	28	Open-ILS/src/templates/default/conify/global/acq/invoice_payment_method.tt2
0	32	Open-ILS/src/templates/default/conify/global/acq/lineitem_alert.tt2
0	33	Open-ILS/src/templates/default/conify/global/acq/lineitem_marc_attr_def.tt2
0	211	Open-ILS/src/templates/default/conify/global/acq/provider.tt2
0	96	Open-ILS/src/templates/default/conify/global/action/survey.tt2
0	23	Open-ILS/src/templates/default/conify/global/action/survey/edit.tt2
0	122	Open-ILS/src/templates/default/conify/global/action_trigger/event_definition.tt2
0	88	Open-ILS/src/templates/default/conify/global/action_trigger/event_definition_data.tt2
0	30	Open-ILS/src/templates/default/conify/global/asset/copy_location_order.tt2
0	52	Open-ILS/src/templates/default/conify/global/asset/copy_template.tt2
0	37	Open-ILS/src/templates/default/conify/global/biblio/monograph_part.tt2
0	70	Open-ILS/src/templates/default/conify/global/booking/resource.tt2
0	63	Open-ILS/src/templates/default/conify/global/booking/resource_attr.tt2
0	63	Open-ILS/src/templates/default/conify/global/booking/resource_attr_map.tt2
0	59	Open-ILS/src/templates/default/conify/global/booking/resource_attr_value.tt2
0	61	Open-ILS/src/templates/default/conify/global/booking/resource_type.tt2
0	36	Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis.tt2
0	71	Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
0	88	Open-ILS/src/templates/default/conify/global/cat/authority/control_set.tt2
0	132	Open-ILS/src/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
0	71	Open-ILS/src/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
0	100	Open-ILS/src/templates/default/conify/global/cat/authority/thesaurus.tt2
0	37	Open-ILS/src/templates/default/conify/global/config/acn_prefix.tt2
0	37	Open-ILS/src/templates/default/conify/global/config/acn_suffix.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/actor_sip_fields.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/asset_sip_fields.tt2
0	26	Open-ILS/src/templates/default/conify/global/config/barcode_completion.tt2
0	35	Open-ILS/src/templates/default/conify/global/config/billing_type.tt2
0	77	Open-ILS/src/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/circ_matrix_weights.tt2
0	88	Open-ILS/src/templates/default/conify/global/config/circ_modifier.tt2
0	63	Open-ILS/src/templates/default/conify/global/config/coded_value_map.tt2
0	32	Open-ILS/src/templates/default/conify/global/config/global_flag.tt2
0	80	Open-ILS/src/templates/default/conify/global/config/hard_due_date.tt2
0	73	Open-ILS/src/templates/default/conify/global/config/hard_due_date_values.tt2
0	33	Open-ILS/src/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/hold_matrix_weights.tt2
0	32	Open-ILS/src/templates/default/conify/global/config/idl_field_doc.tt2
0	32	Open-ILS/src/templates/default/conify/global/config/metabib_field.tt2
0	64	Open-ILS/src/templates/default/conify/global/config/org_unit_setting_type.tt2
0	35	Open-ILS/src/templates/default/conify/global/config/record_attr_definition.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/rule_age_hold_protect.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/rule_circ_duration.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/rule_max_fine.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/rule_recurring_fine.tt2
0	65	Open-ILS/src/templates/default/conify/global/config/standing_penalty.tt2
0	64	Open-ILS/src/templates/default/conify/global/config/usr_setting_type.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/weight_assoc.tt2
0	28	Open-ILS/src/templates/default/conify/global/config/z3950_source.tt2
0	41	Open-ILS/src/templates/default/conify/global/permission/grp_penalty_threshold.tt2
0	94	Open-ILS/src/templates/default/conify/global/vandelay/match_set.tt2
0	150	Open-ILS/src/templates/default/conify/global/vandelay/match_set_tree.tt2
0	2	Open-ILS/src/templates/default/footer.tt2
0	11	Open-ILS/src/templates/default/header.tt2
0	127	Open-ILS/src/templates/default/menu.tt2
0	30	Open-ILS/src/templates/default/opac/advanced.tt2
0	21	Open-ILS/src/templates/default/opac/cnbrowse.tt2
0	16	Open-ILS/src/templates/default/opac/home.tt2
0	27	Open-ILS/src/templates/default/opac/login.tt2
0	20	Open-ILS/src/templates/default/opac/mylist.tt2
0	102	Open-ILS/src/templates/default/opac/myopac/circ_history.tt2
0	166	Open-ILS/src/templates/default/opac/myopac/circs.tt2
0	127	Open-ILS/src/templates/default/opac/myopac/hold_history.tt2
0	228	Open-ILS/src/templates/default/opac/myopac/holds.tt2
0	111	Open-ILS/src/templates/default/opac/myopac/holds/edit.tt2
0	185	Open-ILS/src/templates/default/opac/myopac/lists.tt2
0	170	Open-ILS/src/templates/default/opac/myopac/main.tt2
0	47	Open-ILS/src/templates/default/opac/myopac/main_pay.tt2
0	187	Open-ILS/src/templates/default/opac/myopac/main_payment_form.tt2
0	59	Open-ILS/src/templates/default/opac/myopac/main_payments.tt2
0	356	Open-ILS/src/templates/default/opac/myopac/prefs.tt2
0	128	Open-ILS/src/templates/default/opac/myopac/prefs_notify.tt2
0	100	Open-ILS/src/templates/default/opac/myopac/prefs_settings.tt2
0	21	Open-ILS/src/templates/default/opac/myopac/receipt_email.tt2
0	25	Open-ILS/src/templates/default/opac/myopac/receipt_print.tt2
0	24	Open-ILS/src/templates/default/opac/myopac/update_email.tt2
0	33	Open-ILS/src/templates/default/opac/myopac/update_password.tt2
0	29	Open-ILS/src/templates/default/opac/myopac/update_username.tt2
0	29	Open-ILS/src/templates/default/opac/parts/advanced/expert.tt2
0	44	Open-ILS/src/templates/default/opac/parts/advanced/global_row.tt2
0	29	Open-ILS/src/templates/default/opac/parts/advanced/numeric.tt2
0	128	Open-ILS/src/templates/default/opac/parts/advanced/search.tt2
0	65	Open-ILS/src/templates/default/opac/parts/anon_list.tt2
0	19	Open-ILS/src/templates/default/opac/parts/base.tt2
0	17	Open-ILS/src/templates/default/opac/parts/chilifresh.tt2
0	28	Open-ILS/src/templates/default/opac/parts/coded_value_selector.tt2
0	55	Open-ILS/src/templates/default/opac/parts/config.tt2
0	15	Open-ILS/src/templates/default/opac/parts/filtersort.tt2
0	25	Open-ILS/src/templates/default/opac/parts/footer.tt2
0	69	Open-ILS/src/templates/default/opac/parts/header.tt2
0	38	Open-ILS/src/templates/default/opac/parts/hold_error_messages.tt2
0	3	Open-ILS/src/templates/default/opac/parts/homesearch.tt2
0	32	Open-ILS/src/templates/default/opac/parts/js.tt2
0	156	Open-ILS/src/templates/default/opac/parts/login/form.tt2
0	12	Open-ILS/src/templates/default/opac/parts/login/help.tt2
0	5	Open-ILS/src/templates/default/opac/parts/login/password_hint.tt2
0	164	Open-ILS/src/templates/default/opac/parts/misc_util.tt2
0	37	Open-ILS/src/templates/default/opac/parts/myopac/base.tt2
0	102	Open-ILS/src/templates/default/opac/parts/myopac/main_base.tt2
0	18	Open-ILS/src/templates/default/opac/parts/myopac/main_refund_policy.tt2
0	56	Open-ILS/src/templates/default/opac/parts/myopac/prefs_base.tt2
0	5	Open-ILS/src/templates/default/opac/parts/myopac/prefs_hints.tt2
0	31	Open-ILS/src/templates/default/opac/parts/org_selector.tt2
0	83	Open-ILS/src/templates/default/opac/parts/place_hold.tt2
0	97	Open-ILS/src/templates/default/opac/parts/place_hold_result.tt2
0	25	Open-ILS/src/templates/default/opac/parts/printnav.tt2
0	16	Open-ILS/src/templates/default/opac/parts/qtype_selector.tt2
0	51	Open-ILS/src/templates/default/opac/parts/record/authors.tt2
0	32	Open-ILS/src/templates/default/opac/parts/record/awards.tt2
0	48	Open-ILS/src/templates/default/opac/parts/record/body.tt2
0	61	Open-ILS/src/templates/default/opac/parts/record/cnbrowse.tt2
0	59	Open-ILS/src/templates/default/opac/parts/record/extras.tt2
0	26	Open-ILS/src/templates/default/opac/parts/record/issues.tt2
0	23	Open-ILS/src/templates/default/opac/parts/record/refworks.tt2
0	16	Open-ILS/src/templates/default/opac/parts/record/series.tt2
0	70	Open-ILS/src/templates/default/opac/parts/record/subjects.tt2
0	267	Open-ILS/src/templates/default/opac/parts/record/summary.tt2
0	19	Open-ILS/src/templates/default/opac/parts/record/summaryplus.tt2
0	94	Open-ILS/src/templates/default/opac/parts/result/lowhits.tt2
0	6	Open-ILS/src/templates/default/opac/parts/result/lowhits_purchase.tt2
0	59	Open-ILS/src/templates/default/opac/parts/result/paginate.tt2
0	254	Open-ILS/src/templates/default/opac/parts/result/table.tt2
0	78	Open-ILS/src/templates/default/opac/parts/searchbar.tt2
0	11	Open-ILS/src/templates/default/opac/parts/tips.tt2
0	106	Open-ILS/src/templates/default/opac/parts/topnav.tt2
0	11	Open-ILS/src/templates/default/opac/parts/topnav_links.tt2
0	2	Open-ILS/src/templates/default/opac/parts/topnav_logo.tt2
0	20	Open-ILS/src/templates/default/opac/place_hold.tt2
0	16	Open-ILS/src/templates/default/opac/record.tt2
0	83	Open-ILS/src/templates/default/opac/results.tt2
0	123	Open-ILS/src/templates/default/serial/list_item.tt2
0	149	Open-ILS/src/templates/default/serial/list_stream.tt2
0	51	Open-ILS/src/templates/default/serial/list_subscription.tt2
0	38	Open-ILS/src/templates/default/serial/print_routing_list_users.tt2
0	189	Open-ILS/src/templates/default/serial/subscription.tt2
0	80	Open-ILS/src/templates/default/serial/subscription/caption_and_pattern.tt2
0	37	Open-ILS/src/templates/default/serial/subscription/distribution.tt2
0	84	Open-ILS/src/templates/default/serial/subscription/issuance.tt2
0	92	Open-ILS/src/templates/default/vandelay/inc/attrs.tt2
0	64	Open-ILS/src/templates/default/vandelay/inc/export.tt2
0	81	Open-ILS/src/templates/default/vandelay/inc/import_errors.tt2
0	27	Open-ILS/src/templates/default/vandelay/inc/item_attrs.tt2
0	13	Open-ILS/src/templates/default/vandelay/inc/marchtml.tt2
0	41	Open-ILS/src/templates/default/vandelay/inc/matches.tt2
0	28	Open-ILS/src/templates/default/vandelay/inc/profiles.tt2
0	16	Open-ILS/src/templates/default/vandelay/inc/progress.tt2
0	253	Open-ILS/src/templates/default/vandelay/inc/queue.tt2
0	25	Open-ILS/src/templates/default/vandelay/inc/queueselect.tt2
0	16	Open-ILS/src/templates/default/vandelay/inc/toolbar.tt2
0	103	Open-ILS/src/templates/default/vandelay/inc/upload.tt2
0	50	Open-ILS/src/templates/default/vandelay/vandelay.tt2
2	0	Open-ILS/src/templates/footer.tt2
11	0	Open-ILS/src/templates/header.tt2
127	0	Open-ILS/src/templates/menu.tt2
30	0	Open-ILS/src/templates/opac/advanced.tt2
21	0	Open-ILS/src/templates/opac/cnbrowse.tt2
16	0	Open-ILS/src/templates/opac/home.tt2
27	0	Open-ILS/src/templates/opac/login.tt2
20	0	Open-ILS/src/templates/opac/mylist.tt2
102	0	Open-ILS/src/templates/opac/myopac/circ_history.tt2
166	0	Open-ILS/src/templates/opac/myopac/circs.tt2
127	0	Open-ILS/src/templates/opac/myopac/hold_history.tt2
228	0	Open-ILS/src/templates/opac/myopac/holds.tt2
110	0	Open-ILS/src/templates/opac/myopac/holds/edit.tt2
185	0	Open-ILS/src/templates/opac/myopac/lists.tt2
170	0	Open-ILS/src/templates/opac/myopac/main.tt2
47	0	Open-ILS/src/templates/opac/myopac/main_pay.tt2
187	0	Open-ILS/src/templates/opac/myopac/main_payment_form.tt2
59	0	Open-ILS/src/templates/opac/myopac/main_payments.tt2
356	0	Open-ILS/src/templates/opac/myopac/prefs.tt2
128	0	Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
100	0	Open-ILS/src/templates/opac/myopac/prefs_settings.tt2
21	0	Open-ILS/src/templates/opac/myopac/receipt_email.tt2
25	0	Open-ILS/src/templates/opac/myopac/receipt_print.tt2
24	0	Open-ILS/src/templates/opac/myopac/update_email.tt2
33	0	Open-ILS/src/templates/opac/myopac/update_password.tt2
29	0	Open-ILS/src/templates/opac/myopac/update_username.tt2
29	0	Open-ILS/src/templates/opac/parts/advanced/expert.tt2
44	0	Open-ILS/src/templates/opac/parts/advanced/global_row.tt2
29	0	Open-ILS/src/templates/opac/parts/advanced/numeric.tt2
128	0	Open-ILS/src/templates/opac/parts/advanced/search.tt2
65	0	Open-ILS/src/templates/opac/parts/anon_list.tt2
19	0	Open-ILS/src/templates/opac/parts/base.tt2
17	0	Open-ILS/src/templates/opac/parts/chilifresh.tt2
28	0	Open-ILS/src/templates/opac/parts/coded_value_selector.tt2
55	0	Open-ILS/src/templates/opac/parts/config.tt2
15	0	Open-ILS/src/templates/opac/parts/filtersort.tt2
25	0	Open-ILS/src/templates/opac/parts/footer.tt2
69	0	Open-ILS/src/templates/opac/parts/header.tt2
38	0	Open-ILS/src/templates/opac/parts/hold_error_messages.tt2
3	0	Open-ILS/src/templates/opac/parts/homesearch.tt2
32	0	Open-ILS/src/templates/opac/parts/js.tt2
156	0	Open-ILS/src/templates/opac/parts/login/form.tt2
12	0	Open-ILS/src/templates/opac/parts/login/help.tt2
5	0	Open-ILS/src/templates/opac/parts/login/password_hint.tt2
164	0	Open-ILS/src/templates/opac/parts/misc_util.tt2
37	0	Open-ILS/src/templates/opac/parts/myopac/base.tt2
102	0	Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
18	0	Open-ILS/src/templates/opac/parts/myopac/main_refund_policy.tt2
56	0	Open-ILS/src/templates/opac/parts/myopac/prefs_base.tt2
5	0	Open-ILS/src/templates/opac/parts/myopac/prefs_hints.tt2
31	0	Open-ILS/src/templates/opac/parts/org_selector.tt2
83	0	Open-ILS/src/templates/opac/parts/place_hold.tt2
97	0	Open-ILS/src/templates/opac/parts/place_hold_result.tt2
25	0	Open-ILS/src/templates/opac/parts/printnav.tt2
16	0	Open-ILS/src/templates/opac/parts/qtype_selector.tt2
51	0	Open-ILS/src/templates/opac/parts/record/authors.tt2
32	0	Open-ILS/src/templates/opac/parts/record/awards.tt2
48	0	Open-ILS/src/templates/opac/parts/record/body.tt2
61	0	Open-ILS/src/templates/opac/parts/record/cnbrowse.tt2
59	0	Open-ILS/src/templates/opac/parts/record/extras.tt2
26	0	Open-ILS/src/templates/opac/parts/record/issues.tt2
23	0	Open-ILS/src/templates/opac/parts/record/refworks.tt2
16	0	Open-ILS/src/templates/opac/parts/record/series.tt2
70	0	Open-ILS/src/templates/opac/parts/record/subjects.tt2
267	0	Open-ILS/src/templates/opac/parts/record/summary.tt2
19	0	Open-ILS/src/templates/opac/parts/record/summaryplus.tt2
94	0	Open-ILS/src/templates/opac/parts/result/lowhits.tt2
6	0	Open-ILS/src/templates/opac/parts/result/lowhits_purchase.tt2
59	0	Open-ILS/src/templates/opac/parts/result/paginate.tt2
254	0	Open-ILS/src/templates/opac/parts/result/table.tt2
78	0	Open-ILS/src/templates/opac/parts/searchbar.tt2
11	0	Open-ILS/src/templates/opac/parts/tips.tt2
106	0	Open-ILS/src/templates/opac/parts/topnav.tt2
11	0	Open-ILS/src/templates/opac/parts/topnav_links.tt2
2	0	Open-ILS/src/templates/opac/parts/topnav_logo.tt2
20	0	Open-ILS/src/templates/opac/place_hold.tt2
16	0	Open-ILS/src/templates/opac/record.tt2
83	0	Open-ILS/src/templates/opac/results.tt2
123	0	Open-ILS/src/templates/serial/list_item.tt2
149	0	Open-ILS/src/templates/serial/list_stream.tt2
51	0	Open-ILS/src/templates/serial/list_subscription.tt2
38	0	Open-ILS/src/templates/serial/print_routing_list_users.tt2
189	0	Open-ILS/src/templates/serial/subscription.tt2
80	0	Open-ILS/src/templates/serial/subscription/caption_and_pattern.tt2
37	0	Open-ILS/src/templates/serial/subscription/distribution.tt2
84	0	Open-ILS/src/templates/serial/subscription/issuance.tt2
92	0	Open-ILS/src/templates/vandelay/inc/attrs.tt2
64	0	Open-ILS/src/templates/vandelay/inc/export.tt2
81	0	Open-ILS/src/templates/vandelay/inc/import_errors.tt2
27	0	Open-ILS/src/templates/vandelay/inc/item_attrs.tt2
13	0	Open-ILS/src/templates/vandelay/inc/marchtml.tt2
41	0	Open-ILS/src/templates/vandelay/inc/matches.tt2
28	0	Open-ILS/src/templates/vandelay/inc/profiles.tt2
16	0	Open-ILS/src/templates/vandelay/inc/progress.tt2
253	0	Open-ILS/src/templates/vandelay/inc/queue.tt2
25	0	Open-ILS/src/templates/vandelay/inc/queueselect.tt2
16	0	Open-ILS/src/templates/vandelay/inc/toolbar.tt2
103	0	Open-ILS/src/templates/vandelay/inc/upload.tt2
50	0	Open-ILS/src/templates/vandelay/vandelay.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/claim_dialog.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/final_claim_dialog.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/info.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/inv_dialog.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/jubgrid.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/li_table.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/li_table_pager.tt2
 create mode 100644 Open-ILS/src/templates/acq/common/notes.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/claim_eligible.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/list_currency_types.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/list_funding_sources.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/list_funds.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/view_fund.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/view_funding_source.tt2
 create mode 100644 Open-ILS/src/templates/acq/financial/view_provider.tt2
 create mode 100644 Open-ILS/src/templates/acq/invoice/view.tt2
 create mode 100644 Open-ILS/src/templates/acq/lineitem/findbib.tt2
 create mode 100644 Open-ILS/src/templates/acq/lineitem/history.tt2
 create mode 100644 Open-ILS/src/templates/acq/lineitem/related.tt2
 create mode 100644 Open-ILS/src/templates/acq/lineitem/search.tt2
 create mode 100644 Open-ILS/src/templates/acq/lineitem/worksheet.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/bib_search.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/brief_record.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/from_bib.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/list.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/upload.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/user_request.tt2
 create mode 100644 Open-ILS/src/templates/acq/picklist/view.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/create.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/edi_messages.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/events.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/history.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/item_table.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/search.tt2
 create mode 100644 Open-ILS/src/templates/acq/po/view.tt2
 create mode 100644 Open-ILS/src/templates/acq/receiving/process.tt2
 create mode 100644 Open-ILS/src/templates/acq/search/unified.tt2
 create mode 100644 Open-ILS/src/templates/acq/settings/li_attr.tt2
 create mode 100644 Open-ILS/src/templates/actor/user/register.tt2
 create mode 100644 Open-ILS/src/templates/actor/user/register_table.tt2
 create mode 100644 Open-ILS/src/templates/actor/user/trigger_events.tt2
 create mode 100644 Open-ILS/src/templates/booking/capture.tt2
 create mode 100644 Open-ILS/src/templates/booking/pickup.tt2
 create mode 100644 Open-ILS/src/templates/booking/pull_list.tt2
 create mode 100644 Open-ILS/src/templates/booking/reservation.tt2
 create mode 100644 Open-ILS/src/templates/booking/return.tt2
 create mode 100644 Open-ILS/src/templates/cat/authority/list.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/audio_config.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/banner.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/circ_page.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/fines.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/holds_page.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/main.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/patron_login.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/payment.tt2
 create mode 100644 Open-ILS/src/templates/circ/selfcheck/summary.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/cancel_reason.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/claim_event_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/claim_policy.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/claim_policy_action.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/claim_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/distribution_formula.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/edi_account.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/exchange_rate.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/fund_tag.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/invoice_item_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/invoice_payment_method.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/lineitem_alert.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/lineitem_marc_attr_def.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/acq/provider.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/action/survey.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/action/survey/edit.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/action_trigger/event_definition.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/action_trigger/event_definition_data.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/asset/copy_location_order.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/asset/copy_template.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/biblio/monograph_part.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/booking/resource.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/booking/resource_attr.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/booking/resource_attr_map.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/booking/resource_attr_value.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/booking/resource_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/cat/authority/browse_axis.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/cat/authority/browse_axis_authority_field_map.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/cat/authority/control_set.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/cat/authority/control_set_authority_field.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/cat/authority/control_set_bib_field.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/cat/authority/thesaurus.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/acn_prefix.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/acn_suffix.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/actor_sip_fields.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/asset_sip_fields.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/barcode_completion.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/billing_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/circ_matrix_matchpoint.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/circ_matrix_weights.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/circ_modifier.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/coded_value_map.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/global_flag.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/hard_due_date.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/hard_due_date_values.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/hold_matrix_matchpoint.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/hold_matrix_weights.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/idl_field_doc.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/metabib_field.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/org_unit_setting_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/record_attr_definition.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/rule_age_hold_protect.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/rule_circ_duration.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/rule_max_fine.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/rule_recurring_fine.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/standing_penalty.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/usr_setting_type.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/weight_assoc.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/config/z3950_source.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/permission/grp_penalty_threshold.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/vandelay/match_set.tt2
 create mode 100644 Open-ILS/src/templates/conify/global/vandelay/match_set_tree.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/claim_dialog.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/final_claim_dialog.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/info.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/inv_dialog.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/jubgrid.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/li_table.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/li_table_pager.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/common/notes.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/claim_eligible.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/list_currency_types.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/list_funding_sources.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/list_funds.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/view_fund.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/view_funding_source.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/financial/view_provider.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/invoice/view.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/lineitem/findbib.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/lineitem/history.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/lineitem/related.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/lineitem/search.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/lineitem/worksheet.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/bib_search.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/brief_record.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/from_bib.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/list.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/upload.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/user_request.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/picklist/view.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/create.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/edi_messages.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/events.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/history.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/item_table.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/search.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/po/view.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/receiving/process.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/search/unified.tt2
 delete mode 100644 Open-ILS/src/templates/default/acq/settings/li_attr.tt2
 delete mode 100644 Open-ILS/src/templates/default/actor/user/register.tt2
 delete mode 100644 Open-ILS/src/templates/default/actor/user/register_table.tt2
 delete mode 100644 Open-ILS/src/templates/default/actor/user/trigger_events.tt2
 delete mode 100644 Open-ILS/src/templates/default/base.tt2
 delete mode 100644 Open-ILS/src/templates/default/booking/capture.tt2
 delete mode 100644 Open-ILS/src/templates/default/booking/pickup.tt2
 delete mode 100644 Open-ILS/src/templates/default/booking/pull_list.tt2
 delete mode 100644 Open-ILS/src/templates/default/booking/reservation.tt2
 delete mode 100644 Open-ILS/src/templates/default/booking/return.tt2
 delete mode 100644 Open-ILS/src/templates/default/cat/authority/list.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/audio_config.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/banner.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/circ_page.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/fines.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/holds_page.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/main.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/patron_login.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/payment.tt2
 delete mode 100644 Open-ILS/src/templates/default/circ/selfcheck/summary.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/cancel_reason.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_event_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_policy.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_policy_action.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/distribution_formula.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/edi_account.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/exchange_rate.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/fund_tag.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/invoice_item_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/invoice_payment_method.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/lineitem_alert.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/lineitem_marc_attr_def.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/acq/provider.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/action/survey.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/action/survey/edit.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/action_trigger/event_definition.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/action_trigger/event_definition_data.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/asset/copy_location_order.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/asset/copy_template.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/biblio/monograph_part.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_attr.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_attr_map.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_attr_value.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/control_set.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/thesaurus.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/acn_prefix.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/acn_suffix.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/actor_sip_fields.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/asset_sip_fields.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/barcode_completion.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/billing_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/circ_matrix_weights.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/circ_modifier.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/coded_value_map.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/global_flag.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/hard_due_date.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/hard_due_date_values.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/hold_matrix_weights.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/idl_field_doc.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/metabib_field.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/org_unit_setting_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/record_attr_definition.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_age_hold_protect.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_circ_duration.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_max_fine.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_recurring_fine.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/standing_penalty.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/usr_setting_type.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/weight_assoc.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/config/z3950_source.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/permission/grp_penalty_threshold.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/vandelay/match_set.tt2
 delete mode 100644 Open-ILS/src/templates/default/conify/global/vandelay/match_set_tree.tt2
 delete mode 100644 Open-ILS/src/templates/default/footer.tt2
 delete mode 100644 Open-ILS/src/templates/default/header.tt2
 delete mode 100644 Open-ILS/src/templates/default/menu.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/advanced.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/cnbrowse.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/home.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/login.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/mylist.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/circ_history.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/circs.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/hold_history.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/holds.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/holds/edit.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/lists.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/main.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/main_pay.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/main_payment_form.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/main_payments.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/prefs.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/prefs_notify.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/prefs_settings.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/receipt_email.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/receipt_print.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/update_email.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/update_password.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/myopac/update_username.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/expert.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/global_row.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/numeric.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/search.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/anon_list.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/base.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/chilifresh.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/coded_value_selector.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/config.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/filtersort.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/footer.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/header.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/hold_error_messages.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/homesearch.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/js.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/login/form.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/login/help.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/login/password_hint.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/misc_util.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/base.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/main_base.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/main_refund_policy.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/prefs_base.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/prefs_hints.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/org_selector.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/place_hold.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/place_hold_result.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/printnav.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/qtype_selector.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/authors.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/awards.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/body.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/cnbrowse.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/extras.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/issues.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/refworks.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/series.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/subjects.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/summary.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/summaryplus.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/result/lowhits.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/result/lowhits_purchase.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/result/paginate.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/result/table.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/searchbar.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/tips.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/topnav.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/topnav_links.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/topnav_logo.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/place_hold.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/record.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/results.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/list_item.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/list_stream.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/list_subscription.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/print_routing_list_users.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/subscription.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/subscription/caption_and_pattern.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/subscription/distribution.tt2
 delete mode 100644 Open-ILS/src/templates/default/serial/subscription/issuance.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/attrs.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/export.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/import_errors.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/item_attrs.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/marchtml.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/matches.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/profiles.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/progress.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/queue.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/queueselect.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/toolbar.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/inc/upload.tt2
 delete mode 100644 Open-ILS/src/templates/default/vandelay/vandelay.tt2
 create mode 100644 Open-ILS/src/templates/footer.tt2
 create mode 100644 Open-ILS/src/templates/header.tt2
 create mode 100644 Open-ILS/src/templates/menu.tt2
 create mode 100644 Open-ILS/src/templates/opac/advanced.tt2
 create mode 100644 Open-ILS/src/templates/opac/cnbrowse.tt2
 create mode 100644 Open-ILS/src/templates/opac/home.tt2
 create mode 100644 Open-ILS/src/templates/opac/login.tt2
 create mode 100644 Open-ILS/src/templates/opac/mylist.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/circ_history.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/circs.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/hold_history.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/holds.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/holds/edit.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/lists.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/main.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/main_pay.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/main_payment_form.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/main_payments.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/prefs.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/prefs_notify.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/prefs_settings.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/receipt_email.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/receipt_print.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/update_email.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/update_password.tt2
 create mode 100644 Open-ILS/src/templates/opac/myopac/update_username.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/advanced/expert.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/advanced/global_row.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/advanced/numeric.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/advanced/search.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/anon_list.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/base.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/chilifresh.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/coded_value_selector.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/config.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/filtersort.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/footer.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/header.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/hold_error_messages.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/homesearch.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/js.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/login/form.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/login/help.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/login/password_hint.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/misc_util.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/myopac/base.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/myopac/main_base.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/myopac/main_refund_policy.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/myopac/prefs_base.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/myopac/prefs_hints.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/org_selector.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/place_hold.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/place_hold_result.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/printnav.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/qtype_selector.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/authors.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/awards.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/body.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/cnbrowse.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/extras.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/issues.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/refworks.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/series.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/subjects.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/summary.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/record/summaryplus.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/result/lowhits.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/result/lowhits_purchase.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/result/paginate.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/searchbar.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/tips.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/topnav.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/topnav_links.tt2
 create mode 100644 Open-ILS/src/templates/opac/parts/topnav_logo.tt2
 create mode 100644 Open-ILS/src/templates/opac/place_hold.tt2
 create mode 100644 Open-ILS/src/templates/opac/record.tt2
 create mode 100644 Open-ILS/src/templates/opac/results.tt2
 create mode 100644 Open-ILS/src/templates/serial/list_item.tt2
 create mode 100644 Open-ILS/src/templates/serial/list_stream.tt2
 create mode 100644 Open-ILS/src/templates/serial/list_subscription.tt2
 create mode 100644 Open-ILS/src/templates/serial/print_routing_list_users.tt2
 create mode 100644 Open-ILS/src/templates/serial/subscription.tt2
 create mode 100644 Open-ILS/src/templates/serial/subscription/caption_and_pattern.tt2
 create mode 100644 Open-ILS/src/templates/serial/subscription/distribution.tt2
 create mode 100644 Open-ILS/src/templates/serial/subscription/issuance.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/attrs.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/export.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/import_errors.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/item_attrs.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/marchtml.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/matches.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/profiles.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/progress.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/queue.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/queueselect.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/toolbar.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/inc/upload.tt2
 create mode 100644 Open-ILS/src/templates/vandelay/vandelay.tt2

commit e7b515aa363e3990fdbe7f5b6104999911e568a8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Sep 1 08:44:20 2011 -0400

    Removed (very) old, unused template files
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	53	Open-ILS/src/templates/strings/ex.ttk
0	29	Open-ILS/src/templates/strings/perm.ttk
 delete mode 100644 Open-ILS/src/templates/strings/ex.ttk
 delete mode 100644 Open-ILS/src/templates/strings/perm.ttk

commit 514d6e5878d46971b012a08b4582c1880d98daca
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 31 17:13:23 2011 -0400

    TPac: more cleanup of unused IDs and files
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	91	Open-ILS/src/templates/default/opac/parts/record/cn_details.tt2
3	3	Open-ILS/src/templates/default/opac/parts/record/cnbrowse.tt2
0	68	Open-ILS/src/templates/default/opac/parts/record/copyinfo.tt2
1	7	Open-ILS/src/templates/default/opac/parts/record/extras.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/issues.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/series.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/subjects.tt2
12	13	Open-ILS/src/templates/default/opac/parts/record/summary.tt2
0	1	Open-ILS/web/css/skin/default/opac/semiauto.css
0	2	Open-ILS/web/css/skin/default/opac/style.css
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/cn_details.tt2
 delete mode 100644 Open-ILS/src/templates/default/opac/parts/record/copyinfo.tt2

commit e3fb1e9f5e1629f4742a70a6ebee839339ddb3c7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 31 14:02:30 2011 -0400

    Tpac: more unused ID cleanup; parts/record
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/src/templates/default/opac/parts/myopac/main_base.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/authors.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/awards.tt2

commit b5579dee0f48f43157ad995669e42a8bf2cc1c80
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Aug 31 12:13:33 2011 -0400

    Address LP#837517, Vandelay ISxN matching
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
29	16	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
107	0	Open-ILS/src/sql/Pg/upgrade/0613.schema.vandelay_isxn_normalization.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0613.schema.vandelay_isxn_normalization.sql

commit fbac08bd6811877ac70e4db95831c0cb1505e8d7
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Aug 31 11:55:47 2011 -0400

    Add the forgotten script-numbering to previous commit (db756e623a9)
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
90	0	Open-ILS/src/sql/Pg/upgrade/0612.schema.authority_overlay_protection.sql
0	92	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority_overlay_protection.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0612.schema.authority_overlay_protection.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority_overlay_protection.sql

commit db756e623a9b789d477a3a9fe3a6ee6011c72534
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 30 14:25:27 2011 -0400

    Address LP#837522, bib-killing authority overlay generation bug
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

31	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
92	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority_overlay_protection.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority_overlay_protection.sql

commit 38991ac4191498188652ecdc7ab898b28fa9da20
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 31 11:13:58 2011 -0400

    Tpac: removed unused code and IDs in advanced search parts
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/default/opac/parts/advanced/expert.tt2
2	1	Open-ILS/src/templates/default/opac/parts/advanced/numeric.tt2
13	89	Open-ILS/src/templates/default/opac/parts/advanced/search.tt2

commit 9836fe817670d0b82057e13f805b9fba2fad2755
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Aug 30 16:28:20 2011 -0400

    Merge branch 'collab/miker/acs-ui-repairs' from working/Evergreen.git
    
    Use bib tag instead to find the correct ACS, instead of the static field map
    Use authority main entry instead of thesaurus to find the correct ACS
    Add method for finding an ACS by authority tag
    
    See https://bugs.launchpad.net/evergreen/+bug/837637
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

20	0	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
11	6	Open-ILS/web/opac/skin/default/js/authbrowse.js
13	1	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 54a37f381503b47b042efcfe37e784123eeb5773
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 30 12:54:48 2011 -0400

    Tpac: only show opac_visible notification opt-in settings
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 8cf890a519236156202d0f4505aee63f3934a70b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 13:55:40 2011 -0400

    Tpac: Support for adding/editing pending addresses
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

53	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
98	52	Open-ILS/src/templates/default/opac/myopac/prefs.tt2

commit bf452cc06e40b4fc3cae63965c37882efc6075c5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 29 15:27:04 2011 -0400

    Tpac: show hold/copy count summary in holds status
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	2	Open-ILS/src/templates/default/opac/parts/misc_util.tt2

commit cfe78d6cc6da1a631817b673cc3841458fbf6ccf
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 29 11:45:01 2011 -0400

    TPac: apply the select-all JS to holds list
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/default/opac/myopac/holds.tt2

commit bcdf0d18670f80d57f6cdb7b50259ce74c4faf25
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 29 13:47:16 2011 -0400

    Tpac: config option for record detail jacket size
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

11	0	Open-ILS/src/templates/default/opac/parts/config.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/summary.tt2

commit 6a1aa49194919a29ea77f09a2387aadd7d7790ff
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Aug 26 16:02:05 2011 -0400

    pin upgrade version number for magic macros
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
90	0	Open-ILS/src/sql/Pg/upgrade/0611.data.magic_macros.sql
0	82	Open-ILS/src/sql/Pg/upgrade/XXXX.magic_macros.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0611.data.magic_macros.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.magic_macros.sql

commit 49224ed91e8e50171d4a80b98929a2a864d40651
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 23 12:06:55 2011 -0400

    Expose sort values from lists
    
    Specifically useful for things like receipt templates.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	0	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit d36543b93a351f805da664690658b53054636d8d
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 23 08:33:04 2011 -0400

    Five initial OU settings for %INCLUDE()% use
    
    header_text
    footer_text
    notice_text
    alert_text
    event_text
    
    None are really restricted to a specific purpose. Names are more of a
    hint than a requirement.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

81	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
82	0	Open-ILS/src/sql/Pg/upgrade/XXXX.magic_macros.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.magic_macros.sql

commit a1681de689a55638154662e0e9158468456e2543
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Aug 21 20:00:55 2011 -0400

    Receipt Macros: %INCLUDE()%
    
    Takes a single parameter: The name of the include.
    
    Each include is an OU setting: circ.staff_client.receipt.<name>
    
    The includes are done as the first substitution. This has the benefit
    of allowing other substitutions within them (including additional calls
    to %INCLUDE()%) and the downside of not allowing dynamic includes.
    
    Because an include can contain includes the code keeps track of all
    includes already done, skipping those already included. This prevents
    infinite loops when A includes B and B includes A, or longer variants
    thereof.
    
    Primary intended use would be for libraries to place frequently changed
    notices and such in their templates. Instead of having to edit every
    template on every workstation they use the %INCLUDE()% macro and edit
    the org unit settings. At the next login the updated text appears on
    every workstation.
    
    Due to the includes being processed first a library could use them to
    centrally administer templates by using an include for each piece of
    each template.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

18	1	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit b827b4b5d31074c2ec2cfb6635b541b243add728
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 19 15:15:48 2011 -0400

    Receipt Macros: %SORT()%
    
    Added to line item templates.
    Takes one or more comma separated parameters:
    field AS type ASC/DESC
    
    AS type is optional
    ASC/DESC is optional
    
    Field is the field name without % signs.
    Type is DATE, INT, FLOAT, NUMBER, LOWER, or UPPER
    
    DATE will sort based on wrapping both sides in "new Date"
    INT will sort based on wrapping both sides in parseInt
    FLOAT and NUMBER will sort based on wrapping both sides in parseFloat
    LOWER will apply .toLowerCase to both sides
    UPPER will apply .toUpperCase to both sides
    
    ASC (default) will sort in ascending order.
    DESC will sort in descending order.
    
    Can be specified more than once:
    %SORT(a,b)% %SORT(c)%
    Would sort by a, then b, then c.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

55	1	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit 2ec43ab54aeea5b08205ab9f1c4c3473fa632263
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Jun 30 13:43:24 2011 -0400

    Add SIP2 chargeable loan support.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

19	2	Open-ILS/src/perlmods/lib/OpenILS/SIP.pm
6	3	Open-ILS/src/perlmods/lib/OpenILS/SIP/Item.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction.pm
3	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/Checkout.pm

commit 60d24be6e41583f419178f24ca0abf369b2d0186
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Wed Aug 10 21:31:02 2011 -0400

    LP#824257 Fix nasty overlapping when patron has more than 6 notes
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/patron/info_notes.xul

commit 3dec457079d221642b3bdb6ed7f67c145d1717d4
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Aug 25 15:56:15 2011 -0400

    Push phrases down to be subqueries, so they can be ORed together
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

24	11	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit 75acf5837a79d7edba18c98ae6a4d6db02991018
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Aug 25 08:43:07 2011 -0400

    Add IDs to offline import/export buttons
    
    Ensures that the import one, at least, can be found and disabled when
    pending transactions exist.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/xul/staff_client/chrome/content/main/main.xul

commit a406ef3f41f61f53e7f74a04e71f4bb76306d7f7
Author: Atom Edoceo <atom@helium.edoceo.lan>
Date:   Mon Aug 22 11:23:14 2011 -0700

    Add a new visible alert to the main client screen alerting about pending transactions
    
    Signed-off-by: Edoceo <code@edoceo.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
10	0	Open-ILS/xul/staff_client/chrome/content/main/main.js
3	0	Open-ILS/xul/staff_client/chrome/content/main/main.xul

commit c2e848c0bb731c3d3667d4fee037e52754db1d04
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 24 20:16:28 2011 -0400

    Stamped upgrade script for acq-copy-creator-from-receiver
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0610.data.acq-copy-creator-from-receiver.sql
0	24	Open-ILS/src/sql/Pg/upgrade/XXXX.data.acq-copy-creator-from-receiver.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0610.data.acq-copy-creator-from-receiver.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.acq-copy-creator-from-receiver.sql

commit 82640d0ec16b4f4277d22301d1029686b0195636
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 24 13:57:11 2011 -0400

    Option to set copy creator value to ACQ receiver
    
    YAOUS to support updating the asset.copy.creator value to match the
    staff user that marked the ACQ-copy (acq.lineitem_detail) as received.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
17	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.acq-copy-creator-from-receiver.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.acq-copy-creator-from-receiver.sql

commit b5c55145272313c13b3e92e75361cb27772773ba
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 24 20:09:04 2011 -0400

    Stamped upgrade script for acq-lineitem-detail-receiver
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
11	0	Open-ILS/src/sql/Pg/upgrade/0609.schema.acq-lineitem-detail-receiver.sql
0	11	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-lineitem-detail-receiver.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0609.schema.acq-lineitem-detail-receiver.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-lineitem-detail-receiver.sql

commit 253db47d25073c1259a7acafa3739579eb028de3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 24 15:28:56 2011 -0400

    Show copy receiver in ACQ copy grid
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

18	0	Open-ILS/web/js/ui/default/acq/common/li_table.js
2	0	Open-ILS/web/templates/default/acq/common/li_table.tt2

commit 42337b3be4c5b0a7ef785111912584440ad29917
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 24 14:24:54 2011 -0400

    Column to track ACQ copy (lineitem_detail) receiver
    
    Creates acq.lineitem_detail.receiver column, set to the staff that
    marked the copy as received.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/examples/fm_IDL.xml
2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
1	0	Open-ILS/src/sql/Pg/200.schema.acq.sql
11	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-lineitem-detail-receiver.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.acq-lineitem-detail-receiver.sql

commit 0efea6dfefb398283432244e3ab801d5f5e8c3c3
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 24 14:36:54 2011 -0400

    Protect against div-by-0 for negated words
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit b7da3f582a6ec388a312170fcd5ef4123c634735
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 24 13:44:04 2011 -0400

    Track count of dummy atoms and use a NULL tsquery when all dummy
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

12	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 0136bdfdc54d3215e62b560032c2af7ce22de009
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 24 11:05:55 2011 -0400

    Use unphrases in SQL generation
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

13	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit fd27c98c6158d1dabad47e3fb0911924535c70ec
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 24 11:03:34 2011 -0400

    add "unphrases" to capture negated phrases ( -"foo bar" ) and make the negator configurable
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

70	22	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit b800e1637f3f29fffed0009721592c7bba05024e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 23 15:03:56 2011 -0400

    Ignore empty atoms in query decomposition
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit 292ad799ed84127026534e351bdd16663f76b1f8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 23 17:03:28 2011 -0400

    Add to existing PO (by ID) from related items page
    
    In the View/Place orders page for a bib record, it's now possible to add
    a lineitem representing the bib record to an existing purchase order.
    
    Includes a new general API call for adding a LI to a PO.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

49	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
4	1	Open-ILS/web/js/dojo/openils/acq/nls/acq.js
46	0	Open-ILS/web/js/ui/default/acq/lineitem/related.js
19	0	Open-ILS/web/templates/default/acq/lineitem/related.tt2

commit cb3125afa53716ae6642e5510e37a92f79f1ed53
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 23 14:22:06 2011 -0400

    Support labelFormat for read-only AutoFieldWidget's
    
    Previously only worked with edit widgets (e.g. drop-downs).  This also
    takes into account the fact that different instances of AutoFieldWidget
    for the same class and value may have different labelFormat's
    
    One user-visible result of this change is the ACQ read-only fund display
    in purchase orders.  Funds will now show the code and year for funds in
    the copy grid before and after the data is rendered read-only.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

44	27	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js

commit a898371a6c547b35612578f063b614f5cd0709e5
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Aug 9 17:19:49 2011 -0400

    Branchify patch from Steven Chan on LP bug #821640.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

10	6	Open-ILS/xul/staff_client/server/patron/bill2.js

commit a0b3aaf19ec133f5ddb85e09e1d5abde69cf96c5
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Jun 23 10:19:50 2011 -0400

    Really stop the z39.50 daemon when a client is connected.
    
    Send a SIGTERM instead of SIGINT from do_action when the action is
    stop in oils_ctl.sh.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/examples/oils_ctl.sh

commit 9628a2a9bfdc1157e5f0d92987cf95ab60683426
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 22 22:55:27 2011 -0400

    Enhance sample Z39.50 config file
    
    Make "expose holdings" the default; use specific indexes for ISBN and
    ISSN; show how to scope results to a part of the org tree; and show that
    multiple database configs can be specified in the same file.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

21	4	Open-ILS/examples/oils_z3950.xml.example

commit e02abf123f317cc97c15ef52b27a8d2b9847f23a
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Fri Jun 10 13:43:32 2011 -0400

    Make some oils_ctl.sh improvements.
    
    Add start|stop|restart commands for z39.50 to oils_ctl.sh.
    
    Use LOCALSTATEDIR and SYSCONFDIR configuration variables in
    oils_ctl.sh.
    
    Modify the existing SIP2 commands in oils_ctl.sh to use these
    configuration variables.
    
    Modify src/Makefile.am to replace LOCALSTATEDIR and SYSCONFDIR
    variables in oils_ctl.sh when installing.
    
    Add example/default xml configurations for z39.50:
    Open-ILS/examples/oils_yaz.xml.example
    Open-ILS/examples/oils_z3950.xml.example
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

34	5	Open-ILS/examples/oils_ctl.sh
14	0	Open-ILS/examples/oils_yaz.xml.example
19	0	Open-ILS/examples/oils_z3950.xml.example
6	2	Open-ILS/src/Makefile.am
 create mode 100644 Open-ILS/examples/oils_yaz.xml.example
 create mode 100644 Open-ILS/examples/oils_z3950.xml.example

commit 2bd6d0bd6763815e3a051ee20ac4bd463ad5aad5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Jul 3 16:38:56 2011 -0400

    Menu item for "portal"
    
    To return a tab to "new" state without close/reopen
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
6	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 51ee67b11a4779ae77d78223678f698b345c7ae4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Jul 3 16:50:25 2011 -0400

    Make portal name its tab.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/xul/staff_client/server/index.xhtml

commit 8404f072ed948ee315981a5f456218a2b73ec86b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 23 14:41:41 2011 -0400

    Stamped upgrade script for LP#825245
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
62	0	Open-ILS/src/sql/Pg/upgrade/0608.data.vandelay-export-error-match-info.sql
0	62	Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-export-error-match-info.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0608.data.vandelay-export-error-match-info.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-export-error-match-info.sql

commit b525a29cb631bd0cc65298049535b86f45fb2b9e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 12 10:02:57 2011 -0400

    Vandelay: added some info to print/csv bib output
    
    Added bib match count, import error, and error detail to print and CSV
    queued record export.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

7	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
62	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-export-error-match-info.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.vandelay-export-error-match-info.sql

commit 3ef7e28ac8099c8918636f564e136d86865d16b4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 12 09:07:35 2011 -0400

    Vandelay: show record match counts in record queue UI
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	2	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit b8ddd5fdd2cd05616f337a5b7ea9e57f015fe4e8
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 23 14:32:17 2011 -0400

    master-stamped upgrade script for LP#816131
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
23	0	Open-ILS/src/sql/Pg/upgrade/0607.schema.oua_force_order.sql
0	11	Open-ILS/src/sql/Pg/upgrade/XXXX.oua_force_order.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0607.schema.oua_force_order.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.oua_force_order.sql

commit 1104e5158bbcff1c81a5e57d2170786bbd7ba0ae
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Aug 22 14:44:17 2011 -0400

    Reverse direction of org_unit_ancestors
    
    Apparently callers expect it to start at the top of the org tree.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/020.schema.functions.sql
1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.oua_force_order.sql

commit 9add64f156b8f96c83092785d1bc5a40b986eb9e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Aug 11 09:36:36 2011 -0400

    Unwrapped upgrade script for oua_force_order
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	0	Open-ILS/src/sql/Pg/upgrade/XXXX.oua_force_order.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.oua_force_order.sql

commit 310516f77aab635baa5d986d12166005d356e56f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Aug 11 09:35:18 2011 -0400

    New version of actor.org_unit_ancestors
    
    Preserves order through joins
    
    Basically actor.org_unit_ancestors_distance with a join to get the
    entire org units, rather than just IDs and a distance.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	11	Open-ILS/src/sql/Pg/020.schema.functions.sql

commit 22813f800eaaea6037507f36eaff8bd55127a2eb
Author: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
Date:   Thu Aug 11 14:36:19 2011 -0400

    Fixed seaching for a colon (:) surrounded by white space
    
    When searching for a colon surrounded by white space the search would
    freeze.  An example of such a search would be:
    Climate change economics and policy : an RFF anthology
    This was happening because the decompose function within QueryParser.pm
    Would build a regular expression that would search the query for both
    classes and class aliases e.g (keyword and kw).  However, when buliding
    the regex for aliases QueryParser would add extraneous or symbols (|)
    to the end of the regex without adding the accompanying alias.
    This was happening because there was a check to see if the corresponding
    class to each alias had already been added to the regex.  But, the
    check to see if the alias had already been appened to the regex happened
    too late.  I have moved the check to encopase the appending of the or
    symbols and the class.
    Signed-off-by: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit 42a818eff95d3f9eef9015d66f7e1d5936c74118
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Wed Jul 6 19:07:50 2011 -0700

    Adds org unit selectors to Admin -> Server Admin -> Booking menu items, also modifies
    the IDL to give context-field based pcrud perms instead of 'require global'
    This makes the booking module more org-unit scopable
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

28	20	Open-ILS/examples/fm_IDL.xml
37	9	Open-ILS/web/templates/default/conify/global/booking/resource.tt2
35	8	Open-ILS/web/templates/default/conify/global/booking/resource_attr.tt2
35	8	Open-ILS/web/templates/default/conify/global/booking/resource_attr_map.tt2
36	8	Open-ILS/web/templates/default/conify/global/booking/resource_attr_value.tt2
29	2	Open-ILS/web/templates/default/conify/global/booking/resource_type.tt2

commit e73ac7870b2f3eb7df696474a4b8cf4c6e8bdea2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 19 09:46:40 2011 -0400

    Fix "Retarget Local Holds" for non-holdable copies
    
    Specificially:
    
    Wrap holdable check in is_true
    Add check for current copy status holdable
    Add check for current copy location holdable
    
    The latter stores the fetched location for later use.
    The one later use I found updated to check if the location is a reference.
    
    The update copy code already checks if location is a reference and deals
    with it properly.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

14	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 1bf028d6ee6c2ee620c7b56f6d9d5f5ac7631456
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 19 11:20:55 2011 -0400

    Vandelay: Insufficient Quality Fall-Thru Merge Profile
    
    When a user selects "Merge On Single Match" or "Merge On Best Match" and
    apply a minimum quality ratio, the fall-through profile will be used in
    a secondary merge attempt for any records that fail the initial merge
    due to insufficient record quality.
    
    This allows the user to choose 2 different outcomes based on record
    quality.  For example, you may wish to do a full overlay for all
    high-quality records, but only extract subjects or other information
    from lower quality records.  This also allows users to do record+copy
    imports for high-quality records and copy-only imports for low quality
    records (using a no-op merge profile like "replace 901c").
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

126	64	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
19	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
1	0	Open-ILS/web/opac/locale/en-US/vandelay.dtd
6	0	Open-ILS/web/templates/default/vandelay/inc/queue.tt2
7	0	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit 958e67583d52112d4869092105aa2150dbd91fe3
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Aug 9 13:41:04 2011 -0400

    Branchify patch from LP bug #802523.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

9	1	Open-ILS/src/extras/Makefile.install

commit a5ea78eb3092b5367204bb90afadce63ff100294
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 23 10:42:54 2011 -0400

    UI cleanup for batch-holds from lists
    
    * Handle hold placement override with a single form and checkboxes
    instead of a series individual forms
    
    * Added a cancel button on the override page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/web/css/skin/default/opac/style.css
8	6	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
75	81	Open-ILS/web/templates/default/opac/parts/place_hold_result.tt2

commit c601157a51cf90a71b291958e33278400c402089
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Aug 22 18:28:18 2011 -0400

    Make the sort-by and limit-to-available controls appear after adv search
    
    This is hackish and suboptimal until we leverage the parsed queries soon
    to be returned by QP.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

12	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
6	0	Open-ILS/web/js/ui/default/opac/simple.js
1	2	Open-ILS/web/templates/default/opac/results.tt2

commit e3592ec729f9750f0a0e9d453e9f0b859ab5a9aa
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 22 17:32:09 2011 -0400

    stamp an upgrade version for the czs use_perm feature
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
21	0	Open-ILS/src/sql/Pg/upgrade/0606.schema.czs_use_perm_column.sql
0	21	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.czs_use_perm_column.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0606.schema.czs_use_perm_column.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.czs_use_perm_column.sql

commit 6b900e1b5da091c09d0a4f668ca8618adfb4a260
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jul 22 01:47:15 2011 -0400

    use_perm column for config.z3950_source
    
    The idea is that if a permission code is specified for a given source, then
    staff will need that permission to use that source in the staff client z39.50
    interface.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/examples/fm_IDL.xml
20	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Z3950.pm
6	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	0	Open-ILS/src/sql/Pg/800.fkeys.sql
21	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.czs_use_perm_column.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.czs_use_perm_column.sql

commit d35910fa12d279687b96665f1e1dd60b2ee58f10
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 18 17:14:38 2011 -0400

    TPac: batch holds from on-the-fly lists and bookbags
    
    * Enable the 'Place Hold' action in the drop-down for bookbag and
    on-the-fly list items
    
    * Place hold form now support lists of targets and will report error
    conditions for each target
    
    * Batch and individual hold overrides supported where appropriate
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

189	148	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
6	0	Open-ILS/web/css/skin/default/opac/style.css
3	3	Open-ILS/web/templates/default/opac/myopac/lists.tt2
1	1	Open-ILS/web/templates/default/opac/parts/anon_list.tt2
70	358	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
103	0	Open-ILS/web/templates/default/opac/parts/place_hold_result.tt2
5	1	Open-ILS/web/templates/default/opac/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/place_hold_result.tt2

commit ef0f93b69821f0da41863c92cb30733ea2ffaf51
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Aug 19 18:22:28 2011 -0400

    Fix penalty generation during billing creation
    
    by passing the editor object referencing the database transaction to xact_org
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit a04b43ec7fbe51c444cb82ba681a584e33bc39a6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Aug 22 10:37:30 2011 -0400

    Display only available formats for metarecord holds in IE
    
    The OPAC's usual hideMe()/unHideMe() tricks don't work for <option>
    elements in Internet Explorer 8.  Use the disabled attribute.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/web/opac/skin/default/js/holds.js

commit b46a73e15b6848f396dcc8dfa730271952e19f25
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Aug 20 17:51:46 2011 -0400

    Remove cache-generator.sh from Makefile.am
    
    In a previous commit, we removed cache-generator.sh. Now we remove the
    remaining reference to it in the Makefile.am that was generating an
    error (reported by Ben Webb).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

0	3	Open-ILS/src/Makefile.am

commit f7550e1a26ec9eae0927b03516e5ce214204885b
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Aug 19 16:46:39 2011 -0400

    T-PAC: Localize payment refund policy message
    
    The policy in all likelihood will differ from library to library anyway,
    but we might as well ensure that it can be translated.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

10	8	Open-ILS/src/templates/default/opac/parts/myopac/main_refund_policy.tt2

commit e7537865c2486e643d47d3974eb6e7d519c2c201
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Aug 19 16:35:12 2011 -0400

    Disable Google Analytics in T-PAC by default
    
    The option to enable Google Analytics has been turned into a config
    setting in parts/config.tt2 for now, with a place to set the GA account
    code.
    
    Also, get consistent with foo.enabled instead of a mix of foo.enable /
    foo.enabled in config.tt2.
    
    Also, be a bit more careful about whitespace and hide comments in the
    HTML source about things that are disabled (such as ChiliFresh and
    Google Analytics) until they are enabled.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	6	Open-ILS/src/templates/default/opac/parts/chilifresh.tt2
10	1	Open-ILS/src/templates/default/opac/parts/config.tt2
9	7	Open-ILS/src/templates/default/opac/parts/js.tt2
3	3	Open-ILS/src/templates/default/opac/parts/record/summary.tt2
1	1	Open-ILS/src/templates/default/opac/parts/result/table.tt2

commit a120c6b0fd0b94774a4720ecc3365d0da9c443dd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 19 15:50:22 2011 -0400

    Vandelay: repair item attr context org selector
    
    1. Prevents resetting the context selector to the workstation org unit
    each time it's changed.
    
    2. Prevent the unintentional pileup of dojo.connect() events, which
    can lead to exponential growth in the number of server calls to fetch
    import-item-attribute-definitions with each change of the context org
    selector.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

20	13	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 9dc177553046e2e704a3cd62a3c608c05c325abf
Author: Ben Shum <bshum@biblio.org>
Date:   Tue Aug 2 11:15:57 2011 -0400

    #LP801961, error when running edi_fetcher.pl
    
    This patch addresses an error encountered when running edi_fetcher.pl.
    The method "is_dir" should be just plain "dir" in RemoteAccount.pm file.
    Signed-off-by: Ben Shum <bshum@biblio.org>
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/RemoteAccount.pm

commit f4d868cf5bafb01dd52b22929aaba84eba469cfc
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Aug 9 15:43:12 2011 -0400

    Branchify second patch from James Fournie on LP bug #791941.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	0	Open-ILS/web/js/ui/default/actor/user/register.js

commit 9fb3d2035f193dd4e0bdcec9f74cdea8a2d7038c
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Tue Aug 9 15:40:41 2011 -0400

    Branchify the first patch from James Fournie on LP bug #791941.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js

commit 20be08f2bbb02941f72435fc1ced5c08140f595e
Author: Robert Soulliere <robert.soulliere@mohawkcollege.ca>
Date:   Tue Aug 9 15:18:15 2011 -0400

    Branchify patch from LP bug #809478 and forward port to master.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 2a725966f0a8ba80ecaa5f1b7533e8b5c1df650b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 19 09:56:48 2011 -0400

    Tpac: fetch bib record piles non-atomicly to avoid large messages
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 2e39c96db9d271e35072a10c9b4b55c3c8840677
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 19 09:56:48 2011 -0400

    Tpac: fetch bib record piles non-atomicly to avoid large messages
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 2af9bebeeb2dd6ceab91d44010cf214701140143
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 19 08:48:04 2011 -0400

    Tpac: stream bookbag entry retrieval to reduce msg size
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit d842599e0df6cb7cd70080eb85556780af078224
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 19 08:48:04 2011 -0400

    Tpac: stream bookbag entry retrieval to reduce msg size
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit b01a0ee3a8567dfcb8cd3392e9c1d14e8dc370ef
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Aug 16 17:22:47 2011 -0400

    Stricter order for actor.org_unit_parent_protect()
    
    actor.org_unit_parent_protect() may not work due to the fact
    that 'IF' conditions in PL/pgSQL are not necessarily processed
    in the order written. This line:
    
    "IF TG_OP = 'INSERT' OR NEW.parent_ou
    IS DISTINCT FROM OLD.parent_ou THEN"
    
    may fail because the 'IS DISTINCT FROM' happens before the
    'INSERT' check, and and that fails because there is no 'OLD'
    variable for INSERTs.
    
    This commit may not be the optimal style for this circumstance
    in this language, but it works.  It also appears to change more
    than it really does due to a loss of one level of indentation in
    the structure.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
22	16	Open-ILS/src/sql/Pg/005.schema.actors.sql
50	0	Open-ILS/src/sql/Pg/upgrade/0605.schema.lp826844_org_unit_parent_protect_fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0605.schema.lp826844_org_unit_parent_protect_fix.sql

commit 2ee54e937ef54575ee9b74709ba609f4bde5f702
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Aug 16 17:16:35 2011 -0400

    Whitespace Only Changes
    
    Files uses primarily tabs, function used both spaces and tabs.
    It now uses all tabs.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

24	24	Open-ILS/src/sql/Pg/005.schema.actors.sql

commit 3e3e0bb9a47af4901c3ab5a5ebfdc9fe576f4c26
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Aug 18 15:32:53 2011 -0400

    Update README to reflect the --create-database option
    
    Now that eg_db_config.pl is intelligent enough to create the database,
    update the README to free people from the tyranny of having to manually
    issue database creation (and contrib-adding) commands.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

33	31	README

commit 7b7f8360915b1fa2ee2406a4e695519dd5c3d70b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 18 12:17:03 2011 -0400

    Tpac: style inactive holds w/ grey bground
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/default/opac/myopac/holds.tt2
1	0	Open-ILS/web/css/skin/default/opac/style.css

commit 21b7467c71a649b6e07558314c506e3f44945dd5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 18 12:17:03 2011 -0400

    Tpac: style inactive holds w/ grey bground
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/web/css/skin/default/opac/style.css
1	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 772fc261f686a569e0339aa5d89a19b03114aed6
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Aug 18 12:06:46 2011 -0400

    Add --create-database option to eg_db_config.pl
    
    Uses create_database.sql and superuser rights to do all
    database creation steps other than making a usable superuser
    account to begin with.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

30	0	Open-ILS/src/sql/Pg/create_database.sql
40	1	Open-ILS/src/support-scripts/eg_db_config.pl
 create mode 100644 Open-ILS/src/sql/Pg/create_database.sql

commit 415f78c9862d853d8412f339a29354c58ab56517
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Aug 18 11:04:20 2011 -0400

    T-PAC: Point the Basic Catalog link to the T-PAC
    
    Now that the T-PAC provides the base functionality (and more!) required
    by the HTML-only basic catalog, but in a more extensible / skinnable
    fashion, replace the link from the JSPAC to the Basic Catalog with a
    link to the T-PAC - and add a reciprocal link from the T-PAC back to the
    JSPAC, in case anybody wants to go that route.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	1	Open-ILS/src/templates/default/opac/parts/footer.tt2
1	2	Open-ILS/web/opac/skin/default/xml/footer.xml

commit 23f951a15724538e67cef3529cc81f233077e66f
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Aug 18 07:36:18 2011 -0400

    TPAC: Remove one more KCLS reference
    
    KCLS probably doesn't want us to link to their libraries from every
    Evergreen instance...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	6	Open-ILS/src/templates/default/opac/parts/record/summary.tt2

commit 3dfc7f0005a83e41420b1dc5e36de34f8f263a88
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Aug 15 23:52:24 2011 -0400

    Remove CONFIG references from autogen.sh
    
    We're relying on OpenILS::Utils::Cronscript for the location of the
    opensrf_core.xml file, so the vestigial references were unnecessary
    noise.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	23	Open-ILS/src/extras/autogen.sh

commit 4790c6a0f6896fe2ee77c4040e78eb9567ba4d18
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Aug 15 23:14:01 2011 -0400

    Further autogen.sh cleanup
    
    * Roll cache-generator.sh functionality into autogen.sh
    * No longer install deleted scripts
    * Teach Perl build infrastructure about OpenILS::Utils::Configure
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	10	Open-ILS/src/Makefile.am
44	16	Open-ILS/src/extras/autogen.sh
0	19	Open-ILS/src/extras/cache-generator.sh
1	0	Open-ILS/src/perlmods/MANIFEST
2	1	Open-ILS/src/perlmods/t/14-OpenILS-Utils.t
 delete mode 100644 Open-ILS/src/extras/cache-generator.sh

commit f694d684d1683f6545c6dc2e4e801a340ff833d6
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Aug 15 18:03:37 2011 -0400

    Revamp autogen.sh to call functions from a Perl module
    
    This cut moves all of the logic from the individual scripts that
    autogen.sh used to call into a self-contained Perl module. We use
    OpenILS::Utils::Cronscript to avoid much of the init dupe code.
    
    Note that calling Perl functions from a bash script is not crazy pretty,
    but perhaps in the long run autogen.sh becomes something else. This is
    just a step towards consolidating those functions in a single module
    while maintaining the same interface as before.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

9	9	Open-ILS/src/extras/autogen.sh
0	97	Open-ILS/src/extras/facet_types_js.pl
0	67	Open-ILS/src/extras/fieldmapper.pl
0	38	Open-ILS/src/extras/locale_html_options.pl
0	41	Open-ILS/src/extras/org_lasso_js.pl
0	64	Open-ILS/src/extras/org_tree_html_options.pl
0	99	Open-ILS/src/extras/org_tree_js.pl
0	39	Open-ILS/src/extras/org_tree_proximity.pl
358	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/Configure.pm
 delete mode 100755 Open-ILS/src/extras/facet_types_js.pl
 delete mode 100755 Open-ILS/src/extras/fieldmapper.pl
 delete mode 100755 Open-ILS/src/extras/locale_html_options.pl
 delete mode 100755 Open-ILS/src/extras/org_lasso_js.pl
 delete mode 100755 Open-ILS/src/extras/org_tree_html_options.pl
 delete mode 100755 Open-ILS/src/extras/org_tree_js.pl
 delete mode 100755 Open-ILS/src/extras/org_tree_proximity.pl
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Utils/Configure.pm

commit 060e9c47484116a1fcbdccb47ba4e349138f4466
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 17:37:13 2011 -0400

    Tpac: repaired propagator casulaty; using mkurl instead
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit f67c71f4452d184693b59bfea43215fa100124b3
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 17:18:54 2011 -0400

    TPAC: Strip the "page" GET param from author searches
    
    mkurl() generates a URL that, by default, retains all of the parameters
    that the currnt query string includes - useful for retaining library
    search scope, etc. However, searches for authors that are launched by
    clicking on the author's name in the search results page / record
    details were failing in many cases because the "page" parameter came
    along with it - and if there weren't five pages of results for page=5,
    for example, then no hits would be shown.
    
    This commit removes the page param from the URL. In other places, all of
    the params are stripped (see cnbrowse) but as I assume we want to retain
    search scope and potentially other parameters, we'll start with the
    smallest possible change.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
1	1	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit eb25c85bcf277e341a94bb7d8bf5b70c045ee0e9
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 16:43:46 2011 -0400

    Mark a string for i18n support in the TPAC
    
    Even alt strings deserve translation support...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/web/templates/default/opac/results.tt2

commit b38535de56dfd8a909811bf9822c90e6d679fdf6
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 15:36:15 2011 -0400

    Escape TPAC "myopac" output to protect against XSS attacks
    
    We're using the Template::Toolkit html and uri filters to ensure that
    the usual suspects are escaped at output time to prevent trivial XSS
    attacks.
    
    berick: did some merge cleanup
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	4	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
6	6	Open-ILS/web/templates/default/opac/myopac/circs.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
4	4	Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2
5	5	Open-ILS/web/templates/default/opac/myopac/lists.tt2
3	3	Open-ILS/web/templates/default/opac/myopac/main.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
5	1	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/prefs_notify.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2
5	3	Open-ILS/web/templates/default/opac/myopac/receipt_email.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2
1	3	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
3	4	Open-ILS/web/templates/default/opac/myopac/update_username.tt2

commit 9a3c9bd5b4fdc0e40078c8bd726623e762c8cc13
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 13:01:08 2011 -0400

    Assume username, not barcode, in TPAC login
    
    In the absence of a barcode regex OU setting (opac.barcode_regex), the
    TPAC was assuming that the entered value was a barcode. However, the
    default JSPAC assumption was that the entered value was a username. This
    commit makes the TPAC continue to function with the same assumptions as
    the default JSPAC in the absence of a barcode regex OU setting.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 16b9e665371dae76fde0db3e0b63387e89a895df
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 17:18:54 2011 -0400

    TPAC: Strip the "page" GET param from author searches
    
    mkurl() generates a URL that, by default, retains all of the parameters
    that the currnt query string includes - useful for retaining library
    search scope, etc. However, searches for authors that are launched by
    clicking on the author's name in the search results page / record
    details were failing in many cases because the "page" parameter came
    along with it - and if there weren't five pages of results for page=5,
    for example, then no hits would be shown.
    
    This commit removes the page param from the URL. In other places, all of
    the params are stripped (see cnbrowse) but as I assume we want to retain
    search scope and potentially other parameters, we'll start with the
    smallest possible change.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/default/opac/parts/record/summary.tt2
1	1	Open-ILS/src/templates/default/opac/parts/result/table.tt2

commit deadf59b3d98b52ee1175843c7fe91836cfb16ae
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 16:55:43 2011 -0400

    TPac: Removed errant 'html' almost-filter
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/default/opac/parts/record/summary.tt2

commit f95c4db643391cbb63f35ff321dc5cbbac75b6c3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 16:50:50 2011 -0400

    Tpac: more html output sanitizing
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/default/opac/parts/record/authors.tt2
2	2	Open-ILS/src/templates/default/opac/parts/record/awards.tt2
10	7	Open-ILS/src/templates/default/opac/parts/record/cnbrowse.tt2
1	1	Open-ILS/src/templates/default/opac/parts/record/issues.tt2
17	17	Open-ILS/src/templates/default/opac/parts/record/summary.tt2
2	2	Open-ILS/src/templates/default/opac/parts/record/summaryplus.tt2

commit 861fcbdede629fa6f48def88925aaf9f73627cc9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 16:55:43 2011 -0400

    TPac: Removed errant 'html' almost-filter
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 623b057c2f582d03109560b69ad74d08d266e7aa
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 16:50:50 2011 -0400

    Tpac: more html output sanitizing
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/record/authors.tt2
2	2	Open-ILS/web/templates/default/opac/parts/record/awards.tt2
10	7	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/issues.tt2
17	17	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
2	2	Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2

commit 246b9c0574f05e3e7a3cf167d07682f87a418612
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 16:43:46 2011 -0400

    Mark a string for i18n support in the TPAC
    
    Even alt strings deserve translation support...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/src/templates/default/opac/results.tt2

commit 6db2f588280e5181b274cb914050f26f5f265348
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 15:45:44 2011 -0400

    Tpac: more html output scrubbing
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/templates/default/opac/parts/result/lowhits.tt2
20	20	Open-ILS/src/templates/default/opac/parts/result/table.tt2

commit 75aeccc2be082e5fc35578a10f4c554369e2697f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 15:45:44 2011 -0400

    Tpac: more html output scrubbing
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
13	13	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 72a2d5b8855d5d22ca6865a539a4552404cd32a6
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 15:36:15 2011 -0400

    Escape TPAC "myopac" output to protect against XSS attacks
    
    We're using the Template::Toolkit html and uri filters to ensure that
    the usual suspects are escaped at output time to prevent trivial XSS
    attacks.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	4	Open-ILS/src/templates/default/opac/myopac/circ_history.tt2
6	6	Open-ILS/src/templates/default/opac/myopac/circs.tt2
1	1	Open-ILS/src/templates/default/opac/myopac/hold_history.tt2
1	1	Open-ILS/src/templates/default/opac/myopac/holds.tt2
4	4	Open-ILS/src/templates/default/opac/myopac/holds/edit.tt2
4	4	Open-ILS/src/templates/default/opac/myopac/lists.tt2
3	3	Open-ILS/src/templates/default/opac/myopac/main.tt2
1	1	Open-ILS/src/templates/default/opac/myopac/main_pay.tt2
2	2	Open-ILS/src/templates/default/opac/myopac/main_payment_form.tt2
5	1	Open-ILS/src/templates/default/opac/myopac/main_payments.tt2
2	2	Open-ILS/src/templates/default/opac/myopac/prefs.tt2
2	2	Open-ILS/src/templates/default/opac/myopac/prefs_notify.tt2
2	2	Open-ILS/src/templates/default/opac/myopac/prefs_settings.tt2
5	3	Open-ILS/src/templates/default/opac/myopac/receipt_email.tt2
1	1	Open-ILS/src/templates/default/opac/myopac/receipt_print.tt2
1	3	Open-ILS/src/templates/default/opac/myopac/update_email.tt2
3	4	Open-ILS/src/templates/default/opac/myopac/update_username.tt2

commit f040584c589d77486c39fbd1c77438c48a282200
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 15:28:53 2011 -0400

    TPac: more aggressive dynamic output filtering
    
    Making heavier user of html/uri filters to prevent accidental or
    malicious rendering of html from dynamic data.  More to follow.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	3	Open-ILS/src/templates/default/opac/parts/anon_list.tt2
1	1	Open-ILS/src/templates/default/opac/parts/coded_value_selector.tt2
2	2	Open-ILS/src/templates/default/opac/parts/org_selector.tt2
7	8	Open-ILS/src/templates/default/opac/parts/place_hold.tt2
2	2	Open-ILS/src/templates/default/opac/parts/qtype_selector.tt2
1	1	Open-ILS/src/templates/default/opac/parts/topnav.tt2
5	3	Open-ILS/src/templates/default/opac/results.tt2

commit f77c3d014fdda5890d7f7ff1d9d14095dc2377ce
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 15:28:53 2011 -0400

    TPac: more aggressive dynamic output filtering
    
    Making heavier user of html/uri filters to prevent accidental or
    malicious rendering of html from dynamic data.  More to follow.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	3	Open-ILS/web/templates/default/opac/parts/anon_list.tt2
1	1	Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2
2	2	Open-ILS/web/templates/default/opac/parts/org_selector.tt2
7	8	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
2	2	Open-ILS/web/templates/default/opac/parts/qtype_selector.tt2
1	1	Open-ILS/web/templates/default/opac/parts/topnav.tt2
5	3	Open-ILS/web/templates/default/opac/results.tt2

commit ef4e3ea51a57cc8d112b809711023bbb9999f53c
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Aug 17 13:01:08 2011 -0400

    Assume username, not barcode, in TPAC login
    
    In the absence of a barcode regex OU setting (opac.barcode_regex), the
    TPAC was assuming that the entered value was a barcode. However, the
    default JSPAC assumption was that the entered value was a username. This
    commit makes the TPAC continue to function with the same assumptions as
    the default JSPAC in the absence of a barcode regex OU setting.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 0e0cbe5bbfd3b8929f817f104c1050a2939b8741
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 17 09:17:17 2011 -0400

    Vandelay: don't clear item import profile when creating new queue
    
    This avoids the problem of: enter import-profile in the UI => enter name for
    new queue => profile is cleared.  Import profile is still cleared/set when
    an existing queue is selected, since existing queues already have an
    item import profile set.
    
    Part II of 90a7bde48a6ef5f7be73375612b5db88f8b31c95
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 06d945794fca67c693c1691e1d38e39643fbe500
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Aug 16 16:44:16 2011 -0400

    Address ISBN issues in T-PAC
    
    A few problems fixed here:
    
    * Refer to args.isbns (plural) consistently; at times we were referring
      to args.isbn which did not exist
    * Grab the textContent of the SFX ISBN node rather than the raw
      XML::LibXML Element
    * Use an assignment operation when regex'ing the SFX ISBN, as the
      in-place was interpreted as a "print me" stmt and displaying the raw
      SFX ISBN.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	3	Open-ILS/src/templates/default/opac/parts/misc_util.tt2
1	1	Open-ILS/src/templates/default/opac/parts/result/table.tt2

commit 0d0cc97fa8b58e0044ecc44633e5c109d551be72
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Aug 16 16:02:17 2011 -0400

    T-PAC: Do not display a call number if we don't have one
    
    Electronic records might not have a call number, so don't try to display
    one if there isn't one (in search results).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

3	1	Open-ILS/src/templates/default/opac/parts/result/table.tt2

commit 87671d4fc36d64de375e4d4024f817d3c5b09606
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 16 15:32:57 2011 -0400

    TTPac: another merge casulty -> title_extended attribute
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/templates/default/opac/parts/misc_util.tt2

commit abef2d3dd1b3fecc02dd2eaa99da8def00fec1b5
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Aug 16 15:09:58 2011 -0400

    Delete templates_kcls from core
    
    The KCLS templates, while a useful demonstration of how to skin the
    T-PAC, should be maintained outside of the core repository as they
    contain branding elements, etc, that are specific to KCLS.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	24	Open-ILS/src/templates_kcls/default/opac/myopac/main_refund_policy.tt2
0	10	Open-ILS/src/templates_kcls/default/opac/parts/footer.tt2
0	64	Open-ILS/src/templates_kcls/default/opac/parts/homesearch.tt2
0	12	Open-ILS/src/templates_kcls/default/opac/parts/login/help.tt2
0	4	Open-ILS/src/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
0	25	Open-ILS/src/templates_kcls/default/opac/parts/printnav.tt2
0	6	Open-ILS/src/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
0	13	Open-ILS/src/templates_kcls/default/opac/parts/topnav_links.tt2
0	2	Open-ILS/src/templates_kcls/default/opac/parts/topnav_logo.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/myopac/main_refund_policy.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/footer.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/homesearch.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/login/help.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/printnav.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/topnav_links.tt2
 delete mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/topnav_logo.tt2

commit 110a7fb2222833875b50da601539bce210439191
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 16 15:09:50 2011 -0400

    TTPac: move some templates into the right place
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

16	0	Open-ILS/src/templates/default/opac/parts/record/series.tt2
59	0	Open-ILS/src/templates/default/opac/parts/result/paginate.tt2
0	16	Open-ILS/web/templates/default/opac/parts/record/series.tt2
0	59	Open-ILS/web/templates/default/opac/parts/result/paginate.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/series.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/result/paginate.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/series.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/result/paginate.tt2

commit 79d222b27d81504ff393471ae6da3edf0af19252
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Aug 16 11:50:45 2011 -0400

    LP 799719: Pass the DESTDIR variable to python installer
    
    Based on Ben Webb's patch, but using the same triple-slash to avoid any
    possibility of confusion about the installation location (see also the
    same adjustment made to OpenSRF).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	2	Open-ILS/src/python/Makefile.am

commit 4639b0136ddc997970e28f87bedefbac8482a28f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 16 11:19:35 2011 -0400

    Opps ... use the correct number
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0602.schema.lp790329_opac_copy_count.sql

commit d52347cf7a69f4f21050388f81da0ab94b518b92
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 16 11:10:44 2011 -0400

    Stamped upgrade scripts for LP#790329
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
46	0	Open-ILS/src/sql/Pg/upgrade/0603.schema.lp790329_opac_lasso_counts.sql
42	0	Open-ILS/src/sql/Pg/upgrade/0604.schema.lp790329_staff_opac_lasso_counts.sql
0	46	Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_opac_lasso_counts.sql
0	42	Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_staff_opac_lasso_counts.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0603.schema.lp790329_opac_lasso_counts.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0604.schema.lp790329_staff_opac_lasso_counts.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_opac_lasso_counts.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_staff_opac_lasso_counts.sql

commit 3533f1859f3be1a5237dd8aedd45d17bb0e4fdb3
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 28 14:29:48 2011 -0400

    LP#790329 org_lasso search is broken
    
    Fix the JavaScript error when we attempt to create a feed for the
    shortname of the org_unit_lasso (lassos have no shortname) - which lets
    the request hit the backend Perl module, which in turn chokes on a test
    for OU that only allows two conditions: either all digits is treated as
    a numeric ID for an org unit, or it is a shortname. Of course, lassos
    are negative integers, so we have to modify the test slightly to make it
    happier.
    
    There was no depth for org lasso copy counts, and this was handled
    correctly in the main case by the asset.opac_lasso_record_copy_count()
    function and its staff variant, but when a copy was not found at a given
    org_unit in the lasso a request was made for the non-existent depth and
    the function would error out.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm
2	2	Open-ILS/src/sql/Pg/040.schema.asset.sql
46	0	Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_opac_lasso_counts.sql
42	0	Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_staff_opac_lasso_counts.sql
8	5	Open-ILS/web/opac/skin/default/js/result_common.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_opac_lasso_counts.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lp790329_staff_opac_lasso_counts.sql

commit f1fed63c2e4296b294ea25ac229d9921c226712d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 16 11:08:02 2011 -0400

    Placeholder for 2.0-only LP#790329 fix
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/src/sql/Pg/upgrade/0602.schema.lp790329_opac_copy_count.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0602.schema.lp790329_opac_copy_count.sql

commit 90a7bde48a6ef5f7be73375612b5db88f8b31c95
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 16 10:55:39 2011 -0400

    Vandelay: don't clear match-set when creating new queue
    
    This avoids the problem of: enter match set in the UI => enter name for
    new queue => match set is cleared.  Match set is still cleared/set when
    an existing queue is selected, since existing queues already have a
    match set.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit e327605249447380f579c4fd07b4f587a6c1560e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Aug 16 09:10:45 2011 -0400

    Keep the logging output of the EDI translator by default
    
    There is valuable troubleshooting information there that is otherwise hard to
    find.  This particularly matters when the output of an EDI
    Action/Trigger template (JEDI) doesn't successfully get translated to
    EDIFACT for nonobvious reasons.
    
    In production environments, you might instead pipe to logger so that you can
    collect output with syslog, rather than in a flat file.  As long as
    output goes *somewhere.*
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

8	4	Open-ILS/src/edi_translator/edi_webrick.bash

commit 76c5dbdffe0a8160e6cee8537aa806b993e67640
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 15 15:34:07 2011 -0400

    LP#820409 fix org unit admin UI
    
    This reverts part of 17e659eec3e23caf5d301b33aa5019b672ecd0e8, which was
    tightening checks against null and '' to avoid implicit type-casting.
    
    This line var modified_ou = new aou().fromStoreItem( current_ou ); was
    producing a fieldmapper object where certain fields were being set to
    contain the string "undefined" rather than a null.
    
    The update method would take isdeleted == "undefined" as True.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	3	Open-ILS/web/js/dojo/fieldmapper/Fieldmapper.js

commit 5b224b425c038436cd2026e6024e47bc8f65b007
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 16 09:00:43 2011 -0400

    Stamped upgrades for LP#825303
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
38	0	Open-ILS/src/sql/Pg/upgrade/0600.schema.fix_cat_default_class_lookup.sql
34	0	Open-ILS/src/sql/Pg/upgrade/0601.schema.fix_aous_lookup.sql
0	34	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_aous_lookup.sql
0	38	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_cat_default_class_lookup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0600.schema.fix_cat_default_class_lookup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0601.schema.fix_aous_lookup.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_aous_lookup.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_cat_default_class_lookup.sql

commit fd2a63dbc409f859bb103abae24abfd55f324f18
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Fri Aug 12 16:09:11 2011 -0400

    return only the one applicable OU setting value
    
    Correct actor.org_unit_ancestor_setting so that it returns
    at most one setting value, rather than the entire set
     of values defined for the OU and its ancestors.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/sql/Pg/020.schema.functions.sql
34	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_aous_lookup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_aous_lookup.sql

commit ac36c3a6a2cc00a41834b88979f2d2a2c061818a
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Fri Aug 12 12:18:54 2011 -0400

    lp#825303: fix cat.default_classification_scheme lookup
    
    Fixes a bug where the wrong default classification scheme
    could be chosen when adding a new volume whose classification
    scheme was not explicitly set.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	3	Open-ILS/src/sql/Pg/040.schema.asset.sql
38	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_cat_default_class_lookup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_cat_default_class_lookup.sql

commit bf6ebc61b5573667d6e8c42d5362c710732bc66d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 16 08:24:38 2011 -0400

    TTPac: Hide pagination for 1-page hits
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

11	9	Open-ILS/web/templates/default/opac/parts/result/paginate.tt2

commit f78e76ca664df88b29d01acc6c4b509c361ad327
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 15 17:38:12 2011 -0400

    TTpac: added simple/detailed record view option to results page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

5	0	Open-ILS/web/templates/default/opac/parts/result/table.tt2
13	10	Open-ILS/web/templates/default/opac/results.tt2

commit 60af82af2ce56af6210c5daa9acd116b87395a80
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 15 14:56:50 2011 -0400

    TTPac: move results pageing chunk to new template
    
    table.tt2 and paging are complex enough and will likely result in much
    local customization.  Break them up into 2 page to simplify.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

57	0	Open-ILS/web/templates/default/opac/parts/result/paginate.tt2
3	56	Open-ILS/web/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/result/paginate.tt2

commit d9d36ec6b8ab9f5bfffaad4babc6025f93508aca
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 15 14:42:45 2011 -0400

    TTpac: show page range in results paging display
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/web/css/skin/default/opac/style.css
18	3	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 67e383b7e3572631230f818cbbcd91fdb2542f08
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 15 11:28:19 2011 -0400

    TTPac: change default any-format to 'All Formats'
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit 9570a35ac858c91de910f6e18d59ac7e58f4af7d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 15 11:28:01 2011 -0400

    TTpac: option to override no-choice label in coded value selector
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2

commit 335f3c70a675898a0a4a3b0531a1222786ad0993
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 15 11:18:33 2011 -0400

    TTpac: Chilifresh reviews panel occupies the width of the table
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	2	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit ff7c382023385d80dc476f9e94d50bbf88763b2a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Aug 12 21:07:41 2011 -0400

    Stamped upgrade script for "lp 823496: do not fail to index personal names that have relators"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
28	0	Open-ILS/src/sql/Pg/upgrade/0599.data.fix_author_other_index.sql
0	28	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_author_other_index.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0599.data.fix_author_other_index.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_author_other_index.sql

commit ef39a4a52462ad572e489e6a16b5f3489f5657f8
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue Aug 9 15:30:56 2011 -0400

    lp 823496: don't fail to index personal names that have relators
    
    The default definition for the author|other index inadvertantly
    excluded names from 600, 700, 720, and 800 fields that have
    relator values ($e) or codes ($4).
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
28	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_author_other_index.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_author_other_index.sql

commit 3612011cba7d7bcbb2546b3f38e4b0e647368d9d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 12 17:03:11 2011 -0400

    Vandelay: capture one match per catalog record
    
    When searching for matches to existing catalog records
    (biblio.record_entry's), Vandelay can in some cases result in multiple
    like matches for the same record (with the same match score).  This
    trims it down to 1 match per record.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
63	0	Open-ILS/src/sql/Pg/upgrade/0598.schema.vandelay_one_match_per.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0598.schema.vandelay_one_match_per.sql

commit 581a37ea26e6ce9c99db6f0de5d27960527390a3
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Aug 4 16:02:15 2011 -0400

    Add some additional logging in SIP/Transaction/Feepayment.pm.
    
    This should help with debugging, etc.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm

commit b9277238c41cad527d40c2ff45b91b852f59427c
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Aug 4 12:31:49 2011 -0400

    Add OILS_SIP_MSG_BILL_ERR for when an error occurs getting bills.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Msg.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm

commit 8875f2be3c350c0ea3617634eaf93b22099c99d4
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Jul 14 13:59:47 2011 -0400

    Add event textcode as alternative to descr in FeePayment.pm.
    
    Some events have no descr, it seems.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	3	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm

commit adae6d24614c6e38fd16f93f91718a974165837e
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Jul 13 18:28:26 2011 -0400

    Bail from fee payment if no bills are found.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm

commit c394f0bac6111dd9c84ba4384da7be1ef7613728
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Jun 30 11:48:28 2011 -0400

    Add SIP2 fee payment, the 37/38 message/response pairs.
    
    * Pay individual bill if a fee id is given by the SC.
    
    * Pay multiple bills in batch so if one fails the whole transaction
      is aborted and a failure response is sent to the SC.
    
    * Reject payments outright if the SC sends an overpayment.
    
    * Add constants for bill not found and overpayment messages.
    
    * Whole lotta logging goin' on (maybe too much).
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/examples/oils_sip.xml.example
29	17	Open-ILS/src/perlmods/lib/OpenILS/SIP.pm
2	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Msg.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction.pm
182	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/FeePayment.pm

commit 0d77bd8168ed4a66c2f9f759b87ac0405faa8efe
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Aug 12 15:47:25 2011 -0400

    Don't escape_html numbers in util/print.js
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit f0bbdb4ce207720c8743fb3fe616e2b079a8f82c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Aug 10 21:37:54 2011 -0400

    Escape HTML characters in template subs
    
    This prevents injection of random HTML from various sources.
    
    Like bad bib records, org unit settings, patron info, etc.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

23	16	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit 4e8fb086e9c242da21ed0047b64d089a7e0a6fa7
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Aug 10 21:03:46 2011 -0400

    Use openDialog to make go_print workaround vanish
    
    By passing params and the go_print function into openDialog we get
    to ignore race conditions, as the window is created with the passed
    in arguments.
    
    Oh, and we can stop using js2JSON and such.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

5	6	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit c079cb29dc7f8376d3a1b02aff7c8301ee6632e5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Aug 10 21:02:51 2011 -0400

    Add openDialog to window class
    
    Uses window.openDialog instead of window.open.
    https://developer.mozilla.org/en/DOM/window.openDialog
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

80	0	Open-ILS/xul/staff_client/chrome/content/util/window.js

commit 8f393387f51e2efc514ab42af89067bb040cd285
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Aug 12 16:04:43 2011 -0400

    No more lightpink for disabled copy editor
    
    Folks can still provide custom CSS against those class hooks if desired
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/xul/staff_client/server/skin/cat.css

commit 92b2d3ec7ce4d847461dcbd43771845215ccf166
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Aug 11 14:16:24 2011 -0400

    in lieu of Ready Item Editor
    
    We're trying to prevent folks from using the item attribute editor in the
    unified interface when the volume pane is still updating its information
    (i.e. building the copies to feed to the attribute editor), so that a
    given editing widget isn't ripped out from under staff while its being
    used.  This change removes the heavy-handed Ready Item Editor button and
    instead tries to more gracefully manage the editor state based on change
    and keypress events.  Also change the color scheme for a disabled editor
    from red to light pink.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	2	Open-ILS/web/opac/locale/en-US/lang.dtd
4	4	Open-ILS/xul/staff_client/server/cat/copy_editor.js
20	35	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
0	5	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.xul
3	0	Open-ILS/xul/staff_client/server/skin/cat.css
0	2	Open-ILS/xul/staff_client/server/skin/global.css

commit 809bf25bd57b35a3ba44429f243cae6c5b28bb0b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Aug 12 15:06:01 2011 -0400

    Stamped upgrade script for "For vandelay bib matching, make 020, 022, 024 tags case-insensitive"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
96	0	Open-ILS/src/sql/Pg/upgrade/0597.schema.vandelay.bib_match_isxn_caseless.sql
0	96	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.vandelay.bib_match_isxn_caseless.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0597.schema.vandelay.bib_match_isxn_caseless.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.vandelay.bib_match_isxn_caseless.sql

commit cb0daa7b946f5fd90628b8b270da1731822d9ca7
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Aug 12 11:35:16 2011 -0400

    For vandelay bib matching, make 020, 022, 024 tags case-insensitive
    
    For user convenience.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

22	3	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
4	0	Open-ILS/src/sql/Pg/030.schema.metabib.sql
96	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.vandelay.bib_match_isxn_caseless.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.vandelay.bib_match_isxn_caseless.sql

commit bd8b40c6e2421215a4e399c53e863d3a7b883ece
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 12 08:40:31 2011 -0400

    Removed errant '-' causing sql syntax failure
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0594.schema.acp_status_date_changed.sql

commit 72db8825b3ca72fe29f6fa0b9df838484013fe54
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 17:21:03 2011 -0400

    TTpac: minor i18n and other cleanup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	5	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit a94d9d750e3c75ba642fdfd6da67722f36cf8b92
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 17:17:40 2011 -0400

    TTpac: removed last bits of propagator; minor cleanup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	15	Open-ILS/web/templates/default/opac/parts/header.tt2
12	17	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 2bfb4891c6908e0e3ec34f69e0393c7fc50762b2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 16:59:22 2011 -0400

    TTpac: Added Expand/Collaps all 'extras' tabs in detail page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

20	7	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
1	1	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
12	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 50b4a93d3e02d48491bb5b5c95f0a869f01f86d1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 16:30:11 2011 -0400

    TTpac: more use of mkurl() and general cleanup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	15	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
1	11	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
1	52	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit f1ed6fa6b514a8e730251b93487bffb9505bd185
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 16:25:50 2011 -0400

    Force-encode CGI param values to prevent decode errors
    
    CGI.pm decode()'s parameter values, so if it encounters a value that
    is already decoded, it will croak and kill the page.  Proactively encode
    paramter values so decode() won't fail.
    
    The better solution may be to determine how we get such data, but
    until then, let's allow the t-pac to work on funky data.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
10	2	Open-ILS/web/templates/default/opac/parts/header.tt2

commit d9fac3e6133c13a9992bc0af3ef951fdd0cb9ea3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 11:56:41 2011 -0400

    TTpac: start using mkurl();  more todo..
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

16	23	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 5ffd3a587e31c33a9fe83c91a6f7640cc8cf04b1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 11 11:56:15 2011 -0400

    TTopac: cgi-based replacement for url 'propagator'
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

47	0	Open-ILS/web/templates/default/opac/parts/header.tt2

commit 2612ec8f20d86e3a3241425a63ab9da6267ec533
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 17:21:50 2011 -0400

    TTpac: show MARC callnumber in record detail page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 802ae56d4115b36704d18e0d7f6b196dda1ecd3b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 17:07:36 2011 -0400

    TTpac: option to view larger sets of copies on record page
    
    On record details page, added a "Show More Copies" option to show more
    (50) copies per page of copies than the default (10).  Also added a
    "Show Fewer Copies" option to return to the default copy page size.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

-	-	Open-ILS/web/images/minus_sign.png
22	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
 create mode 100644 Open-ILS/web/images/minus_sign.png

commit 9c85acf6a5fc8e9339c8fc7a608cfce00ef3538f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 15:26:53 2011 -0400

    TTpac: show full 245 for title on record details page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 11bb8b7f0c4a9baffbe99c60063d875e6ea9dc29
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 15:22:46 2011 -0400

    TTpac: Capture and show all ISBNs on record details page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	2	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
4	2	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
2	2	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 9cfa1e71d1463c595e522c0de02d0e8116c78834
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 15:07:40 2011 -0400

    Show more subject data in the expanded ttopac subjects display
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2

commit 7b6053867f06ea4b38890e20b181006503a37c87
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 15:01:58 2011 -0400

    Added support for series display in ttopac record details
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
16	0	Open-ILS/web/templates/default/opac/parts/record/series.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/series.tt2

commit 315f5188ed208aa14559aec27980eddf4b49e823
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 14:16:13 2011 -0400

    Accommodate multiple 520a's in tt-opac summary display
    
    MARC args.summary is now an array of summary entries.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	1	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
5	1	Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2

commit 48612c1974a36a3a17c26e2e083fe239cc06e3fa
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Aug 10 14:04:11 2011 -0400

    Tweak Override Dialog so that the text can wrap
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/chrome/content/util/network.js

commit e173cd823dc3eb31bd519800b1f86c34465eb19b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Aug 10 14:03:37 2011 -0400

    Tweak wording for Checkout's Override Once feature
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit 6592e20056802947a11bf264e68134309e72fa60
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jul 27 17:14:43 2011 -0400

    Add note that overrides will stay for the session
    
    Same way other overrides get an additional note.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

12	0	Open-ILS/xul/staff_client/server/circ/checkout.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit 3e12a18f2cc2af491ddfe4ccb812cd2024b6dbb4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 18 11:35:08 2011 -0400

    Allow "override once per patron" at checkout
    
    Specifically for patron-derived overrides:
    PATRON_EXCEEDS_OVERDUE_COUNT
    PATRON_BARRED
    PATRON_EXCEEDS_CHECKOUT_COUNT
    PATRON_EXCEEDS_FINES
    
    This is done by:
    Adding support for a list of "reported" overrides to util/network.js
    Using that in Checkout to build an auto-override list for the current patron
    Passing that list in at Checkout
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

23	1	Open-ILS/xul/staff_client/chrome/content/util/network.js
12	1	Open-ILS/xul/staff_client/server/circ/checkout.js

commit 38ed96cab162e58dfc089d00a20e60336693b44a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 10 10:23:32 2011 -0400

    Stream records to ML for Vandelay queue export
    
    Since queued records, with their marcxml blobs, are fairly large, avoid
    fetching them atomically when possible.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit bfceae7dfe2d8bb3dcd37e56b541a69b9a99738c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 8 15:05:47 2011 -0400

    Granular invalid data detection for Vandelay item import
    
    When an import item contains any data for a field, the code now verifies
    the data is valid for the selected field.  When the data is not valid,
    we capture information on which field is invalid and what data was used
    for the field (import_error, error_detail) so it can be reported in the
    interface.
    
    This adds new import_errors:
    
    import.item.invalid.status
    import.item.invalid.price
    import.item.invalid.deposit_amount
    import.item.invalid.owning_lib
    import.item.invalid.circ_lib
    import.item.invalid.copy_number
    import.item.invalid.circ_as_type
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	16	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
15	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
118	43	Open-ILS/src/sql/Pg/999.functions.global.sql
442	0	Open-ILS/src/sql/Pg/upgrade/0596.schema.vandelay-item-import-error-detail.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0596.schema.vandelay-item-import-error-detail.sql

commit b6d197000576d45d9acbb63509ee85f092acf6ad
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 18:14:00 2011 -0400

    Show copy status/location names in Vandelay items grid
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

36	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js
4	0	Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2

commit 0b8ca5bc8fc514d4897d3c9f596d9e135ab428a8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 9 14:14:18 2011 -0400

    Stamping upgrade scripts for LP#818740
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
30	0	Open-ILS/src/sql/Pg/upgrade/0595.data.org-setting-ui.patron_search.result_cap.sql
0	30	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.patron_search.result_cap.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0595.data.org-setting-ui.patron_search.result_cap.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.patron_search.result_cap.sql

commit 5449a194bfdfbe132911b9e0a8e809804d60c39d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun Jul 31 01:39:39 2011 -0400

    Org setting for the result cap for Patron Search
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

18	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
30	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.patron_search.result_cap.sql
7	0	Open-ILS/xul/staff_client/server/patron/search_result.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.patron_search.result_cap.sql

commit f303d7f058b28e69434372c8ee85fe334ca4144c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 8 14:06:57 2011 -0400

    Fix stop sign page race condition with checkout
    
    This would happen most often when retrieving multiple patrons at the same time
    from patron search--the stop sign page would show but then get trampled by the
    checkout interface, which normally loads first.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/xul/staff_client/server/patron/display.js

commit 0606ec4315aac2c7106f67d3996dc020e8646b18
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 25 15:58:40 2011 -0400

    Tell OPAC to use checkin date, not stop_fines date
    
    The column is labeled "Date Returned", not "Date we stopped generating fines".
    
    This does lead to "(fines accruing)" for an item that has hit max fines, or stopped fines for some other reason.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/opac/skin/default/js/myopac.js

commit 581860cc0df2662f643bed90d099854a34f816cd
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 8 15:22:34 2011 -0400

    username login for web selfcheck
    
    Changes the behavior for the patron-login component (after staff login) to match
    the OPAC.  By default, it assumes you are logging in with a usrname, but if the
    org unit setting 'opac.barcode_regex' is enabled and the incoming value matches,
    then it gets treated as a library card barcode instead. If usrname is used, then
    the card referenced by actor.usr.card is checked in lieu of a specified barcode.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

35	14	Open-ILS/web/js/ui/default/circ/selfcheck/selfcheck.js

commit f3f86aba83c2179569413d6f50a2b132f0371a72
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 1 23:07:24 2011 -0400

    action for marking items claimed never checked out
    
    Menu action in Patron Items Out for marking items as Claimed Never Checked Out.
    Note that this action behaves differently than Claimed Returned, in that the
    item is actually checked in and the transaction closed, and will not continue
    to show up in Items Out for the patron.
    
    If decide later to provide an option for making the two actions consistent,
    there is code in the original working branch, collab/phasefx/claimed_never_cko,
    which modifies the patron display and the .checked_out methods to look for
    open CLAIMSNEVERCHECKEDOUT transactions.  Some cleanup would be needed to avoid
    merge conflicts.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	2	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
63	7	Open-ILS/xul/staff_client/server/patron/items.js
6	0	Open-ILS/xul/staff_client/server/patron/items_overlay.xul

commit 429384ac1f7a7904bb23dabe52586db66b30611c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 9 13:26:17 2011 -0400

    Stamped upgrade scripts for LP#797409
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
69	0	Open-ILS/src/sql/Pg/upgrade/0593.data.org-setting-circ.offline.skip_foo_if_newer_status_changed_time.sql
29	0	Open-ILS/src/sql/Pg/upgrade/0594.schema.acp_status_date_changed.sql
0	69	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-circ.offline.skip_foo_if_newer_status_changed_time.sql
0	29	Open-ILS/src/sql/Pg/upgrade/YYYY.schema.acp_status_date_changed.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0593.data.org-setting-circ.offline.skip_foo_if_newer_status_changed_time.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0594.schema.acp_status_date_changed.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-circ.offline.skip_foo_if_newer_status_changed_time.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/YYYY.schema.acp_status_date_changed.sql

commit 9dff0defae38eee78d6dac73cc57dd03de589b50
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 8 09:07:40 2011 -0400

    Ign Reshelving->Available for status_changed_time
    
    This solves a complication when wanting to check status_changed_time against
    offline xact_time when processing offline transactions.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/040.schema.asset.sql
29	0	Open-ILS/src/sql/Pg/upgrade/YYYY.schema.acp_status_date_changed.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/YYYY.schema.acp_status_date_changed.sql

commit e3c90505d2ad5d65235bb4071ed186fc37c0703e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Aug 4 12:11:49 2011 -0400

    Robustify SKIP_ASSET_CHANGE functionality
    
    by skipping status_changed_time test if a barcode has been encountered in prior
    offline transaction within a given session.  Also return the SKIP_ASSET_CHANGE
    event for a given barcode if a prior test resulted in SKIP_ASSET_CHANGE
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

43	16	Open-ILS/src/offline/offline.pl

commit ab989cb6e241400d2115fb7b1b28bb963a2d4f44
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Aug 3 22:32:51 2011 -0400

    Offline checkin & renewal checks, & ou settings
    
    Augmented edoceo's patch for checking an offline checkout against an item's
    Status Changed Time and throwing a SKIP_ASSET_CHANGED event if warranted as
    follows:
    
    1) include checkin and renewal transactions
    2) add org unit settings for each, and a corresponding upgrade script
    3) removed the description from the payload and created a dedicated ils_event
    
    However, there are two issues affecting this functionality, even before my
    meddling:
    
    1) the Reshelving -> Available rollover updates an item's Status Changed Time,
       and can thus trigger this event
    2) if an item is manipulated more than once in an offline session, then its
       Status Changed Time can be updated as the transactions are being processed,
       causing related transactions after the initial transaction to fail
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/src/extras/ils_events.xml
73	4	Open-ILS/src/offline/offline.pl
57	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
69	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-circ.offline.skip_foo_if_newer_status_changed_time.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-circ.offline.skip_foo_if_newer_status_changed_time.sql

commit 65ca55a8dab817f485e379d7ce1ee2ed5d814e22
Author: Atom Edoceo <atom@helium.edoceo.lan>
Date:   Mon Aug 1 22:54:37 2011 -0700

    LP#797409: Offline Transaction - Option to Skip Old Records
    
    Skip Copy with later Status Change Time on offline checkout import
    Requires the following option in offline-config.pl
      $main::config{skip_late} = 1;
    
    Signed-off-by: David Busby <code@edoceo.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

22	1	Open-ILS/src/offline/offline.pl
2	0	Open-ILS/src/support-scripts/test-scripts/offline.pl

commit ff7ea322f7d9010643760f01f201a6329209763c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Aug 5 16:01:09 2011 -0400

    Whoops. Do that availability test regard of whether hold_boundaries are used.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

38	36	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit e16c8b771ecc2b57cadbc27f6677eb7fe44578e1
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Aug 5 14:31:03 2011 -0400

    In a middle-layer method for returning holdable formats on a metarecord,
    
    Do a better test of copy holdability than we were doing previously.
    We can't do a perfect test: we don't really know what patron we're doing
    this for, and even if we did, from here it's nontrivial to figure out
    whether we're doing indb holds or script-based, much less run the tests.
    
    Still, we can test whether a copy's in a holdable status, a holdable
    location, and is itself not explicitly marked unholdable.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

13	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 73d555806f2597feee62707fcf886a42d8d17c58
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Aug 5 13:52:17 2011 -0400

    Speed up t-pac record details copy retrieval
    
    Using JOIN filters instead of WHERE clauses, drastically speed up
    paged/sorted copy retrieval, particularly for items with many copies, in
    the record details page.
    
    Thanks for the suggestions, Mike.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

35	32	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit f32d6e3a54eb87cba907e614a5c74b338532e34e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Aug 5 13:32:55 2011 -0400

    This doesn't need to be lying around any more
    
    Its purpose was superceded by another upgrade script in master.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	14	Open-ILS/src/sql/Pg/upgrade/XXXY.data.config.metabib_field.lccn.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXY.data.config.metabib_field.lccn.sql

commit 04008a5bece9c12d2e6ce48ed7ed11eb5d537289
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Aug 4 22:27:45 2011 -0400

    mrpeters caught this; wrong variable fed to error dialog
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/patron/items.js

commit aeaa63cf14da616358ef1f15da478491328ed873
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 16:46:54 2011 -0400

    Repaired copy private/public note vandelay bug
    
    Previously, all copy notes imported through vandelay were coming in as
    public copy notes.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 7adaf791e10d6d5af28389104723e098547f85d8
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Aug 4 15:25:08 2011 -0400

    Revert "remove the unfinished id_as_barcode functionality"
    
    This reverts commit 5fa01d69f7374c0c8710db4a951edb80ed5ae733.
    
    Bit too soon, actually. Staff client still uses the function to
    verify credentials.
    
    Maybe I skipped this the first time on purpose.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	0	Open-ILS/examples/opensrf.xml.example
49	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 5fa01d69f7374c0c8710db4a951edb80ed5ae733
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun Jul 31 00:01:31 2011 -0400

    remove the unfinished id_as_barcode functionality
    
    remove the unfinished id_as_barcode setting for open-ils.actor and remove unused open-ils.actor.user.retrieve_id_by_barcode_or_username method
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

0	5	Open-ILS/examples/opensrf.xml.example
0	49	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 1e140ad8693d616229c511166ad1284ecfb609a5
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Aug 4 15:10:36 2011 -0400

    Stamped upgrade script for ACQ_INVOICE_REOPEN permission addition
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
23	0	Open-ILS/src/sql/Pg/upgrade/0592.data.ACQ_INVOICE_REOPEN-perm.sql
0	21	Open-ILS/src/sql/Pg/upgrade/XXXX.lp818311.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0592.data.ACQ_INVOICE_REOPEN-perm.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lp818311.sql

commit 7613838f067f37db3a024075559430662c3d87e0
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Thu Aug 4 10:13:56 2011 -0400

    Upgrade script for LP818311 branch.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

21	0	Open-ILS/src/sql/Pg/upgrade/XXXX.lp818311.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lp818311.sql

commit a0f7fa7d5e157777ff38a22bd6f180e1b5d98028
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Aug 4 08:59:15 2011 -0400

    LP#818311:  ACQ_INVOICE_REOPEN is missing
    
    This patch adds the missing ACQ_INVOICE_REOPEN to the Acquisitions
    Administrator user.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 39632c0346c1807eddee54c28675741668d1c264
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 15:01:09 2011 -0400

    Speed up holds history retrieval
    
    Consistent w/ circ history retrieval, use the longer column 'transform'
    stored proc invocation to limit retrieval to historical holds IDs
    instead of entire objects, which are later fetched/fleshed anyway.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	7	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit efdf2b16c664924ee66fa2e48a8da343aa16a43d
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Jul 29 16:09:58 2011 -0400

    Fix i18n build
    
    Two problems thrown at the i18n build:
    
      * $$ quoting is not understood by db-seed-i18n.py; simple approach is
        to use standard single-quote escaping of the single-quote in
        950.data.seed-values.sql (warning: this might lead to other problems
        with the regular expression in db-seed-i18n.py)
      * authority.js includes Unicode values (shock!) and so we must treat
        the incoming strings as unicode() instead of plain old str()
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
3	3	build/i18n/scripts/dojo_resource.py

commit d42e656a9f0745e1bb77298fd6598faaa6d4bb69
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 14:53:36 2011 -0400

    Faster T-pac circ history retrieval
    
    * Take advantage of the new default sorting behavior of
    action.usr_visible_circs to perform limit/offset within the DB instead
    of fetching the whole circ history in the mod_perl code and sorting
    through it.
    
    * Also use the  more powerful/verbose column transform syntax for
    calling stored procedures to retrieve only the historical circ IDs
    instead of the full circ objects, since we are re-fetching fleshed circ
    objects later in the code.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	18	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit df25d34fb5cad303a21b0f9df64b3c8e299b8222
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Aug 3 00:44:41 2011 -0400

    Fix staff client Clear Expired Hold Shelf action
    
    Accomodate an API change.  FIXME: See if can remove some of the redundant and/or
    un-needed data being sent over the wire.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

83	36	Open-ILS/xul/staff_client/server/patron/holds.js

commit 90c7088008bc0e669d4d08e2b2b030c8ea5caa6e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jul 28 11:04:36 2011 -0400

    Only update MARC on full entry of fixed fields
    
    AKA:
    Lang is 3 characters long. Entering 1 character would cause focus to leave.
    MARC would also update incorrectly.
    
    This only triggers the update when the full 3 characters are entered.
    
    This not only prevents issues with catalogers editing multi-character fixed
    fields but also makes it less likely they accidentally corrupt the records.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	0	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 852e650763ff4efa867a6640a458d7ed6b792ac9
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Aug 4 14:36:17 2011 -0400

    Stamped upgrade script for schema.circ_holds_history_repairs
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
110	0	Open-ILS/src/sql/Pg/upgrade/0591.schema.circ_holds_history_repairs.sql
0	110	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.circ_holds_history_repairs.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0591.schema.circ_holds_history_repairs.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.circ_holds_history_repairs.sql

commit 1ede7ea29d3730992092b5d492c3d674d48f3a43
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 13:49:11 2011 -0400

    Repair holds history func; sort circ history desc.
    
    Update holds history to use oils_json_to_text instead of
    oils_json_to_string, which does not exist.
    
    Sort circ history newest to oldest by default.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	5	Open-ILS/src/sql/Pg/090.schema.action.sql
110	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.circ_holds_history_repairs.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.circ_holds_history_repairs.sql

commit 38a258ee235af3ecd5bd1529263d1533acc08e76
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 11:47:47 2011 -0400

    Fix title/author sort.  Use SVF 'titlesort'/'authorsort'
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	4	Open-ILS/web/templates/default/opac/parts/filtersort.tt2

commit 694f31615e4463e6191fb62bdbbc28750320f785
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Aug 4 08:56:46 2011 -0400

    Repaired qtype bug introduced w/ bool searching
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 9398a9ca85624f4e9a4cfc87fbd9f6d38f721457
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Aug 3 16:42:17 2011 -0400

    Cast needed
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit e6d8b8c5d5a2d7c56239d80bf04e3362823ce068
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 3 16:04:26 2011 -0400

    Speed up hold editing by only fetching hold to edit
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
8	14	Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2

commit e0f52e9d9fe6bbe0c127e70572027b026c30607f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 3 15:33:24 2011 -0400

    Repaired bug in t-pac org selector value propagation
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	6	Open-ILS/web/templates/default/opac/parts/org_selector.tt2

commit 6b1d17a5fd47f65564302e538c69671ac02b8f81
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 3 13:46:24 2011 -0400

    Stamped upgrade script for more_cache_visbility_breakage
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
219	0	Open-ILS/src/sql/Pg/upgrade/0590.schema.more_cache_visibility_breakage.sql
0	207	Open-ILS/src/sql/Pg/upgrade/XXXX.more_cache_visibility_breakage.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0590.schema.more_cache_visibility_breakage.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.more_cache_visibility_breakage.sql

commit ed377436788c46010ba5131d448d75bc4c165b17
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 25 16:39:57 2011 -0400

    Unwrapped upgrade script
    
    for more_cache_visbility_breakage
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

207	0	Open-ILS/src/sql/Pg/upgrade/XXXX.more_cache_visibility_breakage.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.more_cache_visibility_breakage.sql

commit 5995b0da11ea2bb50ce79a8df2b6dfe065adb0eb
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 25 16:39:07 2011 -0400

    Extraneous semicolons break SQL
    
    Remove them so that cache_copy_visibility can function.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	6	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 1c3286f38e37ed75dd4d4d8d1ab74a5c48a6621f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 1 02:10:15 2011 -0400

    Fix overzealous template application
    
    The idea was that we'd track templates if they were applied prior to copies
    actually being specified in the unified interface, and then apply them "for
    real" once copies were entered.  But these remembered templates kept applying
    themselves whenever changes were made in the volume/copy creator portion of
    the interface (possibly overriding tweaks made by staff).  So now we delete
    the list of tracked templates once they're applied to actual copies.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	1	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit df33553f72b3a5a274cc066bd9386aba18cc0bc8
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Aug 1 01:40:22 2011 -0400

    robustify (and klunkify) unified volume copy creator
    
    Disable/style the Item Editor while changes in the volume/item pane are being
    considered, and require an explicit press of a Ready Item Editor button to
    enable the interface.  This reduces the chance of editing widgets in the item
    editor from being ripped out from under you (for example, if you try to go
    straight from editing a call number to editing an item attribute).
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
13	1	Open-ILS/xul/staff_client/chrome/content/util/widgets.js
22	2	Open-ILS/xul/staff_client/server/cat/copy_editor.js
35	8	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
5	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.xul
2	1	Open-ILS/xul/staff_client/server/skin/global.css

commit c76944d2a3703f04e3847c3bbde9a66ecfb1c6ce
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 21 15:25:28 2011 -0400

    lp#792595: Don't allow pre-cats into record buckets via Item Status -> Actions for Catalogers
    
    Alerts with the number of pre-cat records skipped prior to invoking the title bucket dialog.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

21	6	Open-ILS/xul/staff_client/server/cat/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 41358314b81a6d238f5433da70963aaed00a70f5
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Thu Jul 28 12:08:18 2011 -0700

    This adds a SAN box to the org unit editor's address editor pane.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

12	0	Open-ILS/web/conify/global/actor/org_unit.html
1	0	Open-ILS/web/conify/global/actor/org_unit.js
1	0	Open-ILS/web/opac/locale/en-US/conify.dtd

commit 41c3152852132cfba79899d099678e6f9ee5dc5c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 3 13:02:30 2011 -0400

    Upgrade script for a patch from Steven Callender addressing payment types in money.materialized_summary_payment
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

26	0	Open-ILS/src/sql/Pg/upgrade/0589.money.materialized_summary_payment-triggers.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0589.money.materialized_summary_payment-triggers.sql

commit 2cd2287587dabb1af2911ebd0ab67aa978672402
Author: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
Date:   Wed Jul 20 12:49:27 2011 -0400

    Deleted a line the removed single quotes (') from search strings
    
    The multiclass_query function replaces single quotes with spaces (') ( ).
    This causes a problem when toggling between Advanced and Basic search.
    If a search is conducted with a ' in it, that quote appears in the
    basic search box displayed above the results.  However, if the user
    then clicks the 'Advanced' button to toggle to the advanced search
    the single quote is missing from the search term.  By removing the line
    $query =~ /s/'/ /go; from Biblio.pm this problem is resolved.
    
    Signed-off-by: Liam Whalen <lwhalen@evergreen-dev.catalogue.nrcan.gc.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit dc68d5ed06591cbae2cca876fdc1474385d789ae
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 3 12:40:42 2011 -0400

    2.0-2.1 upgrade integration of a patch from Steven Callender addressing payment types in money.materialized_summary_payment
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

17	0	Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql

commit de031fd0f3b5320ef9859ea16eecc525dbfa99d6
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Aug 3 12:38:24 2011 -0400

    Upgrade script for a patch from Steven Callender addressing payment types in money.materialized_summary_payment
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit cb461660df6a272e4cd749b37a596d2c1fd52554
Author: Steven Callender <stevecallender@esilibrary.com>
Date:   Thu Jul 28 19:37:27 2011 +0000

    A fix so that the last payment types will be cash_payment and check_payment rather than bnm_payment for cash and check payments.
    
    Signed-off-by: Steven Callender <stevecallender@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	6	Open-ILS/src/sql/Pg/080.schema.money.sql
6	6	Open-ILS/src/sql/Pg/1.4.0.5-1.6.0.0-upgrade-db.sql

commit f8f9b7932135b53931bc040afc8303b11827864e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Aug 3 10:43:20 2011 -0400

    More template moving from 'web' to 'src'.
    
    These are the templates that have been added since the initial Great
    Migration from Open-ILS/web/templates to Open-ILS/src/templates.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

36	0	Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis.tt2
71	0	Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
88	0	Open-ILS/src/templates/default/conify/global/cat/authority/control_set.tt2
132	0	Open-ILS/src/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
71	0	Open-ILS/src/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
100	0	Open-ILS/src/templates/default/conify/global/cat/authority/thesaurus.tt2
94	0	Open-ILS/src/templates/default/conify/global/vandelay/match_set.tt2
150	0	Open-ILS/src/templates/default/conify/global/vandelay/match_set_tree.tt2
21	0	Open-ILS/src/templates/default/opac/cnbrowse.tt2
29	0	Open-ILS/src/templates/default/opac/parts/advanced/expert.tt2
28	0	Open-ILS/src/templates/default/opac/parts/advanced/numeric.tt2
38	0	Open-ILS/src/templates/default/opac/parts/hold_error_messages.tt2
60	0	Open-ILS/src/templates/default/opac/parts/record/cnbrowse.tt2
15	0	Open-ILS/src/templates/default/opac/parts/record/summaryplus.tt2
77	0	Open-ILS/src/templates/default/vandelay/inc/import_errors.tt2
0	36	Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis.tt2
0	71	Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
0	88	Open-ILS/web/templates/default/conify/global/cat/authority/control_set.tt2
0	132	Open-ILS/web/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
0	71	Open-ILS/web/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
0	100	Open-ILS/web/templates/default/conify/global/cat/authority/thesaurus.tt2
0	94	Open-ILS/web/templates/default/conify/global/vandelay/match_set.tt2
0	150	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2
0	21	Open-ILS/web/templates/default/opac/cnbrowse.tt2
0	29	Open-ILS/web/templates/default/opac/parts/advanced/expert.tt2
0	28	Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2
0	38	Open-ILS/web/templates/default/opac/parts/hold_error_messages.tt2
0	60	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
0	15	Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2
0	77	Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/control_set.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/cat/authority/thesaurus.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/vandelay/match_set.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/vandelay/match_set_tree.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/cnbrowse.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/expert.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/numeric.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/hold_error_messages.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/cnbrowse.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/summaryplus.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/import_errors.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/control_set.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/thesaurus.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/vandelay/match_set.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/cnbrowse.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/expert.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/hold_error_messages.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2

commit d567c2b5c278f3ec291228a902b5d1ca1a25d64f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 2 20:05:53 2011 -0400

    Quote container id param for safety
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit af34e9435cab57ec92072d540ff9c53b651ab491
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Aug 2 17:34:10 2011 -0400

    Fixed some syntax errors, but getting no results when I'd expect some
    
    I searched with this
    
        container(bre,bookbag,12,$authtoken)
    
    where $authtoken is substituted with an actual live authtoken for the
    user that owns that container, and here is the example generated query
    that returns no results:
    
      SELECT * FROM  search.query_parser_fts(
                4::INT,
                2::INT,
                $core_query_3553$SELECT  m.source AS id,
    ARRAY_ACCUM(DISTINCT m.source) AS records,
    1.0/((AVG(
            (1)
    ) * COALESCE( NULLIF( FIRST(mrd.attrs @> hstore('item_lang', $_3553$eng$_3553$)), FALSE )::INT * 5, 1)))::NUMERIC AS rel,
    1.0/((AVG(
            (1)
    ) * COALESCE( NULLIF( FIRST(mrd.attrs @> hstore('item_lang', $_3553$eng$_3553$)), FALSE )::INT * 5, 1)))::NUMERIC AS rank,
    FIRST(mrd.attrs->'date1') AS tie_break
    FROM  metabib.metarecord_source_map m
    JOIN metabib.record_attr mrd ON (m.source = mrd.id)
    
    JOIN ( SELECT ci.target_biblio_record_entry AS container_item
            FROM  container.biblio_record_entry_bucket_item ci
                  JOIN container.biblio_record_entry_bucket c ON (c.id = ci.bucket)
    
            WHERE c.btype = $_3553$bookbag$_3553$ AND c.id = 12
                  AND (c.pub IS TRUE OR c.owner = 1)) container ON (container.container_item = mrd.id)
    
    WHERE 1=1
    
    AND (TRUE)
    GROUP BY 1
    ORDER BY 4 ASC NULLS LAST, 5 DESC NULLS LAST, 3 DESC
    LIMIT 10000
    $core_query_3553$::TEXT,
                $${}$$::INT[],
                $${}$$::INT[],
                NULL::INT,
                1000::INT,
                10000::INT,
                'f'::BOOL,
                't'::BOOL
            );
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 5c2de55d49c66d04195611ab39c6115ebe621983
Author: Joseph Lewis <joehms22@gmail.com>
Date:   Tue Aug 2 14:41:37 2011 -0600

    Remove craftsman skin.
    
    Signed-off-by: Joseph Lewis <joehms22@gmail.com>
    
    Via LP:
    https://bugs.launchpad.net/evergreen/+bug/820010
    
    And this email thread:
    http://libmail.georgialibraries.org/pipermail/open-ils-dev/2010-August/006269.html
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

0	5	Open-ILS/web/Makefile.am
0	269	Open-ILS/web/opac/skin/craftsman/css/default.css
0	246	Open-ILS/web/opac/skin/craftsman/css/layout.css
0	1132	Open-ILS/web/opac/skin/craftsman/js/rdetail.js
0	822	Open-ILS/web/opac/skin/craftsman/js/result_common.js
0	88	Open-ILS/web/opac/skin/craftsman/js/search_bar.js
0	227	Open-ILS/web/opac/skin/craftsman/js/sidebar.js
0	36	Open-ILS/web/opac/skin/craftsman/xml/advanced/adv_global_row.xml
0	287	Open-ILS/web/opac/skin/craftsman/xml/advanced/advanced_global.xml
0	48	Open-ILS/web/opac/skin/craftsman/xml/body.xml
0	37	Open-ILS/web/opac/skin/craftsman/xml/common/altcanvas.xml
0	36	Open-ILS/web/opac/skin/craftsman/xml/common/cn_browse.xml
0	25	Open-ILS/web/opac/skin/craftsman/xml/common/css_common.xml
0	28	Open-ILS/web/opac/skin/craftsman/xml/common/fonts.xml
0	242	Open-ILS/web/opac/skin/craftsman/xml/common/holds.xml
0	15	Open-ILS/web/opac/skin/craftsman/xml/common/libselect.xml
0	109	Open-ILS/web/opac/skin/craftsman/xml/common/login.xml
0	2	Open-ILS/web/opac/skin/craftsman/xml/common/logo.xml
0	23	Open-ILS/web/opac/skin/craftsman/xml/common/orgtree.xml
0	34	Open-ILS/web/opac/skin/craftsman/xml/common/searchbar.xml
0	174	Open-ILS/web/opac/skin/craftsman/xml/common/sidebar.xml
0	24	Open-ILS/web/opac/skin/craftsman/xml/common/statusbar.xml
0	8	Open-ILS/web/opac/skin/craftsman/xml/common/tips.xml
0	23	Open-ILS/web/opac/skin/craftsman/xml/footer.xml
0	93	Open-ILS/web/opac/skin/craftsman/xml/home/homesearch.xml
0	28	Open-ILS/web/opac/skin/craftsman/xml/home/index_body.xml
0	6	Open-ILS/web/opac/skin/craftsman/xml/page_cnbrowse.xml
0	67	Open-ILS/web/opac/skin/craftsman/xml/page_myopac.xml
0	85	Open-ILS/web/opac/skin/craftsman/xml/page_rdetail.xml
0	101	Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_cn_details.xml
0	75	Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_copyinfo.xml
0	93	Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_extras.xml
0	117	Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_summary.xml
0	25	Open-ILS/web/opac/skin/craftsman/xml/result/filtersort.xml
0	74	Open-ILS/web/opac/skin/craftsman/xml/result/result_info.xml
0	39	Open-ILS/web/opac/skin/craftsman/xml/result/result_lowhits.xml
0	151	Open-ILS/web/opac/skin/craftsman/xml/result/result_table.xml
0	100	Open-ILS/web/opac/theme/craftsman/css/colors.css
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/css/default.css
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/css/layout.css
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/js/rdetail.js
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/js/result_common.js
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/js/search_bar.js
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/js/sidebar.js
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/advanced/adv_global_row.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/advanced/advanced_global.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/body.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/altcanvas.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/cn_browse.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/css_common.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/fonts.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/holds.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/libselect.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/login.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/logo.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/orgtree.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/searchbar.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/sidebar.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/statusbar.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/common/tips.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/footer.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/home/homesearch.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/home/index_body.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/page_cnbrowse.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/page_myopac.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/page_rdetail.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_cn_details.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_copyinfo.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_extras.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_summary.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/result/filtersort.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/result/result_info.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/result/result_lowhits.xml
 delete mode 100644 Open-ILS/web/opac/skin/craftsman/xml/result/result_table.xml
 delete mode 100644 Open-ILS/web/opac/theme/craftsman/css/colors.css

commit 33466952162f6cf93ac7d67433c94b61da662121
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 2 14:58:57 2011 -0400

    Actually JOIN the VALUES list; syntax copy/paste-o; use the correct field for bre containers
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 31102902d8b7cfefdb2b5dc9e3cb94e828567c2f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jul 22 15:10:23 2011 -0400

    Add cointainer() and record_list() filters to QueryParser
    
    The container() filter takes 3 or 4 positional params:
      - class (bre, acn, acp, au)
      - type  (bookbag, etc -- btype of the container)
      - id    (container id)
      - token (authtoken, optional, for checkin ownership of non-public containers)
    
    The record_list() filter takes a list of record ids to restrict the search by.
    These are bib ids by default, but are treated as metarecord ids in the presence
    of the #metabib (aka #metarecord) modifier.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

61	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 8b13def082e3e9f623da06ec0e3e079373717d51
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 2 14:58:57 2011 -0400

    Actually JOIN the VALUES list; syntax copy/paste-o; use the correct field for bre containers
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit e1658e2809d7cb88cb92d98d1a099fdb79e9adc6
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue Aug 2 12:20:32 2011 -0400

    lp758945: make receipt template macros repeatable
    
    Patch from Jason Boyer to allow macros to be used
    more than once in a section; prior to this patch, only
    the first occurrence was replaced with the substitation
    value.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

14	14	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit 4af3bfb5121033ca69b8c6ca2187fcfb014c114a
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Jul 24 15:51:38 2011 -0400

    Format an unordered list appropriately
    
    The list of developer prereqs was munged inline rather than as a list.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	README

commit 76589ec7ffa89b92f5b9787c93e6a17f3325c49e
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 21 18:39:06 2011 -0400

    Provide Fedora-friendly instructions for the DBD libraries
    
    We had only provided the Debian / Ubuntu location of the libdbi-libdbd
    libraries, so add the Fedora location as well.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

10	2	README

commit 74f732104c1eeb9abc40856471fbd01cef0d0a54
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 21 18:35:17 2011 -0400

    Bring more of the wiki docs over to the README
    
    Document Perl prerequisites for a standalone PostgreSQL server.
    Include a section on starting Evergreen and basic troubleshooting.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

174	20	README

commit 0cbd6d23fd77fbbdf5d46e7c2d2edeafec500205
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 21 17:39:49 2011 -0400

    Update the README to include database installation instructions
    
    A long time ago, the database server was installed by default.
    Nowadays, installing the database server is a separate step
    reserved for whatever machine you want to devote to PostgreSQL.
    Not that you can't put it on the same machine as the rest of
    Evergreen and OpenSRF...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

21	10	README

commit ee342f5e76e784d4971d220f8e4a6cbc3c073aeb
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 2 11:49:03 2011 -0400

    Fixed typo in vandelay UI
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/opac/locale/en-US/vandelay.dtd

commit 5a0a387a341c53747bb7274ee78ff3495152b88f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 2 11:26:19 2011 -0400

    Stamped upgrade script for user/miker/replace_field_fix
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
41	0	Open-ILS/src/sql/Pg/upgrade/0588.schema.replace_field-default-value.sql
0	41	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.replace_field-default-value.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0588.schema.replace_field-default-value.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.replace_field-default-value.sql

commit e940ac13f2c50dda37bde8f8b8808c9a9d430f88
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Aug 2 10:55:00 2011 -0400

    Have replace_field return input XML when no replace rule is provided
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
41	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.replace_field-default-value.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.replace_field-default-value.sql

commit 82fe5b97b9706ef432b4359a4153e1272b4a07de
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 1 14:09:23 2011 -0400

    Avoid xml_transform retrieval in record attr def editor
    
    config.xml_transform stores large chunks of XML.  Fetching it angers
    Ejabberd on my test system.  All we need is the name, so use the new
    AutoFieldWidget.searchOptions param to do just that.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	1	Open-ILS/web/templates/default/conify/global/config/record_attr_definition.tt2

commit 9945c9469c7589a1d468e9b2e2bb6850c2983e2f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 2 11:11:26 2011 -0400

    Add the new patron retrieval to the toolbar
    
    Specifically, in the little list of things that shows up when you use the arrow next to patron search.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_overlay.xul

commit 373b256c27e846bac3a4384e0bb84b1ffbb0d3b4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun Jul 31 00:42:05 2011 -0400

    Label tweaks re: Database ID vs Record ID, etc.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

5	5	Open-ILS/web/opac/locale/en-US/lang.dtd
9	9	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties
1	1	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties

commit 86cd5ce769ac8ae3ffcac0467f5009802743af9f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun Jul 31 00:33:31 2011 -0400

    Add "Retrieve patron via Database ID" menu entry
    
    Add "Retrieve patron via Database ID" menu entry to top-level Search menu
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
17	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
5	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
2	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties

commit 7c0f0dfa79b91d0e632acd958a04ef83cb4e9f06
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Aug 2 10:38:14 2011 -0400

    Allow advanced search bool selectors to size down
    
    ... to avoid unnecessary horizontal screen gobbling
    
    Tested in Chrome, FF, and IE
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2

commit ee5c3191587d870bc200c00fbd1daae819021cfe
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 14 17:21:52 2011 -0400

    calculate penalties when letting Mark Item Damaged add bills
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ.pm

commit 60677740a950068e662912afbcb05400c301f7ff
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Aug 2 09:37:24 2011 -0400

    Fix oils_i18n_gettext id numbers
    
    config.metabib_field ids 29/30 had 28 for translation id.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

2	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 2b3ff4a63c20d4ab4f47af9c3165b359828c0b27
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 1 17:34:35 2011 -0400

    Support for boolean operators in advanced search
    
    Implements a new column with And/Or selectors.  Terms are grouped from
    top to bottom in the UI as left to right in the compiled query.
    
    A && B || C && D  => ((A && B) || C) && D
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
17	5	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2

commit 5873e902d6ea484406d2b522b2b7593cd7cf0c36
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 1 18:35:39 2011 -0400

    maketext filter must be registered as a dynamic filter to properly handle arguments
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 6fa60db796c979fe381bf20ea678d6338c4ad22b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 1 14:04:24 2011 -0400

    AutoFieldWidget support for augmenting pcrud search options
    
    Adds a new searchOptions attribute to AutoFieldWidget for specifying
    additional parameters to pcrud when retrieving linked objects.  The
    initial use case is for supporting a "select" list to allow
    AutoFieldWidget to retrieve only the display column of a linked object
    and not the whole object.
    
    Example:
    
     // fetch 'remote_field_name' on the remote objects instead of
     // fetching the entire object
    
     myGrid.overrideWidgetArgs.some_field = {searchOptions :
     {"select":{"some_hint":["remote_field_name"]}}};
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	6	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js

commit 2e8e2f0032bf338253c1e27e2fa4a72054f4f204
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 1 09:08:33 2011 -0400

    Remove KCLS mattype SQL seed data comment
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	32	Open-ILS/web/templates/default/opac/parts/header.tt2

commit efce5923f0817b85848d73a92a5a9495c1bcabf1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Aug 1 09:00:30 2011 -0400

    Bypass install_filter mem leak via direct insertion
    
    See https://rt.cpan.org/Ticket/Display.html?id=46691
    
    On the one hand we have a memory leak, on the other we have a bug caused
    by the fix to the memory leak.  Bypass this altogether and insert the
    filter manually into the template environment using Template's FILTER
    configuration argument.  This has the added bonus of simplifying the
    i18n filter code.
    
    Since the filter is manually inserted, it's not necessary (and possibly
    counter-productive) to USE the filter directly in the template.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
0	7	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/I18NFilter.pm
0	1	Open-ILS/web/templates/default/opac/parts/header.tt2

commit 3a9c09f5bd86d699691953cf97ef115302a50f2b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun Jul 31 01:08:07 2011 -0400

    use isNaN here, since NaN == NaN => false
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/spine_labels.js

commit ca413e996425d831fb35ece615e1c869d5831b96
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Sat Jul 30 15:33:44 2011 -0400

    Changed opac-auto-079 in semiauto.css to warning_box in templates/default/opac/myopac/hold_history.tt2, templates/default/opac/myopac/circ_history.tt2, templates/default/opac/myopac/circs.tt2, templates/default/opac/myopac/holds.tt2

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit bf7f53b78da2430f786ad3695382b805e1272e49
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Sat Jul 30 15:19:10 2011 -0400

    Changed opac-auto-097b in semiauto to item_list_padding  in templates/default/opac/parts/anon_list.tt2, templates/default/opac/myopac/lists.tt2, templates/default/opac/myopac/circs.tt2

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
3	3	Open-ILS/web/templates/default/opac/myopac/lists.tt2
3	3	Open-ILS/web/templates/default/opac/parts/anon_list.tt2

commit d17123022c9847cb51e6f3492ebf5151bc152016
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Sat Jul 30 14:42:26 2011 -0400

    Changed opac-auto-179 in semiauto.css to selector_actions_for_list and opac-auto-179-inner-option to selector_actions_for_list_inner_option in templates/default/opac/parts/anon_list.tt2 and templates/default/opac/myopac/lists.tt2

2	2	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/myopac/lists.tt2
2	2	Open-ILS/web/templates/default/opac/parts/anon_list.tt2

commit 0a798ae498e6ef48c2603dce2a91b0f0d024a0b4
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Sat Jul 30 14:12:07 2011 -0400

    Changed opac-auto-017 in semiauto to adv_global_filter_sort in templates/default/opac/parts/advanced/search.tt2

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2

commit 9a25bc82329cc3b97f60251c17190d5bd0b57c03
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Sat Jul 30 13:58:33 2011 -0400

    Changed opac-auto-012 in semiauto to adv_global_input_container  in /default/opac/parts/advanced/search.tt2

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2

commit 5693659e2d03becf354c0ebe43d691cfd0c560fa
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Sat Jul 30 13:44:48 2011 -0400

    changed opac-auto-078 in semiauto to qtype_selector_margin in /default/opac/parts/advanced/global_row.tt2

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2

commit 933964c5c02332692f8725fb23764ed7e6df6852
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 29 14:08:28 2011 -0400

    Clean up OpenSRF::AppSession objects after use
    
    These things need ->kill_me called on them after we're done using them.
    
    (note to self: check to see if we can just add a DESTROY sub to that
    package)
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
25	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit b8a2dde209effe413057e05cb4c616dacb78bd74
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 29 12:33:52 2011 -0400

    Fix incorrect search advice on the no-results page.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

9	5	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
2	2	Open-ILS/web/templates/default/opac/parts/result/lowhits_purchase.tt2
1	1	Open-ILS/web/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2

commit c5fe526c238637ef767d881c2ca7b93a90dfb9dd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 29 12:24:46 2011 -0400

    advanced/cnbrowse label tweak
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2

commit a21deb11cc2c79ff70eab917d283dcf9dcab1e86
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 29 12:19:18 2011 -0400

    Prevent undef warnings on org unit lookup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit eed404686d824ca66949833e11e38c84db100ba3
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 29 12:11:22 2011 -0400

    cnbrowse tweaks
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/web/css/skin/default/opac/style.css
2	2	Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2
1	1	Open-ILS/web/templates/default/opac/parts/qtype_selector.tt2
2	2	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2

commit de5dfd465ccb50d4e3d54b837231e7aba463aef6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 29 11:51:26 2011 -0400

    Direct entry point into the call number browser
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
5	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
29	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
4	0	Open-ILS/web/css/skin/default/opac/style.css
21	0	Open-ILS/web/templates/default/opac/cnbrowse.tt2
1	0	Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2
9	3	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/cnbrowse.tt2

commit 1b044475a898838b57bbf92235303e8f2e5c1516
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 16:59:59 2011 -0400

    If there's no sort org unit, just fall back to the usual sorting
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

10	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit 49be9ddaaf25b1c8490fdfad1eebd16aca68aa9b
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 16:46:12 2011 -0400

    Don't build image tags for non-existing mattype icons
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/misc_util.tt2

commit d919f613d89962f1b1ac457b16d3e1cc40e40c63
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 16:37:19 2011 -0400

    Sort copies on record detail page with copies belonging to "sort org unit" first
    
    "sort org unit" needs to eventually be an abstract concept that could
    either refer to "orig_loc" or to "loc" or perhaps be skipped altogether,
    depending on some future configuration.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
8	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit 9e8cc45fdbc0cf825eff6d22366521c6e286920f
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 28 15:49:12 2011 -0400

    Fix broken builds due to test that can't find its data
    
    LP 817699 reports a problem that began with commit
    e9cd992fa4dbf1013346336193cb7469ecee10a8, reintroducing a problem that
    had previously been resolved with commit
    f017d1261c369b9b5cc3c9cfc4f50d3cdf12a445. In short, tests can and are
    run from different directories, but a new test opened a file without
    making any allowance that the test might be run from anything other than
    the /test/ directory.
    
    This fix uses the dirname(__FILE__) approach to provide the appropriate
    relative directory for the test data, and enables the tests to be
    processed without dying.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhd.t

commit 8e66305213488f6d9c9522304231f9a10af951e9
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 15:12:28 2011 -0400

    item_barcode had broken the rest of numeric search
    
    but now it's fixed
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit f1354ab6e51eb65b63b4852c6b700897e0da7f8e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 28 14:32:35 2011 -0400

    Minor code cleanup of unused code; avoids Apache warning
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	2	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2

commit a05001a49f341e7440672d7d15b8ff0a9590c42a
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 28 14:31:31 2011 -0400

    Avoid server-error on barcode search when barcode not found
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

14	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/web/templates/default/opac/results.tt2

commit f799217b4f72cd75686a1424184158a1b0ce3b96
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 14:17:44 2011 -0400

    Make users confirm they really want to delete lineitems from POs...
    
    ... when they've already been ordered. There's really no reason to ever
    make such a deletion this that I can think of, but I use a confirm()
    instead of stricter measures in case I'm missing something.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	1	Open-ILS/web/js/dojo/openils/acq/nls/acq.js
28	1	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit ab28c7b8def4b015b92bf954dec5bbb5dd8143d9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 28 12:34:28 2011 -0400

    Stamped upgrade for user/dbs/oclcnumbers
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
145	0	Open-ILS/src/sql/Pg/upgrade/0587.maintain_control_numbers_with_OCLC_awareness.sql
0	143	Open-ILS/src/sql/Pg/upgrade/xxxx.maintain_control_numbers_with_OCLC_awareness.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0587.maintain_control_numbers_with_OCLC_awareness.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.maintain_control_numbers_with_OCLC_awareness.sql

commit 6759a889bd1c3beb02255cd68ca5cf41702b0822
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Jul 21 12:14:02 2011 -0400

    Prevent control numbers from duplicating
    
    In maintain_control_numbers(), if you have more than one 001 or
    003, and at least one is the correct one, you will end up
    duplicating the correct number every time the record is saved.
    
    For example, if the incoming record was record ID # 12345, and
    the record contained:
    
    001: 12345
    001: ocm10202
    
    ... then after maintain_control_numbers() ran, the record would
    contain:
    
    001: 12345
    001: 12345
    
    Also, clean up some leftovers from the refactor I suggested in the
    previous commit.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	6	Open-ILS/src/sql/Pg/002.functions.config.sql
1	6	Open-ILS/src/sql/Pg/upgrade/xxxx.maintain_control_numbers_with_OCLC_awareness.sql

commit 871fab76de691ad1bcc0331c1f27b3b4d3634a47
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 21 11:12:36 2011 -0400

    Add an unwrapped upgrade script for OCLC-aware control numbers
    
    The upgrade script creates the SCN and LCCN search indexes and
    populates them using metabib.full_rec as a source; cheating, but
    the normalized values will work for non-exact search purposes. Sites can
    reingest all of their bibs if they want exact search to work.
    
    Also, refactor maintain_control_numbers() using a suggestion by
    Dan Wells to eliminate some duplicate code.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	7	Open-ILS/src/sql/Pg/002.functions.config.sql
3	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
148	0	Open-ILS/src/sql/Pg/upgrade/xxxx.maintain_control_numbers_with_OCLC_awareness.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/xxxx.maintain_control_numbers_with_OCLC_awareness.sql

commit a9e646657cf4693405af679a95cdea0916d874e2
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jul 21 10:18:55 2011 -0400

    Treat OCLC numbers specially in maintain_control_numbers
    
    For some reason, many records that come with OCLC numbers in the 001
    field are not populated with a 003 field. This resulted in the OCLC
    number being thrown away entirely, rather than being moved into the 035,
    as there was no corresponding control number identifier field.
    
    However, given that we know that control numbers starting with "ocm" or
    "ocn" are special OCLC numbers, we can generate the 035 accordingly even
    in the absence of a 003. This update to maintain_control_numbers()
    teaches it to do the right thing for OCLC numbers.
    
    In addition, add an identifier search index so we can easily find
    records by their system control numbers (035 $a subfields).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

19	1	Open-ILS/src/sql/Pg/002.functions.config.sql
2	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit f88ac0f74d89ed215e3d1d93aca9ccbd284ede49
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 28 12:28:23 2011 -0400

    Revert "Add lccn field to the identifier search class"
    
    This change will be absorbed when merging working/user/dbs/oclcnumbers,
    which I will do pronto...
    
    This reverts commit 94f69d21b6759dc43c151c7796dafee74083f62c.

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
0	14	Open-ILS/src/sql/Pg/upgrade/0587.data.config.metabib_field.lccn.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/0587.data.config.metabib_field.lccn.sql

commit 94f69d21b6759dc43c151c7796dafee74083f62c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 12:09:01 2011 -0400

    Add lccn field to the identifier search class
    
    Facilitates easily searching by LCCN (010 a).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0587.data.config.metabib_field.lccn.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0587.data.config.metabib_field.lccn.sql

commit 553527a256d00c7914e21291634b214add46941d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 28 11:36:23 2011 -0400

    Redirector support for T-pac
    
    Includes new Apache configuration option:
    
    PerlSetVar OILSRedirectTpac "true"
    
    "Original location" is tracked initially as a URL param (orig_loc), but
    is ultimately absorbed into a cookie (eg_orig_loc) since the URL param
    would otherwise have to be propagated to every page.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/examples/apache/eg_vhost.conf
23	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
66	65	Open-ILS/src/perlmods/lib/OpenILS/WWW/Redirect.pm

commit def24badbf3c3074a621efa054bb8b334cd866d7
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 28 11:10:47 2011 -0400

    You can now have multiple rows in your MARC Expert Search
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
19	2	Open-ILS/web/js/ui/default/opac/simple.js
8	3	Open-ILS/web/templates/default/opac/parts/advanced/expert.tt2
1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
1	1	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2

commit 184d671809b79efc6c8a00e8fcf805c29c676816
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jul 27 18:21:31 2011 -0400

    MARC expert search working
    
    This just needs the JS row cloning so you can search on multiple terms
    at a time.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

66	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	0	Open-ILS/web/css/skin/default/opac/style.css
23	2	Open-ILS/web/templates/default/opac/parts/advanced/expert.tt2

commit 51ff52adfad0edd97a51a0fc1cc8ae4f4e1ba315
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jul 27 17:31:30 2011 -0400

    It's ugly and hacky, but numeric search fully works (item barcode included)
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

42	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
2	1	Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2
1	0	Open-ILS/web/templates/default/opac/parts/header.tt2
4	4	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
2	2	Open-ILS/web/templates/default/opac/results.tt2

commit 2b64c85a9979cd6743f7a03504ae8c580b8f4445
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jul 14 16:49:14 2011 -0400

    SIP2 support for checkin local holds as transits
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

5	0	Open-ILS/examples/oils_sip.xml.example
5	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/Checkin.pm

commit 35178764ca1fc824bcb670be65d15bd7a930abf0
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jul 14 16:49:08 2011 -0400

    Capture local holds as transits checkin modifier
    
    Capture holds (not already on hold shelf) as transits instead.
    
    Use cases may include:
    
    New material being cataloged before it is "released". If captured normally
    before release the shelf expire time would start ticking and notices would go
    out.
    
    Checking items in on a closed day. Can capture holds to avoid them being on a
    pull list and set them aside to avoid "ready for pickup" notices and ticking
    shelf expire clock.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

9	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
15	0	Open-ILS/xul/staff_client/server/circ/checkin.js
4	0	Open-ILS/xul/staff_client/server/circ/checkin_overlay.xul
2	0	Open-ILS/xul/staff_client/server/skin/circ.css

commit 17b59ca81aa55dfc30faba285c55794e1e9a91f1
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jul 14 16:49:05 2011 -0400

    Auto-retarget local holds on "new" copy checkin
    
    When a new item is checked in local holds will be searched and re-targeted.
    
    The search and retarget stops when a hold is found locally that the item can fill.
    
    Already-captured holds will not be retargeted.
    
    "New" is (currently) defined as "In progress" at checkin
    
    Retarget occurs:
    Only if the copy's circ library is the checkin library
    Only if the checkin is an actual checkin (not a renewal)
    Only if the checkin is capturing holds and transits
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

69	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
5	0	Open-ILS/web/opac/locale/en-US/lang.dtd
38	0	Open-ILS/xul/staff_client/server/circ/checkin.js
7	0	Open-ILS/xul/staff_client/server/circ/checkin_overlay.xul
4	0	Open-ILS/xul/staff_client/server/skin/circ.css

commit b269c7ea26fda42693bf7cdab8fcd9d3b9956bd6
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jul 14 16:48:56 2011 -0400

    Clear Shelf Expired Hold on Checkin
    
    Only if modifier is set and at the pickup library.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

5	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
6	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
14	0	Open-ILS/xul/staff_client/server/circ/checkin.js
4	0	Open-ILS/xul/staff_client/server/circ/checkin_overlay.xul
2	0	Open-ILS/xul/staff_client/server/skin/circ.css

commit 93d5b4e7ddf2e4f70f29ee495e3d499696c2dcea
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 26 17:37:57 2011 -0400

    move query params into the constants to better support current opac and TT-opac
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
2	1	Open-ILS/xul/staff_client/chrome/content/main/constants.js
3	3	Open-ILS/xul/staff_client/chrome/content/main/menu.js
1	1	Open-ILS/xul/staff_client/server/cat/bibs_abreast.js
1	1	Open-ILS/xul/staff_client/server/cat/marc_new.xul
1	1	Open-ILS/xul/staff_client/server/cat/record_buckets.js
2	2	Open-ILS/xul/staff_client/server/cat/util.js
1	1	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
1	1	Open-ILS/xul/staff_client/server/cat/z3950.js
3	0	Open-ILS/xul/staff_client/server/index.xhtml
5	5	Open-ILS/xul/staff_client/server/patron/holds.js
1	1	Open-ILS/xul/staff_client/server/patron/items.js

commit 161a58e33efb65920782e4be78616e8a8b3a8f33
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jul 27 14:40:46 2011 -0400

    Metarecord list on results page
    
    Added a new ?metarecord=<mrid> param to opac/results page to list
    records associated with a given metarecord ID.  This is used as page 2
    of the (pending) metarecord search process as well 'show in catalog'
    for embedded staff client metarecord holds.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

35	20	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 12949f170b42966cb6d40ef1f41948150334c145
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jul 27 13:05:02 2011 -0400

    Numeric search mostly works (except for item barcode)
    
    Expert search is next
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
2	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/XXXY.data.config.metabib_field.lccn.sql
10	1	Open-ILS/web/css/skin/default/opac/style.css
11	4	Open-ILS/web/templates/default/opac/advanced.tt2
3	0	Open-ILS/web/templates/default/opac/parts/advanced/expert.tt2
26	0	Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXY.data.config.metabib_field.lccn.sql
 create mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/expert.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/numeric.tt2

commit c15551d3faed8487ebebc955b45135eb44b82fe5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jul 27 11:05:41 2011 -0400

    minor I18N text wrapping
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2

commit efe72c845ece9ba7d0f32383a0c9d0894f5d0eaa
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jul 27 09:59:19 2011 -0400

    Don't show users who are already logged in a login form; that's confusing
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

10	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 52103ef04e091cd05a6049b6657256238889370a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 18:01:52 2011 -0400

    Confirm CC payments with another page load, not confirm() popup
    
    This does something gross. Your CC card number is rendered in a hidden
    field on the last confirmation page.  At least it's all SSL only.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

19	3	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2

commit c7104b9147325b77d7966c4160a83a2eb74259c3
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 17:31:32 2011 -0400

    Show most up-to-date email address in update-email interface
    
    plus cosmetic change to payment mini table
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	0	Open-ILS/web/css/skin/default/opac/style.css

commit 29646f2ba7cb02e100fb0c7c3ed420079a330d90
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 17:05:48 2011 -0400

    CC payment improvements:
    
    Link from receipt after payment back to account summary.
    
    Error reporting
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	0	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2

commit b175867cbba18c6c37528499f911ab72a949654c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 15:52:59 2011 -0400

    Better to tell the user something rather than nothing
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2

commit 0142b2b677359f217cdc773aac9f4888f6a136ea
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 15:13:18 2011 -0400

    Add missing INVALID_USER_XACT_ID event
    
    Code introduced in c5d36d2a99e45b9a02d00a1e795b66a38c271b43 (SVN r17079)
    can generate this event.  The description I gave it is meant to be
    kind of user-oriented, since patrons might see it in the OPAC.  A
    somewhat more informative description in available in the commit I named
    above.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	0	Open-ILS/src/extras/ils_events.xml

commit d3d615f252f5353201919e3607638ac9c083abb2
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 15:01:53 2011 -0400

    Remove ? icon by "Security Code" in payment form
    
    It can go back in later if we want to make it actually do something.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	9	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2

commit c907f04e8c0af7700c681b673242cb88b0938393
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 14:46:18 2011 -0400

    Give the patrons the opportunity to see and change their e-mail address...
    
    ... before they submit fine payments.  This way they have a better
    chance of getting a receipt e-mailed to them.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

7	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	4	Open-ILS/web/css/skin/default/opac/style.css
9	2	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
3	0	Open-ILS/web/templates/default/opac/myopac/update_email.tt2

commit 0e3052e2ad5b862e146e297e756fbc58f035b639
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jul 26 11:46:39 2011 -0400

    Stamped upgrade script for persistent_login_default_perm
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
35	0	Open-ILS/src/sql/Pg/upgrade/0586.data.persistent_login_default_perm.sql
0	35	Open-ILS/src/sql/Pg/upgrade/XXXX.data.persistent_login_default_perm.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0586.data.persistent_login_default_perm.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.persistent_login_default_perm.sql

commit 0c14de3649c51dd04b236c4b4f8ce6df97686fda
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 11:21:20 2011 -0400

    Add the PERSISTENT_LOGIN permission to the system, and ...
    
    ... make it belong to Users (which includes Staff and Patrons) by
    default.
    
    This doesn't mean that all logins are persistent (long-lived) by
    default, it just means that users do have the permission to request a
    long-lived auth session by default.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
35	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.persistent_login_default_perm.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.persistent_login_default_perm.sql

commit 052b2eea78c8e579e2bb1c94dc94111f9504b966
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 11:04:24 2011 -0400

    Persistent logins are more of a "stay logged in" feature than a "remember me"
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/login/form.tt2

commit d50f9bc700a8e9b552845246e2a9a222023a2a09
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 26 10:33:13 2011 -0400

    Load embedded OPAC via SSL by default, w/ override option
    
    * url_prefix option for using/forcing SSL.
    * oils.secure_opac preference for doing such with the embedded OPAC
    
    --------
    
    To use the preference, you may want to include something like this in server/skin/custom.js:
    
    // Force non-SSL for the OPAC
    try {
        netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
        var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces['nsIPrefBranch']);
        if (!prefs.prefHasUserValue('oils.secure_opac')) {
            prefs.setBoolPref('oils.secure_opac',false);
        }
    } catch(E) {
        alert('Error in custom.js trying to set oils.secure_opac preference to false: ' + E + '\n');
    }
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
13	3	Open-ILS/xul/staff_client/chrome/content/main/menu.js
1	1	Open-ILS/xul/staff_client/chrome/content/util/browser.js
1	1	Open-ILS/xul/staff_client/server/cat/spine_labels.js
9	9	Open-ILS/xul/staff_client/server/patron/display.js

commit aa08a44a3f70715e4788f2382b38cdef236a2d57
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 26 10:49:34 2011 -0400

    Links to return to payment history from receipt print/email pages
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

4	0	Open-ILS/web/templates/default/opac/myopac/receipt_email.tt2
3	0	Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2

commit 0d789d144b7f22240ff6b86d8d91248c355db793
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jul 25 20:09:18 2011 -0400

    Ubuntu Lucid needs MARC::Record from CPAN
    
    As Ubuntu Lucid ships with MARC::Record 2.0.0, and Serials requires
    2.0.1 or greater, we must install MARC::Record from CPAN or face failing
    open-ils.search requests.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

11	5	Open-ILS/src/extras/Makefile.install

commit fb2a495c47c1ae3bebce846488d9c43ae16bd4be
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 25 17:55:58 2011 -0400

    Select-all checkboxes for fine payment
    
    In the process, had to change the checkbox/cgi param name of the misc
    fees to xact_misc and tell the middle layer to lump xact together with
    xact_misc.  Should test carefully.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
8	0	Open-ILS/web/js/ui/default/opac/simple.js
8	5	Open-ILS/web/templates/default/opac/myopac/main.tt2
5	2	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2

commit fb58069857839fb5a404d15f4a403cb572da741b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 21 14:52:45 2011 -0400

    Correctly populate certain columns in the patron Messages interface
    
    When applying penalties, the csp's referenced by the ausp's are fleshed.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	1	Open-ILS/xul/staff_client/server/patron/standing_penalties.js

commit 63cdb5ec73cb4d7c31852f5c3665ac6d17b6a711
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jul 25 17:24:13 2011 -0400

    Stamped upgrade script for checkout_fills_related_hold_exact_match
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0585.checkout_fills_related_hold_exact_match.sql
0	6	Open-ILS/src/sql/Pg/upgrade/XXXX.checkout_fills_related_hold_exact_match.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0585.checkout_fills_related_hold_exact_match.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.checkout_fills_related_hold_exact_match.sql

commit 5616e3c5ec026f9cef1aa9950ffa1625cbca1a2a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 25 15:28:47 2011 -0400

    Unwrapped Upgrade Script
    
    for Checkout Fills Related Hold modifications
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	0	Open-ILS/src/sql/Pg/upgrade/XXXX.checkout_fills_related_hold_exact_match.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.checkout_fills_related_hold_exact_match.sql

commit be76579c500c9296fcf7c250688734822e4a7df9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 25 15:26:08 2011 -0400

    Checkout Fills Related Hold modifications
    
    Two changes:
    
    1 - Check hold_copy_map for related holds
    
    This removes the "Title or Volume hold only" restriction, allowing any hold type to fill.
    This check happens first whenever the option is enabled.
    
    2 - Add new option for *only* checking hold_copy_map.
    
    This allows for non-holdable copies to not fill Title or Volume holds on checkout.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

46	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
5	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 70fde1d382583af2a0ac9c909660a10b55021701
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jul 25 17:15:44 2011 -0400

    Stamped upgrade script for uncheck_bills_and_unfocus_payment_box
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
30	0	Open-ILS/src/sql/Pg/upgrade/0584.data.org-setting-ui.circ.billing.uncheck_bills_and_unfocus_payment_box.sql
0	30	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.circ.billing.uncheck_bills_and_unfocus_payment_box.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0584.data.org-setting-ui.circ.billing.uncheck_bills_and_unfocus_payment_box.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.circ.billing.uncheck_bills_and_unfocus_payment_box.sql

commit a8c1d0cadb8725b0f91056f275a4ab8b9daf2f06
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 20 15:20:00 2011 -0400

    GUI: Uncheck bills by default in the patron billing interface
    
    Org unit setting and behavior.  Also defaults the focus to the Uncheck All
    button instead of the Payment Received field in that interface.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

18	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
30	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.circ.billing.uncheck_bills_and_unfocus_payment_box.sql
40	5	Open-ILS/xul/staff_client/server/patron/bill2.js
1	1	Open-ILS/xul/staff_client/server/patron/bill2.xul
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.org-setting-ui.circ.billing.uncheck_bills_and_unfocus_payment_box.sql

commit c7f887df3702eb2f8177da4b5f582c42ef8bddf8
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 25 17:06:47 2011 -0400

    Empty case for payment history
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

4	0	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2

commit 6d4d47b3c971ed024334bea57c509f7326247594
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jul 11 07:22:01 2011 -0400

    Add support for Holds and Items counts in dynamic staff Record Summary
    
    (use 'holds' and 'items' with your
    oils.bib_brief.*.dynamic_grid_replacement.data customizations)
    
    Also make the Bib Call # retrieval asynchronous and dependent on the field being
    configured for display.  This branch has merged in (and depends on) the changes
    from collab/phasefx/dynamic_bib_brief
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
72	20	Open-ILS/xul/staff_client/server/cat/bib_brief_overlay.js
5	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 431fab78e5153f87dcb3acf2251ad19efadeba13
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Thu Jul 21 11:21:34 2011 -0400

    LP#813151 Copy Location sort order in Advanced Search
    
    This patch addresses the unintuitive copy location sort order in
    Advanced Search when searching at a specific branch. Thanks to
    Dan Wells for the code suggestion which changes the order in the listbox
    to alphabetical sort by asset.copy_location.name.
    Tested, and confirmed working in 2.0.4 test and production environments.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/CopyLocations.pm

commit f864b8b0fbb8033de67c4d402303c927a57745e0
Author: Robin Isard <robin.isard@algomau.ca>
Date:   Mon Jul 25 16:25:12 2011 -0400

    Changed opac-auto-004 to rdetail_print_details_cn_spacer in file cn_details.tt2

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2

commit 3a577a48975fd39b64baaff6a78e49fb24652df7
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 25 16:21:48 2011 -0400

    YAOUS to limit OPAC payment history display to configured interval
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

11	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
6	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
17	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.opac_payment_history_age_limit.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.opac_payment_history_age_limit.sql

commit 77f9c6f5f87a5b0454b240bb10b7cfab325d4722
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jul 25 14:15:25 2011 -0400

    Lineitem copies page layout changes
    
    Move the Distribution Formula selector above the batch editor widgets
    mainly so the batch editor widgets sit closer to batch edit target copy
    grid.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/web/css/skin/default/acq.css
1	1	Open-ILS/web/js/ui/default/acq/common/li_table.js
24	28	Open-ILS/web/templates/default/acq/common/li_table.tt2

commit fbc7f4fa15da74ef2699da17ceac7685417b18f8
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Fri Jun 10 11:27:47 2011 -0700

    NOVELIST/CHILIFRESH include statements missing a hash which was causing (none) errors.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

4	4	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_extras.xml
2	2	Open-ILS/web/opac/skin/default/xml/result/result_table.xml

commit 6ae2cb8ee2dc4e5b143487a80f94c17b1dcbdb4b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jul 25 13:24:53 2011 -0400

    Show LI summary in copies display page
    
    Using the new, self-contained Lineitem.fetchAndRender, show a full LI
    summary along the top of the LI copies edit page.
    
    Includes some minor layout smoothing
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	1	Open-ILS/web/css/skin/default/acq.css
6	0	Open-ILS/web/js/ui/default/acq/common/li_table.js
7	1	Open-ILS/web/templates/default/acq/common/li_table.tt2

commit c6e73ef359f34c1495db622d260b3de16f5f6f96
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 20 01:29:43 2011 -0400

    adjust legacy xul column definitions for dates/timestamps to ensure correct  sorting
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

35	1	Open-ILS/xul/staff_client/server/circ/util.js
11	0	Open-ILS/xul/staff_client/server/patron/util.js

commit 4231369f29d3eaac461d1de247d0242b8eed7f91
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jul 25 11:38:17 2011 -0400

    Manage parts holds warning (and removal) w/ CSS
    
    Use add/removeCSSClass to apply and remove holds parts selector
    warning instead of inline style.border management, which (when using
    'auto') causes problems in IE.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	2	Open-ILS/web/opac/skin/default/js/holds.js
2	0	Open-ILS/web/opac/theme/default/css/colors.css

commit a75c19a8ceabcd2bf43ae937623e79dfbe7244fd
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 20 16:51:46 2011 -0400

    more sound hooks during check-in for transits, holds, etc.
    
    Adds util.sound.special which can be used like this:
    
        util.sound.special('foo');
    
    and looks for a URL constant matching this:
    
        urls['AUDIO_special_foo']
    
    Also give util.sound a more programmable delay via custom.js:
    
        var _sound_delay_interval = 50000;
    
    Here are the new hooks for check-in and how you might use them:
    
        urls['AUDIO_special_checkin.cataloging'] = '/xul/server/skin/media/custom/cataloging.wav';
        urls['AUDIO_special_checkin.error'] = '/xul/server/skin/media/custom/error.wav';
        urls['AUDIO_special_checkin.hold_capture_delayed'] = '/xul/server/skin/media/custom/hold_capture_delayed.wav';
        urls['AUDIO_special_checkin.hold_shelf'] = '/xul/server/skin/media/custom/hold_shelf.wav';
        urls['AUDIO_special_checkin.no_change'] = '/xul/server/skin/media/custom/no_change.wav';
        urls['AUDIO_special_checkin.not_found'] = '/xul/server/skin/media/custom/not_found.wav';
        urls['AUDIO_special_checkin.reservation_shelf'] = '/xul/server/skin/media/custom/reservation_shelf.wav';
        urls['AUDIO_special_checkin.success'] = '/xul/server/skin/media/custom/success.wav';
        urls['AUDIO_special_checkin.transit'] = '/xul/server/skin/media/custom/transit.wav';
        urls['AUDIO_special_checkin.transit_for_hold'] = '/xul/server/skin/media/custom/transit_for_hold.wav';
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/xul/staff_client/chrome/content/util/fancy_prompt.xul
12	1	Open-ILS/xul/staff_client/chrome/content/util/sound.js
15	0	Open-ILS/xul/staff_client/server/circ/util.js
12	0	Open-ILS/xul/staff_client/server/skin/custom.js.example

commit 93e509cc0f7474bc8cc0ce493644e6509a79c0d4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 20 01:49:07 2011 -0400

    sort hold Queue Position column correctly in xul lists
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/xul/staff_client/server/circ/util.js

commit 8d787f66cd044756078b2dc7c6864c23d881c206
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jul 25 10:14:55 2011 -0400

    Comment out line that breaks holds placement in IE
    
    auto is not a valid option for a border, and IE faults on it.
    Other browsers seem to ignore it, as far as I can tell.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/web/opac/skin/default/js/holds.js

commit f882d5da9bb8323960b7d246197974c0fc3c14a6
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jul 22 15:10:23 2011 -0400

    Add cointainer() and record_list() filters to QueryParser
    
    The container() filter takes 3 or 4 positional params:
      - class (bre, acn, acp, au)
      - type  (bookbag, etc -- btype of the container)
      - id    (container id)
      - token (authtoken, optional, for checkin ownership of non-public containers)
    
    The record_list() filter takes a list of record ids to restrict the search by.
    These are bib ids by default, but are treated as metarecord ids in the presence
    of the #metabib (aka #metarecord) modifier.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

61	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit e0dbfda521e537748dc532f471fb9adf85d8dcf4
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 22 13:04:37 2011 -0400

    More better call number browser, uses supercat directly, doesn't use mvr
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

20	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
13	12	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
2	2	Open-ILS/web/templates/default/opac/parts/record/extras.tt2

commit 4cc810719fa755510a5de12b3b354a4101c7042c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 22 10:28:04 2011 -0400

    Also was missing the author search link
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

4	3	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2

commit 5503d5b731868c77160d74b1b48b9246fb1c48d5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 22 10:22:08 2011 -0400

    Call number shelf browser: fix prev/next links, wrong argument order in...
    
    ... call to open-ils.search.callnumber.browse (count and offset mixed
    up)
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
4	4	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2

commit b3094c0a915a690ae1e590bad318e699d767206e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 22 09:59:57 2011 -0400

    Shelf browser!
    
    Needs improvements: can't find jacket images by UPC yet
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

26	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
0	44	Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
52	0	Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2
12	2	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/cnbrowse.tt2

commit c88264fda8405914a735c7ca7b77e3397b53e5c9
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jul 20 18:02:47 2011 -0400

    More power to present friendly messages when hold placement fails
    
    This area could use a little cleanup, elegance, but it can give end
    users better messages for a diverse set of reasons why hold placement
    failed.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

38	0	Open-ILS/web/templates/default/opac/parts/hold_error_messages.tt2
10	1	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/hold_error_messages.tt2

commit b82f69844875d05272cc6d93d90b2160f0f9acf4
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Wed Jul 20 11:09:40 2011 -0400

    LP#647121 Event handling on override abort
    
    Discussed on IRC, phasefx discovered that several events were not being properly
    handled when they were empty strings.  Tested and working on Evergreen 2.0.4.
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

1	1	Open-ILS/xul/staff_client/server/circ/checkout.js

commit 90d3fe9923dfa0a477893cf3ec91b6f7092abf49
Author: evergreen <evergreen@squeeze.debian>
Date:   Wed Jul 20 11:38:14 2011 -0400

    according to git i've made changes to 950.data.seed-values.sql

-	-	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit c9c05ce8e179d7a9d4325ac1f429e91fcfe7c9a0
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jul 18 17:17:30 2011 -0400

    remove circ.util.std_map_row_to_columns; default to the one provided by list.js
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	1	Open-ILS/xul/staff_client/server/admin/transit_list.js
1	2	Open-ILS/xul/staff_client/server/admin/work_log.js
0	1	Open-ILS/xul/staff_client/server/cat/copy_browser.js
0	2	Open-ILS/xul/staff_client/server/cat/copy_buckets.js
0	1	Open-ILS/xul/staff_client/server/cat/copy_summary.xul
0	3	Open-ILS/xul/staff_client/server/cat/record_buckets.js
0	1	Open-ILS/xul/staff_client/server/cat/z3950.js
2	2	Open-ILS/xul/staff_client/server/circ/alternate_copy_summary.js
0	1	Open-ILS/xul/staff_client/server/circ/checkin.js
0	1	Open-ILS/xul/staff_client/server/circ/checkout.js
2	2	Open-ILS/xul/staff_client/server/circ/copy_details.xul
0	1	Open-ILS/xul/staff_client/server/circ/copy_status.js
0	1	Open-ILS/xul/staff_client/server/circ/in_house_use.js
0	1	Open-ILS/xul/staff_client/server/circ/renew.js
0	57	Open-ILS/xul/staff_client/server/circ/util.js
0	1	Open-ILS/xul/staff_client/server/patron/hold_details.js
0	1	Open-ILS/xul/staff_client/server/patron/holds.js
0	2	Open-ILS/xul/staff_client/server/patron/items.js
0	1	Open-ILS/xul/staff_client/server/serial/manage_dists.js
0	2	Open-ILS/xul/staff_client/server/serial/manage_items.js
0	1	Open-ILS/xul/staff_client/server/serial/manage_subs.js

commit 64f9ee811e4488eb7b3024e7e4212a79cdda8f33
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jul 18 15:27:22 2011 -0400

    Better sort support for xul lists (see launchpad bug ://bugs.launchpad.net/evergreen/+bug/751745)
    Example of supplying a sort_value function for item Create Date, and automatic sort_value for fm_columns-generated timestamp and money column definitions.
    Need to provide more such functions, and eventually move everything over to fm_columns
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

90	31	Open-ILS/xul/staff_client/chrome/content/util/list.js
1	0	Open-ILS/xul/staff_client/server/circ/util.js

commit f31ae28b754ee8c16131ad1cab63c267bc96d80c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Jul 17 20:28:14 2011 -0400

    Make inactive cards/patrons "not exist" via SIP2
    
    And make sure if we do get a deleted patron for some reason they are ignored too.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	2	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit 8585968565f1c437d517fda73bd19d82b37d90f6
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue Jul 19 14:43:03 2011 -0400

    rerun DB update 0582 to avoid upgrade problem
    
    This implements the same update as 0582.schema.aging_circ_view.sql,
    and exists purely the the sake of avoid a potential upgrade
    glitch for somebody who's upgrading from 2.0.8+ that includes
    a version of this fix that's not compatible with with 2.1+.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
38	0	Open-ILS/src/sql/Pg/upgrade/0583.schema.aging_circ_view.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0583.schema.aging_circ_view.sql

commit e9cd992fa4dbf1013346336193cb7469ecee10a8
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Jul 19 12:02:17 2011 -0400

    MFHD compressed holding fixes
    
    1. Add new utility method to MFHD.pm:
        holdings_by_caption(): return all holdings attached to a
        given caption
    
    2. Add 'passthru_open_ended' option to get_decompressed_holdings()
        Previously, attempts to decompress an open-ended holding
        would error out.  Now, in the absence of this option,
        open-ended holdings are discarded and you get a warning
        (since they cannot logically be decompressed), while if
        this option is 'true' they are passed back unaffected
    
    3. compressed_to_last() on an open-ended holding now more
       correctly returns 'undef' rather than the unaltered holding
    
    4. get_compressed_holdings() will now honor an open-ended holding
       by treating it as "infinite", and thus absorbing any holdings
       which would follow
    
    5. Overloaded comparison operator now correctly detects "swap"
       cases (where only the second operand is a holding)
    
    6. Overloaded comparison operator now consistently treats
       open-ended holdings as "greater-than" a single or closed
       holding which has the same starting point
    
    7. Fix 2 thinkos in comparison operator for overlapping
       compressed holdings
    
    8. Add new compressed_end() method to Holding.pm which can add
       or set a new ending to a holding, making compressed if needed
    
    9. Correctly recognize partially compressed holdings
        If a holding is defined as:
            863 40 $81.1 $a1 $b2-10
        this actually means:
            863 40 $81.1 $a1-1 $b2-10
        so let's make sure to treat it that way.
    
    9. Expand the MFHD test suite to better cover the improvements
       in this commit
    
    There is also the beginnings of a _get_truncated_holdings()
    method for handling odd cases where an open-ended holding is
    followed by a single/closed holding, but it is currently
    commented out, pending further design consideration.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

90	15	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD.pm
60	9	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Holding.pm
63	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhd.t
57	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhddata2.txt
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhddata2.txt

commit 306775b7272d7b35abdd22014c67eef505fbcaa2
Author: Steven Callender <stevecallender@esilibrary.com>
Date:   Mon Jul 18 20:26:13 2011 +0000

    lp#812550: Removed nulls from showing for patron penalties when no note attached to penalty.
    
    Signed-off-by: Steven Callender <stevecallender@esilibrary.com>
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/patron/display.js

commit b77da9ed21b7602c5758472bce76755674135d6a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 18 18:49:01 2011 -0400

    Fix the wrongish way we were doing staff-assisted holds
    
    Now the patron that a staff user wants to place a hold for is passed
    around as a cookie
    
    It's a little unclear when is best from a workflow perspective to kill
    said cookie... hrmmm....
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

13	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
27	6	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
0	22	Open-ILS/web/js/ui/default/opac/staff.js
4	2	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
5	3	Open-ILS/xul/staff_client/server/patron/holds.js

commit dbc489a4fe8d646fee53b5f46f6b8c1c8dfae52c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jul 18 16:24:30 2011 -0400

    bump xulrunner version
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/Makefile.am

commit 777679e17299dcdcc135d493a2a9987c9357d9ff
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 18 13:40:17 2011 -0400

    Alert or block holds on available copy at same pickup lib
    
    This improves upon the earlier commit that attempted to deal with what
    to do when either of these org_unit settings are true:
    
         circ.holds.hold_has_copy_at.alert
         circ.holds.hold_has_copy_at.block
    
    The correct use of these settings are that when /any/ type of hold is
    attempted at a given pickup lib, if either of those settings are true in
    the context of said pickup lib, and there are copies in an available
    status at the pickup lib already, inform the user before placing the
    hold.  In the alert case, the user can place the hold anyway with
    another click.  In the block case, there's an end on't.
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
38	16	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
12	6	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit 8de304ac0b98147ab327954d7d2e9e5d4460a469
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jul 18 11:43:13 2011 -0400

    Remove extraneous COMMIT message in 950 seed data
    
    The extra COMMIT message didn't hurt when creating a new schema, but did
    result in a warning message that could cause confusion. So, get rid of
    it to avoid that.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 62934868d7a42d450539166c70d97d07229c7122
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 6 14:52:53 2011 -0400

    Item Status->Alternate View support for the dynamic Record Summary
    
    For now, you could put something like this in server/skin/custom.js to re-configure the display:
    
    try {
    
        netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
        var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces['nsIPrefBranch']);
        prefs.setCharPref(
            'oils.bib_brief.alternate_copy_summary.dynamic_grid_replacement.data',
            js2JSON([
                ['title',       'edition',  'editor'],
                ['author',      'pubdate',  'edit_date'],
                ['call_number', 'tcn',      'create_date']
            ])
        );
    
    } catch(E) {
        dump('Error in custom.js trying to set oils.bib_brief.alternate_copy_summary.dynamic_grid_replacement.data: ' + E + '\n');
    }
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	8	Open-ILS/xul/staff_client/server/cat/bib_brief.js
1	1	Open-ILS/xul/staff_client/server/cat/bib_brief.xul
1	1	Open-ILS/xul/staff_client/server/cat/bib_brief_vertical.xul
9	1	Open-ILS/xul/staff_client/server/circ/alternate_copy_summary.js
1	0	Open-ILS/xul/staff_client/server/circ/alternate_copy_summary.xul
2	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 5f2dd33849dc68dfb2b692b0f17b9da028a8aa81
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 6 03:19:09 2011 -0400

    dynamic Record Summary layout based on preference
    
    For now, you could add something like this to server/skin/custom.js to re-configure the display:
    
    try {
    
        netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
        var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces['nsIPrefBranch']);
        prefs.setCharPref(
            'oils.bib_brief.horizontal.dynamic_grid_replacement.data',
            js2JSON([
                ['title',           'edition',  'editor'],
                ['author',          'pubdate',  'edit_date'],
                ['bib_call_number', 'tcn',      'create_date']
            ])
        );
    
    } catch(E) {
        dump('Error in custom.js trying to set oils.bib_brief.horizontal.dynamic_grid_replacement.data: ' + E + '\n');
    }
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

101	0	Open-ILS/xul/staff_client/server/cat/bib_brief.js
24	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit c5a678949021a70feac6f65ee14fbd67cadf8014
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 6 02:32:01 2011 -0400

    some refactoring in prep for dynamic Record Summary layout
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

84	46	Open-ILS/xul/staff_client/server/cat/bib_brief.js
2	2	Open-ILS/xul/staff_client/server/cat/bib_brief_overlay.xul
1	1	Open-ILS/xul/staff_client/server/cat/bib_brief_vertical.xul

commit 826607cd3fd7fe958c5318d7884a64495da28d89
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jul 1 12:05:46 2011 -0400

    in staff Record Summary (bib brief) pane, stretch the column for title, author, and bib call #
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/bib_brief_overlay.xul

commit de29b7cadcd827ffbb95c3c07201fcb9bc3607ea
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jul 18 11:00:26 2011 -0400

    Address minor code formatting consistency
    
    The rest of the code has spaces around the conditional clause in an if()
    statement, so do likewise here.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	2	Open-ILS/xul/staff_client/server/cat/spine_labels.js

commit 677037301876d90eba1c181cd6f0cd1f13981e26
Author: James Fournie <jfournie@sitka.bclibraries.ca>
Date:   Mon Jun 6 10:00:22 2011 -0700

    Spine label editor assumes LC as reported in LP #780665.
    
    This patch encapsulates the LC-assuming code in an IF block which
    considers the asset.call_number.volume.label_class.  If that is equal to
    3, it will use the LC formatting.
    
    Signed-off-by: James Fournie <jfournie@sitka.bclibraries.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

16	14	Open-ILS/xul/staff_client/server/cat/spine_labels.js

commit f7ded516d642afdef3e913ed31bfa83f2ba90835
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jul 14 16:03:42 2011 -0400

    fix bill ui display update bug where total owed and total checked were not updated if the total owed as paid off in full
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/xul/staff_client/server/patron/bill2.js

commit 318efe47c1d58d6db25e9434829a7b55d7cced10
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Jul 16 12:56:32 2011 -0400

    Stamping upgrade script for "Bad join condition all_circulation view"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
35	0	Open-ILS/src/sql/Pg/upgrade/0582.schema.aging_circ_view.sql
0	23	Open-ILS/src/sql/Pg/upgrade/XXX.schema.aging_circ_view.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0582.schema.aging_circ_view.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXX.schema.aging_circ_view.sql

commit a6365e9fdaf7ee4ab01a5c18971244076c80c5c7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Jul 16 12:53:13 2011 -0400

    Bad join condition in secondary (physical) address lookup, causing terrible performance of circ aging
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/090.schema.action.sql
23	0	Open-ILS/src/sql/Pg/upgrade/XXX.schema.aging_circ_view.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXX.schema.aging_circ_view.sql

commit df92ad3797667f00c93c100fd9c7be7890007670
Author: mrpeters-isl <mrpeters@library.in.gov>
Date:   Wed Jul 13 09:42:54 2011 -0400

    LP795032 Fix cursor rendering and dropdown position in holdings maintenance OU dropdown
    Signed-off-by: mrpeters-isl <mrpeters@library.in.gov>
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/xul/staff_client/server/cat/copy_browser.js

commit 14504ab4e9f534776ab373c9bd69938fa97a5392
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Jul 16 10:25:44 2011 -0400

    Stamping upgrade script for "Opac Renewal at original circ library"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
23	0	Open-ILS/src/sql/Pg/upgrade/0581.schema.opac_renewal_reuse_circ_lib.sql
0	11	Open-ILS/src/sql/Pg/upgrade/XXXX.opac_renewal_reuse_circ_lib.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0581.schema.opac_renewal_reuse_circ_lib.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.opac_renewal_reuse_circ_lib.sql

commit 708d632c06f72b9a0779af15f82c358d1d523c09
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Jul 16 10:22:51 2011 -0400

    Default to existing behaviour for the new circ-behaviour global flag
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.opac_renewal_reuse_circ_lib.sql

commit 50af22a63e3e4f6f20c2ed7aac6c334bcd22065c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jul 5 16:33:41 2011 -0400

    Cache global flag at first use
    
    This way only the first opac renewal per backend has to ask the database for the global flag.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

10	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 19996728d1cab952a32c839323051769376effde
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jul 5 12:15:19 2011 -0400

    Unwrapped upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

11	0	Open-ILS/src/sql/Pg/upgrade/XXXX.opac_renewal_reuse_circ_lib.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.opac_renewal_reuse_circ_lib.sql

commit 8823e4060bbc825c859327b018c5f8cb29b9ac2a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Jul 2 12:50:36 2011 -0400

    Opac Renewal at original circ library
    
    Fixes multiple potential issues:
    1 - Bad home ou on patron breaks circ rules
        Ex. Patron edited while editor would let you pick bad home ou
    2 - Item not allowed to circ at patron home ou
        Ex. Patron went to where they were allowed to pick it up
    3 - Fines change to patron home ou fine rules
        Ex. Patron's home ou doesn't charge fines but circ lib does
        Ex. Circ lib doesn't charge fines but Patron's home ou does
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
12	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 7f25c35f3242baef8306577ebe13785f2b1b472d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Jul 16 10:08:03 2011 -0400

    Stamping upgrade script for "Prevent OU loops at DB level"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
45	0	Open-ILS/src/sql/Pg/upgrade/0580.schema.aou_parent_protec.sql
0	33	Open-ILS/src/sql/Pg/upgrade/XXXX.aou_parent_protect.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0580.schema.aou_parent_protec.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.aou_parent_protect.sql

commit 81c0adb739d2b85d72041e4e9ff04c7a879ea1ed
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jun 15 22:03:47 2011 -0400

    Unwrapped upgrade script for ou loop protect
    
    May need to be split into "create function" and "add trigger" pieces.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

33	0	Open-ILS/src/sql/Pg/upgrade/XXXX.aou_parent_protect.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.aou_parent_protect.sql

commit e5d63d761e2156c78004f48e2620e5d1a63084ae
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jun 15 22:03:38 2011 -0400

    Prevent OU loops at DB level
    
    Database trigger to prevent actor.org_unit from being parent of self
    
    Actually detects any loops, even those above the current point
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

34	0	Open-ILS/src/sql/Pg/005.schema.actors.sql

commit 79d40f168307d73497ef7d54a382c2cdd9816643
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Jul 7 17:18:16 2011 -0400

    Make spell-checking case insensitive
    
    As it stands, if you search for a proper noun using
    lower case, but manage to trigger the "did you mean"
    functionality, all the words are 'corrected' even if
    just the case is wrong.  However, we are stripping
    out the best correction precisely because it is the
    same word, different case.  It is a bit confusing to
    explain, but here is an example:
    
    daniel potatoe
    
    gets corrected to:
    
    Daniela potato
    
    This happens because the current spell check is case
    sensitive, so 'daniel' is spelled wrong, but then we
    remove 'Daniel' from the list of corrections
    (presumably to avoid possibly suggesting terms which
    would yield the same exact result set).
    
    So, we either need to make the spell-check itself case
    insensitive, or stop removing the re-cased corrections.
    Since the catalog search itself is already
    case-insensitive, I think it makes sense that the spell
    check should follow suit.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Search.pm

commit 24c16b3d1ff730c79a754cdfb6b8a4761c47f557
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Jul 16 08:41:50 2011 -0400

    Stamping upgrade script for "INDB Circ Matrix + Checkout Overrides Fix"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
203	0	Open-ILS/src/sql/Pg/upgrade/0579.schema.fix_checkout_overrides.sql
0	191	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_checkout_overrides.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0579.schema.fix_checkout_overrides.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_checkout_overrides.sql

commit 3bc4944abf4dcfd0155c34400c6451133ee112eb
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jun 7 11:08:17 2011 -0400

    Unwrapped upgrade script for checkout overrides
    
    Replace the function.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

191	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_checkout_overrides.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_checkout_overrides.sql

commit faef6e09d28913d2311a73062695f181f83c6ea3
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jun 6 17:30:35 2011 -0400

    INDB Circ Matrix + Checkout Overrides Fix
    
    Move most failures to after matchpoint lookup.
    This prevents "no duration rule" errors on overridable errors.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

34	28	Open-ILS/src/sql/Pg/100.circ_matrix.sql

commit b8914c02d71a66f151f45d7b1ba07fc6988163a6
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jul 15 20:08:35 2011 -0400

    Stamping upgrade script for "Fix part holds in reporter.hold_request_record"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
32	0	Open-ILS/src/sql/Pg/upgrade/0578.schema.part_holds_bib_report.sql
0	20	Open-ILS/src/sql/Pg/upgrade/XXXX.part_holds_bib_report.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0578.schema.part_holds_bib_report.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.part_holds_bib_report.sql

commit 5166299cd88855b4a872733b1b5896ef29fd97bf
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Jul 15 15:55:18 2011 -0400

    Unwrapped upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

20	0	Open-ILS/src/sql/Pg/upgrade/XXXX.part_holds_bib_report.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.part_holds_bib_report.sql

commit 6809f6839bce90e4fdc13c6083fb7493c017a905
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Jul 15 15:54:35 2011 -0400

    Fix part holds in reporter.hold_request_record
    
    Specifically, make them show a bib id, instead of null.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/sql/Pg/reporter-schema.sql

commit 80719637f3bb1e61c24ddc0f2f6001dd9fa4392e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jul 15 18:27:30 2011 -0400

    Allow overriding some hold events when permissions apply
    
    Works fine now for HOLD_EXISTS and HOLD_ITEM_CHECKOUT_OUT, at least
    
    But this was also supposed to work with these org settings:
     circ.holds.hold_has_copy_at.alert
     circ.holds.hold_has_copy_at.block
    which are supposed to define behavior when the user wants to place a
    (copy- or volume-level only?) hold on an item at a branch that's not his
    home_ou but his home_ou has an available copy.
    
    Anyway, the open-ils.circ.title_hold.is_possible method is supposed to
    return information about whether local copies are available to support
    such a function, but it doesn't seem to do so.  I think.  Will revisit.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

80	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	2	Open-ILS/web/templates/default/opac/parts/org_selector.tt2
22	2	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit 73ef5cfa2d498efcff2530d111943972ef023a06
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jul 12 17:39:37 2011 -0400

    Vandelay item import copy location inheritance
    
    When importing items that have a copy location configured and no such
    location exists at the copy's owning/circ lib, Vandelay will now use
    copy locations from ancestor org units as appropriate.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
23	4	Open-ILS/src/sql/Pg/999.functions.global.sql
292	0	Open-ILS/src/sql/Pg/upgrade/0577.schema.vandelay-item-import-copy-loc-ancestors.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0577.schema.vandelay-item-import-copy-loc-ancestors.sql

commit 105a76f9ba346b318b65bae482c7019afa4f6f5a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jul 14 16:41:42 2011 -0400

    Corrected the logic of format string building for metarecord holds and...
    
    made hold possiblity checking for metarecord holds respect the format
    string (so you can't place holds on formats for which there will never
    be anything targetable)
    
    Made possible by much concerted effort from Mike Rylander
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

21	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
5	2	Open-ILS/web/opac/skin/default/js/holds.js

commit e04f9382c578010b355fe9ad214cf06b197ef9d5
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Jul 14 11:42:26 2011 -0400

    Correct CDBI thinko -- search_where is smart about wantarray, search is not
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 56005d6684b42d6b15ec982c48e9d77a96d1858d
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jul 13 12:24:38 2011 -0400

    Preset correct default pickup lib for staff placing holds for patrons
    
    Also, for hold placement, only enable org unit selection where
    can_have_vols is true.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

7	0	Open-ILS/web/js/ui/default/opac/staff.js
9	2	Open-ILS/web/templates/default/opac/parts/org_selector.tt2
4	5	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
2	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit 43a7967a7515cb18db3bd051b2fea15467047ce5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jul 12 17:49:10 2011 -0400

    Remove deprecated, conflicting version of vandelay.match_bib_record from base schema.  Thanks, Galen
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	80	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 7ea9abada5fa1e2e013e35dd50665b76bba9a065
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 12 17:55:54 2011 -0400

    pin an upgrade version for fix_maintain_901_quoting
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
74	0	Open-ILS/src/sql/Pg/upgrade/0576.fix_maintain_901_quoting.sql
0	74	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_maintain_901_quoting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0576.fix_maintain_901_quoting.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_maintain_901_quoting.sql

commit c17d9e0b89c43c066d49208392b24a97447ff32c
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue Jul 12 16:56:10 2011 -0400

    upgrade script for bugfix for lp#809540
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

74	0	Open-ILS/src/sql/Pg/upgrade/XXXX.fix_maintain_901_quoting.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.fix_maintain_901_quoting.sql

commit e974a6e7d3a5fcc3a8dc58326742dd888e614aab
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue Jul 12 16:51:31 2011 -0400

    lp#809540: quote replacement values properly in maintain_901()
    
    Prevents a failure if, for example, the tcn_value of a bib to be
    added or updated contains the string '\1'.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/002.functions.config.sql

commit c34228d534daf25f2c670050496334ea092fa0c5
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 12 14:36:37 2011 -0400

    alert the user when the OPAC's Quick Search->Item Barcode function returns a pre-cataloged item
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
5	0	Open-ILS/web/opac/skin/default/js/advanced.js
1	0	Open-ILS/web/opac/skin/default/xml/common/sidebar.xml

commit d08b459f20e5774bda060f3d49e67e6ce334a579
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 12 17:24:16 2011 -0400

    copy and volume level holds for staff
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

29	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
19	5	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 86c964aaa5790af1311022d6577fb148a8fb052b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jul 12 10:42:08 2011 -0400

    "Mark Local Result as Overlay Target" action in z39.50 client
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
103	1	Open-ILS/xul/staff_client/server/cat/util.js
40	1	Open-ILS/xul/staff_client/server/cat/z3950.js
6	0	Open-ILS/xul/staff_client/server/cat/z3950.xul

commit d7ca3063e82919015a1692f3646351b0c7b79012
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jul 12 09:40:54 2011 -0400

    Removing errant comma spotted by Thomas Berezansky
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 936ab552ec7f46ed491fe1761532358d5a0d9512
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 11 18:17:13 2011 -0400

    When coming from staff client patron interface,
    
    pre-populate the patron barcode text box by which staff places a hold
    for a patron.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

17	2	Open-ILS/web/js/ui/default/opac/staff.js
10	9	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit a473e68540e532916eda31d35635bbba2dc54137
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 11 17:43:51 2011 -0400

    Staff can now place title-type holds for patrons
    
    Still need to put in copy, volume and issuance (and parts? maybe later) -type
    holds.  Still need to deal with overridable events.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

22	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	0	Open-ILS/web/css/skin/default/opac/style.css
4	0	Open-ILS/web/js/ui/default/opac/staff.js
19	33	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit 16c32ec7e6d07b5249c1a46041680e92f2f0c69f
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Jul 11 15:09:34 2011 -0400

    append line items to table in specified order
    
    Prior to this patch, the order that line items were displayed
    in (e.g.) a purchase order view was effetively randomized based
    on the amount of time it would take for async calls to fetch
    additional line item details to return.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

10	5	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 49081017012efb43fbc3114058cee53f629aab9c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jul 11 14:23:30 2011 -0400

    Stamping Mike's upgrade script for authority control sets
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
501	0	Open-ILS/src/sql/Pg/upgrade/0575.schema.authority-control-sets.sql
0	501	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority-control-sets.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0575.schema.authority-control-sets.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority-control-sets.sql

commit 6343d40803699e3d287ba8adec979dd99c4687ef
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jul 11 11:41:35 2011 -0400

    Unstamped upgrade script for Authority Control Sets
    
    ... with additional fixes from Lebbeous Fogle-Weekley
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/011.schema.authority.sql
501	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority-control-sets.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.authority-control-sets.sql

commit 8569fc04d0fe959a90bdf1dbe967011bfe915edd
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jul 11 09:52:26 2011 -0400

    Merge/rebase cleanup -- remove useless/incorrect versions of the MARC flattener for different record types
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	71	Open-ILS/src/sql/Pg/030.schema.metabib.sql
0	58	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 60755ab30c9ef33a1e0f8d2e526d2838dc03dc48
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jul 11 09:51:33 2011 -0400

    Merge/rebase cleanup -- authority template by id is needed
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 04eeb545bbbf07af05dc75e365632f4ef2cb3acb
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 5 15:50:20 2011 -0400

    Make search by authority ID actually work on the first try
    
    and also show an odd number of authority record results so that
    there can actually be a "middle."
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	1	Open-ILS/web/opac/skin/default/js/authbrowse.js

commit 3fd2e7e750745f49e10083c98f23eba749dd8a1e
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jul 5 14:22:38 2011 -0400

    Provide sorters for browse axes
    
    Make the default bib result sorter 'titlesort' for every
    browse axis, which is what makes sense if you think about it.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	0	Open-ILS/examples/fm_IDL.xml
1	0	Open-ILS/src/sql/Pg/011.schema.authority.sql
5	5	Open-ILS/src/sql/Pg/950.data.seed-values.sql
9	5	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
10	7	Open-ILS/web/opac/skin/default/js/authbrowse.js
4	1	Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis.tt2

commit 985728674e25f66939255e2631c7e90c9e802320
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jun 30 17:25:06 2011 -0400

    Create facet for going right to records linked to a given authority record
    
    Still need an upgrade script, of course, but so does this whole branch
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

11	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit e82a1234718120f7673922862d70e24123bf2cc8
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jun 30 16:54:35 2011 -0400

    attempted to add sanity to paging, but not really there yet
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

29	14	Open-ILS/web/opac/skin/default/js/authbrowse.js
2	2	Open-ILS/web/opac/skin/default/xml/page_authbrowse.xml

commit 3ffe952996807d42ef50a56a16981e6fbc12fa51
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jun 30 15:59:07 2011 -0400

    Make linking to bib records work better by saying any format will do.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	0	Open-ILS/web/opac/skin/default/js/authbrowse.js

commit d8367973056752365a69ada9593b77fea9b92600
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 29 19:34:56 2011 -0400

    working! with paging and linking to bibs, except:
    
    ... my new facet thingy doesn't seem to work.  here's what I did
    sql-wise:
    
        INSERT INTO config.metabib_field (
            id, field_class, name, label, xpath,
            format, search_field, facet_field
        ) VALUES (
            28, 'identifier',
            'authority_id', 'Authority Record ID',
            '//marc:datafield/marc:subfield[@code=''0'']', 'marcxml', false, true
        );
    
        INSERT INTO config.metabib_field_index_norm_map (field, norm)
        VALUES (28, 5);
    
    Yet after re-ingesting my bibs I have nothing new in
    metabib.facet_entry.  So the "show related bibliographic holdings" links
    don't quite work (I believe they /would/, though, if I had the facet
    thingy right).
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

3	1	Open-ILS/web/opac/common/js/config.js
3	1	Open-ILS/web/opac/skin/default/css/layout.css
106	11	Open-ILS/web/opac/skin/default/js/authbrowse.js
9	1	Open-ILS/web/opac/skin/default/xml/page_authbrowse.xml

commit bbefc2e9ef49dfe0cecbff3f5afb5d99d057291c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 29 15:45:40 2011 -0400

    Finally starting to get somewhere: record display
    
    Record display kind of works.  Need paging and links to bibs.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

4	1	Open-ILS/web/js/dojo/MARC/Record.js
5	0	Open-ILS/web/opac/skin/default/css/layout.css
98	12	Open-ILS/web/opac/skin/default/js/authbrowse.js

commit adab035d5ffe86417a24a49c89681419489909a6
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 28 15:28:40 2011 -0400

    Closer to being able to get authority control set from thesaurus code
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

18	5	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
0	2	Open-ILS/web/opac/skin/default/js/authbrowse.js
1	1	Open-ILS/web/opac/skin/default/xml/common/js_common.xml

commit 0bba2a081dcfc3c4b9c492d3aa50f92e7acb8bd5
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 28 11:49:17 2011 -0400

    towards using fielder in openils.AuthorityControlSet
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

6	6	Open-ILS/examples/fm_IDL.xml
14	10	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
9	2	Open-ILS/web/opac/skin/default/js/authbrowse.js

commit 693520254eb55728d54826f910876ebc79d44299
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 28 10:43:54 2011 -0400

    working on an auth browser
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

16	3	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
21	1	Open-ILS/web/opac/skin/default/js/advanced.js
50	1	Open-ILS/web/opac/skin/default/js/authbrowse.js
5	12	Open-ILS/web/opac/skin/default/xml/common/sidebar.xml
2	3	Open-ILS/web/opac/skin/default/xml/page_authbrowse.xml

commit 6b419fe6abe7c779bf97c262776e446f829f9e8e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 27 10:12:33 2011 -0400

    Add function to set Control Set by Thesaurus Code
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

9	0	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit e675b8540174233d534473251151721d435cf636
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 27 10:03:34 2011 -0400

    Normalize fixed field names to OCLC values where they exist (what catalogers are used to)
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

27	13	Open-ILS/web/js/dojo/MARC/FixedFields.js

commit 796f3b49b99d5237f6367f81a30983f5b74ca4cc
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jun 23 18:04:28 2011 -0400

    config ui trivial improvements, scratching out a place for a browse UI

1	1	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/web/Makefile.am
1	1	Open-ILS/web/js/ui/default/cat/authority/list.js
4	0	Open-ILS/web/opac/common/js/config.js
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/web/opac/locale/en-US/opac.dtd
10	1	Open-ILS/web/opac/skin/default/js/advanced.js
1	0	Open-ILS/web/opac/skin/default/js/authbrowse.js
1	1	Open-ILS/web/opac/skin/default/xml/common/js_common.xml
25	0	Open-ILS/web/opac/skin/default/xml/common/sidebar.xml
6	0	Open-ILS/web/opac/skin/default/xml/page_authbrowse.xml
3	0	Open-ILS/web/opac/skin/default/xml/setenv.xml
36	1	Open-ILS/web/templates/default/conify/global/cat/authority/thesaurus.tt2
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/web/opac/skin/default/js/authbrowse.js
 create mode 100644 Open-ILS/web/opac/skin/default/xml/page_authbrowse.xml

commit 2be66e212c390f9e1bf46235c57f06467b4e9afc
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 22 17:22:54 2011 -0400

    Fix minor glitch when trying to create new authority fields
    
    The Autogrid can handle empty arrays as values for acsaf.bib_fields and
    acsaf.axis_maps, but can't handle undefined.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

6	1	Open-ILS/web/templates/default/conify/global/cat/authority/control_set_authority_field.tt2

commit e881cbb4731884f5eb7572a43a8ff7cda5de6f0f
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 22 16:49:35 2011 -0400

    Move the authority control set config interfaces back into conify
    
    Really, that's where they make sense.  And they're done.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

0	36	Open-ILS/web/js/ui/default/cat/authority/common.js
36	0	Open-ILS/web/js/ui/default/conify/global/cat/authority/common.js
0	33	Open-ILS/web/templates/default/cat/authority/browse_axis.tt2
0	71	Open-ILS/web/templates/default/cat/authority/browse_axis_authority_field_map.tt2
0	88	Open-ILS/web/templates/default/cat/authority/control_set.tt2
0	127	Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2
0	71	Open-ILS/web/templates/default/cat/authority/control_set_bib_field.tt2
0	65	Open-ILS/web/templates/default/cat/authority/thesaurus.tt2
0	40	Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2.old
0	40	Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2.old
0	34	Open-ILS/web/templates/default/conify/global/authority/control_set.tt2.old
0	38	Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2.old
33	0	Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis.tt2
71	0	Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
88	0	Open-ILS/web/templates/default/conify/global/cat/authority/control_set.tt2
127	0	Open-ILS/web/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
71	0	Open-ILS/web/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
65	0	Open-ILS/web/templates/default/conify/global/cat/authority/thesaurus.tt2
2	2	Open-ILS/xul/staff_client/chrome/content/main/menu.js
 delete mode 100644 Open-ILS/web/js/ui/default/cat/authority/common.js
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/cat/authority/common.js
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/browse_axis.tt2
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/browse_axis_authority_field_map.tt2
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/control_set.tt2
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/control_set_bib_field.tt2
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/thesaurus.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2.old
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2.old
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/control_set.tt2.old
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2.old
 create mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/browse_axis_authority_field_map.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/control_set.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/control_set_authority_field.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/control_set_bib_field.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/cat/authority/thesaurus.tt2

commit b95e14356c1ff9d150d2cc75aebf1f1fbb650845
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 22 16:25:59 2011 -0400

    Axis-field map editor and editor for the axes themselves
    
    The editor for the axes themselves is accessed directly from staff
    client menu.  Everything else is reached indirectly from the control set
    editor.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/web/js/dojo/openils/authority/nls/authority.js
2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
33	0	Open-ILS/web/templates/default/cat/authority/browse_axis.tt2
71	0	Open-ILS/web/templates/default/cat/authority/browse_axis_authority_field_map.tt2
18	3	Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/web/templates/default/cat/authority/browse_axis.tt2
 create mode 100644 Open-ILS/web/templates/default/cat/authority/browse_axis_authority_field_map.tt2

commit c6c3223f585b9f3c36a2d46d1a828dbcd376709a
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 22 14:04:14 2011 -0400

    Add bib field editor.  Also make all the editors written so far...
    
    ... for authority control sets-related objects do the right thing to
    help users create/edit new child objects linked to the right parent
    table without extra effort.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/web/js/dojo/openils/authority/nls/authority.js
25	0	Open-ILS/web/js/ui/default/cat/authority/common.js
22	8	Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2
71	0	Open-ILS/web/templates/default/cat/authority/control_set_bib_field.tt2
5	3	Open-ILS/web/templates/default/cat/authority/thesaurus.tt2
 create mode 100644 Open-ILS/web/templates/default/cat/authority/control_set_bib_field.tt2

commit a80f625b27a794866f7121ec4ea52f1268993c56
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed Jun 22 10:50:06 2011 -0400

    Ability to return to specific authority.control_set or
    
    to specific authority.control_set_authority_field from a child table.
    Other improvements heading toward finishing authority control set config UI
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

82	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/Authority.pm
11	0	Open-ILS/web/js/ui/default/cat/authority/common.js
5	1	Open-ILS/web/templates/default/cat/authority/control_set.tt2
42	26	Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2
4	13	Open-ILS/web/templates/default/cat/authority/thesaurus.tt2
 create mode 100644 Open-ILS/web/js/ui/default/cat/authority/common.js

commit f634d30849f91bd51ef9fbfcbba639ad658a1c1c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 21 14:22:26 2011 -0400

    Editor for authority fields
    
    Due to time constraints (and AutoGrid limitations) a click-through UI
    with separate pages for separate objects used by the new authority
    control sets feature is necessary for now rather than a comprehensive
    interface with multiple grids on the same page.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

82	0	Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2
 create mode 100644 Open-ILS/web/templates/default/cat/authority/control_set_authority_field.tt2

commit e3fa59368c8e8a3b1d26c442e58b1fe57526611c
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 21 14:08:55 2011 -0400

    Thesauri editor

2	1	Open-ILS/web/js/dojo/openils/authority/nls/authority.js
2	2	Open-ILS/web/templates/default/cat/authority/control_set.tt2
72	0	Open-ILS/web/templates/default/cat/authority/thesaurus.tt2
 create mode 100644 Open-ILS/web/templates/default/cat/authority/thesaurus.tt2

commit ade9dc1af909b8a31e98b1c6df2a63af3b4aeba8
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 21 12:43:52 2011 -0400

    moving stuff where it goes

0	85	Open-ILS/web/templates/default/authority/control_set.tt2
84	0	Open-ILS/web/templates/default/cat/authority/control_set.tt2
1	1	Open-ILS/xul/staff_client/chrome/content/main/menu.js
 delete mode 100644 Open-ILS/web/templates/default/authority/control_set.tt2
 create mode 100644 Open-ILS/web/templates/default/cat/authority/control_set.tt2

commit 580fed6d32cd8113c6d45a6c36fa97e28cce9f78
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 21 10:27:11 2011 -0400

    conify type interfaces in progress.
    
    not completely deleting old unfinished ones yet; there are probably
    things to salvage
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

21	21	Open-ILS/examples/fm_IDL.xml
44	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/Authority.pm
3	1	Open-ILS/web/js/dojo/openils/authority/nls/authority.js
1	1	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js
5	0	Open-ILS/web/opac/locale/en-US/lang.dtd
85	0	Open-ILS/web/templates/default/authority/control_set.tt2
0	40	Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2
40	0	Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2.old
0	40	Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2
40	0	Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2.old
0	34	Open-ILS/web/templates/default/conify/global/authority/control_set.tt2
34	0	Open-ILS/web/templates/default/conify/global/authority/control_set.tt2.old
0	38	Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2
38	0	Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2.old
9	2	Open-ILS/xul/staff_client/chrome/content/main/menu.js
10	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
 create mode 100644 Open-ILS/web/templates/default/authority/control_set.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2.old
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2.old
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/control_set.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/control_set.tt2.old
 delete mode 100644 Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2.old

commit 382e517182fcbd4c37778bd21dd567f1f0e6df4a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Jun 15 15:45:10 2011 -0400

    Put thesaurus-z handling back in
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	0	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 41eb0560ca9810d9d1b6c5342c384aa56aef43c5
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 3 10:29:52 2011 -0400

    Beginnings of the config interfaces
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

40	0	Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2
40	0	Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2
34	0	Open-ILS/web/templates/default/conify/global/authority/control_set.tt2
38	0	Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/authority_field.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/bib_field.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/control_set.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/authority/thesaurus.tt2

commit fe16ee4245a7df991ce645967a6ffdd798c13f46
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 30 23:49:18 2011 -0400

    Move RULE down so that the named tables actually exist
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	1	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 3f4e0e6834a35d8bfca9b1e14fb51306f049e7f5
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sun May 29 20:30:27 2011 -0400

    Switch authority startwith index back to the pre-checking-deletedness version
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	10	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit 71948964b5361b5084f762a518c7cd23a37c3f92
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat May 28 12:23:24 2011 -0400

    correcting template generation; filter out subfields that we do not use in the authority record
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

3	3	Open-ILS/src/sql/Pg/011.schema.authority.sql
1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 3f8c866509587b066109a1051f82df0aef9d2b79
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat May 28 11:27:04 2011 -0400

    Minor bug fixes (alignment of fm classes, etc); Do not check deletedness, just remove the afr data upon "delete" of an authority; We still need the non-tpo index on afr.value
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	11	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
3	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
2	13	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
6	2	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit cf5a35ed963692a7e265224f65adadba9ee2ce58
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 27 21:12:18 2011 -0400

    Heading normalization bug; Use CStoreEditor, not Editor; syntax-y bugs
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Authority.pm
1	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
8	8	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
7	5	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 3f47c3f331d2cf45153cf0590eb462c2c36b718a
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 27 16:38:43 2011 -0400

    General bug fixes and formatting cleanup
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	1	Open-ILS/examples/fm_IDL.xml
248	224	Open-ILS/web/js/dojo/MARC/FixedFields.js
5	5	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit 509eb848ebf06e4dc45b3b03f7cea8929b6faab1
Author: berick <berick@esilibrary.com>
Date:   Thu May 26 15:34:07 2011 -0400

    Repaired syntax errors in SuperCat.pm
    
    Signed-off-by: berick <berick@esilibrary.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit 1cdc294001f2d05f3701a04eed7c98957957c763
Author: berick <berick@esilibrary.com>
Date:   Thu May 26 15:13:48 2011 -0400

    Repaired syntax errors and thinkos
    
     * Syntax in AuthorityControlSet.js
     * Protect against empty kwargs hash
     * marcedit.js fixes: Load dojo class before use; Load in my_init(), before which dojo is not defined
    
    Signed-off-by: berick <berick@esilibrary.com>

7	4	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
4	1	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 4e1432dc5f5c1f0353b7a02564b555367366e3e7
Author: berick <berick@esilibrary.com>
Date:   Thu May 26 14:44:48 2011 -0400

    Protect against empty lists of linked bib searches
    
    Instead of returning undef when passed an empty list of bibs, always
    return an array from
    open-ils.cat.authority.records.count_linked_bibs
    Apart from consistency, this prevents JS errors in the Manage
    Authorities UI.
    
    Signed-off-by: berick <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/Authority.pm

commit 6b02e30519a690dc0b27cca9679a078c919c463e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 16 14:00:04 2011 -0400

    SQL typo cleanup
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	8	Open-ILS/src/sql/Pg/011.schema.authority.sql
3	3	Open-ILS/src/sql/Pg/950.data.seed-values.sql
1	1	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 45916bdead2f8821acec6601dd186d6ac0839912
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 12 11:10:42 2011 -0400

    Use the configured set of authority browse axes in the authority browse interfaces

1	0	Open-ILS/web/js/ui/default/cat/authority/list.js
13	6	Open-ILS/web/templates/default/cat/authority/list.tt2

commit aefd51031be384e5db8e9da63682f70be95fdc2c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 12 10:18:58 2011 -0400

    Use the new singular methods that accept an axis as a param for browse and startwith

53	20	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit 106520e58aa7ab388f575242a89bfe299ec0a5d1
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 12 10:18:15 2011 -0400

    Add method for returning valid authority browse axes

32	14	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit 0cd95625806247edb1350af52ac35cfda3710c14
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 20:28:39 2011 -0400

    Browse axis based browse and startswith methods; minor documentation corrections

97	9	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit 3a63f4579eed4582fd6dc0d910dcdc301737108c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 19:31:36 2011 -0400

    Use ACS utility functions instead of hard-wired mapping

7	29	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit de741e118148e9593f218bae37c09eebdbd965e0
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 19:31:15 2011 -0400

    Fetch ACS stuff up front; enhance inter-object mapping per IDL; utility functions

80	7	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit 750fcec8604c3054a68d99c2a1e4be6b5b05add7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 19:30:05 2011 -0400

    Add axis_maps virtual field to control set authority field

2	0	Open-ILS/examples/fm_IDL.xml

commit 5ed4a1ffebf9c7191123f642d2865bf2de3b63d7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 17:06:45 2011 -0400

    Adding tables for browse axis mapping

42	0	Open-ILS/examples/fm_IDL.xml
12	0	Open-ILS/src/sql/Pg/011.schema.authority.sql
16	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 655fcbd6e50d1f76c555c2af686a5fb9ce7065c0
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 13:24:17 2011 -0400

    Use MARC.FixedFields.setFixedField and validate by startwith search against simple_normalized_heading

21	56	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 1e7663696b09c43379510faff416e94a9b1827ae
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 12:54:16 2011 -0400

    Function to find authority records matching a MARC field

7	0	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit d2e334b617523cd6a559238b38d0a0808a36a377
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 12:52:04 2011 -0400

    adjust parameters and documentation note

3	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Authority.pm

commit df89ecb9bfe15027d0c15c157c29b2f1649b4384
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 12:31:13 2011 -0400

    use the new transformed-value starwith operator

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Authority.pm

commit 731f2e7c2fc1af4060b97656f2637fab05b0ebe2
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 11 12:30:08 2011 -0400

    add a special startwith op for use with transformed values (cannot do it another way currently)

11	2	Open-ILS/src/c-apps/oils_sql.c

commit fb6f9fd5c7059b21650eb472ed3650994556bb73
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 19:36:12 2011 -0400

    Methods for searching by marcxml, constrained (or not) by control set

55	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Authority.pm

commit 635e304d9b111851d4b57f2b9d8a2844ce918f1b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 18:48:53 2011 -0400

    Add an index using authority.simple_normalize_heading for search

1	0	Open-ILS/src/sql/Pg/800.fkeys.sql

commit 36c64ccf37bb8e245c84cfb79ffc549bde59346b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 18:19:19 2011 -0400

    Variant of authority.normalize_heading which ignores thesaurus for comparing slim auth records generated from bibs

14	2	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit c923eac2cd5c6d758ae84f5774775a6c2ad06ae9
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 16:35:30 2011 -0400

    functions for converting bibs to authorities based on ACS

60	5	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit 3e6438abe4008b89b11497c32ae466e565d8bb3f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 15:17:41 2011 -0400

    Move the AuthorityControlSet module into openils -- it loads data from the server

0	424	Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js
424	0	Open-ILS/web/js/dojo/openils/AuthorityControlSet.js
137	148	Open-ILS/xul/staff_client/server/cat/marcedit.js
 delete mode 100644 Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js
 create mode 100644 Open-ILS/web/js/dojo/openils/AuthorityControlSet.js

commit 2151d7ea85b4c70c89ee6c928c9291441525c29f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 15:15:41 2011 -0400

    Utility methods

20	0	Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js

commit 52f13d946eaa663b6f7a94d69150347b2aa3408e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 15:13:41 2011 -0400

    Bug fixes; Add a method for setting fixed fields; Set the Type FF when rtype=AUT

57	5	Open-ILS/web/js/dojo/MARC/FixedFields.js
6	0	Open-ILS/web/js/dojo/MARC/Record.js

commit bfd2f1fbc65368a799731adaeb5d863e61f1c4cf
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 15:12:04 2011 -0400

    Move the function to before its first use

53	0	Open-ILS/src/sql/Pg/011.schema.authority.sql
1	53	Open-ILS/src/sql/Pg/020.schema.functions.sql

commit 1376352fb9f18b5784a20ac81889df6b0e251fe4
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 9 14:21:17 2011 -0400

    Only load control sets once, set the default to the first (for now... YAOUS later)

20	34	Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js

commit 3457b554dc84bdca171ad8458f428ca9587bcf24
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 6 16:53:17 2011 -0400

    Add some logic for fetching stored controlsets and switching amongst them

368	261	Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js

commit cedebcd8835579bdcd047e9a5601455036144d43
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 6 15:29:38 2011 -0400

    Initial move of fixed-field manipulation out to the MARC Dojo module

1575	0	Open-ILS/web/js/dojo/MARC/FixedFields.js
39	670	Open-ILS/xul/staff_client/server/cat/marcedit.js
 create mode 100644 Open-ILS/web/js/dojo/MARC/FixedFields.js

commit c7f4ec8091d071ffd07e9e6ccb815c85a88b49c6
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 6 15:29:07 2011 -0400

    bring backend version up to date with the marc-editor embedded version

377	270	Open-ILS/src/javascript/backend/catalog/fixed_fields.js

commit 0fec22966751d1c56070a6d21dc1a737b8f029f6
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 6 15:28:00 2011 -0400

    Stub of a new Dojo module for manipulating ACSs

311	0	Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js
 create mode 100644 Open-ILS/web/js/dojo/MARC/AuthorityControlSet.js

commit cd319a49c59f3cdc82dcaec571dc3dd957c2468c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 6 12:58:17 2011 -0400

    Use unicode escape instead of raw bytes, for ease of maintenance

1	1	Open-ILS/src/sql/Pg/020.schema.functions.sql

commit 40283f335c75a75ab2829af3e202a1d33115f44d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Apr 21 12:36:05 2011 -0400

    replace the perlish authority.normalize_heading with a nearly-equiv plpgsql version that understands control sets

41	78	Open-ILS/src/sql/Pg/020.schema.functions.sql

commit 89732bcec8e8aa84b5fc1b319db2ebc781144667
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 11 11:59:39 2011 -0400

    Fix XPath in tracing links view; Replace authority overlay template building function with a PLPGSQL + SQL/XML version that is control set aware

48	78	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 470fa05860f0f911e40bb19b04e707f0d5e5bc7e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 11 11:57:55 2011 -0400

    Add See From tracings to LoC authority control set

17	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 331649ac7c0e046bd3e73958ba7bec6afd5dc863
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 11 10:24:41 2011 -0400

    Use control sets to drive the tracing links view

18	12	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 4740d69d92072017bc31fef38169b92540916546
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 11 09:23:51 2011 -0400

    Add pcrud controller to control set classes; realign IDL to match tables

8	6	Open-ILS/examples/fm_IDL.xml

commit 0196b3b5e2b5c1bab752ec763185e089efed973c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 11 09:16:58 2011 -0400

    Trigger to map from thesaurus to control set

13	1	Open-ILS/src/sql/Pg/999.functions.global.sql

commit bfed0299bd167da616b8960d96c1fc8bda1754a1
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sun Apr 10 21:33:40 2011 -0400

    Actually use authority.rec_descriptor, populating it with RecStat, ELvl and Subj (aka Thesaurus)

1	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
5	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
11	8	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 09e928786c75e67e24bd563c44ef91d85d3dbb79
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Apr 4 16:12:45 2011 -0400

    figure out non-authoritive fields to search based on the main_entry field on subordinate fields

21	21	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit da36fd8365210436597c7499c44bf85e5a6c6379
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sun Apr 3 18:49:08 2011 -0400

    Seed data for Authority Control Sets -- LoC

115	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit bdbcc734d179f8c12a27ec65f49650667ed658cc
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sun Apr 3 18:48:30 2011 -0400

    Reworking tables a bit to include subfield list on controlling tags, specify hierarchy of tags (main-entry pointers for non-main fields), and remove unneeded name/description on bib fields

3	3	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit 3ab55df32f5eefae941097a34f24cfb776c8508f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sun Apr 3 15:17:15 2011 -0400

    Fieldmapper additions for Authority Control Set tables/classes

91	0	Open-ILS/examples/fm_IDL.xml
60	2	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 063e907ad504270efd34e063f4784aee8621e493
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sun Apr 3 10:19:38 2011 -0400

    Initial schema changes for Authority Control Sets; some whitespace cleanup

108	72	Open-ILS/src/sql/Pg/011.schema.authority.sql

commit bded11d22c5f1f094189746dde97adaa945eab25
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 8 15:13:25 2011 -0400

    Wrapped up Novelist integration support
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	0	Open-ILS/web/templates/default/opac/parts/js.tt2
9	8	Open-ILS/web/templates/default/opac/parts/record/awards.tt2

commit bc6e33e0c0f6e6edf9cb62a3463c634bd54cc50f
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 8 14:17:38 2011 -0400

    Load Chilifresh content after page load
    
    Execute the CF JS after other inline JS has run.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/chilifresh.tt2

commit 12ca45468d394133e70555b18ca3e10029602389
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 8 14:17:16 2011 -0400

    Removed duplicate 'extras' tab
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

0	1	Open-ILS/web/templates/default/opac/parts/record/extras.tt2

commit e56472f0c88aed78f23c5abf6f3e460d0dc63774
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 8 12:32:14 2011 -0400

    Avoid mixed content warnings on embedded content cafe
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2

commit d698321e9f96c2d75dab4cfe9a68a91e061cda68
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jul 8 12:22:24 2011 -0400

    Support for embedded Content Cafe on details page
    
    Added support for two new Apache environment variables
    OILS_CONTENT_CAFE_USER and OILS_CONTENT_CAFE_PASS.  If set, a Content
    Cafe pane will be loaded (via iframe) directly into a new "Summaries &
    More" section on the record details page of the TT-pac, when the
    section is expanded.  In addition to the C. Cafe content, we also show
    the 520 bib summary in the same pane.
    
    "Summaries & More" is only visible if either there is 520 data or there
    is a suitable identifier (isbn or upc) and the content cafe
    configuration is in place.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	2	Open-ILS/examples/apache/eg_vhost.conf
1	0	Open-ILS/web/css/skin/default/opac/style.css
1	0	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
13	1	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
15	0	Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/summaryplus.tt2

commit df467c8cd0feeee08ce401544e60453899aa4ed7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Jul 6 16:34:41 2011 -0400

    Correct CDBI field name on biblio::peer_bib_copy_map
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/biblio.pm

commit 8b83743961623b69f2803a6ae28a373fcd03fcc3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 7 14:08:28 2011 -0400

    Ignore part-mapped copies for mr/title/volume holds
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

12	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 2dc603fc4f94920181dbb48f81792f923f22c129
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 24 14:53:50 2011 -0400

    Add Class::DBI linking for monograph parts (and some for conjoined items AKA peer bibs)
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

12	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI.pm
3	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/biblio.pm
4	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/dbi.pm

commit 78060e952bef17e91d6b7c3180c56f1aa52965af
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 24 14:54:31 2011 -0400

    Correct a documentation comment
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 20735bf13454c3d9bdcc958805228c85ec7af031
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 24 14:55:49 2011 -0400

    Filter out copies that have a monograph part designator when the hold is a non-P hold
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 49d8828b18ebf2e091e3af1a9f70cec82d62eb69
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jun 28 14:51:43 2011 -0400

    Suggest parts selection on failed parts-capable hold
    
    When a title has copy parts and the user does not select a specific part
    for the hold, treat it as a regular title hold.  If the title hold
    fails, suggest to the user that he/she should select a specific part,
    since that opens the door to a new set of potentially capturable copies,
    which allow the hold to be successfully placed.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
14	1	Open-ILS/web/opac/skin/default/js/holds.js
1	0	Open-ILS/web/opac/skin/default/xml/common/holds.xml

commit 3bade44241f9c77cf2cc6bffc4bdf78cca1ebbea
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jul 7 14:24:45 2011 -0400

    Stamped DB version for hold_pull_list_template w/ parts
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
79	0	Open-ILS/src/sql/Pg/upgrade/0574.data.hold_pull_list_template.sql
0	79	Open-ILS/src/sql/Pg/upgrade/xxx.data.hold_pull_list_template.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0574.data.hold_pull_list_template.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/xxx.data.hold_pull_list_template.sql

commit 617e313d991dcc1cbc60d89685f3d95d1d5fb40a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jul 6 12:05:58 2011 -0400

    Add "parts" to Print Full Pull List and Print Full Pull List (Alternate strategy)
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
13	7	Open-ILS/src/sql/Pg/950.data.seed-values.sql
79	0	Open-ILS/src/sql/Pg/upgrade/xxx.data.hold_pull_list_template.sql
2	2	Open-ILS/web/opac/extras/circ/alt_holds_print.html
5	0	Open-ILS/web/opac/extras/circ/alt_holds_print.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/xxx.data.hold_pull_list_template.sql

commit a45184da2ac9f490886ebde47fcc8af4227afcf0
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Jul 7 13:06:48 2011 -0400

    Stamping upgrade version number for staff_search_find_no_copies branch
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
318	0	Open-ILS/src/sql/Pg/upgrade/0573.schema.staff_search_find_no_copies.sql
0	306	Open-ILS/src/sql/Pg/upgrade/XXXX.staff_search_find_no_copies.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0573.schema.staff_search_find_no_copies.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.staff_search_find_no_copies.sql

commit 9a356a2371930c76554fd3dc5a7d10dc21cf914a
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jul 6 12:54:42 2011 -0400

    Unwrapped upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

306	0	Open-ILS/src/sql/Pg/upgrade/XXXX.staff_search_find_no_copies.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.staff_search_find_no_copies.sql

commit 4d0dae6ee876830cb87ee393a41fcdc478ecc6b0
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jul 6 12:54:03 2011 -0400

    Allow staff search to find bibs sans copies
    
    AKA, no call number OR no call numbers with copies
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/sql/Pg/300.schema.staged_search.sql

commit 8f2719225d2d951554b97209fa5d3a784f38efda
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 17 01:27:11 2011 -0400

    in unified vol/copy editor disallow editing of item attributes when no copies except via templates
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	3	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit 2fc6c995cd469353f494e336b8db3b677aa3d25e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jul 6 15:18:48 2011 -0400

    Stamped DB version
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1594	0	Open-ILS/src/sql/Pg/upgrade/0572.schema.vandelay-record-matching-and-quality.sql
0	1596	Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0572.schema.vandelay-record-matching-and-quality.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql

commit 11218af3531a20925b6a9fdc5aa0eb97777f15a7
Author: Bill Erickson <berick@squeeze.localnet>
Date:   Wed Jul 6 12:52:04 2011 -0400

    Seed data and schema cleanup for merge
    
     * Updated A/T event-def ID in seed data to match master
     * Move schema elements into the correct order in the baseline files (mike)
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	332	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
1	1	Open-ILS/src/sql/Pg/030.schema.metabib.sql
2	0	Open-ILS/src/sql/Pg/800.fkeys.sql
36	42	Open-ILS/src/sql/Pg/950.data.seed-values.sql
331	0	Open-ILS/src/sql/Pg/999.functions.global.sql
35	35	Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql

commit aa2579147103fef0d17f249336c088d041b5b403
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue May 31 15:24:09 2011 -0400

    Logic error fixes in Vandelay
    
    * When counting import failures, also count records that have no import
    items attached
    
    * Fixed problem w/ not setting import time/as on newly imported records
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 05df9c099d497a017a03f37f5116750691d01087
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue May 31 12:16:16 2011 -0400

    Repaired typo on schema and upgrade SQL
    
    ARRAY_ACUM is not a defined function.  Per Dan Scott, replaced with
    ARRAY_AGG instead of the correctly spelled ARRAY_ACCUM, since we'll be
    using that function in place of ARRAY_ACCUM going forward.
    
    Thanks, Dan.
    
    Minor syntax/cleanup repairs
    
    Remove tmp seed data file.  T'was replaced with upgrade script
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql
2	4	Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql
0	572	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 53ed31174c82d971e931682d80c54e77b07c15f8
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 26 16:23:18 2011 -0400

    Correct regression that was held over due to massive moving of functions
    
    upgrade script cleanup
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	3	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
62	82	Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql

commit 70ea48192396caf3051673162cc06a423d065e02
Author: berick <berick@esilibrary.com>
Date:   Thu May 26 10:32:15 2011 -0400

    seed data for vandlelay export templates

569	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 55b5194b26062cef811f5fde9487d4b64158bcb5
Author: berick <berick@esilibrary.com>
Date:   Thu May 26 10:30:59 2011 -0400

    Initial upgrade script for vandelay improvements
    
    TODO:
        * Set up the ALTER TABLE statements
        * Further review
        * Testing

1618	0	Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.vandelay-record-matching-and-quality.sql

commit b79724aa8ad7ea1783b8f100e19effa493b39b34
Author: berick <berick@esilibrary.com>
Date:   Tue May 24 09:16:10 2011 -0400

    repair selector column width (move to width attr) to free up space in queue display

2	1	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit a513654859fd4eeb188097355a34074406a85479
Author: berick <berick@esilibrary.com>
Date:   Tue May 24 09:15:13 2011 -0400

    disable sorting on selector column in queue grid

3	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 19ab89718293f1ae761a0237cea47ecbfda76f9c
Author: berick <berick@esilibrary.com>
Date:   Mon May 23 14:17:08 2011 -0400

    avoid pile-up of dojo-attached event handlers for queue upload inputs

9	2	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 4c0d9bcacb0cb29c2a2c33032fed8392299353b5
Author: berick <berick@esilibrary.com>
Date:   Mon May 23 14:16:32 2011 -0400

    set imported_as / import_time on import items after successful import

10	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 669d12b7b58da33fa889fc0faa8b1ea40f4733d8
Author: berick <berick@esilibrary.com>
Date:   Mon May 23 11:51:05 2011 -0400

    Yet more Vandelay fixes
    
    * Remove the deprecated .nomatch API call.  no-match is now a runtime
    option
    
    * Re-fetch queued record after auto-import to avoid clobbering
    imported_as as set by the DB during auto import

49	33	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
0	11	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 0612489eb8d325b30c4fa1bf7afa961cd9c45979
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat May 21 09:05:04 2011 -0400

    Spacing and code comments to keep future-miker from becoming confused again by the lack thereof
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit bae1ec5dd89662529127eab766ba100afe53c618
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri May 20 18:12:58 2011 -0400

    Show the "match score," a hopefully clearer term for match point quality,
    
    in the expression tree UI
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

2	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
11	3	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js
1	1	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2

commit 3b250d8c958b209e0739eda15bb58b1456e2ff5a
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 17:13:13 2011 -0400

    Add items-imported to VL queue summary
    
    Added total_items_imported value to queue summary API call.  Displaying
    value in vandelay queue summary area.

3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
1	0	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit a56d95c3218ed1a4c78434430df3206e752c1a54
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 17:06:05 2011 -0400

    Track import time and target copy on import items
    
    Added import_time and imported_as columns to vandelay.import_item
    
    For you branch trackers:
    
    ALTER TABLE vandelay.import_item
        ADD import_time TIMESTAMP WITH TIME ZONE;
    
    ALTER TABLE vandelay.import_item
        ADD imported_as BIGINT REFERENCES
        asset.copy (id) DEFERRABLE INITIALLY DEFERRED;

3	0	Open-ILS/examples/fm_IDL.xml
2	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 205675af130077e3fe74325983f22c68d74267a9
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 13:45:52 2011 -0400

    more delineation of quality vs. score in match set config

2	2	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2

commit 780e59e5baa189e7c7fa01c41378cd51cbbfb834
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 13:26:03 2011 -0400

    Match set point quality terminology change
    
    Change "Quality" in the context of a match set
    point to "Match Score Value" to avoid overriding the term "quality".

1	1	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2

commit f2218fa2015df835718d4bba856c3365e84333f3
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 13:23:08 2011 -0400

    Return to dijit.form.Button for VL upload form
    
    Otherwise the form is not correctly POSTed

1	1	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit f18a260e1f75c090e1a1567173c53d82fd651fb2
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 13:20:40 2011 -0400

    show activity dialog on vandelay item export

2	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 05c990e3c61a140b5036ea1b55f3274cd5cb04a4
Author: berick <berick@esilibrary.com>
Date:   Fri May 20 09:07:44 2011 -0400

    More Vandelay text and style cleanup
    
    * More consistent use of the word "match"
    * Make upload input more obvious w/ a border
    * Move some strings into DTD

2	1	Open-ILS/web/opac/locale/en-US/vandelay.dtd
7	5	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit 70f893c2d049f17ae7ff35d86c2f48cae01e1503
Author: berick <berick@esilibrary.com>
Date:   Thu May 19 15:40:30 2011 -0400

    Flexible TCN match configuration
    
    If users do not want records with duplicate TCN values imported, users
    should rely on match-sets to enforce this policy instead of a hard-coded
    duplicate tcn block.  This is done by automatically calling the 'override'
    version of bib XML import.  The only tcn-related failure that can now
    occur is if no free, non-dupe TCN value can be extracted from the record.

4	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 12029c8f696863957ddbbdb784c4dda0a8e94f56
Author: berick <berick@esilibrary.com>
Date:   Thu May 19 15:26:49 2011 -0400

    Vandelay import improvements / bug fixes
    
     * Allow for quality ratio control during import-on-1match
     * Allow for 901c matching when no match-set is selected
     * Tidy up some display strings
     * Numerous small bug fixes

49	30	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
23	14	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
1	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
7	7	Open-ILS/web/opac/locale/en-US/vandelay.dtd

commit 7f913b210b523d68dd4bb7395b37dd5f824e1e22
Author: berick <berick@esilibrary.com>
Date:   Thu May 19 12:37:52 2011 -0400

    Clean up match_set data on delete
    
    Delete via cascade match_set_point's and match_set_quality entries
    for a given match_set on delete

2	2	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 0cf7d27b68cba7d10942db2ee8d8ae3ff8fc17ec
Author: berick <berick@esilibrary.com>
Date:   Thu May 19 10:23:36 2011 -0400

    Display org shortname in merge profile editor
    
    ...instead of org unit ID

5	0	Open-ILS/web/templates/default/vandelay/inc/profiles.tt2

commit 10c443b05e002ba1cf3c917c228b77e312f35c59
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sat May 14 13:44:56 2011 -0400

    return after Email sent alert

1	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit e9c64425a8df9e91c9f14051e87138edd5d84aeb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sat May 14 13:40:36 2011 -0400

    This function also gets used with authority queues, so don't assume import_items()

4	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit c094b362e18e9fed3551c2c2fa9375dbb0627789
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sat May 14 13:30:29 2011 -0400

    email template for import items export

73	1	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 40a118a3ddf858ad88f5696406b6b3abac9dcc0f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sat May 14 13:21:02 2011 -0400

    tweak formatting for CSV export templates, and add headers

11	3	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 98d5a7532ec67ce24c385648ba4cc8a24fdefb26
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sat May 14 13:15:15 2011 -0400

    CSV template for import items export

37	1	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit a65d906c7591a7c1d6312d3772b44272f61627b2
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sat May 14 12:58:31 2011 -0400

    robustify exportHandler, assume response of 1 is success for email methods, and make import_item export methods atomic

7	4	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit bd61d29819665315ba2f8ac2de9e162e864dabd0
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 12 23:18:57 2011 -0400

    toward Import Item templates for export.  May want to consider providing IDL links for some of these fields so we can flesh them in the environment

71	1	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 6e2fb189b6c199f0ec08662352803044b228abe7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 12 23:05:35 2011 -0400

    Remove excised field from IDL

0	2	Open-ILS/examples/fm_IDL.xml

commit 78366c9c9a039c722fd5b1187a6a9d431f3a61e0
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 12 22:35:22 2011 -0400

    fix variable name for Import Items Export

1	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 93aef19351dcb1538c9a4ddf2d5bfcbd37284015
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 12 21:42:43 2011 -0400

    change the group field for these templates, though they weren't breaking anything before (these are called with fire_object_event and instead of create_events_for_hook, if that makes a difference)

4	4	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 6162208b18d9351870770648d70e68575d7d68a2
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 12 21:38:54 2011 -0400

    templates for exporting authority queues, but needs testing.  blockers here include importing authority records being broken, and possibly selection of an authority queue to inspect being broken

26	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
127	1	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit eb4fbe43bb76aefc210bb92137996474887da0bf
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 12 19:50:08 2011 -0400

    email template for queued bib records

63	1	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 9cc978be2ed4741410ce4d95913f4cf53cb93ba7
Author: senator <lebbeous@esilibrary.com>
Date:   Wed May 11 11:44:02 2011 -0400

    In the event that a bib queue is not using a match_set, bail out of...
    
    ... match_set_test_marcxml() early.  Needs tested.  Also may need
    special check for non-null but empty match_sets.

4	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 72522570c89283573ebf914a604c12c016761208
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 11 02:42:30 2011 -0400

    CSV template and file saving worked out

34	1	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql
15	3	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 0853fdbf76f0ceadc77be39c7a5961dde409d756
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 11 01:39:32 2011 -0400

    first template and supporting code, printing queued bib records

25	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm
14	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
165	0	Open-ILS/src/sql/Pg/upgrade/renumber_me.sql
9	5	Open-ILS/web/js/ui/default/vandelay/vandelay.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/renumber_me.sql

commit 97f5bf78b56c673678404eec7c8961e49316cb35
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 10 13:18:18 2011 -0400

    remove .atomic. from these method names

6	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit d49ebdc0a9995bfcf7829cd3f5e0b0c2a88509cb
Author: berick <berick@esilibrary.com>
Date:   Tue May 10 10:54:37 2011 -0400

    add .atomic to the end of the queue export API calls where it belongs

3	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 43e5b25daf7eecea247aebaf76fd2e2c722ab5af
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 10 00:29:56 2011 -0400

    wire in the event firing, though we still need the templates.  Put streaming back in for the print/csv/email export methods, since we can respond_complete for email and it to doesn't hurt the other two.

94	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit f9ef894ebd6d76f1a85c67d82473c6af31ad4ac3
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 9 23:50:31 2011 -0400

    register the methods we're expecting for the print/csv/email exports in Vandelay, and remove limit/offset options for such methods, and expectation of streaming

87	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 57692a847e30c2a95c568f2b15ed0cc6669a392c
Author: berick <berick@esilibrary.com>
Date:   Fri May 6 15:37:32 2011 -0400

    initial export drop-down for items UI

30	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js
9	0	Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2

commit e4f5a23f414a1afe91a758e563bed1112d0bc9d6
Author: berick <berick@esilibrary.com>
Date:   Fri May 6 14:46:25 2011 -0400

    initial export drop-down for queue UI

29	13	Open-ILS/web/js/ui/default/vandelay/vandelay.js
7	0	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit 0f725603bf94f71bf71de57f9c9e8c42f445cc0c
Author: berick <berick@esilibrary.com>
Date:   Thu May 5 14:56:39 2011 -0400

    more import error tracking and reporting bug fixes

30	31	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 6baadbc2fcd5baf128d6ad7768726addae1d9a2b
Author: berick <berick@esilibrary.com>
Date:   Thu May 5 14:11:10 2011 -0400

    run zz_match_bibs_trigger before update/insert so NEW.quality:= will work

1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 64e04af74bc1d40a168dd6e4244b0769cfafcb44
Author: berick <berick@esilibrary.com>
Date:   Thu May 5 13:21:56 2011 -0400

    expose new import options to queue interface importer dialog; mucho import bug fixes in the middle layer code; expose queued rec quality in matches interface

2	0	Open-ILS/examples/fm_IDL.xml
57	44	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
60	48	Open-ILS/web/js/ui/default/vandelay/vandelay.js
1	0	Open-ILS/web/templates/default/vandelay/inc/matches.tt2
19	8	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit 207dd51b5dae6f5c4f88f576f79d6736b16ef559
Author: berick <berick@esilibrary.com>
Date:   Thu May 5 10:28:15 2011 -0400

    added edit support for lwm_ratio on merge_profile; default ratio to that of the merge profile if selected and if a ratio is set on the profile

16	3	Open-ILS/web/js/ui/default/vandelay/vandelay.js
2	2	Open-ILS/web/templates/default/vandelay/inc/profiles.tt2

commit ff796bd6fc1ae0744a7f7efc73a0bdb11b9975e8
Author: berick <berick@esilibrary.com>
Date:   Thu May 5 10:27:31 2011 -0400

    added missing lwm_ratio field to vandelay.merge_profile

1	0	Open-ILS/examples/fm_IDL.xml

commit 130a5dcf1f0c8bdc79dc617873e20033dc433311
Author: berick <berick@esilibrary.com>
Date:   Thu May 5 10:01:22 2011 -0400

    record import error handling improvements

4	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 815e3e2f48614f1cead864d4151f188c62a88d95
Author: senator <lebbeous@esilibrary.com>
Date:   Wed May 4 17:33:29 2011 -0400

    the vandelay match set editor now does quality metrics too

12	4	Open-ILS/examples/fm_IDL.xml
3	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
84	53	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js
11	9	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2

commit da3a453442050482a419deff91d3dc92fdbf132a
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 17:15:03 2011 -0400

    Best Match w/ quality ratio merging
    
     * Mew Best Match option in merge/overlay
     * support for upload time minimum record quality ratio
     * We now /only/ create new records if no matches exist and the user
       selected a match-free import
     * Selecting a match-free import no longer trumps other merge imports.
       They both work together now.
    
    TODO: find out why queued record quality is not getting set at queued
    rec creation time.

37	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
41	16	Open-ILS/web/js/ui/default/vandelay/vandelay.js
1	0	Open-ILS/web/opac/locale/en-US/vandelay.dtd
1	1	Open-ILS/web/templates/default/vandelay/inc/matches.tt2
5	2	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit 9e9c1c3b6ab1c85e803f7611a38cfd4a9113e027
Author: senator <lebbeous@esilibrary.com>
Date:   Wed May 4 16:41:20 2011 -0400

    working in quality metric editor

2	2	Open-ILS/examples/fm_IDL.xml
167	79	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js
39	2	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2

commit aa4fbb88b33a5b8f55295605caecf4841cfbb05a
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 15:58:37 2011 -0400

    grab attr value from vandelay.extract_rec_attrs hstore to compare to configured value

1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 5a13cc0b51f5d5a96a125beac16bf587c6189701
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 15:45:55 2011 -0400

    repaired copy/paste error in match_bib_record

1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit b212468779aa74dd719cb9ac614919c749927260
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 4 15:44:19 2011 -0400

    Allow different quality measures for different values on the same tag+sf/svf

1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 45cf5cbebb15792d0439346d857e0a85aee7200d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 4 14:43:59 2011 -0400

    Save incumbent record quality in bib_match.quality, incoming in queued_record.quality

18	15	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 1395a488c2db041cffc9558d48c2beaef276845a
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 14:37:25 2011 -0400

    initial support for selecting merge-on-best-match and setting minimum quality ratio

5	3	Open-ILS/web/opac/locale/en-US/vandelay.dtd
9	0	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit 054ac72165d347166553d3b0987d1442c194ee2d
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 13:14:38 2011 -0400

    show match score/quality in VL record match grid

4	6	Open-ILS/web/js/ui/default/vandelay/vandelay.js
2	0	Open-ILS/web/templates/default/vandelay/inc/matches.tt2

commit d856654f61afd4c674440c2d2b068336c3d5dfbd
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 13:14:01 2011 -0400

    added missing bib_match.match_score field to IDL

1	0	Open-ILS/examples/fm_IDL.xml

commit 76699369880f251fa0aae5f936642e53cb658a92
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 12:03:22 2011 -0400

    slight mods to vandelay match set page to sync w/ updated bib/auth match table layout

7	3	Open-ILS/web/js/ui/default/vandelay/vandelay.js
0	6	Open-ILS/web/templates/default/vandelay/inc/matches.tt2

commit 9af9f804e7e272845b0dce09d98c1f88f0097670
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 4 11:52:31 2011 -0400

    Give authority flattening the same treatment as biblio flattening

21	0	Open-ILS/src/sql/Pg/030.schema.metabib.sql
0	61	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 5c858d48ef21bb7ed74697b209120faf88c5fcef
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 4 11:08:13 2011 -0400

    Only ingest bibs and items and run matches /before/ we import a bib

24	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit c3201eb4258ce9f1317910417ea6d3b810354727
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 10:45:57 2011 -0400

    more vandelay menubar slimming

1	1	Open-ILS/web/opac/locale/en-US/vandelay.dtd

commit 8c40a2e78e76a495bd3d77abdf565ac1175c89c0
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 10:45:40 2011 -0400

    don't match on deleted bib records

1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit b27b7881d3c3c776bca73b78e02149b3a9459f4c
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 10:13:42 2011 -0400

    also remove matched_set from IDL

0	2	Open-ILS/examples/fm_IDL.xml

commit 8c223ecec89a5e097f13d788e9db016544f761e9
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue May 3 20:23:57 2011 -0400

    Clean up uses of vandelay.incoming_record_quality to provide all required params; Remove matched_set on matches, just look at the match_set for the queue of the vandelay record in question

11	12	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 065b545d3e1ad5ab06205ce8205d49b7dc632610
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue May 3 20:06:46 2011 -0400

    Add MARC::Charset dance to the remaining plperlu function

4	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit b81fd284cb7e600c6f4011741f9d7f91618cab12
Author: berick <berick@esilibrary.com>
Date:   Tue May 3 15:18:55 2011 -0400

    match set selection support in vl uploage UI, part 1

3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
38	4	Open-ILS/web/js/ui/default/vandelay/vandelay.js
7	0	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit f1170755a54cfeb7f55d394989ebbb5c14d9cc85
Author: berick <berick@esilibrary.com>
Date:   Tue May 3 14:42:09 2011 -0400

    delete match_set_point's starting with leaf nodes to avoid foreign key constraints on nodes w/ children

9	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit ce07a23e829a7271fc4b11af72117b8c14837ad3
Author: berick <berick@esilibrary.com>
Date:   Tue May 3 13:55:22 2011 -0400

    create an embedded view of the vandelay match-set admin ui inside of vandelay (as one of the tabs)

18	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js
4	3	Open-ILS/web/opac/locale/en-US/vandelay.dtd
0	10	Open-ILS/web/templates/default/vandelay/inc/attrs.tt2
2	0	Open-ILS/web/templates/default/vandelay/inc/toolbar.tt2
2	0	Open-ILS/web/templates/default/vandelay/vandelay.tt2

commit d2127cf97568f02c8b7cf40e8d981b677455f619
Author: berick <berick@esilibrary.com>
Date:   Tue May 3 11:11:11 2011 -0400

    added support for viewing all import-items related to a queue, with a filter to limit to those that failed import

4	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js
26	19	Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2
1	1	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit 0d784d89f00fd350181e6559a9c94bca039210c8
Author: berick <berick@esilibrary.com>
Date:   Mon May 2 17:48:29 2011 -0400

    added view for all failed item imports for a queue; next up is export options

3	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
37	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
1	57	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit a978e74d8303bf39bdcd081c2f77bb5289d1159d
Author: berick <berick@esilibrary.com>
Date:   Mon May 2 15:51:15 2011 -0400

    added support for 'limit records to those with any import errors' in vandelay queue display

3	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 0aec475a117564063a98a4e0219b35946eb393db
Author: berick <berick@esilibrary.com>
Date:   Mon May 2 15:49:33 2011 -0400

    added 'with_import_error' option to queued record retrieval;  returns recs with either a record or item import failure (or both)

19	13	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 90047c17588fa07bb6cabca1ec14f290198d8883
Author: berick <berick@esilibrary.com>
Date:   Mon May 2 12:52:30 2011 -0400

    Vandelay file upload page cleanup
    
     * Separate data configuration parameters from import actions
     * Since import item profile is linked to queue, show the profile for
        the selected queue and dissallow changing the profile for existing
        queues in the UI (which has no effect)

1	0	Open-ILS/web/css/skin/default/vandelay.css
32	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
22	26	Open-ILS/web/templates/default/vandelay/inc/upload.tt2

commit a8f7f42453896dc97af0d51729a1a04ea7b3e900
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 16:34:54 2011 -0400

    added new stub actions for limit-to-import-errors and show all item import errors; displaying new summary info; much rearrangement to bettet fit the UI pieces

13	0	Open-ILS/web/css/skin/default/vandelay.css
3	0	Open-ILS/web/js/ui/default/vandelay/vandelay.js
9	8	Open-ILS/web/opac/locale/en-US/vandelay.dtd
154	84	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit 7e245cb05b5978b19c7f7f5236cff93906e11718
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 16:33:48 2011 -0400

    add error and item import/error summary info to queue summary api call

31	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 41432f29df97e0ca44a7ac4dc7163f8ce7900803
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 14:16:35 2011 -0400

    No longer limit to non-imported items by default in queue display

2	2	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit ff2ab6bfd10050306dbbb65e1134703433b6b46a
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 13:45:21 2011 -0400

    hide item import error grid when not in use
    
    misc. bug fixes

25	12	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
14	3	Open-ILS/web/js/ui/default/vandelay/vandelay.js

commit 19bb47e04e1de3764fc1e3b93be7589bae0d0e14
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 11:38:52 2011 -0400

    show rec summary and import failure reason when appropriate

6	0	Open-ILS/web/css/skin/default/vandelay.css
20	4	Open-ILS/web/js/ui/default/vandelay/vandelay.js
47	31	Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2

commit f44258e7f54013e6c64f1aeeb617f4b7f016a696
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 11:02:55 2011 -0400

    show item import error counts and rec import error as link to error page;  initial error page

31	3	Open-ILS/web/js/ui/default/vandelay/vandelay.js
45	0	Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2
3	0	Open-ILS/web/templates/default/vandelay/vandelay.tt2
 create mode 100644 Open-ILS/web/templates/default/vandelay/inc/import_errors.tt2

commit d50e03f75c2fa5635e715dcaa8f057f577a508f1
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 09:58:19 2011 -0400

    record / item import failures summar links

26	1	Open-ILS/web/js/ui/default/vandelay/vandelay.js
13	1	Open-ILS/web/templates/default/vandelay/inc/queue.tt2

commit e14a3f4e11bc91d6cc0100209be4e2147f559301
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 09:57:13 2011 -0400

    added virtual field for import_items to queued record

2	0	Open-ILS/examples/fm_IDL.xml

commit 7cca21c8c126e98a64ec8677d2981d4a472ca26a
Author: berick <berick@esilibrary.com>
Date:   Mon Apr 25 09:56:58 2011 -0400

    added option to flesh import items on queued record retrieval

3	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 3585f727e20b8d986e1983213fb6b6677ae169ab
Author: Mike Rylander <mrylander@gmail.com>
Date:   Sat Apr 23 11:47:27 2011 -0400

    Make sort order of imported item retrieval stable

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit e1a271d2525911e5c1cdcbb4bb495b6295acb5df
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 22 16:58:15 2011 -0400

    added api call open-ils.vandelay.import_item.queue.retrieve for fetching import-items by queue, w/ optional has-import-failure filter

58	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 06e1fa2563792748dcebdabbd0a32efa11d559b4
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 22 16:14:47 2011 -0400

    added with_rec_import_error and with_item_import_error filters to records-by-queue retrieval

39	22	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit b61162301e6c81b2be3b0def8438535d2fb4c28b
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 22 13:42:08 2011 -0400

    rec import bug error capturing bug fixes

62	53	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 2620862d7ebafed7a86c26c682a01dcc2d11f705
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Apr 22 13:19:22 2011 -0400

    remove unused match_attr and actually capture eg_record into eg_id

2	6	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit d5c786e515791eaf53992dac8a6bd11520a661d6
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Apr 22 12:55:37 2011 -0400

    Secondary sort by quality ratio (higher means incoming is more "good" than existing) instead of simple incoming quality, which is a no-op (all the same)

4	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 1aaf8a040116c614eb014fd2582e6bbc702b5e92
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Apr 22 12:33:16 2011 -0400

    functions for performing queue-wide vandelay.auto_overlay_bib_record_with_best

25	6	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit ca861020320e5a412114655eba10efe120a668a7
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Apr 22 12:30:17 2011 -0400

    match_score column for recording matchiness; functions for auto-overlay based on "bestness"; low-water-mark boundary for best-auto-overlay

45	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 4de86d2c97b9117db2808681d091f85c79279373
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 22 12:12:30 2011 -0400

    Bugfix for negative matches

1	3	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit b2f78352b012820c1bbf4a6caa49d2380d9a3145
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 22 11:45:49 2011 -0400

    some changes in the UI to reflect DB side changes
    
    Negation and quality are now ignored for operator nodes, and are not
    settable in the UI.
    
    Also in the UI, you can no longer replace the root node of the tree with
    a non-op node, meaning the root of a tree is always AND or OR.
    
    This is due to some bug that hangs the UI now when you try to save a
    single-non-op-node tree, and it's not worth debugging: just remove the
    feature.

2	5	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
7	9	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js

commit c7b99f8d90aa0b3a2be4fc609bfa83e5da261431
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 22 11:29:24 2011 -0400

    Replace vandelay.match_bib_record() with the new tree-y version

211	65	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 813ac365b8ebf1e4d2e4434002ab248a0160833e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Apr 22 11:14:21 2011 -0400

    We don't have a matched_attr column anymore, because we're using the fancy expression tree, so test for 901c match directly

7	15	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit a02e77558027149e5a8d405daba583baa394c796
Author: berick <berick@commidore64.esilibrary.com>
Date:   Fri Apr 22 10:38:38 2011 -0400

    initial cut of capturing bib/auth import errors

91	28	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
11	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit a2a99fc7368401e56c0ff331b39f800ff320ca60
Author: berick <berick@commidore64.esilibrary.com>
Date:   Thu Apr 21 16:55:26 2011 -0400

    initial item-import-failure reporting;  needs testing

49	16	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit 8aa208b2796b05c74d2a4efa126b71514448e4fc
Author: berick <berick@commidore64.esilibrary.com>
Date:   Thu Apr 21 14:27:41 2011 -0400

    previous cast solution didn't work.  casting inline instead

2	3	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 091e82590d2d7b63fa4e882cbc9681b470ba97e2
Author: berick <berick@commidore64.esilibrary.com>
Date:   Thu Apr 21 13:52:49 2011 -0400

    repaired some thinko's in vandelay.match_bib_record stored proc

4	3	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit c9ee753591520129794452347403801545894caf
Author: berick <berick@commidore64.esilibrary.com>
Date:   Thu Apr 21 13:51:51 2011 -0400

    cleaned out some non-existent fields from vandelay classes

0	3	Open-ILS/examples/fm_IDL.xml

commit a050890c67f43f989810bcb76695ff4f13eea938
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Apr 18 13:53:13 2011 -0400

    Working ML method to update a tree

64	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit bae118889863f9fa37fbafd195c5d8ed86404f11
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Apr 18 11:20:28 2011 -0400

    Terminology change, more consitent with existing crad editor

2	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
1	1	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js
1	1	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2

commit fe0c574d0fd474cf1145786ed959ceb4df840874
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Apr 18 11:15:20 2011 -0400

    make the "Your Expression" preview more accurate by
    
    showing "NOT (a OR b OR c)" instead of "(a NOR b NOR c)".
    
    This really only matters in the case of a single clause inside the
    negated expression:
    
    Now such a thing shows up as "NOT (a)" versus "(a)"

8	4	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js

commit 3a406e5cb384a22ade99069a69cec8d9091073c6
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 15 18:01:22 2011 -0400

    Admin -> Server Administration -> Import Match Sets
    
    That's where you'll find the interface for the match set expression
    editor in the staff client.

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 9e82b590abbc53e2e2059067028a25e4c25dbef2
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 15 17:56:07 2011 -0400

    move parts to conify namespace

477	0	Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js
0	477	Open-ILS/web/js/ui/default/vandelay/match_set.js
94	0	Open-ILS/web/templates/default/conify/global/vandelay/match_set.tt2
111	0	Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2
0	94	Open-ILS/web/templates/default/vandelay/match_set.tt2
0	111	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/vandelay/match_set.js
 delete mode 100644 Open-ILS/web/js/ui/default/vandelay/match_set.js
 create mode 100644 Open-ILS/web/templates/default/conify/global/vandelay/match_set.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/vandelay/match_set_tree.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/match_set.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit c78f3ec233c08fa7a3526621f06ea1521a47074c
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 15 17:49:12 2011 -0400

    UI perfection. it previews. it saves...
    
    (or if it would if the ML method were done, but it will be easy now)
    
    I just need to move things to the conify path and add staff client menu
    entries

18	0	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
14	18	Open-ILS/web/js/dojo/openils/vandelay/TreeStoreModel.js
2	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
78	7	Open-ILS/web/js/ui/default/vandelay/match_set.js
13	3	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit e04c57f1234925ba9acd681e2d944060a843975a
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 15 14:28:16 2011 -0400

    Match Set Tree editor improvements/cleanup
    
    You can now replace the root node of the tree with anything,
    
    and the children will be automatically deleted.  This makes it easier to
    create a single-node tree with no operators, if the user should so
    desire.
    
    comment cleanup, etc

18	7	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
9	12	Open-ILS/web/js/ui/default/vandelay/match_set.js

commit 128554e383bafb7f9ac7b0edd3ec17ebb3ff90e0
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 15 12:28:47 2011 -0400

    make sure user can only add reasonbly valid match points to the tree

4	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
36	6	Open-ILS/web/js/ui/default/vandelay/match_set.js
1	0	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit 5e0b24e22043d49b2b87eb7157df1b97e7713b91
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Apr 15 12:02:07 2011 -0400

    1) implemented working replace mode 2) autocreate new tree on launch if needed

46	7	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
1	1	Open-ILS/web/js/dojo/openils/vandelay/TreeStoreModel.js
2	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
34	3	Open-ILS/web/js/ui/default/vandelay/match_set.js
2	3	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit 6c32ca2e574f57e2eb57bc29c75b3ff506651a9e
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Apr 14 18:14:32 2011 -0400

    lots of things here, but nearly last big UI todo is...
    
    to implement openils.vandelay.TreeDndSource._is_replaceable() and then
    make the changes to itemCreator

23	5	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
1	0	Open-ILS/web/js/dojo/openils/vandelay/TreeStoreModel.js
5	1	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
48	77	Open-ILS/web/js/ui/default/vandelay/match_set.js
18	6	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit 18f70edb704e984ff70b7182d4795f5e28ef4168
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Apr 14 11:45:43 2011 -0400

    Ability to delete nodes from working tree. Show metadata about match_set.

11	0	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
26	8	Open-ILS/web/js/ui/default/vandelay/match_set.js
37	10	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit 752e696bba75275c8e6330ff8fe7444318b9e21f
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Apr 13 18:04:10 2011 -0400

    Add an autogrid-based interface for CRUD ops on vms objects, with links to the tree editor

8	1	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js
88	53	Open-ILS/web/templates/default/vandelay/match_set.tt2
62	0	Open-ILS/web/templates/default/vandelay/match_set_tree.tt2
 create mode 100644 Open-ILS/web/templates/default/vandelay/match_set_tree.tt2

commit 55bd5e663a1a7d3e611d124fea3aee68f54daeba
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Apr 12 13:41:19 2011 -0400

    Corrected merge from trunk

2	0	Open-ILS/src/sql/Pg/000.functions.general.sql
4	6	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 6795405f13dead5dff39cf884fa727c01d6f4636
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Apr 8 17:48:57 2011 -0400

    Initial vmsp tree editor
    
    __ notes __
    
    now we can retrieve a tree from the server and use it as the basis of
    our dijit.Tree widget. Still work to be done. Can't save anything yet.
    
    Note to self: borrow dojo dnd's "copy" operation (as opposed to move) to
    mean replacing a node in the tree, rather than adding to the tree.
    
    Re the permissions I changed, actual users of Evergreen hate having as
    much granularity as there was before, and it just confuses people trying
    to figure out what perms to give to whom.
    
    Note to self 2: add ADMIN_IMPORT_MATCH_SET to ppl
    
    Usability
    
    1) the tree editor will only let bool_op nodes have children
    
    2) you can't put the unset "dummy" node from the leftside onto the tree
    
    incidentally, gave fm objects a toString method that identifies their
    classname hint, as an aid to debugging in general

15	12	Open-ILS/examples/fm_IDL.xml
29	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
8	0	Open-ILS/web/js/dojo/fieldmapper/Fieldmapper.js
29	0	Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
55	0	Open-ILS/web/js/dojo/openils/vandelay/TreeStoreModel.js
3	0	Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
359	0	Open-ILS/web/js/ui/default/vandelay/match_set.js
59	0	Open-ILS/web/templates/default/vandelay/match_set.tt2
 create mode 100644 Open-ILS/web/js/dojo/openils/vandelay/TreeDndSource.js
 create mode 100644 Open-ILS/web/js/dojo/openils/vandelay/TreeStoreModel.js
 create mode 100644 Open-ILS/web/js/dojo/openils/vandelay/nls/match_set.js
 create mode 100644 Open-ILS/web/js/ui/default/vandelay/match_set.js
 create mode 100644 Open-ILS/web/templates/default/vandelay/match_set.tt2

commit b1854026fc611c259a66b5c537af6018be981d15
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Mar 24 15:37:00 2011 -0400

    Structure match set points as a tree

17	6	Open-ILS/examples/fm_IDL.xml
14	5	Open-ILS/src/sql/Pg/012.schema.vandelay.sql

commit 13041c7e9aabd1f8067ad51efaa2b92b74c2f319
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 14 14:47:55 2011 -0400

    Protect bib matching from 901$c which has no corresponding incumbent record; also, boost the quality of an exact match

5	2	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit e0114f18272c347795c21ac59e9c1e4520e2de65
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 14 12:08:58 2011 -0400

    SQL schema cleanup

13	13	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
7	7	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit efba3908ce39499b007161f1c25b0d5de42e10fa
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Mar 14 11:43:24 2011 -0400

    Add table and columns for tracking current import/overlay errors per object

26	0	Open-ILS/examples/fm_IDL.xml
15	5	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
7	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 934603b401b6db47f65e3d706283f291cef8d96f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Mar 11 16:05:07 2011 -0500

    Mostly, new function(s) for bib matching based on SVF and tag+subfield; also, goodly amounts of moving things around

8	6	Open-ILS/examples/fm_IDL.xml
224	45	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
1	1	Open-ILS/src/sql/Pg/030.schema.metabib.sql

commit efa9520b2133321b1649c92eda5db29d1d6d8ec5
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Mar 11 10:12:13 2011 -0500

    Teach fieldmapper about the new vandelay classes

69	0	Open-ILS/examples/fm_IDL.xml

commit 57b7f22475b6b3cdbe3514546c82eb5b2947041c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Mar 10 16:35:44 2011 -0500

    moving functions around; tables for configuring match points and quality metrics

249	2	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
2	45	Open-ILS/src/sql/Pg/030.schema.metabib.sql

commit 66144a226706c2ee8cccbcf2c5248f3c4aed404c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jun 16 17:03:36 2011 -0400

    Delete protection - Ensure you can touch group
    
    Same protection editing a user seems to get:
    If you don't have the right group_application.user perm, reject
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

6	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit b17e3b14d28839739764ce4c29bd3bec01f0fc3c
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jun 16 17:03:36 2011 -0400

    Delete protection - Ensure you can touch group
    
    Same protection editing a user seems to get:
    If you don't have the right group_application.user perm, reject
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

6	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit afdf624007f38ff4d9f7d575a6270dc557d3e117
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jul 5 17:13:05 2011 -0400

    Can't use 0 in true/false, use defined instead
    
    This allows for setting renewals/grace period to 0 by force
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 5444b625ece967e379d045ffa789b74c98c92389
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 16:42:11 2011 -0400

    Attempt at providing a per bib invocation of the unified vol/copy editor from Item Status, but it's very capable of exercising the bugs referenced below:
    
    https://bugs.launchpad.net/evergreen/+bug/787561
    https://bugs.launchpad.net/evergreen/+bug/787563
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
56	0	Open-ILS/xul/staff_client/server/circ/copy_status.js
1	0	Open-ILS/xul/staff_client/server/circ/copy_status.xul
4	0	Open-ILS/xul/staff_client/server/circ/copy_status_overlay.xul

commit 47ab015a78b94d7e9e530747729825302fbaa016
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat Jul 2 18:50:27 2011 -0400

    Fix checkout on alternate patron barcode
    
    Specifically, when a non-primary patron barcode is used.
    Such as via SIP2.
    
    NOTE: This does not change the behavior of inactive cards, nor
    will stock Evergreen usage produce a situation where this fix
    comes into play. --miker
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 0062008c0a346ee37a9ae8870e33c06823c67a49
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jul 5 11:08:31 2011 -0400

    LP805971: Specify UTF8 encoding in password reset templates
    
    As reported by Liam Whalen in Launchpad bug 805971: "The file
    /openils/var/template/password-reset/reset-form.tt2 does not display
    utf-8 characters.  I modified it to include '<meta
    http-equiv="Content-Type" content="text/html; charset=UTF-8" />' inside
    the <head> tag, and the fr-CA version of the page now displays
    correctly."
    
    I duplicated the problem in Firefox 5 and confirmed that the addition of
    the META tag corrects the problem.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/src/templates/password-reset/request-form.tt2
1	0	Open-ILS/src/templates/password-reset/reset-form.tt2

commit 52402b4d28643ca013d83f87de6fecb8e0d81813
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jul 1 11:50:25 2011 -0400

    Normalize facet values
    
    Spotted by Lebbeous Fogle-Weekley, facet values were not being normalized.  This is due to changes in how facets are stored in 2.1+.  This alternate implementation mirrors the way search_field index definitions work, which is a bit cleaner than inserting normalization into the field extraction process.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
37	0	Open-ILS/src/sql/Pg/030.schema.metabib.sql
51	0	Open-ILS/src/sql/Pg/upgrade/0571.schema.facet_normalizer.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0571.schema.facet_normalizer.sql

commit 192dbb95ba88f5c0e8f37992b54cc5ee2ad54e8c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jul 1 11:20:44 2011 -0400

    Stampping upgrade for authorsort fix from Lebbeous
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0570.schema.fix-authsort.sql
0	14	Open-ILS/src/sql/Pg/upgrade/0yyy.schema.fix-authsort.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0570.schema.fix-authsort.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/0yyy.schema.fix-authsort.sql

commit f1c1d397b5b8c2fc026ffc31520204d42dc207e9
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Thu Jun 30 15:14:36 2011 -0400

    Fix the SVF authorsort field (metabib.record_attr->'authorsort')
    
    It's important not to include things like $0 that we wouldn't want in
    there.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0yyy.schema.fix-authsort.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0yyy.schema.fix-authsort.sql

commit 415945711f0888eff19750df18dc0953dc012a01
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Jun 29 11:34:29 2011 -0400

    Use open-ils.circ.checkout.full in SIP2.
    
    Change the SIP2 checkout code to use a single call to open-ils.
    circ.checkout.full instead of doing the whole checkout.permit
    checkout dance.
    
    Further simplify the checkout logic in O::SIP::Transaction::Checkout.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

43	65	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/Checkout.pm

commit 4fc8fa24f1b6eb67a8aa8adec46d5570f8589d80
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 30 13:57:59 2011 -0400

    Move templates out of a web-served directory
    
    It has always been dicey to keep templates in the web-served
    /openils/var/web directory; with the rise of config.tt2 it is past time
    to get the templates out of there.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	2	Open-ILS/examples/oils_web.xml.example
3	0	Open-ILS/src/Makefile.am
27	0	Open-ILS/src/templates/base.tt2
60	0	Open-ILS/src/templates/default/acq/common/claim_dialog.tt2
8	0	Open-ILS/src/templates/default/acq/common/final_claim_dialog.tt2
24	0	Open-ILS/src/templates/default/acq/common/info.tt2
30	0	Open-ILS/src/templates/default/acq/common/inv_dialog.tt2
209	0	Open-ILS/src/templates/default/acq/common/jubgrid.tt2
469	0	Open-ILS/src/templates/default/acq/common/li_table.tt2
17	0	Open-ILS/src/templates/default/acq/common/li_table_pager.tt2
62	0	Open-ILS/src/templates/default/acq/common/notes.tt2
57	0	Open-ILS/src/templates/default/acq/financial/claim_eligible.tt2
35	0	Open-ILS/src/templates/default/acq/financial/list_currency_types.tt2
51	0	Open-ILS/src/templates/default/acq/financial/list_funding_sources.tt2
162	0	Open-ILS/src/templates/default/acq/financial/list_funds.tt2
257	0	Open-ILS/src/templates/default/acq/financial/view_fund.tt2
173	0	Open-ILS/src/templates/default/acq/financial/view_funding_source.tt2
118	0	Open-ILS/src/templates/default/acq/financial/view_provider.tt2
137	0	Open-ILS/src/templates/default/acq/invoice/view.tt2
73	0	Open-ILS/src/templates/default/acq/lineitem/findbib.tt2
30	0	Open-ILS/src/templates/default/acq/lineitem/history.tt2
52	0	Open-ILS/src/templates/default/acq/lineitem/related.tt2
115	0	Open-ILS/src/templates/default/acq/lineitem/search.tt2
11	0	Open-ILS/src/templates/default/acq/lineitem/worksheet.tt2
74	0	Open-ILS/src/templates/default/acq/picklist/bib_search.tt2
35	0	Open-ILS/src/templates/default/acq/picklist/brief_record.tt2
24	0	Open-ILS/src/templates/default/acq/picklist/from_bib.tt2
107	0	Open-ILS/src/templates/default/acq/picklist/list.tt2
97	0	Open-ILS/src/templates/default/acq/picklist/upload.tt2
66	0	Open-ILS/src/templates/default/acq/picklist/user_request.tt2
20	0	Open-ILS/src/templates/default/acq/picklist/view.tt2
5	0	Open-ILS/src/templates/default/acq/po/create.tt2
46	0	Open-ILS/src/templates/default/acq/po/edi_messages.tt2
64	0	Open-ILS/src/templates/default/acq/po/events.tt2
30	0	Open-ILS/src/templates/default/acq/po/history.tt2
34	0	Open-ILS/src/templates/default/acq/po/item_table.tt2
143	0	Open-ILS/src/templates/default/acq/po/search.tt2
138	0	Open-ILS/src/templates/default/acq/po/view.tt2
38	0	Open-ILS/src/templates/default/acq/receiving/process.tt2
246	0	Open-ILS/src/templates/default/acq/search/unified.tt2
74	0	Open-ILS/src/templates/default/acq/settings/li_attr.tt2
73	0	Open-ILS/src/templates/default/actor/user/register.tt2
112	0	Open-ILS/src/templates/default/actor/user/register_table.tt2
29	0	Open-ILS/src/templates/default/actor/user/trigger_events.tt2
39	0	Open-ILS/src/templates/default/base.tt2
21	0	Open-ILS/src/templates/default/booking/capture.tt2
78	0	Open-ILS/src/templates/default/booking/pickup.tt2
49	0	Open-ILS/src/templates/default/booking/pull_list.tt2
118	0	Open-ILS/src/templates/default/booking/reservation.tt2
88	0	Open-ILS/src/templates/default/booking/return.tt2
75	0	Open-ILS/src/templates/default/cat/authority/list.tt2
13	0	Open-ILS/src/templates/default/circ/selfcheck/audio_config.tt2
10	0	Open-ILS/src/templates/default/circ/selfcheck/banner.tt2
30	0	Open-ILS/src/templates/default/circ/selfcheck/circ_page.tt2
26	0	Open-ILS/src/templates/default/circ/selfcheck/fines.tt2
20	0	Open-ILS/src/templates/default/circ/selfcheck/holds_page.tt2
61	0	Open-ILS/src/templates/default/circ/selfcheck/main.tt2
7	0	Open-ILS/src/templates/default/circ/selfcheck/patron_login.tt2
83	0	Open-ILS/src/templates/default/circ/selfcheck/payment.tt2
27	0	Open-ILS/src/templates/default/circ/selfcheck/summary.tt2
33	0	Open-ILS/src/templates/default/conify/global/acq/cancel_reason.tt2
42	0	Open-ILS/src/templates/default/conify/global/acq/claim_event_type.tt2
42	0	Open-ILS/src/templates/default/conify/global/acq/claim_policy.tt2
35	0	Open-ILS/src/templates/default/conify/global/acq/claim_policy_action.tt2
42	0	Open-ILS/src/templates/default/conify/global/acq/claim_type.tt2
100	0	Open-ILS/src/templates/default/conify/global/acq/distribution_formula.tt2
80	0	Open-ILS/src/templates/default/conify/global/acq/edi_account.tt2
33	0	Open-ILS/src/templates/default/conify/global/acq/exchange_rate.tt2
31	0	Open-ILS/src/templates/default/conify/global/acq/fund_tag.tt2
28	0	Open-ILS/src/templates/default/conify/global/acq/invoice_item_type.tt2
28	0	Open-ILS/src/templates/default/conify/global/acq/invoice_payment_method.tt2
32	0	Open-ILS/src/templates/default/conify/global/acq/lineitem_alert.tt2
33	0	Open-ILS/src/templates/default/conify/global/acq/lineitem_marc_attr_def.tt2
211	0	Open-ILS/src/templates/default/conify/global/acq/provider.tt2
96	0	Open-ILS/src/templates/default/conify/global/action/survey.tt2
23	0	Open-ILS/src/templates/default/conify/global/action/survey/edit.tt2
122	0	Open-ILS/src/templates/default/conify/global/action_trigger/event_definition.tt2
88	0	Open-ILS/src/templates/default/conify/global/action_trigger/event_definition_data.tt2
30	0	Open-ILS/src/templates/default/conify/global/asset/copy_location_order.tt2
52	0	Open-ILS/src/templates/default/conify/global/asset/copy_template.tt2
37	0	Open-ILS/src/templates/default/conify/global/biblio/monograph_part.tt2
42	0	Open-ILS/src/templates/default/conify/global/booking/resource.tt2
36	0	Open-ILS/src/templates/default/conify/global/booking/resource_attr.tt2
36	0	Open-ILS/src/templates/default/conify/global/booking/resource_attr_map.tt2
31	0	Open-ILS/src/templates/default/conify/global/booking/resource_attr_value.tt2
34	0	Open-ILS/src/templates/default/conify/global/booking/resource_type.tt2
37	0	Open-ILS/src/templates/default/conify/global/config/acn_prefix.tt2
37	0	Open-ILS/src/templates/default/conify/global/config/acn_suffix.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/actor_sip_fields.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/asset_sip_fields.tt2
26	0	Open-ILS/src/templates/default/conify/global/config/barcode_completion.tt2
35	0	Open-ILS/src/templates/default/conify/global/config/billing_type.tt2
77	0	Open-ILS/src/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/circ_matrix_weights.tt2
88	0	Open-ILS/src/templates/default/conify/global/config/circ_modifier.tt2
63	0	Open-ILS/src/templates/default/conify/global/config/coded_value_map.tt2
32	0	Open-ILS/src/templates/default/conify/global/config/global_flag.tt2
80	0	Open-ILS/src/templates/default/conify/global/config/hard_due_date.tt2
73	0	Open-ILS/src/templates/default/conify/global/config/hard_due_date_values.tt2
33	0	Open-ILS/src/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/hold_matrix_weights.tt2
32	0	Open-ILS/src/templates/default/conify/global/config/idl_field_doc.tt2
32	0	Open-ILS/src/templates/default/conify/global/config/metabib_field.tt2
64	0	Open-ILS/src/templates/default/conify/global/config/org_unit_setting_type.tt2
31	0	Open-ILS/src/templates/default/conify/global/config/record_attr_definition.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/rule_age_hold_protect.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/rule_circ_duration.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/rule_max_fine.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/rule_recurring_fine.tt2
65	0	Open-ILS/src/templates/default/conify/global/config/standing_penalty.tt2
64	0	Open-ILS/src/templates/default/conify/global/config/usr_setting_type.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/weight_assoc.tt2
28	0	Open-ILS/src/templates/default/conify/global/config/z3950_source.tt2
41	0	Open-ILS/src/templates/default/conify/global/permission/grp_penalty_threshold.tt2
2	0	Open-ILS/src/templates/default/footer.tt2
11	0	Open-ILS/src/templates/default/header.tt2
127	0	Open-ILS/src/templates/default/menu.tt2
23	0	Open-ILS/src/templates/default/opac/advanced.tt2
16	0	Open-ILS/src/templates/default/opac/home.tt2
27	0	Open-ILS/src/templates/default/opac/login.tt2
20	0	Open-ILS/src/templates/default/opac/mylist.tt2
102	0	Open-ILS/src/templates/default/opac/myopac/circ_history.tt2
166	0	Open-ILS/src/templates/default/opac/myopac/circs.tt2
127	0	Open-ILS/src/templates/default/opac/myopac/hold_history.tt2
228	0	Open-ILS/src/templates/default/opac/myopac/holds.tt2
117	0	Open-ILS/src/templates/default/opac/myopac/holds/edit.tt2
185	0	Open-ILS/src/templates/default/opac/myopac/lists.tt2
167	0	Open-ILS/src/templates/default/opac/myopac/main.tt2
44	0	Open-ILS/src/templates/default/opac/myopac/main_pay.tt2
169	0	Open-ILS/src/templates/default/opac/myopac/main_payment_form.tt2
51	0	Open-ILS/src/templates/default/opac/myopac/main_payments.tt2
310	0	Open-ILS/src/templates/default/opac/myopac/prefs.tt2
128	0	Open-ILS/src/templates/default/opac/myopac/prefs_notify.tt2
100	0	Open-ILS/src/templates/default/opac/myopac/prefs_settings.tt2
15	0	Open-ILS/src/templates/default/opac/myopac/receipt_email.tt2
22	0	Open-ILS/src/templates/default/opac/myopac/receipt_print.tt2
23	0	Open-ILS/src/templates/default/opac/myopac/update_email.tt2
33	0	Open-ILS/src/templates/default/opac/myopac/update_password.tt2
30	0	Open-ILS/src/templates/default/opac/myopac/update_username.tt2
33	0	Open-ILS/src/templates/default/opac/parts/advanced/global_row.tt2
204	0	Open-ILS/src/templates/default/opac/parts/advanced/search.tt2
65	0	Open-ILS/src/templates/default/opac/parts/anon_list.tt2
19	0	Open-ILS/src/templates/default/opac/parts/base.tt2
20	0	Open-ILS/src/templates/default/opac/parts/chilifresh.tt2
44	0	Open-ILS/src/templates/default/opac/parts/cn_browse.tt2
28	0	Open-ILS/src/templates/default/opac/parts/coded_value_selector.tt2
35	0	Open-ILS/src/templates/default/opac/parts/config.tt2
15	0	Open-ILS/src/templates/default/opac/parts/filtersort.tt2
21	0	Open-ILS/src/templates/default/opac/parts/footer.tt2
55	0	Open-ILS/src/templates/default/opac/parts/header.tt2
3	0	Open-ILS/src/templates/default/opac/parts/homesearch.tt2
24	0	Open-ILS/src/templates/default/opac/parts/js.tt2
156	0	Open-ILS/src/templates/default/opac/parts/login/form.tt2
12	0	Open-ILS/src/templates/default/opac/parts/login/help.tt2
5	0	Open-ILS/src/templates/default/opac/parts/login/password_hint.tt2
156	0	Open-ILS/src/templates/default/opac/parts/misc_util.tt2
37	0	Open-ILS/src/templates/default/opac/parts/myopac/base.tt2
102	0	Open-ILS/src/templates/default/opac/parts/myopac/main_base.tt2
16	0	Open-ILS/src/templates/default/opac/parts/myopac/main_refund_policy.tt2
56	0	Open-ILS/src/templates/default/opac/parts/myopac/prefs_base.tt2
5	0	Open-ILS/src/templates/default/opac/parts/myopac/prefs_hints.tt2
23	0	Open-ILS/src/templates/default/opac/parts/org_selector.tt2
347	0	Open-ILS/src/templates/default/opac/parts/place_hold.tt2
25	0	Open-ILS/src/templates/default/opac/parts/printnav.tt2
16	0	Open-ILS/src/templates/default/opac/parts/qtype_selector.tt2
51	0	Open-ILS/src/templates/default/opac/parts/record/authors.tt2
31	0	Open-ILS/src/templates/default/opac/parts/record/awards.tt2
48	0	Open-ILS/src/templates/default/opac/parts/record/body.tt2
91	0	Open-ILS/src/templates/default/opac/parts/record/cn_details.tt2
68	0	Open-ILS/src/templates/default/opac/parts/record/copyinfo.tt2
54	0	Open-ILS/src/templates/default/opac/parts/record/extras.tt2
26	0	Open-ILS/src/templates/default/opac/parts/record/issues.tt2
23	0	Open-ILS/src/templates/default/opac/parts/record/refworks.tt2
67	0	Open-ILS/src/templates/default/opac/parts/record/subjects.tt2
280	0	Open-ILS/src/templates/default/opac/parts/record/summary.tt2
90	0	Open-ILS/src/templates/default/opac/parts/result/lowhits.tt2
6	0	Open-ILS/src/templates/default/opac/parts/result/lowhits_purchase.tt2
287	0	Open-ILS/src/templates/default/opac/parts/result/table.tt2
78	0	Open-ILS/src/templates/default/opac/parts/searchbar.tt2
11	0	Open-ILS/src/templates/default/opac/parts/tips.tt2
106	0	Open-ILS/src/templates/default/opac/parts/topnav.tt2
11	0	Open-ILS/src/templates/default/opac/parts/topnav_links.tt2
2	0	Open-ILS/src/templates/default/opac/parts/topnav_logo.tt2
16	0	Open-ILS/src/templates/default/opac/place_hold.tt2
16	0	Open-ILS/src/templates/default/opac/record.tt2
79	0	Open-ILS/src/templates/default/opac/results.tt2
123	0	Open-ILS/src/templates/default/serial/list_item.tt2
149	0	Open-ILS/src/templates/default/serial/list_stream.tt2
51	0	Open-ILS/src/templates/default/serial/list_subscription.tt2
38	0	Open-ILS/src/templates/default/serial/print_routing_list_users.tt2
189	0	Open-ILS/src/templates/default/serial/subscription.tt2
80	0	Open-ILS/src/templates/default/serial/subscription/caption_and_pattern.tt2
37	0	Open-ILS/src/templates/default/serial/subscription/distribution.tt2
84	0	Open-ILS/src/templates/default/serial/subscription/issuance.tt2
102	0	Open-ILS/src/templates/default/vandelay/inc/attrs.tt2
64	0	Open-ILS/src/templates/default/vandelay/inc/export.tt2
27	0	Open-ILS/src/templates/default/vandelay/inc/item_attrs.tt2
13	0	Open-ILS/src/templates/default/vandelay/inc/marchtml.tt2
44	0	Open-ILS/src/templates/default/vandelay/inc/matches.tt2
23	0	Open-ILS/src/templates/default/vandelay/inc/profiles.tt2
16	0	Open-ILS/src/templates/default/vandelay/inc/progress.tt2
201	0	Open-ILS/src/templates/default/vandelay/inc/queue.tt2
25	0	Open-ILS/src/templates/default/vandelay/inc/queueselect.tt2
14	0	Open-ILS/src/templates/default/vandelay/inc/toolbar.tt2
79	0	Open-ILS/src/templates/default/vandelay/inc/upload.tt2
45	0	Open-ILS/src/templates/default/vandelay/vandelay.tt2
27	0	Open-ILS/src/templates/login.tt2
24	0	Open-ILS/src/templates_kcls/default/opac/myopac/main_refund_policy.tt2
10	0	Open-ILS/src/templates_kcls/default/opac/parts/footer.tt2
64	0	Open-ILS/src/templates_kcls/default/opac/parts/homesearch.tt2
12	0	Open-ILS/src/templates_kcls/default/opac/parts/login/help.tt2
4	0	Open-ILS/src/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
25	0	Open-ILS/src/templates_kcls/default/opac/parts/printnav.tt2
6	0	Open-ILS/src/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
13	0	Open-ILS/src/templates_kcls/default/opac/parts/topnav_links.tt2
2	0	Open-ILS/src/templates_kcls/default/opac/parts/topnav_logo.tt2
0	27	Open-ILS/web/templates/base.tt2
0	60	Open-ILS/web/templates/default/acq/common/claim_dialog.tt2
0	8	Open-ILS/web/templates/default/acq/common/final_claim_dialog.tt2
0	24	Open-ILS/web/templates/default/acq/common/info.tt2
0	30	Open-ILS/web/templates/default/acq/common/inv_dialog.tt2
0	209	Open-ILS/web/templates/default/acq/common/jubgrid.tt2
0	469	Open-ILS/web/templates/default/acq/common/li_table.tt2
0	17	Open-ILS/web/templates/default/acq/common/li_table_pager.tt2
0	62	Open-ILS/web/templates/default/acq/common/notes.tt2
0	57	Open-ILS/web/templates/default/acq/financial/claim_eligible.tt2
0	35	Open-ILS/web/templates/default/acq/financial/list_currency_types.tt2
0	51	Open-ILS/web/templates/default/acq/financial/list_funding_sources.tt2
0	162	Open-ILS/web/templates/default/acq/financial/list_funds.tt2
0	257	Open-ILS/web/templates/default/acq/financial/view_fund.tt2
0	173	Open-ILS/web/templates/default/acq/financial/view_funding_source.tt2
0	118	Open-ILS/web/templates/default/acq/financial/view_provider.tt2
0	137	Open-ILS/web/templates/default/acq/invoice/view.tt2
0	73	Open-ILS/web/templates/default/acq/lineitem/findbib.tt2
0	30	Open-ILS/web/templates/default/acq/lineitem/history.tt2
0	52	Open-ILS/web/templates/default/acq/lineitem/related.tt2
0	115	Open-ILS/web/templates/default/acq/lineitem/search.tt2
0	11	Open-ILS/web/templates/default/acq/lineitem/worksheet.tt2
0	74	Open-ILS/web/templates/default/acq/picklist/bib_search.tt2
0	35	Open-ILS/web/templates/default/acq/picklist/brief_record.tt2
0	24	Open-ILS/web/templates/default/acq/picklist/from_bib.tt2
0	107	Open-ILS/web/templates/default/acq/picklist/list.tt2
0	97	Open-ILS/web/templates/default/acq/picklist/upload.tt2
0	66	Open-ILS/web/templates/default/acq/picklist/user_request.tt2
0	20	Open-ILS/web/templates/default/acq/picklist/view.tt2
0	5	Open-ILS/web/templates/default/acq/po/create.tt2
0	46	Open-ILS/web/templates/default/acq/po/edi_messages.tt2
0	64	Open-ILS/web/templates/default/acq/po/events.tt2
0	30	Open-ILS/web/templates/default/acq/po/history.tt2
0	34	Open-ILS/web/templates/default/acq/po/item_table.tt2
0	143	Open-ILS/web/templates/default/acq/po/search.tt2
0	138	Open-ILS/web/templates/default/acq/po/view.tt2
0	38	Open-ILS/web/templates/default/acq/receiving/process.tt2
0	246	Open-ILS/web/templates/default/acq/search/unified.tt2
0	74	Open-ILS/web/templates/default/acq/settings/li_attr.tt2
0	73	Open-ILS/web/templates/default/actor/user/register.tt2
0	112	Open-ILS/web/templates/default/actor/user/register_table.tt2
0	29	Open-ILS/web/templates/default/actor/user/trigger_events.tt2
0	39	Open-ILS/web/templates/default/base.tt2
0	21	Open-ILS/web/templates/default/booking/capture.tt2
0	78	Open-ILS/web/templates/default/booking/pickup.tt2
0	49	Open-ILS/web/templates/default/booking/pull_list.tt2
0	118	Open-ILS/web/templates/default/booking/reservation.tt2
0	88	Open-ILS/web/templates/default/booking/return.tt2
0	75	Open-ILS/web/templates/default/cat/authority/list.tt2
0	13	Open-ILS/web/templates/default/circ/selfcheck/audio_config.tt2
0	10	Open-ILS/web/templates/default/circ/selfcheck/banner.tt2
0	30	Open-ILS/web/templates/default/circ/selfcheck/circ_page.tt2
0	26	Open-ILS/web/templates/default/circ/selfcheck/fines.tt2
0	20	Open-ILS/web/templates/default/circ/selfcheck/holds_page.tt2
0	61	Open-ILS/web/templates/default/circ/selfcheck/main.tt2
0	7	Open-ILS/web/templates/default/circ/selfcheck/patron_login.tt2
0	83	Open-ILS/web/templates/default/circ/selfcheck/payment.tt2
0	27	Open-ILS/web/templates/default/circ/selfcheck/summary.tt2
0	33	Open-ILS/web/templates/default/conify/global/acq/cancel_reason.tt2
0	42	Open-ILS/web/templates/default/conify/global/acq/claim_event_type.tt2
0	42	Open-ILS/web/templates/default/conify/global/acq/claim_policy.tt2
0	35	Open-ILS/web/templates/default/conify/global/acq/claim_policy_action.tt2
0	42	Open-ILS/web/templates/default/conify/global/acq/claim_type.tt2
0	100	Open-ILS/web/templates/default/conify/global/acq/distribution_formula.tt2
0	80	Open-ILS/web/templates/default/conify/global/acq/edi_account.tt2
0	33	Open-ILS/web/templates/default/conify/global/acq/exchange_rate.tt2
0	31	Open-ILS/web/templates/default/conify/global/acq/fund_tag.tt2
0	28	Open-ILS/web/templates/default/conify/global/acq/invoice_item_type.tt2
0	28	Open-ILS/web/templates/default/conify/global/acq/invoice_payment_method.tt2
0	32	Open-ILS/web/templates/default/conify/global/acq/lineitem_alert.tt2
0	33	Open-ILS/web/templates/default/conify/global/acq/lineitem_marc_attr_def.tt2
0	211	Open-ILS/web/templates/default/conify/global/acq/provider.tt2
0	96	Open-ILS/web/templates/default/conify/global/action/survey.tt2
0	23	Open-ILS/web/templates/default/conify/global/action/survey/edit.tt2
0	122	Open-ILS/web/templates/default/conify/global/action_trigger/event_definition.tt2
0	88	Open-ILS/web/templates/default/conify/global/action_trigger/event_definition_data.tt2
0	30	Open-ILS/web/templates/default/conify/global/asset/copy_location_order.tt2
0	52	Open-ILS/web/templates/default/conify/global/asset/copy_template.tt2
0	37	Open-ILS/web/templates/default/conify/global/biblio/monograph_part.tt2
0	42	Open-ILS/web/templates/default/conify/global/booking/resource.tt2
0	36	Open-ILS/web/templates/default/conify/global/booking/resource_attr.tt2
0	36	Open-ILS/web/templates/default/conify/global/booking/resource_attr_map.tt2
0	31	Open-ILS/web/templates/default/conify/global/booking/resource_attr_value.tt2
0	34	Open-ILS/web/templates/default/conify/global/booking/resource_type.tt2
0	37	Open-ILS/web/templates/default/conify/global/config/acn_prefix.tt2
0	37	Open-ILS/web/templates/default/conify/global/config/acn_suffix.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/actor_sip_fields.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/asset_sip_fields.tt2
0	26	Open-ILS/web/templates/default/conify/global/config/barcode_completion.tt2
0	35	Open-ILS/web/templates/default/conify/global/config/billing_type.tt2
0	77	Open-ILS/web/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/circ_matrix_weights.tt2
0	88	Open-ILS/web/templates/default/conify/global/config/circ_modifier.tt2
0	63	Open-ILS/web/templates/default/conify/global/config/coded_value_map.tt2
0	32	Open-ILS/web/templates/default/conify/global/config/global_flag.tt2
0	80	Open-ILS/web/templates/default/conify/global/config/hard_due_date.tt2
0	73	Open-ILS/web/templates/default/conify/global/config/hard_due_date_values.tt2
0	33	Open-ILS/web/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/hold_matrix_weights.tt2
0	32	Open-ILS/web/templates/default/conify/global/config/idl_field_doc.tt2
0	32	Open-ILS/web/templates/default/conify/global/config/metabib_field.tt2
0	64	Open-ILS/web/templates/default/conify/global/config/org_unit_setting_type.tt2
0	31	Open-ILS/web/templates/default/conify/global/config/record_attr_definition.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/rule_age_hold_protect.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/rule_circ_duration.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/rule_max_fine.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/rule_recurring_fine.tt2
0	65	Open-ILS/web/templates/default/conify/global/config/standing_penalty.tt2
0	64	Open-ILS/web/templates/default/conify/global/config/usr_setting_type.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/weight_assoc.tt2
0	28	Open-ILS/web/templates/default/conify/global/config/z3950_source.tt2
0	41	Open-ILS/web/templates/default/conify/global/permission/grp_penalty_threshold.tt2
0	2	Open-ILS/web/templates/default/footer.tt2
0	11	Open-ILS/web/templates/default/header.tt2
0	127	Open-ILS/web/templates/default/menu.tt2
0	23	Open-ILS/web/templates/default/opac/advanced.tt2
0	16	Open-ILS/web/templates/default/opac/home.tt2
0	27	Open-ILS/web/templates/default/opac/login.tt2
0	20	Open-ILS/web/templates/default/opac/mylist.tt2
0	102	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
0	166	Open-ILS/web/templates/default/opac/myopac/circs.tt2
0	127	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
0	228	Open-ILS/web/templates/default/opac/myopac/holds.tt2
0	117	Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2
0	185	Open-ILS/web/templates/default/opac/myopac/lists.tt2
0	167	Open-ILS/web/templates/default/opac/myopac/main.tt2
0	44	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
0	169	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
0	51	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
0	310	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
0	128	Open-ILS/web/templates/default/opac/myopac/prefs_notify.tt2
0	100	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2
0	15	Open-ILS/web/templates/default/opac/myopac/receipt_email.tt2
0	22	Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2
0	23	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
0	33	Open-ILS/web/templates/default/opac/myopac/update_password.tt2
0	30	Open-ILS/web/templates/default/opac/myopac/update_username.tt2
0	33	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
0	204	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
0	65	Open-ILS/web/templates/default/opac/parts/anon_list.tt2
0	19	Open-ILS/web/templates/default/opac/parts/base.tt2
0	20	Open-ILS/web/templates/default/opac/parts/chilifresh.tt2
0	44	Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
0	28	Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2
0	35	Open-ILS/web/templates/default/opac/parts/config.tt2
0	15	Open-ILS/web/templates/default/opac/parts/filtersort.tt2
0	21	Open-ILS/web/templates/default/opac/parts/footer.tt2
0	55	Open-ILS/web/templates/default/opac/parts/header.tt2
0	3	Open-ILS/web/templates/default/opac/parts/homesearch.tt2
0	24	Open-ILS/web/templates/default/opac/parts/js.tt2
0	156	Open-ILS/web/templates/default/opac/parts/login/form.tt2
0	12	Open-ILS/web/templates/default/opac/parts/login/help.tt2
0	5	Open-ILS/web/templates/default/opac/parts/login/password_hint.tt2
0	156	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
0	37	Open-ILS/web/templates/default/opac/parts/myopac/base.tt2
0	102	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
0	16	Open-ILS/web/templates/default/opac/parts/myopac/main_refund_policy.tt2
0	56	Open-ILS/web/templates/default/opac/parts/myopac/prefs_base.tt2
0	5	Open-ILS/web/templates/default/opac/parts/myopac/prefs_hints.tt2
0	23	Open-ILS/web/templates/default/opac/parts/org_selector.tt2
0	347	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
0	25	Open-ILS/web/templates/default/opac/parts/printnav.tt2
0	16	Open-ILS/web/templates/default/opac/parts/qtype_selector.tt2
0	51	Open-ILS/web/templates/default/opac/parts/record/authors.tt2
0	31	Open-ILS/web/templates/default/opac/parts/record/awards.tt2
0	48	Open-ILS/web/templates/default/opac/parts/record/body.tt2
0	91	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
0	68	Open-ILS/web/templates/default/opac/parts/record/copyinfo.tt2
0	54	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
0	26	Open-ILS/web/templates/default/opac/parts/record/issues.tt2
0	23	Open-ILS/web/templates/default/opac/parts/record/refworks.tt2
0	67	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2
0	280	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
0	90	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
0	6	Open-ILS/web/templates/default/opac/parts/result/lowhits_purchase.tt2
0	287	Open-ILS/web/templates/default/opac/parts/result/table.tt2
0	78	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
0	11	Open-ILS/web/templates/default/opac/parts/tips.tt2
0	106	Open-ILS/web/templates/default/opac/parts/topnav.tt2
0	11	Open-ILS/web/templates/default/opac/parts/topnav_links.tt2
0	2	Open-ILS/web/templates/default/opac/parts/topnav_logo.tt2
0	16	Open-ILS/web/templates/default/opac/place_hold.tt2
0	16	Open-ILS/web/templates/default/opac/record.tt2
0	79	Open-ILS/web/templates/default/opac/results.tt2
0	123	Open-ILS/web/templates/default/serial/list_item.tt2
0	149	Open-ILS/web/templates/default/serial/list_stream.tt2
0	51	Open-ILS/web/templates/default/serial/list_subscription.tt2
0	38	Open-ILS/web/templates/default/serial/print_routing_list_users.tt2
0	189	Open-ILS/web/templates/default/serial/subscription.tt2
0	80	Open-ILS/web/templates/default/serial/subscription/caption_and_pattern.tt2
0	37	Open-ILS/web/templates/default/serial/subscription/distribution.tt2
0	84	Open-ILS/web/templates/default/serial/subscription/issuance.tt2
0	102	Open-ILS/web/templates/default/vandelay/inc/attrs.tt2
0	64	Open-ILS/web/templates/default/vandelay/inc/export.tt2
0	27	Open-ILS/web/templates/default/vandelay/inc/item_attrs.tt2
0	13	Open-ILS/web/templates/default/vandelay/inc/marchtml.tt2
0	44	Open-ILS/web/templates/default/vandelay/inc/matches.tt2
0	23	Open-ILS/web/templates/default/vandelay/inc/profiles.tt2
0	16	Open-ILS/web/templates/default/vandelay/inc/progress.tt2
0	201	Open-ILS/web/templates/default/vandelay/inc/queue.tt2
0	25	Open-ILS/web/templates/default/vandelay/inc/queueselect.tt2
0	14	Open-ILS/web/templates/default/vandelay/inc/toolbar.tt2
0	79	Open-ILS/web/templates/default/vandelay/inc/upload.tt2
0	45	Open-ILS/web/templates/default/vandelay/vandelay.tt2
0	27	Open-ILS/web/templates/login.tt2
0	24	Open-ILS/web/templates_kcls/default/opac/myopac/main_refund_policy.tt2
0	10	Open-ILS/web/templates_kcls/default/opac/parts/footer.tt2
0	64	Open-ILS/web/templates_kcls/default/opac/parts/homesearch.tt2
0	12	Open-ILS/web/templates_kcls/default/opac/parts/login/help.tt2
0	4	Open-ILS/web/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
0	25	Open-ILS/web/templates_kcls/default/opac/parts/printnav.tt2
0	6	Open-ILS/web/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
0	13	Open-ILS/web/templates_kcls/default/opac/parts/topnav_links.tt2
0	2	Open-ILS/web/templates_kcls/default/opac/parts/topnav_logo.tt2
 create mode 100644 Open-ILS/src/templates/base.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/claim_dialog.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/final_claim_dialog.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/info.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/inv_dialog.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/jubgrid.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/li_table.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/li_table_pager.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/common/notes.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/claim_eligible.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/list_currency_types.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/list_funding_sources.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/list_funds.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/view_fund.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/view_funding_source.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/financial/view_provider.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/invoice/view.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/lineitem/findbib.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/lineitem/history.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/lineitem/related.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/lineitem/search.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/lineitem/worksheet.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/bib_search.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/brief_record.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/from_bib.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/list.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/upload.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/user_request.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/picklist/view.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/create.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/edi_messages.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/events.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/history.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/item_table.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/search.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/po/view.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/receiving/process.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/search/unified.tt2
 create mode 100644 Open-ILS/src/templates/default/acq/settings/li_attr.tt2
 create mode 100644 Open-ILS/src/templates/default/actor/user/register.tt2
 create mode 100644 Open-ILS/src/templates/default/actor/user/register_table.tt2
 create mode 100644 Open-ILS/src/templates/default/actor/user/trigger_events.tt2
 create mode 100644 Open-ILS/src/templates/default/base.tt2
 create mode 100644 Open-ILS/src/templates/default/booking/capture.tt2
 create mode 100644 Open-ILS/src/templates/default/booking/pickup.tt2
 create mode 100644 Open-ILS/src/templates/default/booking/pull_list.tt2
 create mode 100644 Open-ILS/src/templates/default/booking/reservation.tt2
 create mode 100644 Open-ILS/src/templates/default/booking/return.tt2
 create mode 100644 Open-ILS/src/templates/default/cat/authority/list.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/audio_config.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/banner.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/circ_page.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/fines.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/holds_page.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/main.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/patron_login.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/payment.tt2
 create mode 100644 Open-ILS/src/templates/default/circ/selfcheck/summary.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/cancel_reason.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_event_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_policy.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_policy_action.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/claim_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/distribution_formula.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/edi_account.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/exchange_rate.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/fund_tag.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/invoice_item_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/invoice_payment_method.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/lineitem_alert.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/lineitem_marc_attr_def.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/acq/provider.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/action/survey.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/action/survey/edit.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/action_trigger/event_definition.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/action_trigger/event_definition_data.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/asset/copy_location_order.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/asset/copy_template.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/biblio/monograph_part.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_attr.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_attr_map.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_attr_value.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/booking/resource_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/acn_prefix.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/acn_suffix.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/actor_sip_fields.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/asset_sip_fields.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/barcode_completion.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/billing_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/circ_matrix_weights.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/circ_modifier.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/coded_value_map.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/global_flag.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/hard_due_date.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/hard_due_date_values.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/hold_matrix_weights.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/idl_field_doc.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/metabib_field.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/org_unit_setting_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/record_attr_definition.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_age_hold_protect.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_circ_duration.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_max_fine.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/rule_recurring_fine.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/standing_penalty.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/usr_setting_type.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/weight_assoc.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/config/z3950_source.tt2
 create mode 100644 Open-ILS/src/templates/default/conify/global/permission/grp_penalty_threshold.tt2
 create mode 100644 Open-ILS/src/templates/default/footer.tt2
 create mode 100644 Open-ILS/src/templates/default/header.tt2
 create mode 100644 Open-ILS/src/templates/default/menu.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/advanced.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/home.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/login.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/mylist.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/circ_history.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/circs.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/hold_history.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/holds.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/holds/edit.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/lists.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/main.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/main_pay.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/main_payment_form.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/main_payments.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/prefs.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/prefs_notify.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/prefs_settings.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/receipt_email.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/receipt_print.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/update_email.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/update_password.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/myopac/update_username.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/global_row.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/advanced/search.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/anon_list.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/base.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/chilifresh.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/cn_browse.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/coded_value_selector.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/config.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/filtersort.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/footer.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/header.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/homesearch.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/js.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/login/form.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/login/help.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/login/password_hint.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/misc_util.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/base.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/main_base.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/main_refund_policy.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/prefs_base.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/myopac/prefs_hints.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/org_selector.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/place_hold.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/printnav.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/qtype_selector.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/authors.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/awards.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/body.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/cn_details.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/copyinfo.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/extras.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/issues.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/refworks.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/subjects.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/record/summary.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/result/lowhits.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/result/lowhits_purchase.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/searchbar.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/tips.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/topnav.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/topnav_links.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/parts/topnav_logo.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/place_hold.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/record.tt2
 create mode 100644 Open-ILS/src/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/list_item.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/list_stream.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/list_subscription.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/print_routing_list_users.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/subscription.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/subscription/caption_and_pattern.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/subscription/distribution.tt2
 create mode 100644 Open-ILS/src/templates/default/serial/subscription/issuance.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/attrs.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/export.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/item_attrs.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/marchtml.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/matches.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/profiles.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/progress.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/queue.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/queueselect.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/toolbar.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/inc/upload.tt2
 create mode 100644 Open-ILS/src/templates/default/vandelay/vandelay.tt2
 create mode 100644 Open-ILS/src/templates/login.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/myopac/main_refund_policy.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/footer.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/homesearch.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/login/help.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/printnav.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/topnav_links.tt2
 create mode 100644 Open-ILS/src/templates_kcls/default/opac/parts/topnav_logo.tt2
 delete mode 100644 Open-ILS/web/templates/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/claim_dialog.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/final_claim_dialog.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/info.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/inv_dialog.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/jubgrid.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/li_table.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/li_table_pager.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/common/notes.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/claim_eligible.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/list_currency_types.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/list_funding_sources.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/list_funds.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/view_fund.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/view_funding_source.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/financial/view_provider.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/invoice/view.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/lineitem/findbib.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/lineitem/history.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/lineitem/related.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/lineitem/search.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/lineitem/worksheet.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/bib_search.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/brief_record.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/from_bib.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/list.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/upload.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/user_request.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/picklist/view.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/create.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/edi_messages.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/events.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/history.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/item_table.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/search.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/po/view.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/receiving/process.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/search/unified.tt2
 delete mode 100644 Open-ILS/web/templates/default/acq/settings/li_attr.tt2
 delete mode 100644 Open-ILS/web/templates/default/actor/user/register.tt2
 delete mode 100644 Open-ILS/web/templates/default/actor/user/register_table.tt2
 delete mode 100644 Open-ILS/web/templates/default/actor/user/trigger_events.tt2
 delete mode 100644 Open-ILS/web/templates/default/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/booking/capture.tt2
 delete mode 100644 Open-ILS/web/templates/default/booking/pickup.tt2
 delete mode 100644 Open-ILS/web/templates/default/booking/pull_list.tt2
 delete mode 100644 Open-ILS/web/templates/default/booking/reservation.tt2
 delete mode 100644 Open-ILS/web/templates/default/booking/return.tt2
 delete mode 100644 Open-ILS/web/templates/default/cat/authority/list.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/audio_config.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/banner.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/circ_page.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/fines.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/holds_page.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/main.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/patron_login.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/payment.tt2
 delete mode 100644 Open-ILS/web/templates/default/circ/selfcheck/summary.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/cancel_reason.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/claim_event_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/claim_policy.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/claim_policy_action.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/claim_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/distribution_formula.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/edi_account.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/exchange_rate.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/fund_tag.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/invoice_item_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/invoice_payment_method.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/lineitem_alert.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/lineitem_marc_attr_def.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/acq/provider.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/action/survey.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/action/survey/edit.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/action_trigger/event_definition.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/action_trigger/event_definition_data.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/asset/copy_location_order.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/asset/copy_template.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/biblio/monograph_part.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/booking/resource.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/booking/resource_attr.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/booking/resource_attr_map.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/booking/resource_attr_value.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/booking/resource_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/acn_prefix.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/acn_suffix.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/actor_sip_fields.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/asset_sip_fields.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/barcode_completion.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/billing_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/circ_matrix_weights.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/circ_modifier.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/coded_value_map.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/global_flag.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/hard_due_date.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/hard_due_date_values.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/hold_matrix_weights.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/idl_field_doc.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/metabib_field.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/org_unit_setting_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/record_attr_definition.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/rule_age_hold_protect.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/rule_circ_duration.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/rule_max_fine.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/rule_recurring_fine.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/standing_penalty.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/usr_setting_type.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/weight_assoc.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/config/z3950_source.tt2
 delete mode 100644 Open-ILS/web/templates/default/conify/global/permission/grp_penalty_threshold.tt2
 delete mode 100644 Open-ILS/web/templates/default/footer.tt2
 delete mode 100644 Open-ILS/web/templates/default/header.tt2
 delete mode 100644 Open-ILS/web/templates/default/menu.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/advanced.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/home.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/login.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/mylist.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/circs.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/holds.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/lists.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/main.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs_notify.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/receipt_email.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/update_email.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/update_password.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/update_username.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/anon_list.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/chilifresh.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/config.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/filtersort.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/footer.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/header.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/homesearch.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/js.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/login/form.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/login/help.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/login/password_hint.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/misc_util.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/main_refund_policy.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/prefs_base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/prefs_hints.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/org_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/place_hold.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/printnav.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/qtype_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/authors.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/awards.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/body.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/copyinfo.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/extras.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/issues.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/refworks.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/subjects.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/record/summary.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/result/lowhits_purchase.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/result/table.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/tips.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/topnav.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/topnav_links.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/topnav_logo.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/place_hold.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/record.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/results.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/list_item.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/list_stream.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/list_subscription.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/print_routing_list_users.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/subscription.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/subscription/caption_and_pattern.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/subscription/distribution.tt2
 delete mode 100644 Open-ILS/web/templates/default/serial/subscription/issuance.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/attrs.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/export.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/item_attrs.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/marchtml.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/matches.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/profiles.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/progress.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/queue.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/queueselect.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/toolbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/inc/upload.tt2
 delete mode 100644 Open-ILS/web/templates/default/vandelay/vandelay.tt2
 delete mode 100644 Open-ILS/web/templates/login.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/myopac/main_refund_policy.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/footer.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/homesearch.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/login/help.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/printnav.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/topnav_links.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/topnav_logo.tt2

commit ff083d56923e2314143a257a6554bf8f773cffcf
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Jun 14 14:50:33 2011 -0400

    when using params.data keys as print macros, render bare numbers correctly, and treat nulls as empty strings
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

5	1	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit 8eb53de49b7872f057cecb4ea607a1fc6e0947f3
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jun 13 15:51:18 2011 -0400

    add Print button and associated template for Holdings Maintenance
    wire up List Actions for Holdings Maintenance
      * give List Actions support for nested rows in trees
      * give util.list.print support for nested rows in trees
      * we can leverage bib_brief_overlay to populate params.data for printing instead of fleshing out DOM
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
6	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
55	28	Open-ILS/xul/staff_client/chrome/content/util/list.js
9	1	Open-ILS/xul/staff_client/server/cat/bib_brief_overlay.js
21	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js
10	0	Open-ILS/xul/staff_client/server/cat/copy_browser.xul

commit 1feb47d85f731af3bf591268aabda0b2f807872e
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 30 12:44:57 2011 -0400

    More config docs for SFX resolver TTOPAC bits
    
    Helpful to let people know that they need to enable open-ils.resolver
    in opensrf.xml as it is the one service that is not enabled by default.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	0	Open-ILS/web/templates/default/opac/parts/config.tt2

commit 467d9e051446578df75f4301d248f7a25ae066ef
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jun 9 17:27:21 2011 -0400

    Hold Notes column
    
    New column in holds list UIs that allows staff to see at a glance the
    (initial) text content of attached hold notes.  In some cases, this
    helps avoid the need to open the dedicated notes UI.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

16	0	Open-ILS/xul/staff_client/server/circ/util.js
2	1	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit 9aaf3351dc4f2dbf649ea1c2cb5711fc98637fbb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 29 12:12:31 2011 -0400

    Staff UI for batch holds on items.
    
    "Request Item" action in Holdings Maintenance, Item Status, and Copy
    Buckets is the entry-point.  Works on selected items in the first two
    interfaces and all items in the bucket for the latter.  UI allows you
    to place Copy type, Recall type, or Force type holds.  It reports the #
    of successes and breaks down the failures by failure event.  You can
    retry failures (optionally changing some of the request parameters
    like Pickup Library) or "override" them.  Clicking the hyperlink for
    a set of failures will show the items involved in a new Item Status tab.
    
    More technical blurbs from squashed commits:
    
      * "open-ils.circ.holds.test_and_create.batch" Takes an argument hash and a list of targets.  All the holds created will be identical except for the targets.
      * retrieve and display Recall and Force holds like Copy holds
      * give the Item Status UI an inefficient way to handle being passed copy id's (via xulG) in addition to barcodes
      * wire-up item hold request ui
      * place hold UI
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

115	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
21	0	Open-ILS/web/opac/locale/en-US/lang.dtd
4	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
12	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js
3	0	Open-ILS/xul/staff_client/server/cat/copy_browser.xul
22	0	Open-ILS/xul/staff_client/server/cat/copy_buckets.js
1	0	Open-ILS/xul/staff_client/server/cat/copy_buckets.xul
1	0	Open-ILS/xul/staff_client/server/cat/copy_buckets_overlay.xul
29	1	Open-ILS/xul/staff_client/server/cat/util.js
16	0	Open-ILS/xul/staff_client/server/circ/copy_status.js
14	0	Open-ILS/xul/staff_client/server/circ/copy_status.xul
2	0	Open-ILS/xul/staff_client/server/circ/copy_status_overlay.xul
12	0	Open-ILS/xul/staff_client/server/locale/en-US/patron.properties
4	0	Open-ILS/xul/staff_client/server/patron/holds.js
320	0	Open-ILS/xul/staff_client/server/patron/place_hold.js
105	0	Open-ILS/xul/staff_client/server/patron/place_hold.xul
 create mode 100644 Open-ILS/xul/staff_client/server/patron/place_hold.js
 create mode 100644 Open-ILS/xul/staff_client/server/patron/place_hold.xul

commit 9049c7dd8cdf3e4ef9562bfaff30bce88b71b78d
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 29 18:48:38 2011 -0400

    Current master creates XPath of volumes/volume/uris/uri
    
    In the master integration template-toolkit branch, we can correct the
    XPath to match reality.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	2	Open-ILS/web/templates/default/opac/parts/misc_util.tt2

commit 4a1488b028da074dc8c88a2cfa1a089e23891dd1
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 29 17:05:46 2011 -0400

    Don't include non-existent elements in search results
    
    It does not make sense to clutter HTML output with table rows that are
    destined to remain hidden and empty of any data; therefore, instead of
    setting the class to "hide_me" when there is no value to display, just
    do not display the row at all.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

13	5	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit f98f6d72d0ad2d8bfcb30492df55bff738f9cac1
Author: Rick Scott <rick@shadowspar.dyndns.org>
Date:   Wed Jun 29 14:31:28 2011 -0400

    Clean up unneeded alt txt; rework "Add to my list"
    
    1: Set blank alt text attrib on non-functional images; also remove
    alt text on images that's duplicated by adjacent link text.
    This reduces clutter text browser and screen reader users.  More:
    http://universalusability.com/access_by_design/images/irrelevant.html
    
    2: Make "Add to my list" use a styled link instead of an image & button,
    like the "Place Hold" link next to it.  This lets us remove the duplicate
    alt text, makes the two items operate in the same way, and makes the
    presentation code more similar between table.tt2 & record/summary.tt2.

2	2	Open-ILS/web/templates/default/opac/parts/printnav.tt2
6	12	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
9	14	Open-ILS/web/templates/default/opac/parts/result/table.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit c9801ec327d28c4c2a6c0d3d811019538fdaeacb
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 29 13:20:05 2011 -0400

    Merge in the TT Resolver plugin code
    
    Add the plugin to the MANIFEST to ensure that it gets installed
    appropriately, and pull in the appropriate changes to the record summary
    and search results pages.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Art Rhyno <artrhyno@uwindsor.ca>

1	0	Open-ILS/src/perlmods/MANIFEST
98	0	Open-ILS/src/perlmods/lib/Template/Plugin/ResolverResolver.pm
6	3	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
7	6	Open-ILS/web/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/src/perlmods/lib/Template/Plugin/ResolverResolver.pm

commit be32ff5da0fbcb5e84a357e7cdd93e8eb699f2a2
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 29 13:05:43 2011 -0400

    Add SFX integration into base TT OPAC, with config.tt2 entries
    
    If openurl.enabled is true, then resolve ISBNs and ISSNs and display the
    corresponding electronic resources that we have available. Note that if
    there is a subfield 9 with SFX in either the ISBN or ISSN, then that is
    the preferred ISSN to use; otherwise we fall back to resolving all of
    the ISSNs in the record.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

11	0	Open-ILS/web/templates/default/opac/parts/config.tt2
32	0	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
16	1	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
17	0	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 956da091dc8cafd2b4fac0a65ffaf0b91a786170
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 29 00:01:10 2011 -0400

    Don't display located URIs in record details copy table
    
    The more correct approach would be to modify the JSON query to exclude
    copies from volumes where label = '##URI##', or to cut over to the in-db
    unapi-based xml_holdings + acp approach - but for now this is a quick
    and dirty fix that can't possibly hurt.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit e51477e408b1c5f818b967f809f1fc328201d2cb
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 28 23:15:52 2011 -0400

    Improve copy display in search results
    
    Even though we were trying to root our findnodes() call at a specific
    point in the DOM, the XPath was retrieving all volume elements in the
    entire DOM and we were therefore getting duplicate items listed in the
    search results. Accordingly, use the volume ID to root the search to the
    specific volume.
    
    Also, offer designers a bit more of an opportunity to style the holdings
    by placing them in a table as well. Bonus points for using thead/th, eh?
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

10	10	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
25	12	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit b05b2f2649a14f6fba24281e354b8ad7614dd572
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 28 17:04:08 2011 -0400

    Add RefWorks export support for a record details page
    
    This marks the addition of a config.tt2 file in parts that can be a
    consolidation point for skin-specific settings, such as enabling
    particular behaviour, setting proxy information, specific URLs, etc.
    
    RefWorks support is currently driven by the marctxt format in supercat;
    TBD if we can easily point at an in-db unapi variation of this. Also,
    yet to be done is addition of RefWorks export for lists and search
    results.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

19	0	Open-ILS/web/templates/default/opac/parts/config.tt2
23	0	Open-ILS/web/templates/default/opac/parts/record/refworks.tt2
5	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
1	0	Open-ILS/web/templates/default/opac/record.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/config.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/refworks.tt2

commit 08c539bc8cad0cd19f109ccd6be411b0335dff65
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jun 28 15:18:55 2011 -0400

    Correct copy-paste-o spotted by Dan Scott
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/990.schema.unapi.sql
33	0	Open-ILS/src/sql/Pg/upgrade/0569.schema.unapi-auri-fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0569.schema.unapi-auri-fix.sql

commit 4f23db651c2cf5aab73de5fbcb7f556d2a13101b
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 28 14:19:13 2011 -0400

    Take advantage of Wekbit speech input
    
    The x-webkit-speech attribute enables speech input on current versions
    of Chrome. It's a frill, and I'm not sure we really want entire
    libraries of patrons mumbling to themselves more than we already have,
    but it's a low-cost frill so let's take advantage of it.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
2	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit 2f5ddb2e6a90b627551a80209d2123f47e70f75b
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 28 14:09:26 2011 -0400

    Display located URIs in record details page
    
    We can reuse the work put into misc_util.tt2 to generate args.uris in
    the display within the record details page. In the absence of good
    design, we add a basic class and matching CSS to style.css in the hopes
    that a design-oriented person can come along behind us and make the URIs
    stand out appropriately.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

5	0	Open-ILS/web/css/skin/default/opac/style.css
9	1	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 52adf7fd7a556451e3637c0849f8da4cca2875fc
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 28 13:24:37 2011 -0400

    Display multiple copies and URIs per record in search results
    
    By building up a list of hashes in args.holding instead of a single
    result, we can display multiple copies in search results.
    
    Similarly, adding args.uri to misc_util.tt2 gives us the list of located
    URIs to display in search results. Note that the XPath for holdings_xml
    in in-db unapi will change slightly.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
53	4	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
20	6	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit e60167552cdd44016d8cb73825c25f11731a7c56
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Tue Jun 28 12:00:18 2011 -0400

    Michael Peters provided a patch to add some missing labels...
    
    ... to a key acquisitions interface.  It works.  Also fixed
    some unclosed tags while I was at it.
    
    Wasn't sure whether to copy and paste Michael's sign-off or what, but
    here's the link to his original patch for purists:
    https://launchpadlibrarian.net/74191964/0001-LP802578-Acquisitions-Batch-copy-update-missing-head.patch
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

15	3	Open-ILS/web/templates/default/acq/common/li_table.tt2

commit e1bfdad900674c4f9e4859cfdd11cb6c19209318
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Jun 24 10:44:43 2011 -0400

    Fix broken images for items without ISBNs in search results
    
    The search results code happily sets the src attribute of the cover
    image to an empty string (as returned by cleanISBN()) if currentISBN has
    not been defined (which is generally the case if an item doesn't have an
    ISBN, such as a DVD or a thesis or an old book).
    
    Protect against the empty string and set the src attribute to
    '/opac/images/blank.png' to avoid broken image indicators in search
    results.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

6	2	Open-ILS/web/opac/skin/default/js/result_common.js

commit a73fa0689b4187b6429f2c6186e70d8f7f3c7880
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jun 28 10:57:35 2011 -0400

    Add a method to generate a URI from extracted or supplied parts (both class and object method)
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

29	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/TagURI.pm

commit b365101bca38622624248f84aec075353778fe71
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jun 16 12:23:09 2011 -0400

    batch menus for Volume Edit
    refactoring menu generators for CN classes and affixes
    description of Auto-Merge checkbox in Volume Edit
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
201	1	Open-ILS/xul/staff_client/server/cat/util.js
15	142	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
167	101	Open-ILS/xul/staff_client/server/cat/volume_editor.js
31	2	Open-ILS/xul/staff_client/server/cat/volume_editor.xul

commit 3ceb08279ef050aaf9bad7b0914bb24fa8b2a23e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jun 27 14:41:52 2011 -0400

    Saner behavior for Actions for Selected Holds -> Transfer to Marked Title
    
    * Transfer the actual selected title holds, rather than all title holds for
    the bibs referenced by those selected.
    * middle layer method for changing the target and resetting specified holds
    * label change for clarity, Transfer All Title Holds
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

51	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
1	1	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
32	1	Open-ILS/xul/staff_client/server/cat/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties
11	4	Open-ILS/xul/staff_client/server/patron/holds.js

commit b22d801e97565fc64205bf67e5a55d44090e1408
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 27 19:04:43 2011 -0400

    Cleanup of missed commit from the original topic branch
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/999.functions.global.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0568.schema.cache_visibility_speed_boost.sql

commit f762b75ac430ed70365ebc0385d2c9d0da04ab26
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 27 18:47:14 2011 -0400

    Pinning upgrade script for copy visibility speed boost
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
218	0	Open-ILS/src/sql/Pg/upgrade/0568.schema.cache_visibility_speed_boost.sql
0	207	Open-ILS/src/sql/Pg/upgrade/XXXX.cache_visibility_speed_boost.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0568.schema.cache_visibility_speed_boost.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.cache_visibility_speed_boost.sql

commit 27bed378975a1164232d0b922cd03ce7493dee82
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jun 21 10:24:58 2011 -0400

    Unwrapped upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

207	0	Open-ILS/src/sql/Pg/upgrade/XXXX.cache_visibility_speed_boost.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.cache_visibility_speed_boost.sql

commit cdcbbbbc520e91f003b68d716dcd0d75a2b68971
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jun 21 10:24:25 2011 -0400

    Attempt to speed up cache visbility trigger
    
    With the old version merges were timing out.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

61	50	Open-ILS/src/sql/Pg/999.functions.global.sql

commit a30820353694707a2096663a4b2b86fa9c2db4da
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jun 27 16:11:19 2011 -0400

    Configuration interface for config.metabib_field table
    
    This interface enables admins to create and modify the entries used for
    defining indexes, faceting, and eventually display.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
32	0	Open-ILS/web/templates/default/conify/global/config/metabib_field.tt2
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/metabib_field.tt2

commit 38c0795a42c17d41657deccc8df93b562044ed17
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 27 14:18:39 2011 -0400

    Meaningful title elements for record details and search results
    
    Rather than the generic "Record Details" and "Search Results", populate
    the <title> element with the actual title of the record or the search
    query, respectively.
    
    We punt on advanced search results for now, until we can parse the array
    into something usable.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
6	1	Open-ILS/web/templates/default/opac/results.tt2

commit 2cc3997a195b2e73cb98254f0528730c30a06115
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 27 14:18:39 2011 -0400

    Meaningful title elements for record details and search results
    
    Rather than the generic "Record Details" and "Search Results", populate
    the <title> element with the actual title of the record or the search
    query, respectively.
    
    We punt on advanced search results for now, until we can parse the array
    into something usable.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
6	1	Open-ILS/web/templates/default/opac/results.tt2

commit a78a07a5111c36505a6d714dfa4a12a8db5f481e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 27 13:57:59 2011 -0400

    Upgrade stamping for "overdues fines on lost checkin" merge
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0567.data.ou_setting_generate_overdue_on_lost.sql
0	24	Open-ILS/src/sql/Pg/upgrade/XXXX.data.ou_setting_generate_overdue_on_lost.sql.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0567.data.ou_setting_generate_overdue_on_lost.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.ou_setting_generate_overdue_on_lost.sql.sql

commit 7d54f8e0bbea079b6669f2a943d32bde9ac2c5f4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jun 27 13:20:52 2011 -0400

    Unstamped upgrade script for circ.lost.generate_overdue_on_checkin seed data
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

24	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.ou_setting_generate_overdue_on_lost.sql.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.ou_setting_generate_overdue_on_lost.sql.sql

commit 10443c06c64136be02438901f2ca022e905a8dc3
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 24 11:27:26 2011 -0400

    Option to generate lacking overdues on lost checkin
    
    New org unit setting "circ.lost.generate_overdue_on_checkin".
    
    This org unit setting enables retroactive overdue fine generation for
    lost item checkin.  When enabled, the system will generate overdue fines
    starting from the date of the last created overdue fine for the
    circulation and working its way up to the checkin time or stopping at
    the max fine amount (consistent with regular overdue fine generation).
    
    This differs from the existing org unit setting
    "circ.restore_overdue_on_lost_return", which only un-voids existing
    overdue fines.
    
    Consider an item whose due date is the 1st, that gets marked lost on the
    7th, then checked in on the 14th.  If set,
    "circ.restore_overdue_on_lost_return" would un-void the fines created up
    to the 7th and "circ.lost.generate_overdue_on_checkin" would create new
    overdue fines from the 7th up to the 14th (or up to the max fine
    amount).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

79	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/Const.pm
16	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 4da568ab439edbfd3b230d79997b9b97821f31a2
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 27 12:32:11 2011 -0400

    The TT OPAC proof of concept is dead code - remove it
    
    Leading up to the TT OPAC dev fest, some people were confused by the
    opac-poc directory. It hasn't been touched since February 14th and we
    can always retrieve the old code from history if absolutely necessary.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

0	12	Open-ILS/web/templates/default/opac-poc/base.tt2
0	58	Open-ILS/web/templates/default/opac-poc/common.tt2
0	24	Open-ILS/web/templates/default/opac-poc/home.tt2
0	32	Open-ILS/web/templates/default/opac-poc/login.tt2
0	18	Open-ILS/web/templates/default/opac-poc/marc_attrs.tt2
0	20	Open-ILS/web/templates/default/opac-poc/myopac/_links.tt2
0	52	Open-ILS/web/templates/default/opac-poc/myopac/bookbags.tt2
0	77	Open-ILS/web/templates/default/opac-poc/myopac/circs.tt2
0	107	Open-ILS/web/templates/default/opac-poc/myopac/fines.tt2
0	94	Open-ILS/web/templates/default/opac-poc/myopac/holds.tt2
0	39	Open-ILS/web/templates/default/opac-poc/myopac/main.tt2
0	15	Open-ILS/web/templates/default/opac-poc/myopac/prefs.tt2
0	20	Open-ILS/web/templates/default/opac-poc/myopac/update_email.tt2
0	33	Open-ILS/web/templates/default/opac-poc/place_hold.tt2
0	82	Open-ILS/web/templates/default/opac-poc/record.tt2
0	117	Open-ILS/web/templates/default/opac-poc/results.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/common.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/home.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/login.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/marc_attrs.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/_links.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/bookbags.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/circs.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/fines.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/holds.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/main.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/prefs.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/update_email.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/place_hold.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/record.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac-poc/results.tt2

commit 4e53a6eb2355f3eda8828371d954d66e7efc5c65
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 24 15:40:32 2011 -0400

    with scan missing pieces, retarget affected holds prior to recirculating to previous patron, lest the checkout reset the holds for us without retargeting
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

68	58	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ.pm

commit 77a999bdcdc00f95b296c4d584b623db28fa3d31
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 22 14:04:40 2011 -0400

    retarget title holds after transfering to a new bib
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit bf77824abbf31b7738edc03b86c9e1275e1e290c
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Jun 25 23:47:55 2011 -0400

    Include Apache configuration instructions in README
    
    Borrowing heavily from the wiki for these instructions, this helps round
    out the README. Still more to do.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

77	3	README

commit b360117be6c1efc24da34612a080a2d942134206
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Jun 24 19:29:30 2011 -0400

    Show human label for Internet Access Level in Patron Search
    
    Looks like fm_columns uses a prefix of "au_" for the column name defined
    in util.js. Therefore, au_net_access_level lets us define the label to
    display in place of the integer value.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	1	Open-ILS/xul/staff_client/server/patron/search_result.js

commit bbf03b1937f4a60758f0538f145a1a08921eda78
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 31 15:46:50 2011 -0400

    Specify the display field for linked objects with fm_columns
    
    If a display field isn't specified, it defaults to the key field,
    which is essentially the same as not fleshing the object in the first
    place.  Let me know if fieldmapper has or gains a way of specifying
    such "display" fields, and we can augment fm_columns to use it as well.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	1	Open-ILS/xul/staff_client/server/patron/search_result.js

commit ca161469259582e86544dcb4c176b9d8dca47a3c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 31 15:45:25 2011 -0400

    Let fm_columns use cached data.hash objects for linked fields
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

22	1	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit e030096a394f6fce5de809d395423f9f8e82bd25
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Jun 24 11:35:10 2011 -0400

    Support Fedora 15 as a target in Makefile.install
    
    Add Fedora 15 to the Makefile.install as a simple clone of the Fedora 14
    target for now. Correct Makefile.install target names in README, and
    point out that nothing special is required for Fedora 15 for PostgreSQL
    9 support.
    
    While we're in the README, rip out the Dojo toolkit install info as
    packaged releases include Dojo now (we retain the developer instructions
    for installing Dojo manually for git users, of course).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	0	Open-ILS/src/extras/Makefile.install
9	25	README

commit f0b408bc6822b9b8be150c9af5947748edba06f2
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Mon Jun 20 14:07:54 2011 -0400

    Add checkout override to SIP2 checkout & renew.
    
    OpenILS::SIP::Transaction::Checkout was modified to allow for
    the override of certain, configurable events much in the same
    way that checkin currently does overrides.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

4	0	Open-ILS/examples/oils_sip.xml.example
109	96	Open-ILS/src/perlmods/lib/OpenILS/SIP/Transaction/Checkout.pm

commit ad0bbbb835fb6185a8b76cc5ae38dd0ec7209cc3
Author: Ben Webb <bjwebb67@googlemail.com>
Date:   Mon Jun 13 13:31:53 2011 +0100

    Respect DESTDIR during the build process
    
    Add $(DESTDIR) to paths it is currently missing from
    Manually specify the apxs2 install location so that DESTDIR can be prepended
    Attempt to create the apache directory if it does not exist
    
    Signed-off-by: Ben Webb <bjwebb67@googlemail.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

8	8	Open-ILS/src/Makefile.am
4	2	Open-ILS/src/apachemods/Makefile.am
1	1	Open-ILS/src/perlmods/Makefile.am
2	2	Open-ILS/web/Makefile.am
5	5	Open-ILS/xul/staff_client/Makefile.am

commit 581fec9d0dcb81e09a2923d8c540ea94fafc47e2
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 24 11:34:05 2011 -0400

    Stamped DB upgrade script for for XMLAGG cleanup
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
525	0	Open-ILS/src/sql/Pg/upgrade/0566.schema.unAPI_XMLAGG_cleanup.sql
0	525	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unAPI_XMLAGG_cleanup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0566.schema.unAPI_XMLAGG_cleanup.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unAPI_XMLAGG_cleanup.sql

commit 3f0e1548fb81c78976e65444e2d686e46e838a50
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 24 11:15:49 2011 -0400

    Upgrade script for the XMLAGG cleanup
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

525	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unAPI_XMLAGG_cleanup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.unAPI_XMLAGG_cleanup.sql

commit 81dcccd6a452c95e304c84604de6ed3c5c4a6435
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 24 10:42:15 2011 -0400

    Address LP#801129, in-db unAPI failure
    
    Cleanup of improper use of XMLAGG in the unAPI stored procs first identified by Bill Erickson in https://bugs.launchpad.net/bugs/801129
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

129	47	Open-ILS/src/sql/Pg/990.schema.unapi.sql

commit 96344f978048252424fa38fc80122bf398015da6
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 24 11:13:41 2011 -0400

    upgrade script for A/T event def: Hold Cancelled (No Target) Email Notification
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
39	0	Open-ILS/src/sql/Pg/upgrade/0565.schema.action-trigger.event_definition.hold-cancel-no-target-notification.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0565.schema.action-trigger.event_definition.hold-cancel-no-target-notification.sql

commit 42391f56d8d12535368d60a9bb486597b24b2084
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 24 11:10:40 2011 -0400

    cat.volume.delete_on_empty org setting.  break up and wrap the upgrade script
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
19	0	Open-ILS/src/sql/Pg/upgrade/0564.data.org-setting-cat.volume.delete_on_empty.sql
0	48	Open-ILS/src/sql/Pg/upgrade/XXXX.data.delete_empty_volume.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0564.data.org-setting-cat.volume.delete_on_empty.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.delete_empty_volume.sql

commit aa861552a03d3b896e21723071549478454eb0ff
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jun 6 17:07:27 2011 -0400

    Sample hold cancelled with no target notice
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

32	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
30	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.delete_empty_volume.sql

commit bc3954d07ddac96ebb2e62d94530e51261575e0b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jun 6 16:35:11 2011 -0400

    Cancel bib holds with bib is deleted
    
    And notify user via A/T
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

26	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/BibCommon.pm

commit 20502484e2e87cbc65476038ae4c3677bf7950f6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jun 6 14:26:42 2011 -0400

    Cancel volume/copy holds on delete
    
    Cancel all holds that directly target a copy or volume when the
    copy/volume is being deleted.
    
    Sends async message to A/T for each hold to create and run the
    necessary events (e.g.  send cancellation notices).
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

62	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm

commit 5503e0ff2838bb9d392b95bd1f9341127e20e960
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 3 13:24:16 2011 -0400

    unwrapped upgrade script for cat.volume.delete_on_empty
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

18	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.delete_empty_volume.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.delete_empty_volume.sql

commit 6c3b571395aff3551d9fafff7e8a6654893f0996
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 3 13:21:37 2011 -0400

    Delete volume on last copy setting
    
    When the last copy for a volume is deleted, go ahead and delete the
    volume when this new setting is activated.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

25	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm
8	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
32	17	Open-ILS/xul/staff_client/server/cat/copy_browser.js
31	16	Open-ILS/xul/staff_client/server/circ/copy_status.js
3	1	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties
3	1	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties

commit 95206809441fee6bc01d166539a4c42e0ea2f40b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 2 14:44:28 2011 -0400

    Option to force-delete copies during volume delete
    
    Added a "force_delete_copies" option to
    open-ils.cat.asset.volume.fleshed.batch.update* which forces deletion of
    all copies attached to a volume if the volume is being deleted.  There
    are still scenarios that will result in copies not being deleted
    (e.g. copy is checked out), in which case the override option will
    behave here the same way it behaves in
    open-ils.cat.asset.copy.fleshed.batch.update*
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

10	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm
39	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm

commit 064372f160214538c92fe0bb67ee119369521d21
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri Jun 24 09:44:56 2011 -0400

    Stamp the upgrade with a version number
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
26	0	Open-ILS/src/sql/Pg/upgrade/0563.data.collections_exempt_perm.sql
0	26	Open-ILS/src/sql/Pg/upgrade/XXXX.data.collections_exempt_perm.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0563.data.collections_exempt_perm.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.collections_exempt_perm.sql

commit 690618a0510ccdf8efd5623397972fe01a6d99f9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 3 09:28:42 2011 -0400

    Un-stamped upgrade script for collection exempt perm
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
26	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.collections_exempt_perm.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.collections_exempt_perm.sql

commit 368f391165fef5b71810f324d33f5c1720ab0f18
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 3 09:27:26 2011 -0400

    Permission to control patron-collections-exempt
    
    Adds a new permission 'UPDATE_PATRON_COLLECTIONS_EXEMPT' which controls
    who can toggle the circ.collections.exempt user setting in the patron
    registration interface.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
21	0	Open-ILS/web/js/ui/default/actor/user/register.js

commit 2d096d936c4467ae407bc2c8ade02d96aa3e752b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jun 23 14:25:57 2011 -0400

    bump xulrunner version
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/Makefile.am

commit 1dbba207ec03198615abeadc9237f5582cdfb811
Author: Jason Stephenson <jstephenson@mvlc.org>
Date:   Wed Jun 22 10:48:58 2011 -0400

    Check if hold is really available in Trigger::Validator.
    
    Add checks for shelf time and no fulfillment time in
    HoldIsAvailable in OpenILS::Application::Trigger::Validator.
    
    We've had some issues with poorly migrated data and people
    messing with holds that causes the original logic to trigger
    for unfilled holds. Plus, the extra precaution of checking
    more precise conditions of an actually filled hold can't hurt,
    can it?
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Validator.pm

commit 9544ad05dc0d30ed5782b528fac3e2bdfa90e4dd
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed Jun 22 10:36:13 2011 -0400

    Make bucket content retrieval authoritative
    
    LP#492036, we neeed all bucket methods to be authoritative.  Some already were, this finishes the job.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor/Container.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/TemplateBatchBibUpdate.pm
1	2	Open-ILS/web/opac/common/js/config.js

commit 13acc6a9e4bcd174384039b635dd9d76a51b781e
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Jun 21 17:09:58 2011 -0400

    Further clean-up of Serials interfaces
    
    When trying to come up with good tests, found a few bugs (imagine!).
    Some have been nagging for a while now.
    
    1) For 'MFHDDrawn' event, make sure it runs if deleting the last
    serials data of any kind for that record (to unpopulate the menus
    properly)
    
    2) Make sure global mfhd member (g.mfhd) is cleared in the same case
    (i.e. deleting the last serials data for that record)
    
    3) Add a string to better indicate when no MFHD records are available
    for 'Legacy Record Entry' drop-down
    
    4) Convert submitted empty drop-down values to 'null' as needed in
    distribution editor
    
    5) Mark subscription 'start date' as a required field
    
    6) Make serial virtual records better handle deleted 'legacy record
    entries' attached to distributions, and also expose non-deleted
    record entries even if in 'use_sdist_only' summary mode
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

6	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Serial.pm
13	12	Open-ILS/web/opac/skin/default/js/rdetail.js
5	3	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/serial.properties
11	2	Open-ILS/xul/staff_client/server/serial/sdist_editor.js
2	1	Open-ILS/xul/staff_client/server/serial/ssub_editor.js

commit 9970bcb407cd6eb399077084c0d79bd21496eef3
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Jun 17 15:26:39 2011 -0400

    Better coordination of MFHD/SRE adding/deleting
    
    Adding or deleting MFHD records from the XUL menus requires
    coordinating the OPAC display, the XUL menus, and the Serial
    Control distribution editors.  The previous code frequently
    required some non-obvious manual refreshing to make it work.
    
    This commit keeps them in sync using custom events instead.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

5	2	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
36	18	Open-ILS/xul/staff_client/server/serial/sdist_editor.js

commit c1ad78f19abd2acfe09da7049d5c1be5948629dd
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 21 23:31:01 2011 -0400

    Add unit tests for LP 800269 - holdings for captions only
    
    Running "prove -l lib" in Open-ILS/src/perlmods shows that the two new
    unit tests pass, whereas they fail using the previously installed
    version of MFHD.pm. Good evidence that the fix from dbwells does indeed
    solve the reported bug.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

18	1	Open-ILS/src/perlmods/t/14-OpenILS-Utils.t

commit c53187a7cd141a33b4b0a2b9b837fc2c15fc6b03
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Jun 21 11:44:10 2011 -0400

    MFHD compressed holdings short-circuit logic
    
    If you attempt to get compressed (or uncompressed) holdings from
    a MFHD record with only a caption, the code should short-circuit
    and return an empty list.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

5	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD.pm

commit 3d2301405894b7fb75fd551c9138b2ca9b63e8f5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jun 21 17:05:42 2011 -0400

    Update serial.unit auditor table along w/ asset.copy change
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/sql/Pg/upgrade/0562.schema.copy_active_date.sql

commit 4c21518b658e7c56b819acb78b626a239a13ca24
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jun 21 16:11:44 2011 -0400

    Wrapped DB script
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	3	Open-ILS/src/sql/Pg/100.circ_matrix.sql
1	3	Open-ILS/src/sql/Pg/110.hold_matrix.sql
625	0	Open-ILS/src/sql/Pg/upgrade/0562.schema.copy_active_date.sql
0	618	Open-ILS/src/sql/Pg/upgrade/XXXX.active_date.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0562.schema.copy_active_date.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.active_date.sql

commit bf635dc08a41bc6c58f40febb7818f08b67f7174
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Jun 12 21:11:25 2011 -0400

    Unwrapped upgrade script for active date
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

618	0	Open-ILS/src/sql/Pg/upgrade/XXXX.active_date.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.active_date.sql

commit 74ac0cc2971d53a24e1feb076f774133e31b964f
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sun Jun 12 21:11:13 2011 -0400

    Active date
    
    Record the date a copy first became "active" after creation in active_date.
    Offer Org Unit setting for using the active date for age hold protection.
    Any copy without an active_date, with age hold protect using it, will be
        protected until it has an active date. Regardless of create_date.
    Circ/Hold matrix can match on item age based on active_date.
    
    Active is defined as entering a status with copy_active set to true. By default:
    
    Available
    Checked out
    Reshelving
    On holds shelf
    ILL
    Reserves
    On reservation shelf
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

7	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/asset.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/config.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/serial.pm
14	8	Open-ILS/src/perlmods/lib/OpenILS/Utils/PermitHold.pm
2	1	Open-ILS/src/sql/Pg/002.schema.config.sql
22	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
4	2	Open-ILS/src/sql/Pg/099.matrix_weights.sql
15	2	Open-ILS/src/sql/Pg/100.circ_matrix.sql
28	5	Open-ILS/src/sql/Pg/110.hold_matrix.sql
5	0	Open-ILS/src/sql/Pg/210.schema.serials.sql
22	17	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/web/conify/global/config/copy_status.html
1	0	Open-ILS/web/js/dojo/openils/conify/nls/conify.js
3	0	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
2	0	Open-ILS/web/opac/skin/craftsman/xml/rdetail/rdetail_cn_details.xml
8	0	Open-ILS/web/opac/skin/default/js/copy_details.js
2	0	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_cn_details.xml
1	1	Open-ILS/web/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
6	0	Open-ILS/xul/staff_client/server/cat/copy_editor.js
2	0	Open-ILS/xul/staff_client/server/circ/alternate_copy_summary.js
10	9	Open-ILS/xul/staff_client/server/circ/alternate_copy_summary.xul
1	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit ee4a2cb8f73cc15311f9fc777e287dd98744b3e1
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun Jun 12 21:24:01 2011 -0400

    Refactor cover image fetching in OpenLibrary added content
    
    We were only trying to retrieve images from the items array in the
    OpenLibrary response, but there are only items if the OpenLibrary has
    online editions available - whereas there may be covers attached to the
    metadata for the work. So now we make the metadata work harder.
    
    Also, cut down on broken images in search results by short-circuiting if
    OpenLibrary doesn't have a matching record for a given ISBN.
    
    Thanks to Bill Erickson for pointing out that there were a lot of blank
    images getting returned due to the items reliance.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

22	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm
1	1	Open-ILS/web/opac/skin/default/js/result_common.js

commit 976321b7af3b9967df38f8adef617fce9eca9ff2
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 14:40:57 2011 -0400

    Teach result_common.js to OpenLibrary requests
    
    Now that the proxied OpenLibrary requests are working, teach
    result_common.js to use them and get an advantage from being an
    access-rights-authenticated IP address (if applicable).
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm
7	5	Open-ILS/web/opac/skin/default/js/result_common.js

commit 25468fa7e64263758f6b3d5741802ac462e029f9
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 13:03:22 2011 -0400

    Support proxying bulk Read API requests for access rights
    
    Using IP-based access right determination runs into problems with a pure
    JavaScript API, as users may be accessing the API from any location in
    the world. Proxying the requests via the library system server ensures
    that the access rights for users of those libraries are properly
    displayed.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

12	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit b50a81676f63c97cf555f68a1bb2c2abc880f559
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 12:25:33 2011 -0400

    Return transparent images if no cover art is found
    
    For now the URL is hardcoded; later on we'll refactor AddedContent.pm to
    give us access to more information about our Apache environment to
    default to something much, much smarter.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

10	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit 681a3fc0588d9e46f2f01976a0592a09726ae30b
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 11:57:04 2011 -0400

    Working TOC HTML and cover images from OpenLibrary Read API
    
    TOCs are now part of the "data" response in the Read API.
    
    Covers are accessed with the "cover" key in the "items" objects.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

35	14	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit a00f47c67a7606be5575e43997a848c6c97d1ac5
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 09:56:05 2011 -0400

    Get OpenLibrary covers from any related items
    
    Cover requests for exact matches sometimes fail to produce results, but
    covers from similar items (other editions of the same work) are often
    available. Take that!
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

27	16	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit 223d98f31da37887988c61cc89c68d8f539c8617
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 09:46:24 2011 -0400

    Begin cutting AddedContent over to the OpenLibrary Read API
    
    Use the all-in-one Read API request to get results; this should
    cut our requests in half and improve our caching results.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

45	46	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit 62ddc37d78e07d3aa55b1003b187179f8eedc22a
Author: Dan Scott <dan@coffeecode.net>
Date:   Thu Jun 2 01:42:49 2011 -0400

    Don't make OpenLibrary requests without an ID
    
    It is rather silly to make requests if you have not pulled any IDs out
    of the records to pass along to OpenLibrary, so do not do that. Also
    refactor and add a bit more defensiveness.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

12	9	Open-ILS/web/opac/skin/default/js/result_common.js

commit 782410700751b4104d81413bce6dd693a067e286
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 1 01:58:27 2011 -0400

    Implement OpenLibrary ebook availability via Ajax
    
    George Oates provided an OpenLibrary GIF to use for the
    links, and we can drop the links right into the block of
    white space between copy counts and bibliographic info.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

-	-	Open-ILS/web/opac/images/openlibrary.gif
86	33	Open-ILS/web/opac/skin/default/js/result_common.js
2	0	Open-ILS/web/opac/skin/default/xml/result/result_table.xml
 create mode 100644 Open-ILS/web/opac/images/openlibrary.gif

commit 00173c0974c5a605c5ca92f27d4598bb611324a6
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri May 27 23:55:38 2011 -0400

    integrate the OpenLibrary Read API into search results
    
    Still early days, but works based on the sample Read API
    output provided by Mike for a single ISBN search.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

58	6	Open-ILS/web/opac/skin/default/js/result_common.js

commit aa155d652e018084f5bc5369df86e46c3ea822a7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jun 21 13:24:11 2011 -0400

    Fixed bad DB version number in upgrade script.  Thanks for the heads up, tsbere
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0544.data.patron_no_collections.sql

commit d7faf719729d2cc69d8d4e9af9cb5cdd31e3ba5f
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Tue Jun 21 11:57:39 2011 -0400

    LP#783590 fix patron alert message highlighting
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/xul/staff_client/server/skin/patron_display.css

commit f12ad1c13ec6839fec777dfe2495e02c50e4a4cc
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jun 21 11:45:43 2011 -0400

    Reserve 0561 (used in 2.0) to avoid confusion -- part duex
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	0	Open-ILS/src/sql/Pg/upgrade/0561.schema.tnf_index.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0561.schema.tnf_index.sql

commit b780b8bd9177323ed78a2d026c52e73171a2bf91
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue Jun 21 11:42:53 2011 -0400

    Reserve 0561 (used in 2.0) to avoid confusion
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 804ce3723c05cb44da0dc8fceef68138b709cf13
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Jun 17 12:30:12 2011 -0400

    Set AC timeout value to 3 seconds and describe tradeoffs
    
    As discussed on the Evergreen Development mailing list, the higher the
    AC timeout value, the greater the risk of a denial of service. 30 is
    therefore too high to be comfortable as a default setting, so we're
    dropping it down to 3 as a compromise between the original value of 1
    (which resulted in a number of request timing out where added content
    was actually available) and the much-less-safe 30.
    
    In addition, we document inline the risk/reward of different values and
    provide some justification for the default value that we chose, so that
    Evergreen system administrators will have guidance when tweaking this
    setting.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

15	3	Open-ILS/examples/opensrf.xml.example

commit b066d2c3b129e8d0738a061e23200d8311d251bf
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 20 11:16:21 2011 -0400

    DROP biblio.reingest_uris() after use
    
    We will hopefully only need to reingest URIs in bulk once, and can
    therefore DROP the biblio.reingest_uris() function after it has been
    successfully invoked.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	0	Open-ILS/src/sql/Pg/upgrade/0559.schema.biblio.extract_located_uris.sql

commit 0c88af95bf91553e8c20026b4f3279864dda1247
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 20 10:56:44 2011 -0400

    Protect URI reingest from failure due to malformed XML
    
    In an ideal world, there would be no malformed XML. But our world is the
    real world of libraries, and while the well_formed_xml() protects
    against malformed XML in Evergreen 2.0 systems, in some cases bad XML
    has been able to find its way into Evergreen systems in the past.
    
    A single biblio.record_entry row containing malformed XML in the marc
    column will prevent the call to reingest URIs from succeeding. By
    limiting the set of records to those with well-formed XML, we can
    increase the chance of the URI reingest succeeding at the cost of more
    processing time.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	0	Open-ILS/src/sql/Pg/upgrade/0559.schema.biblio.extract_located_uris.sql

commit 4f518108c74d5d1b252f7528495ea8eb179c7bd2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jun 14 19:53:02 2011 -0400

    Grace period is an interval. Convert to seconds.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit e9a6cdd1ebc7061e094cd7ad7c131150a31ba2f4
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Jun 17 15:07:34 2011 -0400

    lp#788763 - final upgrade script
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
210	0	Open-ILS/src/sql/Pg/upgrade/0560.fix_opac_copy_vis_cache.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0560.fix_opac_copy_vis_cache.sql

commit e344bd87b3baec547e08cfe34053365e4409d479
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Jun 17 15:06:49 2011 -0400

    lp#788763 - fix updating copy status, locations, and OU visibiilty
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

5	5	Open-ILS/src/sql/Pg/999.functions.global.sql

commit 38332f0bbc18de90a3b83876a3249b3d3e4883bc
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 16 11:50:16 2011 -0400

    Repaired exchange rate PO activation bug
    
    Code was using the wrong hash key to read data from cstore request,
    resulting in a NULL debit amount when activating a PO with a different
    provider => fund currencies.  This resulted in POs that could not be
    activated.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm

commit 7dbe75cc1bde68590b1a9c9a34ec879cf438572b
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu Jun 16 07:15:27 2011 -0400

    Check if in staff client when placing holds
    
    Staff may have valid reasons to use a non-opac-visible org unit.
    So before bailing on a hidden org unit, check if we are in the staff client.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/web/opac/skin/default/js/holds.js

commit 0870039fa2f6bf1e3b72a098254a7187e129fc1c
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Jun 16 10:16:39 2011 -0400

    Move the user/dbs/lp797304_lp797307 upgrade script into place with a number
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
153	0	Open-ILS/src/sql/Pg/upgrade/0559.schema.biblio.extract_located_uris.sql
0	137	Open-ILS/src/sql/Pg/upgrade/XXXX.biblio.extract_located_uris.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0559.schema.biblio.extract_located_uris.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.biblio.extract_located_uris.sql

commit da70b778268afff19c3dd4f2e9e4c9e85cfeb7e3
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu Jun 16 09:50:25 2011 -0400

    Merging branch user/dbs/lp797304_lp797307
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    
    Cherry picking the following:
    
    commit 7be2a32620587af27de4316e42a308e913e9314c
    Author: Dan Scott <dan@coffeecode.net>
    Date:   Tue Jun 14 22:35:26 2011 -0400
    
        Add a stored procedure to reingest problematic URIs
    
        Assuming that href = label in asset.uri is a red enough flag for the
        problem in LP 797307 where the perfectly good label was being thrown
        away, reingest the unique set of records connected with such asset.uri
        rows.
    
        Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    commit 39fe0c4a8a3074ff4c1e427ad9f00a0760bac260
    Author: Dan Scott <dan@coffeecode.net>
    Date:   Tue Jun 14 21:54:51 2011 -0400
    
        Add unwrapped upgrade script for biblio.extract_located_uris
    
        See XXXX.biblio.extract_located_uris.sql for the upgrade script, waiting
        to be signed off and committed.
    
        Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
     create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.biblio.extract_located_uris.sql
    
    commit 7e6d2bfd7e9a5cbe57e4aacdf0b4b015a566883d
    Author: Dan Scott <dan@coffeecode.net>
    Date:   Tue Jun 14 21:34:15 2011 -0400
    
        Avoid duplicate row issues in biblio.extract_located_uris
    
        As there is currently no unique constraint on the non-ID columns of
        asset.uri, ensure that we only select a single ID from the tables until
        we dedupe the tables. Use an ORDER BY to grab the matching row with the
        lowest ID so we can clear out the rows with higher IDs.
    
        Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    commit e79a805299ec734a29ee5bfa77dc74bc1fd208cd
    Author: Dan Scott <dan@coffeecode.net>
    Date:   Tue Jun 14 14:02:49 2011 -0400
    
        Fix LP 797304 and 797307 - asset.uri parsing bugs
    
        Per 797304: one would expect asset.uri.label to be populated with the
        value of 856 $y, however, it was getting populated with 856 $u - perhaps
        as a result of the ordering of array entries in XPATH() not matching the
        XPath expression. Instead of including 856 $u in the XPath expression
        for uri_label, just assign its value to uri_label if uri_label is
        otherwise NULL.
    
        Per 797307: biblio.extract_located_uris() tries to reuse an existing
        active asset.uri entry rather than create a new row; however, it does
        not handle the case where there is no public note aka "use restriction"
        and will end up creating a duplicate row every time the record is
        reingested. Teach it to handle NULL values properly.
    
        Signed-off-by: Dan Scott <dscott@laurentian.ca>

27	9	Open-ILS/src/sql/Pg/030.schema.metabib.sql
137	0	Open-ILS/src/sql/Pg/upgrade/XXXX.biblio.extract_located_uris.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.biblio.extract_located_uris.sql

commit b42682021989dd67cfa5a4bfeb8ad7684bfbf2d1
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 15 03:13:50 2011 -0400

    lp797321: Disable the Apply Payment button during payment processing to mitigate chance of duplicate payments.
    
    I can't actually reproduce the creation of duplicate payments locally with
    trunk/2.x, but there are reports of it, and this doesn't seem to hurt.  Not
    a complete solution, but better than before
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	0	Open-ILS/xul/staff_client/server/patron/bill2.js

commit 9de353a732864b56815dc255e99da33f08f904b9
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Jun 14 09:38:23 2011 -0400

    Tweak new single close button for minimum space
    
    This change restores the overall space and position of the close
    button while keeping the other improvements (appears once, shows
    even with no notes)
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

10	8	Open-ILS/xul/staff_client/server/serial/notes.xul

commit c1b1d40e661fdafd16863af098fda965807de22b
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 13 22:54:27 2011 -0400

    Resolve Squeeze installation problems with PostgreSQL 9.0
    
    When you install OpenSRF on Debian Squeeze, one of the packages
    (apache2-prefork-dev) installs 8.4 versions of libpq5 and libpq-dev as
    dependencies. These conflict with the 9.0 versions that are required as
    dependencies for PostgreSQL 9.0 - so get them out of the way, pin the
    9.0 versions of the packages, and reinstall apache2-prefork-dev.
    
    We will probably need to do something similar for Lucid.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

12	3	Open-ILS/src/extras/Makefile.install

commit 51cfa81cf1c9581ef59c54591a0c009eb6598e51
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jun 13 18:02:41 2011 -0400

    Trivial aesthetic change: only one "close window" button for the window,
    
    rather than one per note.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

10	4	Open-ILS/xul/staff_client/server/serial/notes.xul

commit 400fa7e97d6fdf99175af39f8f769024f3871bf1
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Mon Jun 13 16:40:07 2011 -0400

    Fix a serial batch receive problem reported by Sally Fortin
    
    That prevents receiving items when not using units in some cases.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	1	Open-ILS/xul/staff_client/server/serial/batch_receive.js

commit 12907d6624ca9597458e4939e15affff23bed4c6
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon Jun 13 14:16:47 2011 -0400

    Serial note perms and edit support
    
    This expands the interface to allow for editing notes on serials
    objects.  At some point we will likely want to track edit dates as
    well, but this gets the ball rolling.
    
    Also renames some methods from 'create' to 'update' to match new
    capabilities and make the overall API more consistent, and adds perm
    checks based on related objects.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

75	35	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
3	3	Open-ILS/xul/staff_client/chrome/content/main/constants.js
3	0	Open-ILS/xul/staff_client/server/locale/en-US/serial.properties
47	14	Open-ILS/xul/staff_client/server/serial/notes.xul

commit e08a5cbfaa14fcd386f63a5f3e29539e6be3f544
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 13 15:34:03 2011 -0400

    Set a more generous AC timeout value
    
    A timeout value of 1 second is a bit too tight for many added content
    providers; set the default to 30 seconds to avoid too many artificial
    timeouts.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

1	1	Open-ILS/examples/opensrf.xml.example

commit a66e257f791c550a00f3b927c2d34abf34a920e7
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue Jun 7 12:06:57 2011 -0400

    Support for required fields in Serial Control editors
    
    Adds a basic check for any fields marked as 'required', and alerts and
    prevents submitting if they are blank.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	0	Open-ILS/xul/staff_client/server/locale/en-US/serial.properties
16	1	Open-ILS/xul/staff_client/server/serial/editor_base.js
4	2	Open-ILS/xul/staff_client/server/serial/scap_editor.js
3	1	Open-ILS/xul/staff_client/server/serial/sdist_editor.js

commit 4943907e05fa2f2dc5df699824af71601445d294
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jun 13 14:25:48 2011 -0400

    clearer label for not charging last patron when marking an item damaged
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 0b36655676ecc802fcb822e385dc87206c0a0e00
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon Jun 13 10:42:25 2011 -0400

    updated favicon to match staff client logo
    
    Favicon created by Michael Peters <mrpeters@library.in.gov>
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

-	-	Open-ILS/web/favicon.ico

commit beaca23dbad5e4a5a9b4188d495f3a97061b1f99
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 13 10:58:34 2011 -0400

    Typo, we need commas
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

8	2	Open-ILS/src/sql/Pg/990.schema.unapi.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0557.schema.in-db_unapi_copy_related_visibility-1.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0558.schema.in-db_unapi_copy_related_visibility-2.sql

commit 5b0ceba2004fba7d3b45e7c38402103045221fae
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 13 10:45:20 2011 -0400

    Thinko fix -- split upgrade script, forgot to inc the version in the second
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/upgrade/0558.schema.in-db_unapi_copy_related_visibility-2.sql

commit 36b0a67a4520151082e72056893d92ad3bf797f1
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon Jun 13 10:38:29 2011 -0400

    Bring in-db unAPI opac visibility info up to date with (and a little beyond) ea3b8857d08b8a9050e763f8084c841e8df9a473
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
28	0	Open-ILS/src/sql/Pg/upgrade/0557.schema.in-db_unapi_copy_related_visibility-1.sql
26	0	Open-ILS/src/sql/Pg/upgrade/0558.schema.in-db_unapi_copy_related_visibility-2.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0557.schema.in-db_unapi_copy_related_visibility-1.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0558.schema.in-db_unapi_copy_related_visibility-2.sql

commit 7aa41faefa305af9be76dcb1d72c951edfd774aa
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jun 13 10:33:49 2011 -0400

    change accesskeys for menu entries related to Conjoined Items
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	3	Open-ILS/web/opac/locale/en-US/lang.dtd

commit 791a3b5a2a3ec37805a1cc07091b1e5cf1f208a9
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 31 13:55:29 2011 -0400

    Remove all references to Cookie(s).js and Cookies.js
    
    Dojo toolkit is the new Cookie manager, so any lingering
    references to Cookie.js (a typo in any case) are no longer
    valid, and we no longer need to ship Cookies.js with
    Evergreen.
    
    Cookie.js typo was reported by Steven Chan in LP 790429
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	123	Open-ILS/web/opac/common/js/Cookies.js
0	1	Open-ILS/web/reports/oils_rpt_common.xhtml
0	1	Open-ILS/xul/staff_client/server/admin/cash_reports.xhtml
0	1	Open-ILS/xul/staff_client/server/admin/copy_locations.xhtml
0	1	Open-ILS/xul/staff_client/server/admin/hold_pull_list.xhtml
0	1	Open-ILS/xul/staff_client/server/admin/hold_pull_list_classic.xhtml
0	1	Open-ILS/xul/staff_client/server/admin/non_cat_types.xhtml
0	1	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml
0	1	Open-ILS/xul/staff_client/server/patron/user_edit.xhtml
 delete mode 100644 Open-ILS/web/opac/common/js/Cookies.js

commit ec980413ac34112c6994bd582c20edb30bb9aa23
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 7 10:16:25 2011 -0400

    Use the new status.opac_visible attribute in search summary
    
    Until we exposed the OPAC visibility of the status element as set in
    config.copy_status, We previously had to hardcode the logic for whether
    a given copy should be displayed based on its status. Now we can simply
    use the status.opac_visible attribute to determine visibility.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

4	17	Open-ILS/web/opac/skin/default/xml/result/result_table.xml

commit ea3b8857d08b8a9050e763f8084c841e8df9a473
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 7 10:09:57 2011 -0400

    Add opac_visible attribute to copy and serial unit statuses
    
    config.copy_status defines an opac_visible column, but that attribute
    was not being exposed in the holdings XML, so code that displayed copies
    and serial units based on the holdings XML had to hardcode the display
    based on the status ID or name instead of using the configured setting.
    
    To simplify display logic, teach holdings XML about the opac_visible
    column and expose its value in the status element as a new opac_visible
    attribute.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit 081b2a5ce30d9a4582d845d191b11b6c09fd25e5
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 6 13:38:17 2011 -0400

    Make copy status visibility match default config.copy_status settings
    
    Previous version of this patch had hardcoded copy status settings to
    0, 7, 12 to match the "Available" settings, rather than the OPAC
    visibility settings available from config.copy_status for each status.
    
    Until config.copy_status.opac_visible translates into an opac_visible
    attribute on the status element in the holdings XML, this is probably
    the best we can do.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

14	4	Open-ILS/web/opac/skin/default/xml/result/result_table.xml

commit 30992ad5459ebf2b135ba614040d68399f60fffd
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon May 30 22:49:00 2011 -0400

    Plug the many OPAC visibility holes in search result item display
    
    Check volume and circ_lib and copy status OPAC visibility (and
    deleted status in the case of volumes) in addition to the existing
    copy and copy-location checks.
    
    Worst hack is hard-coded copy status IDs of 0, 7, 12 - but this is
    currently used throughout the code, so one more can't hurt that much
    (OWWW).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

28	0	Open-ILS/web/opac/skin/default/xml/result/result_table.xml

commit da0b6c44881f85509822802e58774488d84a2059
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 13 09:45:39 2011 -0400

    Prevent uninit var warnings in QueryParser.pm
    
    $suffix_op and $prefix_op would not be defined if $suffix or $prefix did
    not evaluate to true, leading to warnings about undefined variables in
    open-ils.storage_stderr.log.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

5	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit d4c53bb0a18d08d1de46562b4dec9b26ffc6a5ef
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Mon Jun 13 09:20:31 2011 -0400

    Updater apparently reads extensionVersion
    
    Without it no updates are ever found. :(
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/updates/check

commit 3151bb5c5dc8e6512a9e8619f09a2bf5fc047717
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Jun 11 07:23:45 2011 -0400

    Correct base schema for superseded/deprecated functions
    
    As discussed on Evergreen dev list, the base schema didn't
    match what one would accomplish via upgrades for the
    evergreen.upgrade_list_applied_deprecated() and
    evergreen.upgrade_list_applied_superseded() functions;
    they were returning TEXT instead of SETOF TEXT.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	4	Open-ILS/src/sql/Pg/002.schema.config.sql

commit cc532336004d66ce16a26d00054584f0f399a961
Author: Dan Scott <dan@coffeecode.net>
Date:   Sat Jun 11 07:05:53 2011 -0400

    Update upgrade files that had conflicting numbers
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	2	Open-ILS/src/sql/Pg/upgrade/0555.unnest_oils_xpath_table.sql
2	2	Open-ILS/src/sql/Pg/upgrade/0556.unnest_biblio_extract_metabib_field_entry.sql

commit ba6ffe0fe4140cc6761f2a9fff65e38649b8925c
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 10 16:40:46 2011 -0400

    add the patron opt-in settings
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
13	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
40	0	Open-ILS/src/sql/Pg/upgrade/0550.data.patron_opt_in_settings.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0550.data.patron_opt_in_settings.sql

commit 131d700ded4b50fe70bc86b81d588f4db07e4fe8
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue Mar 29 11:31:58 2011 -0400

    patch from James Fournie re: https://bugs.launchpad.net/evergreen/+bug/510959 for improved patron opt-in
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

32	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
10	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm
2	2	Open-ILS/xul/staff_client/server/patron/search_form.js

commit b1ee9ad4ef91240de7110d1748a5a3c57043da39
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 10 16:16:21 2011 -0400

    Showing hold/copy summary in details page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

13	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
10	7	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit b29048c055d68892414ece81623cc8302a36c0a1
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 10 14:21:50 2011 -0400

    Chilifresh reviews for results and record pages
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/web/templates/default/opac/parts/base.tt2
20	0	Open-ILS/web/templates/default/opac/parts/chilifresh.tt2
31	0	Open-ILS/web/templates/default/opac/parts/record/awards.tt2
2	27	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
7	15	Open-ILS/web/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/chilifresh.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/awards.tt2

commit 263d4bedb965eba4b3935c3246d15db00494f94b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 10 14:21:13 2011 -0400

    Pass ENV down to template environment
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit d7228aa2bb7c782735f6f64d30b68cec5cadb523
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 10 14:20:50 2011 -0400

    Added Chilifresh secure url to sample apache config

1	0	Open-ILS/examples/apache/eg_vhost.conf

commit 103056569ab01d7c7232643a5bcb5591178b58b7
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 10 14:12:27 2011 -0400

    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    git training

1	0	Open-ILS/xul/staff_client/README

commit e3692ad0e21cf67682b24b8c759cbe9b9b2f6794
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed Jun 8 14:07:48 2011 -0400

    Replace instance of location.href
    
    xulG.set_tab populates xulG properly in new URL, location.href does not
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/patron/display.js

commit 7eb1d4f2cc6a3a30517f28a8bc9f4f0c1e411b45
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue Jun 7 13:45:55 2011 -0400

    Correct error in call number owning library change
    
    Send IDs to the backend, not objects.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit 888bcf06187a1b7ad128d486cc17f4038c0fcfd2
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Jun 10 09:22:56 2011 -0400

    Mark invalid home ous as such in patron editor
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

16	0	Open-ILS/web/js/ui/default/actor/user/register.js

commit c59af6db9fa9397c57f8a5b5d0750c9b80c78a48
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri Jun 10 09:22:56 2011 -0400

    Mark invalid home ous as such in patron editor
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>

16	0	Open-ILS/web/js/ui/default/actor/user/register.js

commit 305eef7176e2924e980428a011ee8bc932bff0e7
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 10 10:42:51 2011 -0400

    missing string for MFHD deletion
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties

commit 1e79f43d9eb473bf51ca2d57f50b27d8e22dc31b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 16:51:20 2011 -0400

    added notification of successful settings update to patron prefs page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
10	1	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2

commit cd9b2cd8b9d53ba0929791e9ffe8fae5950b3a72
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 16:39:03 2011 -0400

    honor hit count user pref on results page
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

21	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 1f49fd9b7e2e9a69bcb1985c5c12d965313fe265
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 16:04:43 2011 -0400

    Initial support for updating user prefs
    
    Starting with hits-per-page and enable/disable circ/hold history
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

41	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	3	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2

commit 000ddbbe2f16c4e7ae0242f0032bc3c4f0cbfe14
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jun 9 13:29:19 2011 -0400

    syntax error
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 8a98c9ae0dbffbd7b650f39e6b21ad3a01c7009f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu Jun 9 13:29:00 2011 -0400

    pin a version number
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
53	0	Open-ILS/src/sql/Pg/upgrade/0549.data.transit-checkin-interval.sql
0	53	Open-ILS/src/sql/Pg/upgrade/XXXX.data.transit-checkin-interval.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0549.data.transit-checkin-interval.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.transit-checkin-interval.sql

commit 1a4b30d72c65975899f3bb404102857ed121aa61
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 10:13:18 2011 -0400

    Unwrapped upgrade script for transit checkin interval setting/perm
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

53	0	Open-ILS/src/sql/Pg/upgrade/XXXX.data.transit-checkin-interval.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.data.transit-checkin-interval.sql

commit 36a642ebabf5eaa3930eb69ebe6dc6282164c931
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 10:03:10 2011 -0400

    Transit minimum checkin interval setting
    
    OK, here's the situation, a copy went away on a week's vacation...
    
    Support for preventing checkin of a copy that was put into transit "too
    recently".  The scenario that prompted the development is this:
    
    Copy at Branch A is checked in and put into transit to fill a hold at
    Branch B.  The copy is then accidentally checked in at Branch B.
    (Imagine a crate of items with a superbarcode gets checked in at
    Branch B and the copy in question was presumed to be in that crate).
    This puts the item on the holds shelf (assuming a hold transit) at
    Branch B and notifies the patrom the item is ready for pickup.
    However, the copy is still just embarking from Branch A.
    
    This new setting allows libraries to configure a minimum transit time.
    If a copy is put into transit and checked in during the configured
    interval, the checkin will return an (overridable) event that prevents
    checkin.  If the setting is not configured, this has no affect on
    checkin.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	0	Open-ILS/src/extras/ils_events.xml
31	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
21	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
2	1	Open-ILS/xul/staff_client/server/circ/util.js

commit c873055829a359bda3505e887e53ba5cd368a0f9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jun 9 09:17:04 2011 -0400

    added read support for holds history setting

16	15	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2

commit 471e5be5386c5a548a01bb21da7a4e2b4311d890
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jun 8 17:25:31 2011 -0400

    Read support for some user settings in setting page
    
    Search hits per page and circ history opt-in displaying
    
    TODO: add more settings
    TODO: implement POST/write for updating values
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

16	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
45	68	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2

commit 34906bd225de9752e12d4c85d54ebf3e45012b41
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jun 8 15:44:37 2011 -0400

    Extend hold shelf expire date beyond closed dates
    
    If the shelf_expire_time on a hold would land on a closed date for the
    pickup library, push the expire time out to just beyond the close date
    range, similar to the circulation due date overlap logic.
    
    In the current iteration, the time component of the date is pushed out
    to the end of the day (23:59:59).  If this is not generally the desired
    behavior, an org setting could be added to bypass this step so that the
    time matches "now" (i.e. capture time) instead.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

21	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 85ca1e2f2a8568fe11cb48847539ab9ee1331e9d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jun 8 12:46:51 2011 -0400

    Select all fines for CC payment by default

2	2	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit b8d2f78e65ba682053122143eca24f45799480d9
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 15:33:20 2011 -0400

    honor ui.unified_volume_copy_editor setting with Add Volumes in Holdings Maintenance
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

9	2	Open-ILS/xul/staff_client/server/cat/copy_browser.js

commit 5f446f3ae095bd3dba0135b8ed6bd4536a2e3441
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 1 16:25:50 2011 -0400

    make unified vol/copy editor honor required stat cats
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

15	3	Open-ILS/xul/staff_client/server/cat/copy_editor.js
14	2	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit f0a03c673bbd85b48bd93e9e43bf675e8b0268f3
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 31 11:41:13 2011 -0400

    Add i18n support for "Retrieving title..." tab name
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 7a4c9360fb48e3b17d503f59692aef7d509e7590
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 27 11:41:55 2011 -0400

    Integration of unified vol/copy editor and fast  add
    
    * Wire up unified vol/copy editor for marc editor fast item add function
    * Robustify callnumber vivication for unified vol/copy editor from marc editor
    * Load opac after unified vol/copy with marc editor fast add.
    * Various bug fixes
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

24	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
7	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
24	1	Open-ILS/xul/staff_client/server/cat/util.js
55	36	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 24007bf27d6f53073cfb45e4db43b88f651b971b
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue Jun 7 13:52:22 2011 -0400

    Use native unnest() db function instead of explode_array()
    
    Per LP 789747, the custom explode_array() database function
    was found to generate significantly slower results for searches than
    using the native (and equivalent) unnest() array function. Given that
    unnest() has been part of PostgreSQL since 8.4 and Evergreen 2.0
    requires a minimum of PostgreSQL 8.4, this patch removes the definition
    of the explode_array() functions and replaces its usage with unnest().
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

0	5	Open-ILS/src/sql/Pg/002.functions.aggregate.sql
1	1	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
3	3	Open-ILS/src/sql/Pg/030.schema.metabib.sql
2	2	Open-ILS/src/sql/Pg/110.hold_matrix.sql
27	27	Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql
25	30	Open-ILS/src/sql/Pg/300.schema.staged_search.sql
1	1	Open-ILS/src/sql/Pg/pgmemcache-ou_tree_traversal_cache.sql
71	0	Open-ILS/src/sql/Pg/upgrade/0549.unnest_oils_xpath_table.sql
113	0	Open-ILS/src/sql/Pg/upgrade/0550.unnest_biblio_extract_metabib_field_entry.sql
63	0	Open-ILS/src/sql/Pg/upgrade/0551.unnest_metabib_remap_metarecord_for_bib.sql
23	0	Open-ILS/src/sql/Pg/upgrade/0552.unnest_biblio_map_authority_linking.sql
189	0	Open-ILS/src/sql/Pg/upgrade/0553.unnest_action_hold_request_permit_test.sql
314	0	Open-ILS/src/sql/Pg/upgrade/0554.unnest_search_query_parser_fts.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0549.unnest_oils_xpath_table.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0550.unnest_biblio_extract_metabib_field_entry.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0551.unnest_metabib_remap_metarecord_for_bib.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0552.unnest_biblio_map_authority_linking.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0553.unnest_action_hold_request_permit_test.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0554.unnest_search_query_parser_fts.sql

commit 16afbc211042bec038a15913ee7365690418328b
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri Jun 3 15:17:48 2011 -0400

    Prevent future dates of birth in patron editor
    
    The patron editor form allowed staff to enter a date of birth that takes
    place in the future. While it is theoretically conceivable (hah) that
    a library might register patrons that have yet to be born, it is
    unlikely enough that we will not even assign this behavior to an
    org-unit setting, but we will take the bold move of using a regular
    expression to prevent a future dates of birth at all.
    
    Note that if a library system travels into the past, this will cause all
    sorts of problems in the patron editor interface (not to mention
    overdues). Please do not mix Evergreen and time travel.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

3	0	Open-ILS/web/js/ui/default/actor/user/register.js

commit 7d9c7e89bc65671ad884cea9b5fd140a7b7b0bbf
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Jun 2 15:44:36 2011 -0400

    Fix false MFHD editing cues (LP #791974)
    
    The in-DB serial holdings use the same general display code as
    the MFHD records, but were falsely triggering MFHD administration
    widgets when in fact no MFHD record exists.  These holdings were
    already being marked, so this fix honors that mark.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/web/opac/skin/default/js/rdetail.js

commit d54a9c8d6b0e3c4bc2503420c1e054693058e3e0
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu Jun 2 10:17:07 2011 -0400

    Tweak MFHD scoping
    
    Three changes:
    1) Add a closure for 'entryNum' value (currently used for some display
    placement and menu-entry correlation)
    2) Remove depth-climb to simplify code and better approximate copy scoping
    3) Move 'here' assignment out of the foreach
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

5	7	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 19685ce120646a4eec75322f387d93d7d64a4e38
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon Jun 6 12:11:58 2011 -0400

    LP 791546: advanced search ISBN/ISSN in .staff mode
    
    In 1.6, advanced search ISBN/ISSN searches always operated in .staff
    mode, returning results whether the results should have been visible to
    the user or not. This confused patrons who saw records to which they had
    no access.
    
    In 2.0, this behaviour changed so that advanced search ISBN/ISSN
    searches never operated in .staff mode. This confused staff who were
    used to retrieving records via the ISBN/ISSN search when they wanted to
    add holdings for their own library to the records.
    
    The pattern for addressing this problem and satisfying both use cases is
    the same - use the multiclass.query.staff method if we invoke the ISBN
    or ISSN searches with the .staff method name.
    
    One could easily refactor many of the search method bodies in this
    module to use the exact same logic, keying off the method name to
    identify the identifier field and the .staff portion of the method name
    to determine whether to invoke .staff mode or not. For now we just
    address the ISBN and ISSN entry points.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

27	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
2	2	Open-ILS/web/opac/common/js/config.js

commit 989579ab508ede9747b9e60a42c103b77f8eb016
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon Jun 6 12:46:21 2011 -0400

    fix View Holds by preventing an empty IN list with cstore, and stubbing out part_holds
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>

9	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit ea27fde5470d45bdbd73bf4ff8b0af2dfa0d8516
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 1 03:21:06 2011 -0400

    for the Circulate as Type column in xul lists, display the actual citm value instead of the code
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

7	1	Open-ILS/xul/staff_client/server/circ/alternate_copy_summary.js
8	1	Open-ILS/xul/staff_client/server/circ/util.js

commit 78e7d486a662069b06029c6ea7b6e681569f113d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 1 03:17:17 2011 -0400

    Fix Circulate as Type in the item editor.
    
    The citm retrieval method was changed to use open-ils.fielder, which
    doesn't return actual fieldmapper objects, so when data.js went to
    convert the retrieved list to a hash, it broke.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

2	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js

commit 39ea274d3df9963eb084faf796e0a2d1e14f7e68
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 1 03:16:05 2011 -0400

    Allow util.functional.convert_object_list_to_hash to handle more than fieldmapper-like objects
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

8	2	Open-ILS/xul/staff_client/chrome/content/util/functional.js

commit dfbf4956fc9ad4c19cda234f4468f23788cf862d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 3 16:35:25 2011 -0400

    PO activation date display improvement
    
    Use the smarter Util.js date parsing code to prevent small time offsets
    in PO activation date display.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	4	Open-ILS/web/js/ui/default/acq/po/view_po.js

commit 11908662b2a67dd4dac03d715e2fb97a48adfe64
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri Jun 3 15:58:52 2011 -0400

    tweak function name
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	3	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit bf9017e16fb6d0e7568fc3b6a713363008a60f37
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri Jun 3 14:48:30 2011 -0400

    Refactor the "show copy notes button" functionality
    
    Collapse the duplicated code for showing / hiding the "show copy notes
    button" into a single method. Might make maintenance a bit easier some
    day.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

16	17	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit d96e2a45e12bef1a913a2f295bdcc7f4e5de51d4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed Jun 1 15:57:50 2011 -0400

    fix the Copy Notes button in the unified vol/copy editor
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

17	8	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit 891d934fca3909043d31602a7d5de1d5ec699d9f
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Jun 3 14:16:49 2011 -0400

    Clean up a few stock perm mistakes, part 2
    
    0547 did not completely apply to rel_2_1, so the correction of errant inserts
    from 0545 has been split off into this upgrade instead, for clarity.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	9	Open-ILS/src/sql/Pg/upgrade/0547.data.perm_list_cleanup.sql
35	0	Open-ILS/src/sql/Pg/upgrade/0548.data.perm_list_cleanup_pt_2.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0548.data.perm_list_cleanup_pt_2.sql

commit beb0eb34513ce3059cc3cca477c72f8956959d1c
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Jun 3 13:43:40 2011 -0400

    Clean up a few stock perm mistakes
    
    This upgrade file does cleanup for three errors:
    1) deletes errant inserts from 0545 (group 4 is not the circulation admin group)
    2) accounts for spelling errors (Admin != Administrator)
    3) adds a group missed in 0542, for upgraders
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
5	5	Open-ILS/src/sql/Pg/950.data.seed-values.sql
225	0	Open-ILS/src/sql/Pg/upgrade/0547.data.perm_list_cleanup.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0547.data.perm_list_cleanup.sql

commit 06bd754a9229eb8751ca63ed9e34bb4e7c77b22a
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri Jun 3 13:00:25 2011 -0400

    Fixed and extended upgrade file 0542 (stock permissions)
    
    This upgrade file did not work on a multi-upgraded DB, as a bunch of new
    permissions and groups never made it into any upgrade.
    
    The changes here are intended to both fix the upgrade and rectify the
    missing pieces, where needed.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

590	113	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit 7d1040a86595c50dadb235c5c014ae7a5e9294f4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jun 3 08:35:21 2011 -0400

    Wrapped upgrade script
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
84	0	Open-ILS/src/sql/Pg/upgrade/0546.schema.sip_statcats.sql
0	74	Open-ILS/src/sql/Pg/upgrade/XXXX.sip_statcats.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0546.schema.sip_statcats.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.sip_statcats.sql

commit 3bb5566d96843eacf453683367580d100328c445
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat May 28 21:44:45 2011 -0400

    Upgrade script, needs wrapping.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

74	0	Open-ILS/src/sql/Pg/upgrade/XXXX.sip_statcats.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.sip_statcats.sql

commit b3fa2158d6c92191f0b3ee2319d17170017cf53e
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat May 28 21:44:35 2011 -0400

    Sip Statcats - Actor/Asset Statcats via SIP2
    
    Stat cats can now have a sip_field and sip_format.
    sip_field is the field identifier code, sip_format is one of the following:
    
    1 - Null/Empty, places stat cat value in as-is
    2 - A plain string, placed in value as-is when stat cat has value
    3 - A plain string with a %s, 1 and 2 combined, where the stat cat value replaces the %s
    4 - A regular expression surrounded by | characters (ex, |([0-9]*) -|):
        If the regular expression does not match the value, nothing
        If the regular expression matches and has a capture group, the captured group
        If the regular expression matches and does not have a capture group, the entire match
    
    The | was used because it would otherwise be stripped from the final result anyway.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

38	1	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/actor.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/asset.pm
36	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Item.pm
37	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm
35	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
36	0	Open-ILS/src/sql/Pg/040.schema.asset.sql
9	0	Open-ILS/web/opac/locale/en-US/lang.dtd
28	0	Open-ILS/web/templates/default/conify/global/config/actor_sip_fields.tt2
28	0	Open-ILS/web/templates/default/conify/global/config/asset_sip_fields.tt2
8	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
8	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
46	0	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.js
26	1	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.xhtml
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/actor_sip_fields.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/asset_sip_fields.tt2

commit d77cee596c85c8fd87d69204282c7f56cff2fe71
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jun 1 17:29:01 2011 -0400

    Permission to allow transit abort on lost/missing
    
    This patch introduces a permission that allows staff to abort transits
    for items in the lost/missing status.  Previous, this was disallowed by
    a hard-coded block.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

8	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Transit.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
7	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
20	0	Open-ILS/src/sql/Pg/upgrade/0545.data.abort_transit_perms.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0545.data.abort_transit_perms.sql

commit 80c12c43dc423c52a0b4332e7b390f79183684a0
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed Jun 1 18:06:13 2011 -0400

    Whitespace cleanup in aisle 3 (O:A:Reporter)
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

22	22	Open-ILS/src/perlmods/lib/OpenILS/Application/Reporter.pm

commit 5953eb3a878299d5401df679d899f87d14a054b4
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Wed Jun 1 08:52:57 2011 -0400

    LP#740466 add order by name method to Reporter.pm to sort report folders by name Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Reporter.pm

commit 0e0026ad7a81812b1831433aedf12c6884a50c64
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jun 1 17:01:36 2011 -0400

    Collections exemption user setting
    
    Adds a new user setting "circ.collections.exempt" which, when set to
    true for a user, means the user will not be considered for collections.
    It does this by ignoring the user when calculating the list of users of
    interest in the "open-ils.collections.users_of_interest.retrieve" API
    call.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

6	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/money.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
8	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
15	0	Open-ILS/src/sql/Pg/upgrade/0544.data.patron_no_collections.sql
1	1	Open-ILS/web/js/ui/default/actor/user/register.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0544.data.patron_no_collections.sql

commit f424dd871e963b713b398fe38364c311d3c5f3a6
Author: Dan Wells <dbw2@calvin.edu>
Date:   Wed Jun 1 14:33:59 2011 -0400

    Serial holdings display consistency fix
    
    When holdings are sourced from both MFHD and the DB, display may be
    inconsistent due to a hard-coded ', ' in Serial.pm.  This patch works around
    the problem by storing generated_coverage as a JSON array instead of a string,
    leaving display formatting to the OPAC.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

4	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Serial.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
18	0	Open-ILS/src/sql/Pg/upgrade/0543.data.reformat_generated_coverage.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0543.data.reformat_generated_coverage.sql

commit 71d8150a266f5958e8c512aadbe276ccadc1357c
Author: Dan Wells <dbw2@calvin.edu>
Date:   Wed Jun 1 12:56:43 2011 -0400

    Missing db upgrade number bump
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit cd81dcb89e733d0d999d31a56b2eb26e40fed75f
Author: Dan Wells <dbw2@calvin.edu>
Date:   Wed Jun 1 11:10:34 2011 -0400

    Remove specific admin perms, reorganize seed file
    
    The various administrators already have 'EVERYTHING' at their
    respective levels, so no need to assign new perms there.  The
    seed file is now more consistently organized.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

76	201	Open-ILS/src/sql/Pg/950.data.seed-values.sql
0	41	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit bbae78f424e5594d5be3fe9ff12e73f2540231a0
Author: Dan Wells <dbw2@calvin.edu>
Date:   Wed Jun 1 09:43:53 2011 -0400

    Change a few permission levels and assignments
    
    In an attempt to be consistent with existing perms, a few were moved to
    levels lower than 'Consortium', and ADMIN_SERIAL_ITEM is only in the
    'Serial' group.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	5	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit 68d16f43562a0876434e3682e4bdf131b28ef5b9
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 14:31:04 2011 -0400

    Push the grp perm mappings into the seed data
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

170	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit ae41d29e80754dd75f81c5153a00cd81480f828b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 12:55:25 2011 -0400

    wrong group ids for system admin and global admin
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	2	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit c414aa50d4344dd2760a214371907430e5a6af5a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 12:50:39 2011 -0400

    put CREATE_PURCHASE_REQUEST into Users, not Staff
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

13	3	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit fa5fc15f91d133a2d0d4f44ae834ab80ac8d104b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 12:43:41 2011 -0400

    map these perms to stock perm groups
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

158	0	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit 95c9d96a3216e043224fb2bff99a7c5705e009c9
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 10:51:19 2011 -0400

    added other permissions missing in rel_2_1
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

13	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit 39335cc75c24b3ebec63da9daa7070867f1c828a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 03:13:26 2011 -0400

    some recent cataloging permissions, but I'm unsure about the new upgrade/ script regime
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

13	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
17	0	Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0542.data.perm-list.misc-cat.sql

commit 1aea64df0480c23cf895d637c1846d2974da5f97
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 31 17:30:31 2011 -0400

    Make database schema patch dependencies work more better
    
    Per a suggestion from Bill Erickson, move evergreen_patch into the
    evergreen schema (where we can simply call it evergreen.patch).
    
    Also, as we seem doomed to repeat ourselves, add a little bit of schema
    adjustment to the 0526 upgrade script so it can be applied
    retroactively.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

3	0	Open-ILS/src/sql/Pg/000.functions.general.sql
2	4	Open-ILS/src/sql/Pg/002.schema.config.sql
11	3	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql

commit 340e026918ecca3ab7dfef6a67160ed516cca835
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 31 13:19:08 2011 -0400

    Make patch-checking function able to raise a notice
    
    There's probably a more elegant way to do this, but basic
    testing with the following at least didn't throw an error:
    
    SELECT evergreen.upgrade_deps_block_check('XXXX', NULL);
    
    Also note that the CREATE OR REPLACE function calls will
    fail on an existing database due to the changed return
    type of the functions - so if this gets moved into its
    own upgrade script, DROP FUNCTION calls will be
    required.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

14	7	Open-ILS/src/sql/Pg/002.schema.config.sql
11	4	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql

commit 501f26fe7f0da1d4a5d6962b2c3a820eec3ccc4d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue May 31 12:16:16 2011 -0400

    Repaired typo on schema and upgrade SQL
    
    ARRAY_ACUM is not a defined function.  Per Dan Scott, replaced with
    ARRAY_AGG instead of the correctly spelled ARRAY_ACCUM, since we'll be
    using that function in place of ARRAY_ACCUM going forward.
    
    Thanks, Dan.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

2	2	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql

commit 3fe31b6081ef449ed774a007c80a8441e919c18d
Author: Michael Peters <mrpeters@library.in.gov>
Date:   Tue May 31 08:44:49 2011 -0400

    LP#739444 Incrementing opac.dtd copyright date
    
    Signed-off-by: Michael Peters <mrpeters@library.in.gov>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/web/opac/locale/en-US/opac.dtd

commit b2d7b3a89814c3acb1fd23e98f1ce566bc450a2c
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sat May 28 10:01:43 2011 -0400

    Format selector improvements
    
    Consistent with format icon fall-thru, try mattype first to locate the
    list of formats for search selection.  If no mattype configuration is
    found, fall through to item_type.
    
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	1	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
23	10	Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit 3bd7c7e41404585b925915afbd2abd67bf4300bf
Author: Dan Scott <dan@coffeecode.net>
Date:   Fri May 27 13:51:59 2011 -0400

    Fix rendering of MFHD records when ownership is out of scope
    
    Dojo would die with a null reference error when an MFHD record
    was retrieved that was outside of the current OU search scope.
    For example, if a given bib record had one linked MFHD record
    for BR1, and one linked MFHD record for BR4, the details page
    would choke trying to draw the MFHD holdings in a scope that
    only included BR1 and end up drawing nothing. Ungood.
    
    Moving the ownership check and invoking _holdingsDrawMFHD()
    only after ensuring that the record is within our scope resolves
    the problem.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

17	17	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 81818c81a1df25ded485329195c9a40b960c05bd
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 27 13:02:14 2011 -0400

    indicate what date format to use for offline patron registration
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/web/opac/locale/en-US/lang.dtd

commit ca0cc44d5f542b191e66d1b8e3cfb955e32379b9
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri May 27 11:39:53 2011 -0400

    Fix Hold Capture checkin mode
    
    oils_persist was trumping hardcoded values.
    Also, change how checked is set/unset for reliability.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	2	Open-ILS/xul/staff_client/server/circ/checkin.xul

commit bbc874ddb42ac05130ccfad92fc55ccebd6af882
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 26 16:03:39 2011 -0400

    Patch suggested by Jason Boyer for LP#788601
    
    The <script> tag for the chrome frame message has a misplaced semicolon,
    which causes an odd looking display issue in Internet Explorer. I
    realize that ideally very few people will be using IE, but even if
    they're not interested in a quality browsing experience we should
    probably put our best face forward.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/web/opac/skin/default/xml/home/index_body.xml

commit ac80f3b7c3e6e3104ad81ce8a424814155ee728d
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu May 26 11:19:40 2011 -0400

    Distinguish between 'Show Groups' checkboxes in Serial Control
    
    Two different checkboxes ended up with the same ID, which, as one might
    expect, kinda worked and kinda didn't.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

5	5	Open-ILS/xul/staff_client/server/serial/manage_dists.js
1	1	Open-ILS/xul/staff_client/server/serial/manage_dists.xul
5	5	Open-ILS/xul/staff_client/server/serial/manage_subs.js
1	1	Open-ILS/xul/staff_client/server/serial/manage_subs.xul

commit 6a04ad689bd94f0cddf8ab86f250823d7181f9d5
Author: Dan Wells <dbw2@calvin.edu>
Date:   Thu May 26 10:53:42 2011 -0400

    Checking for 'twisty' leads to false negatives in Serial Control
    
    Since a tree can be opened with a double-click, we can't rely on 'twisty'
    being set to load the child data.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

4	6	Open-ILS/xul/staff_client/server/serial/manage_dists.js
4	6	Open-ILS/xul/staff_client/server/serial/manage_subs.js

commit 623aeb0f51c9ae4bed3eaf9f34574132c8e73206
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 03:55:26 2011 -0400

    Don't rely on call number column being rendered before prefix/suffix/class columns.  Also, remove prefix/suffix/class from the check-in interface, since those column definitions can make extra network calls and we want that interface to be as fast as possible.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/circ/checkin.js
123	6	Open-ILS/xul/staff_client/server/circ/util.js

commit 37e218b6b2183d929365ba52c61ecdc87b2417e1
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 26 02:42:07 2011 -0400

    wrong target for parts holds in open-ils.circ.holds.retrieve_all_from_title
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

6	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 8b1731f4e3c3ac953dae1d223a29732b8fda6599
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 23 16:14:29 2011 -0400

    browser.js debugging / robustification.  Replace some magic numbers with proper constants.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

66	6	Open-ILS/xul/staff_client/chrome/content/util/browser.js

commit a7d34c5befa20b9a6baddef04d3dbb3411e121e5
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 23 14:03:33 2011 -0400

    debugging aid, take the "thread trace" for a given page and make it stand out more
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

21	2	Open-ILS/xul/staff_client/server/skin/custom.js.example

commit bd93993136af737dde130f8973ccf9fab39445a8
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 23 15:51:32 2011 -0400

    debugging aid.  split dump output produced by replacement dump function in custom.js.example
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

8	0	Open-ILS/xul/staff_client/external/dump_splitter.sh
 create mode 100755 Open-ILS/xul/staff_client/external/dump_splitter.sh

commit 8a26888af4c658849d4089ace91c91ecc005985d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 25 16:56:24 2011 -0400

    missed this way back when.  fix multiple event override handling (for ilsevent lacking events), re: lp#757634.  Also add some missing typeof's
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	3	Open-ILS/xul/staff_client/chrome/content/util/network.js

commit e62e2f75b0d6cb9100811f8db90abac93dcca118
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed May 25 11:38:11 2011 -0400

    Fix authority linking script typo
    
    Problem reported by Ditty Mulder <dmu@iisg.nl>
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/support-scripts/authority_control_fields.pl.in

commit 044f1f18ca74bf400646f106ee065c663654e697
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue May 24 22:20:20 2011 -0400

    When auto-versioning, use last piece of branch
    
    Specifically, last / delimited piece.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/xul/staff_client/Makefile.am

commit c58587837f40948650c71823818b60c5239ef5d9
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue May 24 22:29:39 2011 -0400

    trival whitespace cleanup
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/make-db-patch.pl

commit c81793be60b63195bb712927d16672bd919a97f5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue May 24 22:11:10 2011 -0400

    Add --nonum to make-db-patch
    
    Makes XXXX.* files.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

28	14	Open-ILS/src/sql/Pg/make-db-patch.pl

commit 62e75063ded3061c9c1ad49c346ed13a8ae3d12b
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 24 21:56:13 2011 -0400

    Trivial line-wrapping patch for call number class defaults
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

8	1	Open-ILS/src/sql/Pg/040.schema.asset.sql
8	1	Open-ILS/src/sql/Pg/upgrade/0541.schema.call_number_honor_default_class.sql

commit 047e3586f757038e8e0c29b9d78f8191ae9d1683
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue May 24 10:53:09 2011 -0400

    Make label_class on any new call numbers default to org_unit setting
    
    Evergreen 2.0 added a label_class column to the call number table with
    one major purpose being the generation of correct sort keys. You can
    also specify a default label class as an org unit setting. However:
    
    1) There are no interface elements for setting the label class of an
    individual call number.
    
    2) The default setting from the actor.org_unit_setting
    'cat.default_classification_scheme' value, if set, is not consulted
    (that is, not set in the call number table) when new call numbers are
    created.
    
    These two facts together greatly reduce the utility of this very
    valuable feature, as all new call numbers end up in the 'Generic' class.
    
    While #1 has been addressed in 2.1+, there is still work to be done in
    setting this class on import. Also, which interface parts (if any) make
    it back to 2.0 is subject to debate.
    
    This commit addresses #2.
    
    See lp #787150.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
5	3	Open-ILS/src/sql/Pg/040.schema.asset.sql
27	0	Open-ILS/src/sql/Pg/upgrade/0541.schema.call_number_honor_default_class.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0541.schema.call_number_honor_default_class.sql

commit 38e65097b64be3cd141c6807655bf570fc9bc094
Author: Dan Wells <dbw2@calvin.edu>
Date:   Tue May 24 16:55:47 2011 -0400

    Bring serial.unit in line with asset.copy
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
5	0	Open-ILS/src/sql/Pg/210.schema.serials.sql
3	0	Open-ILS/src/sql/Pg/901.audit-tables.sql
19	0	Open-ILS/src/sql/Pg/upgrade/0540.schema.missing_serial_unit_triggers.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0540.schema.missing_serial_unit_triggers.sql

commit ebc5ae668ef598f59f25e4fb0a9ef258074d0d9b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 24 14:55:57 2011 -0400

    remove restriction on resetting pw to random number when Use Phone Password setting is active.  uEditMakeRandomPw will still get called for new users, but should get overwritten once a phone number is entered
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

0	4	Open-ILS/web/js/ui/default/actor/user/register.js

commit 72047148220f78e230cc916e253dd81e15cc0fe4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 23 11:09:41 2011 -0400

    wrong identifier and lingering copy/paste-o in code for Item Status -> Add Items
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	2	Open-ILS/xul/staff_client/server/circ/copy_status.js

commit 9a7fab03f20db0f46e467fa6f867349ea515864d
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 23 11:02:56 2011 -0400

    Revert "Wrap proximity refreshing in a transaction to avoid timespans where there is no such information"
    
    This reverts commit fbfb74639cc2628fb90e56f7dbd0d364e0b7e386.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm

commit 25ac4d46eb2c61d82f3ab0a34813140fd27d2679
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon May 23 09:30:43 2011 -0400

    Apply Apache file expiration to the current official Javascript content type
    
    At least on Ubuntu 10.04, Javascript files are generally delivered with a
    Content-Type header of 'application/javascript', not
    'application/x-javascript'.  This change applies the much shorter 18 hour
    expiration to the affected files, rather than allowing them to default to
    1 month.
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

1	0	Open-ILS/examples/apache/eg.conf

commit 5f132d5f98d719c38a01070cfa75c31ba6227252
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri May 20 15:47:04 2011 -0400

    Fix bad seed data in an A/T template
    
    The action_trigger event def template for printing acq invoices was
    syntatically broken.  The collapse filter isn't important per se, but
    it balances the extra [% END %] at the bottom of the template, and it
    was there originally, and I see no reason not to put it back.
    
    Incidentally, maybe the database upgrade script in the commit will be
    the first in master to successfully use the new
    evergreen.upgrade_deps_block_check() function ?
    
    Reported by Sally Fortin.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
10	0	Open-ILS/src/sql/Pg/upgrade/0538.data.at-event-def-acq-invoice-print.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0538.data.at-event-def-acq-invoice-print.sql

commit 6da2b4e727271073ce30e5015809efed8f959668
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 12:45:08 2011 -0400

    Restore the Replace Barcode option in Holdings Maintenance, as the Edit Item menu will only serve the same duty if the unified volume/copy editor is activated via org setting (otherwise, it's just the Item Attribute Editor).  klussier++ for the catch
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
33	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js
3	0	Open-ILS/xul/staff_client/server/cat/copy_browser.xul

commit 1bf92156dffe56db4287d619ef5b3b777f09fbe7
Author: Dan Wells <dbw2@calvin.edu>
Date:   Fri May 20 11:27:53 2011 -0400

    Fix advanced receive bug in manage_items.js
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

5	2	Open-ILS/xul/staff_client/server/serial/manage_items.js

commit 3ef152fdcf964d2d63ac09db2c771286d01c5e1b
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 05:30:55 2011 -0400

    align the batch edit menus in the vol creator.  mostly aesthetic, but can save horizontal real estate, so usability as well for horizontal vol/copy editor.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

4	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
42	15	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.xul
1	1	Open-ILS/xul/staff_client/server/skin/cat.css

commit 9b7cab2a2f5c10c8588b00050445817a6ebfa667
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 05:04:17 2011 -0400

    usability tweak for controlling screen real estate, in unified vol/copy editor don't embed the the Record Summary in the vol editor, but in the main wrapping UI.  Also move CN batch edit bar into groupbox
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

16	5	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
15	16	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.xul
41	21	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.js
9	0	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.xul
10	1	Open-ILS/xul/staff_client/server/cat/volume_copy_editor_horiz.xul

commit 17e34e387def0e7239f852bb9b92a17e00e1731f
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 03:55:37 2011 -0400

    usability tweak, pull the Create button out of the embedded interfaces and into the wrapping UI for the horizontal variant of the unified vol/copy editor
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

21	1	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.js
6	0	Open-ILS/xul/staff_client/server/cat/volume_copy_editor_horiz.xul

commit 45b6c0503f2095fb5bd9e1975188c5f1b6ff5d88
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 03:33:52 2011 -0400

    css hooks so we can hide class, affix, and part columns in volume creator/editor.  can help with screen real estate with the horizontal vol/copy editor
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

7	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
6	6	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.xul
9	3	Open-ILS/xul/staff_client/server/cat/volume_editor.js
7	6	Open-ILS/xul/staff_client/server/cat/volume_editor.xul
8	0	Open-ILS/xul/staff_client/server/skin/cat.css

commit 7586c71c879108607eaaeeedaedff633dde14685
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 02:59:31 2011 -0400

    usability tweak, spread the template bar across the top of both panes for the horizontal unified vol/copy creator/editor
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/xul/staff_client/server/cat/volume_copy_editor_horiz.xul

commit ea20f3920b2ef71e12ef40afdeb40a6f5f361186
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Fri May 20 10:17:05 2011 -0400

    Fix a problem with open-ils.circ.holds.retrieve_all_from_title
    
    Anoop Atre spotted this bug that's triggered by selecting "View Holds"
    from "Actions for Selected Record" in the catalog seen through the staff
    client.
    
    Said method would error out like this:
    
    [2011-05-20 10:04:03] open-ils.circ [ERR
    :31866:CStoreEditor.pm:109:13058333633194115] editor[0|1] request error
    open-ils.cstore.direct.serial.issuance.id_list.atomic :
    {"subscription":[]} : Exception:
    OpenSRF::DomainObject::oilsMethodException 2011-05-20T10:04:03
    OpenILS::Utils::CStoreEditor
    /openils/lib/perl5/OpenILS/Utils/CStoreEditor.pm:412 <500>  Severe query
    error -- see error log for more details
    
    because when trying to gather issuance-type holds, it didn't properly test
    whether there actually were any subscriptions and issuances related to
    the bib record in question.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

16	9	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit eb7b98bafb4f107f4f3190882b6a375ebacfbd40
Author: Mike Rylander <mrylander@gmail.com>
Date:   Fri May 20 09:12:22 2011 -0400

    Revert "When placing holds on a bib with monographic part, require selection of a specific part"
    
    This reverts commit 3e63a898c53f6100d678f263e5dde5b9f678692d.
    
    We must not force P-type holds as not all copies may not use parts.  Imagine a situation where
    only one library breaks up a season of Seinfeld by using a part per DVD, and all others leave
    them bound and therefore need no part designations.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

0	1	Open-ILS/web/opac/locale/en-US/opac.dtd
4	9	Open-ILS/web/opac/skin/default/js/holds.js
0	1	Open-ILS/web/opac/skin/default/xml/common/holds.xml

commit 3e63a898c53f6100d678f263e5dde5b9f678692d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Fri May 20 02:40:24 2011 -0400

    When placing holds on a bib with monographic part, require selection of a specific part
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/web/opac/locale/en-US/opac.dtd
9	4	Open-ILS/web/opac/skin/default/js/holds.js
1	0	Open-ILS/web/opac/skin/default/xml/common/holds.xml

commit c2aaec1710027c08a5fc4e19df755db1404cb033
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 19 22:54:30 2011 -0400

    order any monograph parts by sort key when placing holds
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm

commit 0512432770a4bec4526a7094d79b14a53eb13c71
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 19 22:25:16 2011 -0400

    CN prefix/suffix columns in xul-based hold interfaces
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

75	4	Open-ILS/xul/staff_client/server/circ/util.js

commit b60c8641e4ad2cf2db2056c9bc155f23ee4bdad9
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Thu May 19 21:24:24 2011 -0400

    label consistency in vol/item creator
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/web/opac/locale/en-US/lang.dtd
2	2	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 134aea23617be4150bd7014c9c4e52e437e12107
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Thu May 19 21:28:50 2011 -0400

    add missing upgrade step to create staging schema
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

63	0	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql

commit ed4c017b6b950a16ba09fa7bef5f8fd8a1eb4178
Author: Mike Rylander <mrylander@gmail.com>
Date:   Thu May 19 12:56:57 2011 -0400

    The term "foreign" has undesirable implied meaning, so we will dub these "conjoined"
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	4	Open-ILS/web/opac/locale/en-US/lang.dtd
2	2	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties

commit 3232fbd8864ae988fb16fdce1fcbd46a32a158ae
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Thu May 19 08:51:47 2011 -0400

    Make DATE_FORMAT macro check inputs
    
    Specifically, if no date and no format (empty replaces?) replace with empty string.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

7	3	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit c8a263f9f3b0e9d14711bc3e49b7dcc091cb15f0
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed May 18 19:12:42 2011 -0400

    Add Shelf Expire Time to hold slip, date formatter
    
    Date formatter would work like so:
    %DATE_FORMAT(date,format)%
    
    For example:
    %DATE_FORMAT(%shelf_expire_time%,%m/%d)%
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

8	0	Open-ILS/xul/staff_client/chrome/content/util/print.js
2	0	Open-ILS/xul/staff_client/server/circ/util.js

commit ec45ea05739ec350ed688fcf8e28781e696819f4
Author: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>
Date:   Wed May 18 17:26:58 2011 -0400

    Add permission checking for updating and deleting volumes.
    
    This addresses LP #784062 reported by Ben Shum, and I think others?
    
    Creating volumes was already covered.  The ability to delete volumes
    without permission would be less often an issue in practice since you
    would need permission to delete the volume's copies before you could
    delete the volume itself.
    
    Anyway, this should square things.
    
    Signed-off-by: Lebbeous Fogle-Weekley <lebbeous@esilibrary.com>

5	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm

commit 0b4b17a2f6713c29ac81cadc0fca53fe4dd959da
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Wed May 18 16:36:10 2011 -0400

    trival whitespace changes
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

4	4	Open-ILS/src/edi_translator/README

commit 76791e23e15e00e1055ed0f2e72369db50407479
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Wed May 18 14:05:51 2011 -0400

    provide hint to sysadmin if memcached issue is preventing auth
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Dan Scott <dan@coffeecode.net>

3	1	Open-ILS/src/c-apps/oils_auth.c

commit 6218405eed57f4c67f4f6ffd0659e29ca423efe9
Author: Dan Scott <dan@coffeecode.net>
Date:   Wed May 18 13:18:14 2011 -0400

    Make Perl 'make check' work without 'make all'
    
    Factor the build of Build from Build.PL into its own
    make target and then make that target a prereq for the
    other make targets so that we make Build from Build.PL
    when we build Makefile from Makefile.am and run 'make check'
    
    Clear?
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>

7	5	Open-ILS/src/perlmods/Makefile.am

commit 4abc3d760e90fcfad5676e8564bca3375736198b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 18 12:39:31 2011 -0400

    We need to update config.upgrade_log
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

2	0	Open-ILS/src/sql/Pg/upgrade/0527.schema.matrix-bib_level.sql

commit 652a342c0371595a82e587b3e877e7ca9c14655e
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 18 12:26:53 2011 -0400

    Record the current upgrade version number in the baseline schema
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 60c996b358cc3fbcb184c6f045109b40e8f36d3f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Wed May 18 11:33:07 2011 -0400

    Fix the definition of some of the tracking functions
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

58	0	Open-ILS/src/sql/Pg/upgrade/0537.schema.upgrade-dep-tracking-fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0537.schema.upgrade-dep-tracking-fix.sql

commit d8ca68fbf998a43d82435bcb29538ad2a5de4d00
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Wed May 18 11:13:16 2011 -0400

    avoid error when generating fines on checkin
    
    Prevents "No active transaction to commit" error when checking
    in overdue loans.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 686e49ea96f3b0489fe3ab812f0aeb02810a80d9
Author: senator <lebbeous@esilibrary.com>
Date:   Wed May 18 10:17:16 2011 -0400

    Let's have this upgrade script not use that upgrade_deps_block_check()...
    
    ...function quite yet

1	1	Open-ILS/src/sql/Pg/upgrade/0536.schema.lazy_circ-barcode_lookup.sql

commit b272ffecdd4d5339cb1bf772c8a9c4cddeab14c5
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Wed May 18 10:51:20 2011 -0400

    use correct name of upgrade check function
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/make-db-patch.pl

commit fe68fed77dfeef5014c3c9445b109020d4c39f13
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Wed May 18 08:21:53 2011 -0400

    More make-db-patch goodness: wrap existing
    
    --wrap option will take an existing file and wrap it properly.
    When --wrap is specified --from is ignored.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

5	1	Open-ILS/src/sql/Pg/make-db-patch.pl

commit bf83c01e4f232e050ec320969b9bb6c6a8c1eeb1
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 18 02:14:52 2011 -0400

    fix CN prefix/suffix display in XUL interfaces so we can handle any affix we come across
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

10	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
2	2	Open-ILS/xul/staff_client/server/circ/util.js

commit 489390cb9b0ac1fb110b2e97bfdaa380daa3d61e
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Wed May 18 01:05:17 2011 -0400

    Include call number prefix/suffix in display and sorting of holds for Print Full Pull List (Alternate strategy).  Also fix things so that we're sorting on the label_sortkey for call number, and not the label.  So, for this interface, the hard-wired sort order is Copy Location Order (as defined by Admin -> Local Administration -> Copy Location Order), Call Number Prefix, Call Number Label, Call Number Suffix, and Hold Request time.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

18	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
2	2	Open-ILS/web/opac/extras/circ/alt_holds_print.html
2	0	Open-ILS/web/opac/extras/circ/alt_holds_print.js

commit 400d1ddc8ed3b0e90598dab1c8f4193c3040188a
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 17 22:27:07 2011 -0400

    have the call number checkbox for pocket labels include prefix/suffix.  A %call_number% macro is still available for the bare call number label without affixes
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

6	1	Open-ILS/xul/staff_client/server/cat/spine_labels.js

commit bab67075d40d83eeef67916e035348d79119edfe
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Tue May 17 22:24:21 2011 -0400

    Can't use encodeURI and decodeURI for everything with persist_helper (in particular, something like "%macro1% %macro2%" as a custom entry in the label interface), so try/catch them and fall back to the original behavior.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

14	2	Open-ILS/xul/staff_client/chrome/content/OpenILS/global_util.js

commit df33c493bb44912d89d0c2088bf1e339a83f0f5d
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue May 17 18:06:38 2011 -0400

    only use the label to initialize call number browse
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 41510e82a8946a13965c7db5ed10b0491d88f603
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue May 17 15:09:51 2011 -0400

    add a bit of context to upgrade SQL hints
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/make-db-patch.pl

commit 015a697755ee7159c210b123e2060cef9d0b3fbc
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Tue May 17 13:50:44 2011 -0400

    Improvements to make-db-patch.pl
    
    Grab all changes to base sql files into the upgrade script
    Based on HEAD (uncommitted changes) or --from=refspec
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

10	1	Open-ILS/src/sql/Pg/make-db-patch.pl

commit 007195f83beb33519d90133818a7d114ae82428b
Author: Mike Rylander <mrylander@gmail.com>
Date:   Tue May 17 13:44:35 2011 -0400

    Convert/move SQL script for Lazy Circ
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
117	0	Open-ILS/src/sql/Pg/upgrade/0536.schema.lazy_circ-barcode_lookup.sql
0	113	Open-ILS/src/sql/Pg/upgrade/XXXX.lazy_circ.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0536.schema.lazy_circ-barcode_lookup.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lazy_circ.sql

commit 29a874a1f9c99d2eb69b048631d4e5b0dc51a813
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Fri May 13 15:43:52 2011 -0400

    Lazy Circ (AKA partial barcode lookup)
    
    Database tables/access functions for prefix/suffix info
    
        Table: config.barcode_completion
    
        Function: evergreen.get_barcodes
            Takes org unit, context, and input barcode
            Context is a string and can contain:
                asset - asset.copy barcodes
                serial - serial.unit barcodes
                actor - actor.usr (via actor.card) barcodes
                booking - booking.resource barcodes
            Special case: asset and serial both in context
                Returns non-serial asset entries as asset
                Returns serial entries as serial
        Type for function return: evergreen.barcode_set
    
        With editing interface: Admin->Local Admin->Barcode Completion
    
        OpenSRF Call: open-ils.actor.get_barcodes
            Basically a passthrough to the database function
            Checks for permissions:
                STAFF_LOGIN - To do anything
                VIEW_USER - At home_ou of the user owning the returned
                            barcode when in actor context
    
    Add get_barcode to menu.js and to xulG in a number of places
        Takes a window handle, a context, and an input barcode
        Passes the current OU, the context, and the input barcode to the db
        If multiple results come back it pops up a dialog
        Returns boolean false on no results
        Returns "user_false" on dialog cancel
        Returns an object with type, id, barcode on success
        If dialog was brought up, returns data used to populate button
    
    Add option for looking up actors at checkout
        Org unit setting: Load patron from Checkout. Default: Don't.
    
    Call sites for get_barcode:
        Lookup Patron By Barcode (actor only)
        OPAC's Staff Client Place Hold (actor only)
        Checkout (asset only by default, with actor if above option set)
        Checkin (asset only)
        Item Status (asset only)
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

25	0	Open-ILS/examples/fm_IDL.xml
49	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
15	0	Open-ILS/src/sql/Pg/002.schema.config.sql
89	0	Open-ILS/src/sql/Pg/020.schema.functions.sql
2	0	Open-ILS/src/sql/Pg/800.fkeys.sql
5	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
113	0	Open-ILS/src/sql/Pg/upgrade/XXXX.lazy_circ.sql
15	0	Open-ILS/web/js/ui/default/conify/global/config/barcode_completion.js
1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
18	1	Open-ILS/web/opac/skin/default/js/holds.js
26	0	Open-ILS/web/templates/default/conify/global/config/barcode_completion.tt2
9	5	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
2	1	Open-ILS/xul/staff_client/chrome/content/main/constants.js
155	1	Open-ILS/xul/staff_client/chrome/content/main/menu.js
3	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
13	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
8	4	Open-ILS/xul/staff_client/server/circ/checkin.js
21	0	Open-ILS/xul/staff_client/server/circ/checkout.js
8	0	Open-ILS/xul/staff_client/server/circ/copy_status.js
56	52	Open-ILS/xul/staff_client/server/patron/barcode_entry.xul
3	1	Open-ILS/xul/staff_client/server/patron/display.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.lazy_circ.sql
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/config/barcode_completion.js
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/barcode_completion.tt2

commit 8dd3ccefd1b6ff4fccfb1957bf7f9619de9b4191
Author: senator <lebbeous@esilibrary.com>
Date:   Tue May 17 11:59:36 2011 -0400

    cleanup:
    
    1) fix broken INCLUDE statements in circ and hold histories
    
    2) move an opac "part" to the parts directory

1	1	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
0	16	Open-ILS/web/templates/default/opac/myopac/main_refund_policy.tt2
16	0	Open-ILS/web/templates/default/opac/parts/myopac/main_refund_policy.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/main_refund_policy.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/main_refund_policy.tt2

commit 16aa970437079882e01a0454116d90e8c715885d
Author: senator <lebbeous@esilibrary.com>
Date:   Tue May 17 11:51:04 2011 -0400

    empty cases for fines

4	0	Open-ILS/web/templates/default/opac/myopac/main.tt2
3	1	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2

commit e22e11aeb8e9e3afe8a6bda72d68544c4475997a
Author: senator <lebbeous@esilibrary.com>
Date:   Tue May 17 11:31:08 2011 -0400

    Emailing receipts working, some tweaks to payment history page

19	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
4	0	Open-ILS/web/css/skin/default/opac/style.css
8	4	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
15	0	Open-ILS/web/templates/default/opac/myopac/receipt_email.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/receipt_email.tt2

commit d6f8124b33f738bd06e0e83f7b2ba815ad3165bf
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 17 00:29:47 2011 -0400

    LP#783486: Improve authority lookup performance
    
    Testing showed that the two indexes added herein improve
    authority lookup performance radically; on a 16 GB RAM
    database server with 1.1M records, lookup times decreased
    from 5500 ms to 0.223 ms. Recommended, would EXPLAIN ANALYZE
    again.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	0	Open-ILS/src/sql/Pg/011.schema.authority.sql
9	0	Open-ILS/src/sql/Pg/upgrade/0535.schema.authority_indexes.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0535.schema.authority_indexes.sql

commit d9a4c8382cb65b36f201f12a7b06b32a3fc953c8
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Tue May 17 00:40:02 2011 -0400

    stop hold permit check from crashing if age protection in effect
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	0	Open-ILS/src/sql/Pg/110.hold_matrix.sql
180	0	Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql
184	0	Open-ILS/src/sql/Pg/upgrade/0534.schema.fix_hold_permit_test.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0534.schema.fix_hold_permit_test.sql

commit b6e7ed5d89ba5abf3898bc157e4d28cb7f0c1952
Author: senator <lebbeous@esilibrary.com>
Date:   Mon May 16 18:39:32 2011 -0400

    Receipt printing also from payment history

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
11	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
8	2	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
4	2	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
22	0	Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/receipt_print.tt2

commit e56a34254da634f34b9e43eaf3f80d6d80ef3f9f
Author: Mike Rylander <mrylander@gmail.com>
Date:   Mon May 16 18:17:30 2011 -0400

    Ignore "deleted" authority records when using the tag-validation method
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>

4	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/authority.pm

commit f40b83b780d9bfda75f34462977f3244840d20d8
Author: Dan Wells <dbw2@calvin.edu>
Date:   Mon May 16 15:23:10 2011 -0400

    Borrow on_or_after() from MFHD/Caption.pm in MFHD/Date.pm
    
    Signed-off-by: Dan Wells <dbw2@calvin.edu>

2	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Date.pm

commit 5e35339e8dec5603ff5a8b69141b7e894c81f2fa
Author: senator <lebbeous@esilibrary.com>
Date:   Mon May 16 14:14:57 2011 -0400

    Credit card payments working with printable receipts
    
    Could still use e-mailed receipts

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
43	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
4	0	Open-ILS/web/css/skin/default/opac/style.css
21	0	Open-ILS/web/js/ui/default/opac/simple.js
1	1	Open-ILS/web/templates/default/opac/myopac/main.tt2
38	0	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
1	1	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/main_pay.tt2

commit 764d28f56f988c7c1a6d3d866bf9b4226a8ad2d3
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon May 16 13:29:10 2011 -0400

    standardize name of 2.0-2.1 upgrade script
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

5834	0	Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql
0	5834	Open-ILS/src/sql/Pg/2.0-2.1.sql
 create mode 100644 Open-ILS/src/sql/Pg/2.0-2.1-upgrade-db.sql
 delete mode 100644 Open-ILS/src/sql/Pg/2.0-2.1.sql

commit 448bfcc0a98976da0c64c794b1c7ec48e24c63a2
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 16 12:12:40 2011 -0400

    persist partial changes to new copies in vol/copy editor has new copies are gathered.
    
    In other words, you can do something like enter 5 in the "# of Copies" field, enter the first barcode (say b1), edit an attribute (say, set Circulate = No), and then enter a second barcode (b2).  Previously, the changes made to b1 would be lost as b2 was entered (or as other movement around the barcode entry textboxes happened) and both copies would get a Circulate = Yes, but now in this scenario, you would see 1 copy set to No and 1 copy set to Yes for the Circulate attribute.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

3	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 0bc4e8f01aebb80351557a326c49d0526a92d83d
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Mon May 16 11:56:58 2011 -0400

    simpler language, and the behavior of this action is configurable
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	1	Open-ILS/web/opac/locale/en-US/lang.dtd

commit 8893e1cc615fd47d6e4fc976f0f5800a2d5fcbbb
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Mon May 16 11:33:42 2011 -0400

    first pass at 2.0 to 2.1 upgrade script
    
    Tested so far on an upgrade from 2.0.1; goes up
    to DB patch 0533.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

5834	0	Open-ILS/src/sql/Pg/2.0-2.1.sql
 create mode 100644 Open-ILS/src/sql/Pg/2.0-2.1.sql

commit e72fba256f14e091a22c217b65537652e7a823df
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun May 15 16:35:05 2011 -0400

    usability tweak
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/xul/staff_client/server/skin/cat.css

commit da1edbcd494c390debf3b98f3096ac2149ef00c4
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun May 15 16:15:30 2011 -0400

    default the label class according to library setting during vol creation
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>

1	0	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit a425112e41b9d13b65d938fc9c4cb6d3ef06b4fb
Author: Jason Etheridge <jason@esilibrary.com>
Date:   Sun May 15 16:02:32 2011 -0400

    remove this comment, testing the repo & email

0	4	Open-ILS/xul/staff_client/server/skin/global.css

commit cce32dd86098980d1fc87523141f0adf958f9ce5
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat May 14 18:22:01 2011 -0400

    Nuke one more Trunk reference: windowssetup.nsi
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	Open-ILS/xul/staff_client/windowssetup.nsi

commit 7cb08207f963d8c26adb4e8fa86a82d8442b6fbe
Author: Thomas Berezansky <tsbere@mvlc.org>
Date:   Sat May 14 15:57:27 2011 -0400

    More SVN to Git rigging
    
    Staff client Makefile can no longer build based on SVN.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

6	5	Open-ILS/xul/staff_client/Makefile.am
1	1	README

commit c37de5d02a8144e616312fd67d3d24e4f96701de
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Sat May 14 16:19:36 2011 -0400

    remove references to SVN now that we're using Git
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	0	Open-ILS/xul/staff_client/external/prune_dirs.sh
2	2	README
9	14	build/tools/update.sh
0	55	build/tools/update_git_svn.sh
 delete mode 100755 build/tools/update_git_svn.sh

commit 473bc4784377977cc16a4f61cd8961be0ffe40df
Author: Galen Charlton <gmc@esilibrary.com>
Date:   Sat May 14 15:39:03 2011 -0400

    Trivial whitespace change
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>

1	1	README

commit ec28db76588c79d7d9176fe7eeb4e6537a277301
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 13 20:57:59 2011 +0000

    add missing update script for change to circ age stored procedure
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20475 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
44	0	Open-ILS/src/sql/Pg/upgrade/0533.schema.fix_age_circ.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0533.schema.fix_age_circ.sql

commit 75c58c9f948521a8ac78300bf8f45ae16205f74b
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 13 17:30:47 2011 +0000

    Patch from Ben Ostrowsky (LP#782268) to simplify seed/example permission setup and move one step towards being able to rid ourselves of permission.perm_list.id
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20473 dcc99617-32d9-48b4-a31d-7c20da2025e4

749	153	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 0bdfc37cda17f3cad2f9e23341a5f6cd25881524
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 13 16:01:04 2011 +0000

    A bevy of MFHD bug fixes (and test cases)
    
    1) Remove hard-coded 'gap' text from format_part()
    2) Honor $ypm## for chron_to_date() for annuals
    3) Removed overly simple check on $w as digit
    4) Allow for combined chronologies other than 2nd level
    5) Make calendar changes trump $u counts
    6) Honor issue restarts at calendar changes
    7) Rudimentary support of $u counts for non-restarting issue numbering
    8) Special interpretation of $yps for early winters (i.e. winter is the first season of the calendar year)
    9) Teach chron_to_date() about early winters
    
    The last two points deserve some special attention.  A large number of journals consider 'Winter' to be the first season of the year, so Winter 2011 means (roughly) January 2011, not December 2011.  However, there is no explicit way to indicate this in the standard, and also the code relies in many ways on the fact that 24 (chronology code for winter) is greater than 21 (code for spring).  To work around this, we are interpreting a certain ambiguous pattern in a particular way.  Specifically, if you set $w to a digit, then set $y to 'ps24,21,22,23' (or some variation with '24' as the first value), you will get this winter-first behavior.  Also, the season is treated internally as '20' then converted to '24' when processing is completed.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20470 dcc99617-32d9-48b4-a31d-7c20da2025e4

72	31	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Caption.pm
29	4	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Date.pm
30	12	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/Holding.pm
4	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhd.t
37	2	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhddata.txt

commit 344c9427ad00be8f9d7c3d0040b879b2e58d716d
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 13 15:41:10 2011 +0000

    fix query in various copy count functions
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20468 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	4	Open-ILS/src/sql/Pg/040.schema.asset.sql
131	0	Open-ILS/src/sql/Pg/upgrade/0532.schema.fix_copy_count_funcs.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0532.schema.fix_copy_count_funcs.sql

commit 3341913654605eff25ec1360fe15bff6a6a6f172
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 13 13:25:27 2011 +0000

    for upgrade, let prefix and suffix in audit be null
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20466 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	6	Open-ILS/src/sql/Pg/upgrade/0531.schema.auditor_affixes.sql

commit e0ee353c19261c5c4e1ee72a9f2ce4a8276cdaef
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 13 13:07:59 2011 +0000

    add affix columns to acn auditor table
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20464 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0531.schema.auditor_affixes.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0531.schema.auditor_affixes.sql

commit 9106a4abea7bd4f6a7bea2410ca6976862986bb8
Author: senator <lebbeous@esilibrary.com>
Date:   Thu May 12 16:53:54 2011 -0400

    begin a sub to process payment

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
41	15	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit f99ae92307315a58351cae192d42add42815bdb5
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 12 19:50:55 2011 +0000

    Patch from James Fournie addressing LP#781803: Multiple renewal fails on MAX_FINES circs
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20461 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit fbfb74639cc2628fb90e56f7dbd0d364e0b7e386
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 12 19:22:42 2011 +0000

    Wrap proximity refreshing in a transaction to avoid timespans where there is no such information
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20455 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm

commit 7018a3a195a0fb121fb1120cc2001d7bf1f0b961
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 12 15:17:50 2011 +0000

    Address LP#779975; Status of Available (0) not honored because 0==false -- use ternary op with defined() instead
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20452 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm

commit baf52ae724f86e8c3c47d058f52910f5811db199
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 12 14:23:30 2011 +0000

    Add missing permission checks to Serial.pm
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20449 dcc99617-32d9-48b4-a31d-7c20da2025e4

77	38	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm

commit 8ff2f5db229edd644d711add2c574d25282429b2
Author: senator <lebbeous@esilibrary.com>
Date:   Thu May 12 10:19:35 2011 -0400

    doh, it's history not location.history

1	1	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2

commit b109023db4f4bce464bad03b683dc0e55c8ecbfd
Author: senator <lebbeous@esilibrary.com>
Date:   Thu May 12 10:15:41 2011 -0400

    remove in-template fine-totaling: mod_perl code was already doing the same
    
    also:
        make that fine-totaling not use floating point math.
        don't provide payment form for <= 0 totals (we're not issuing refunds)
        last copyright date in footer always current year, not hardcoded

23	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	0	Open-ILS/web/css/skin/default/opac/style.css
12	12	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
1	1	Open-ILS/web/templates/default/opac/parts/footer.tt2
4	0	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2

commit 69668c4a198fb266056b68ef3a2824c4bc3bdfad
Author: senator <lebbeous@esilibrary.com>
Date:   Wed May 11 17:45:58 2011 -0400

    support paying all fines at once

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
4	2	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2

commit ab4a93c35dafb410162df844e1473c99e440a8a2
Author: senator <lebbeous@esilibrary.com>
Date:   Wed May 11 16:02:12 2011 -0400

    Payment for mostly done. Still needs:
    
    1) to be able to handle the upper "Pay Fines" button that will mean "all
    my fines"
    
    2) to use fixed point fine totaling math and bail on total <= 0
    
    3) ... anything else?

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
38	36	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	3	Open-ILS/web/templates/default/opac/myopac/main.tt2
0	158	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
167	0	Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2
1	1	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/main_payment_form.tt2

commit 8f14e53142af5dd19ccb535633642c871d33c059
Author: senator <lebbeous@esilibrary.com>
Date:   Tue May 10 17:54:59 2011 -0400

    start on cc payments

1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/css/skin/default/opac/style.css
11	161	Open-ILS/web/templates/default/opac/myopac/main.tt2
158	0	Open-ILS/web/templates/default/opac/myopac/main_pay.tt2
3	4	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/main_pay.tt2

commit e99e1baddf113c3605ea58f127dadf711caf36e3
Author: senator <lebbeous@esilibrary.com>
Date:   Tue May 10 12:38:56 2011 -0400

    Fix an ugly grey bar in the record detail page
    
    I have no idea what caused this or why this css adjustments fixes the
    problem

2	0	Open-ILS/web/css/skin/default/opac/style.css
1	1	Open-ILS/web/templates/default/opac/record.tt2

commit 0fc734340081a5f52a20306553219afefc50b067
Author: senator <lebbeous@esilibrary.com>
Date:   Tue May 10 10:28:55 2011 -0400

    Better redirect from place_hold
    
    Before this, if you click place hold on something while not logged in,
    you are redirected to the login page, which is good, and redirected
    thence to the place hold page, which is good. But after actually
    placing the hold you got redirected to the login page again, which is
    not good.  Now you get sent back to the home page.
    
    This may not be the ideal choice.  myopac/main may make more sense.
    Also, there is still not any clear visual feedback for the user that
    their hold placement succeeded.  That'll need to be addressed too.

9	1	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit 35db902ccd97696d360772c43c37d4add035aff6
Author: senator <lebbeous@esilibrary.com>
Date:   Mon May 9 15:01:41 2011 -0400

    serial issue display and holds work

11	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
50	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
1	0	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
26	0	Open-ILS/web/templates/default/opac/parts/record/issues.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/issues.tt2

commit f0ab78fe2f5896a891ef8614f4b5b23f9f59d754
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon May 9 18:27:42 2011 +0000

    Invoice from LI seeds invoice data
    
        * When creating a new invoice from a lineitem, seed the invoice with
            provider data from the lineitem.
        * Make money textbox's a little larger to accommodate larger sums
            without scrolling
        * Truncate long titles in lineitem summary view
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20448 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/web/css/skin/default/acq.css
8	1	Open-ILS/web/js/dojo/openils/acq/Lineitem.js
17	3	Open-ILS/web/js/ui/default/acq/invoice/view.js
5	5	Open-ILS/web/templates/default/acq/invoice/view.tt2

commit f480ee0994287eb9b22dd11f32045c4d7dc469f6
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 6 19:41:00 2011 +0000

    Misc updates to installer rigging
    
    Fewer spurious errors (extras.nsi, MUI_TEXT)
    More checks (makensis, unzip, branding)
    Slightly improved Welcome screen
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20446 dcc99617-32d9-48b4-a31d-7c20da2025e4

18	3	Open-ILS/xul/staff_client/Makefile.am
10	3	Open-ILS/xul/staff_client/windowssetup.nsi

commit 5cea2d6e23d5ddbd0c361a1bc5e4f3f7dc3e97d4
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri May 6 03:17:08 2011 +0000

    bump xulrunner version
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20443 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/Makefile.am

commit b58f8022f0445a607a1dd9829e6a0eba182e7b6e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 5 18:38:36 2011 +0000

    Use valid JSON in Dojo i18n for Searcher.js
    
    Dojo i18n processing scripts require valid JSON (quoted keys in hashes),
    even though Dojo itself is more relaxed and accepts unquoted keys. So,
    do the i18n dance here.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20437 dcc99617-32d9-48b4-a31d-7c20da2025e4

40	40	Open-ILS/web/js/dojo/openils/widget/nls/Searcher.js

commit 407d24bc05fee95b15879fe9c443adf525637564
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 5 17:24:47 2011 +0000

    Fix typo introduced in r20425
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20431 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/cat/marcedit.xul

commit 40fe2515ceca4bf62d601a16f26da2ea76549bcd
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 5 16:40:08 2011 +0000

    Patch from Niles Ingalls to make patron phone number searching more matchy.
    With assistance from Mike Rylander on pointing out the needed indexes to keep
    search fast, and from Mike Peters on arranging a last minute DCO :-)
    
    Type numbers into a patron phone number field and get a match regardless of
    the punctuation actually used in the database.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20429 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
9	0	Open-ILS/src/sql/Pg/005.schema.actors.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0530.schema.actor-usr-index-phone-fields-more.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0530.schema.actor-usr-index-phone-fields-more.sql

commit 8fe4aaa81cd96ddeda8dbaf130aa9b8d4e3f92d5
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 5 16:35:59 2011 +0000

    Patch from Thomas Berezansky to do the following:
        Add more "click to copy" fields
    
        User's Name
        All three phone numbers
    
        Also fix issue where tooltip didn't clear when re-opening search form
    
        Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20427 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	0	Open-ILS/xul/staff_client/server/patron/display.js
3	3	Open-ILS/xul/staff_client/server/patron/summary_overlay.xul
3	3	Open-ILS/xul/staff_client/server/patron/summary_overlay_horiz.xul

commit 7afb6285b57df950cb74fa9027ef9c59d4293515
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 5 15:42:00 2011 +0000

    Add a feature authored by Joscha Filius for the International Institue of
    Social History: a diacritical palette for the MARC editor!
    
    Afelonne Doek of IISH wants the community to benefit from this code.  To try
    it out, press control S in the marc editor (reguarly non-flat-text view).
    
    You can insert the characters you see, and you can right click on entries in
    your palette to customize.  Customizations /should/ persist through staff client
    restart (untested by me so far).
    
    This should make cataloging in multiple (Western-ish) languages at once easier.
    
    Below I copy and paste some of Joscha's message to the list where he introduced
    this code:
    
    > *Bugs:*
    > A known bug is that is you switch marc edit styles back and forth the
    > listener trigger won't work anymore. Also for a far as I know there is at
    > least another bug concerning layout which is as far as I know not the result
    > of my doing.
    >
    > *Here comes a possibly nasty part*, to ensure that the diacriticals remain
    > intact throughout the persist I've changed global_util.js to URL encode and
    > URL decode all stored values. This might cause backwards incompatibility
    > with values that are already stored for other purposes without encoding.
    > This needs to be checked.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20425 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	3	Open-ILS/xul/staff_client/chrome/content/OpenILS/global_util.js
37	0	Open-ILS/xul/staff_client/server/OpenILS/symbol_overlay.js
373	0	Open-ILS/xul/staff_client/server/OpenILS/symbol_overlay.xul
2	1	Open-ILS/xul/staff_client/server/cat/marcedit.xul
26	0	Open-ILS/xul/staff_client/server/skin/global.css
 create mode 100644 Open-ILS/xul/staff_client/server/OpenILS/symbol_overlay.js
 create mode 100644 Open-ILS/xul/staff_client/server/OpenILS/symbol_overlay.xul

commit 5c7d442d3dabb4d0e165645ab149f70c5d9f44ef
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu May 5 04:39:44 2011 +0000

    Remove redundant plpgsql install step from README
    
    PostgreSQL 9.0 includes plpgsql by default, and running the
    createlang plpgsql step throws an error that could concern
    the installer. Drop the step from the README.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20423 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	README

commit a3695253c7ae356f05dd395fc4ad88aafbd5a79d
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 18:00:49 2011 +0000

    Patch from James Fournie improving due-date-editor usability by auto-checking the check box; LP#70956965
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20420 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/xul/staff_client/server/circ/checkout.js

commit ec610ce9389629b781636164835c7c114edf58f6
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 17:47:20 2011 +0000

    Patch from Jason Boyer swapping the order of report and template name in emailed notices; LP#777273
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20417 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/reporter/clark-kent.pl

commit dc971e2668708a543e69f895bf91913e6ee382e1
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 13:48:56 2011 +0000

    debugging aid
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20414 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/util_overlay_chrome.xul
3	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/util_overlay_offline.xul
3	0	Open-ILS/xul/staff_client/server/OpenILS/util_overlay.xul
20	0	Open-ILS/xul/staff_client/server/skin/custom.js.example

commit ec2a2a1e95f6d28894041cee0cc464a50746c0f2
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 13:48:51 2011 +0000

    include these so we can get proper line numbers when debugging
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20413 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	0	Open-ILS/xul/staff_client/server/OpenILS/util_overlay.xul

commit a355027cfe2db80cfe2adefe729ba560024f3d6e
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 13:48:20 2011 +0000

    Fix some Serial Control text boxes which were too small to use effectively.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20412 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/serial/sbsum_editor.js
1	1	Open-ILS/xul/staff_client/server/serial/scap_editor.js
1	1	Open-ILS/xul/staff_client/server/serial/siss_editor.js
1	1	Open-ILS/xul/staff_client/server/serial/sisum_editor.js
1	1	Open-ILS/xul/staff_client/server/serial/sssum_editor.js

commit 3640be40f163784c3f6f77c2bc5ac04b22ae49c5
Author: berick <berick@esilibrary.com>
Date:   Wed May 4 09:11:02 2011 -0400

    removed unnecessary kcls record summary template file override

0	248	Open-ILS/web/templates_kcls/default/opac/parts/record/summary.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/record/summary.tt2

commit b4b0aa820f5eb3fb95d5108d7baa22117137016f
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 05:29:32 2011 +0000

    Only pass the label to the CN browse search API, that is all we care about for the key
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20410 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 88ec49b763c01ed4ac48845c84c8888f276fcd6e
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 05:13:02 2011 +0000

    Collaboration patch from Joseph Lewis and Michael Peters addressing LP#758007, missing patron merge OU settings.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20407 dcc99617-32d9-48b4-a31d-7c20da2025e4

29	0	Open-ILS/src/sql/Pg/upgrade/0529.data.merge_user-ou_settings.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0529.data.merge_user-ou_settings.sql

commit 910f404e497c7c8598a87d61e75f3598c50e0a30
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 05:12:10 2011 +0000

    Collaboration patch from Joseph Lewis and Michael Peters addressing LP#758007, missing patron merge OU settings.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20406 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
27	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit fc3d6ea96e26d5d00684604d443e3402b60b4807
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 05:01:04 2011 +0000

    Addressing LP#732681 at upgrade time -- make authority records useful for controlling bibs
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20405 dcc99617-32d9-48b4-a31d-7c20da2025e4

75	157	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql

commit 3a2a5943754d360e03a88f511924bfff45255507
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 04:54:09 2011 +0000

    Initial fix from Michael Peters addressing small-screen UI issues: LP#767507
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20400 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/circ/pre_cat_fields.xul

commit 7e6897984d258eeb86e5c14011122e5921e68ae5
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 04:43:06 2011 +0000

    Change an ERROR to a DEBUG log message in mod_idlchunk
    
    Reported by James Fournie at Sitka, this message was logged
    as an error when it is simply a debug message; we drop the
    level accordingly so that it will not appear in the Apache
    logs during the normal course of operations.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20397 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/apachemods/mod_idlchunk.c

commit 447012f564ffbaa49b462d72e2959316edbdb790
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 04:40:16 2011 +0000

    Patch from Michael Peters to protect cut-in-line holds from staff without the appropriate permission
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20394 dcc99617-32d9-48b4-a31d-7c20da2025e4

10	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 2ddada50c7dd47b5bd03c8cce1091270ba5e0d40
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 04:31:06 2011 +0000

    Patch from Ben Ostrowsky addressing button order: LP#754660
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20392 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/chrome/content/main/simple_auth.xul

commit f852ad933b9a6c69836ea186b56cd54aca13044c
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed May 4 03:46:27 2011 +0000

    Prevent uninitialized var warnings in OpenILS::WWW::SuperCat::unapi
    
    Given a tag URI like tag:localhost,2011:biblio-record_entry/1 with
    no format, Evergreen was throwing uninitialized variable warnings
    and attempting to invoke "open-ils.supercat..formats" due to the
    unitialized $type variable, which resulted in an Apache error.
    
    On the TT OPAC, this enables Zotero to successfully offer import
    of all entries on the search results page. On the AjaxPAC, it seems
    that Zotero parses the page before the unAPI hrefs have been supplied
    by JavaScript.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20390 dcc99617-32d9-48b4-a31d-7c20da2025e4

12	11	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit 5d41928d098a2eb4e9ae96c5e822856b1e1e4515
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 3 22:32:34 2011 -0400

    Clean up the rest of the non-entity ampersands in URLs
    
    Continue the global change to entity ampersands in URLs
    in the TT OPAC. This should be the last of it.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

3	3	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
3	3	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/authors.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2

commit 6e0d1765c2ddce581342e2864d2b7305b03a2df2
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 3 20:51:44 2011 -0400

    Avoid empty ID attribute in SELECT element
    
    The current code appears to always generate an empty id="" attribute,
    as the "id" variable never gets populated. For now, protect against
    the empty ID attribute.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/web/templates/default/opac/parts/org_selector.tt2

commit 6b09dfbc8b23d534cbd48e72325f073fbbb28987
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 3 20:42:16 2011 -0400

    HTML compliance in result table
    
    Convert & to &amp; in URLs, and change a SPAN element to a DIV
    (because SPAN elements are not allowed to contain block-level
    elements like DIV and TABLE).
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

7	7	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit ccbb9eef0e2d10aa46cf09a077bae904de8a39db
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 3 17:08:59 2011 -0400

    Less aggressive URL encoding
    
    We were double-encoding URIs, as the url and uri filters in
    TT happily encode % - which is fine the first time around,
    but after you've already escaped everything as %nn the propagator
    was serving it back to url to be escaped again on the following
    page request.
    
    The right way to do this might be to unescape the incoming query
    string, then pass it on to url for escaping again - but for now,
    using the entity version of & is good enough to begin with.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	3	Open-ILS/web/templates/default/opac/parts/header.tt2

commit c88c0ac5f43a408bca0fe337991517edc3aef2c1
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 3 16:48:48 2011 -0400

    Ensure ampersands in URLs are &amp; per HTML spec
    
    The propagator variable defined in parts/header.tt2 holds the value
    of the CGI query string - which, as it comes off the wire, is a simple
    "&". The problem with this is perhaps best explained at
    http://www.htmlhelp.com/tools/validator/problems.html#amp (and it
    explains why "&copy_..." gets converted into a copyright symbol).
    
    By passing the incoming query string through the TT url filter and
    then replacing "&" with "&amp;" we avoid this problem at the source.
    From there, we have to address the other locations in the code in
    which we are manually appending GET variables.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	1	Open-ILS/web/templates/default/opac/parts/header.tt2
6	8	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit ba77484053cd77f665c834aaa7a0f07f71709d80
Author: Dan Scott <dan@coffeecode.net>
Date:   Tue May 3 16:17:56 2011 -0400

    Fix unclosed quoted attribute in TT OPAC footer
    
    Forgot to place the closing attribute quote on the footer image.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

1	1	Open-ILS/web/templates/default/opac/parts/footer.tt2

commit d1fc490f59541512d2cc809ac7627cf1d12fe8d3
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue May 3 16:54:44 2011 +0000

    Fix typo in fm_IDL.xml
    
    "oils_persist" namespace was missing an "s" in one instance, preventing
    autogen.sh from running.
    
    Bug reported by Thomas Berezansky.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20388 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/examples/fm_IDL.xml

commit 300ba62e32de6d5f24649c449dd4ab381c37bb61
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue May 3 16:29:16 2011 +0000

    Avoid data loss by setting MARC::Charset->assume_unicode(1)
    
    When using MARC::File::XML, MARC::Charset is used to perform character
    conversions; however, MARC::File::XML does not tell MARC::Charset that it is
    handling Unicode data. If we do not tell MARC::Charset that it is handling
    Unicode data, it can return an error which results in the loss of data
    (typically a subfield containing one or more characters which MARC::Charset
    does not have an equivalent mapping outside of Unicode).
    
    This problem could be reproduced in authority_control_fields.pl with a
    subfield like "von Hans-Christian Mller" - when this subfield was encountered
    without assume_unicode(1), a null string was returned for that subfield, and
    if the record was written back to the database due to an authority match being
    found in a different field, the only recourse was to restore the record from
    auditor.biblio_record_entry_history. The same sort of problems could occur
    for any other script or function that modifies the data being handed to it
    using MARC::File::XML and BinaryEncoding => UTF8.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20385 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	0	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
3	0	Open-ILS/src/sql/Pg/011.schema.authority.sql
6	0	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
3	0	Open-ILS/src/sql/Pg/020.schema.functions.sql
3	0	Open-ILS/src/sql/Pg/030.schema.metabib.sql
413	0	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql
3	0	Open-ILS/src/sql/Pg/999.functions.global.sql
491	0	Open-ILS/src/sql/Pg/upgrade/0528.schema.functions_assume_unicode.sql
3	0	Open-ILS/src/support-scripts/authority_control_fields.pl.in
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0528.schema.functions_assume_unicode.sql

commit 9ef41931a372282900834ec07ad3bfdb9daeb0d3
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue May 3 15:03:59 2011 +0000

    Followup patch to the first listed in https://bugs.launchpad.net/evergreen/+bug/745123
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20382 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	1	Open-ILS/web/js/ui/default/actor/user/register.js

commit 686e7a7fbda43628cbefeb11cc6deb533a7ffed1
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue May 3 14:55:37 2011 +0000

    Patch from Jason Stephenson ( LP#770261, https://bugs.launchpad.net/evergreen/+bug/770261 ) adding support for bibliographic level inspection in the hold and circ matrix matchpoint tests.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20380 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/examples/fm_IDL.xml
2	0	Open-ILS/src/sql/Pg/099.matrix_weights.sql
4	1	Open-ILS/src/sql/Pg/100.circ_matrix.sql
4	1	Open-ILS/src/sql/Pg/110.hold_matrix.sql
10	10	Open-ILS/src/sql/Pg/950.data.seed-values.sql
341	0	Open-ILS/src/sql/Pg/upgrade/0527.schema.matrix-bib_level.sql
9	9	Open-ILS/web/opac/skin/default/xml/common/js_common.xml
1	1	Open-ILS/web/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
1	1	Open-ILS/web/templates/default/conify/global/config/hold_matrix_matchpoint.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0527.schema.matrix-bib_level.sql

commit ee8f8eb82b0506323c3e5a02b972d693e10f8cf8
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon May 2 20:57:01 2011 +0000

    Add support for sre/distribution summary methods (including merge), advanced receiving, and unit-less receiving in the serial control items tab
    
    This commit includes three new minor features for the Serial Control interface.  First, you are now able to set the latent 'summary_method' field on distributions, with the most significant new setting being 'merge with sre'.  This setting effectively combines the sre marc with the generated holdings to form a single unified statement.  Second, the previous 'receive' functionality has been renamed to 'advanced receive', and 'receive' will now show items from an entire subscription, but not allow you to receive directly into a specific unit (you can still receive into new/auto units).  Third, a basic menu entry has been added for receving into 'no unit', allowing items to be received not forcing them to be unitized.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20378 dcc99617-32d9-48b4-a31d-7c20da2025e4

28	22	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Serial.pm
62	19	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
40	38	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHDParser.pm
3	0	Open-ILS/web/opac/locale/en-US/lang.dtd
6	0	Open-ILS/xul/staff_client/server/locale/en-US/serial.properties
71	25	Open-ILS/xul/staff_client/server/serial/manage_items.js
4	2	Open-ILS/xul/staff_client/server/serial/manage_items.xul
16	1	Open-ILS/xul/staff_client/server/serial/sdist_editor.js

commit f6401d9565587e73c3c0a16965d345b5dda54c19
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon May 2 15:50:59 2011 +0000

    debian backports url changed.  updated install docs in README to match
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20376 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	README

commit d3c0ddbc5a51f9755897e16b35e90579fbc8bf65
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon May 2 15:04:54 2011 +0000

    flesh stat_cat_entries in the call number tree method used by Holdings Maintenance, since those copies get shoved into the copy editor and we want stat cat entries to show up there
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20374 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm

commit 2d76f76ba9220f1eeca9ea38f28ca1fecaad35c4
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon May 2 14:05:56 2011 +0000

    Fix bug and typo in stat cat editor
    
    Specifically, disabling the ability to select a stat cat type on no permissions on current type.
    
    If you don't have permissions on ASSET you could never get to ACTOR.
    
    If you picked ACTOR without rights you couldn't get back to ASSET.
    
    Also, re-enable the library selector and new buttons when you do change to one you can add for.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20371 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	2	Open-ILS/xul/staff_client/server/admin/stat_cat_editor.js

commit 79c9949866d61bc24715c8c8587a6dfe472ec43f
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon May 2 13:20:40 2011 +0000

    fix "undefined is in transit"
    https://bugs.launchpad.net/evergreen/+bug/773528
    ---
    
    Fix bug squashing of params in checkin_via_barcode2 in circ/util.js.
    
    Author: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20368 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	6	Open-ILS/xul/staff_client/server/circ/util.js

commit f083cb988c5fc99c0986f55c92aec9773a2129dd
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon May 2 09:18:35 2011 -0400

    Debrand the KCLS-specific hint about Library Elf in prefs settings
    
    Even though prefs settings are not yet exposed, we can turn the
    KCLS-specific comment into a brandable "hints" section in prefs
    settings.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

2	4	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2
5	0	Open-ILS/web/templates/default/opac/parts/myopac/prefs_hints.tt2
0	116	Open-ILS/web/templates_kcls/default/opac/myopac/prefs_settings.tt2
4	0	Open-ILS/web/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/prefs_hints.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/myopac/prefs_settings.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/myopac/prefs_hints.tt2

commit f3b42de8be849241c779035533068b730622331a
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon May 2 08:33:54 2011 -0400

    Make refund policy for lost items a branding option
    
    Different sites will have different policies for refunds
    on lost items (and might not even provide refunds for lost
    items, for that matter), so break out that policy description
    into its own template and provide a KCLS-specific version of
    it.
    
    Signed-off-by: Dan Scott <dbs@coffeecode.net>

1	24	Open-ILS/web/templates/default/opac/myopac/main.tt2
16	0	Open-ILS/web/templates/default/opac/myopac/main_refund_policy.tt2
0	334	Open-ILS/web/templates_kcls/default/opac/myopac/main.tt2
24	0	Open-ILS/web/templates_kcls/default/opac/myopac/main_refund_policy.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/main_refund_policy.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/myopac/main.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/myopac/main_refund_policy.tt2

commit 50b8a947a14882e4693c006e9d1cbe5dd5aca81a
Author: Dan Scott <dan@coffeecode.net>
Date:   Mon May 2 08:23:34 2011 -0400

    Debrand lowhits purchase request reference to KCLS
    
    While we break this out to a separate template, perhaps we
    could pull the library name from context instead of having
    it hardcoded. It will probably depend on each instance, ergo
    hardcoding the generic "your library" for now should be fine.
    
    Signed-off-by: Dan Scott <dbs@coffeecode.net>

1	6	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
6	0	Open-ILS/web/templates/default/opac/parts/result/lowhits_purchase.tt2
6	0	Open-ILS/web/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/result/lowhits_purchase.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/result/lowhits_purchase.tt2

commit 1184851a7cd793a242a6f94851735117d6153c29
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun May 1 22:06:50 2011 -0400

    Pull call number from XML holdings, not MARC record
    
    KCLS uses call numbers in the MARC record, but most other sites
    use the call numbers from asset.call_number. For now, just display
    the first returned call number; eventually the display will probably
    need to be adjusted to handle call number / shelving location / library
    / status like the current AjaxPAC does.
    
    Also note that ##URI## call numbers should be filtered out but are
    not yet.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

4	4	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
8	10	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 37c1a6bb8147b47df5a82c37a174cb6fdf80fb79
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun May 1 21:25:38 2011 -0400

    Debrand the login form
    
    Breaking the password hint and login help sections out into
    separate templates enables sites to adjust the hint and
    login help links without touching the rest of the interface.
    
    Signed-off-by: Dan Scott <dbs@coffeecode.net>

2	17	Open-ILS/web/templates/default/opac/parts/login/form.tt2
12	0	Open-ILS/web/templates/default/opac/parts/login/help.tt2
5	0	Open-ILS/web/templates/default/opac/parts/login/password_hint.tt2
0	171	Open-ILS/web/templates_kcls/default/opac/parts/login/form.tt2
12	0	Open-ILS/web/templates_kcls/default/opac/parts/login/help.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/login/help.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/login/password_hint.tt2
 delete mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/login/form.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/login/help.tt2

commit b6d2dab531f807f4a5d503eaeb37ba39e109677b
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun May 1 19:02:27 2011 -0400

    Debrand the OPAC footer, home page, and topnav links
    
    Restore the copyright message and Powered by Evergreen logo
    in the footer, and provide obvious example links instead of
    the KCLS-specific links.
    
    Also, replace the KCLS home page with the main Evergreen logo.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>

18	7	Open-ILS/web/templates/default/opac/parts/footer.tt2
1	62	Open-ILS/web/templates/default/opac/parts/homesearch.tt2
5	5	Open-ILS/web/templates/default/opac/parts/topnav_links.tt2

commit e368f3acde6c968d31e9b166f5c8193371a2f4f4
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun May 1 16:57:01 2011 -0400

    Create a templates_kcls to hold KCLS branding of TT OPAC
    
    The debranding of the TT OPAC begins with the top navigation.
      * Replace the KCLS logo with the Evergreen logo (even though
        white background on black doesn't look great, it's something)
      * Replace the KCLS specific top links with example links.
      * Split the logo and the links sections out into separate
        templates so that we can maximize commonality of the
        topnav.tt2 template.
    
    For now, all files containing the string 'kcls' have been
    copied into the templates_kcls directory. As we move through
    the templates, we may refactor them in similar to how we just
    refactored topnav.tt2.
    
    Signed-off-by: Dan Scott <dbs@coffeecode.net>

1	1	Open-ILS/web/templates/default/opac/parts/printnav.tt2
2	15	Open-ILS/web/templates/default/opac/parts/topnav.tt2
11	0	Open-ILS/web/templates/default/opac/parts/topnav_links.tt2
2	0	Open-ILS/web/templates/default/opac/parts/topnav_logo.tt2
334	0	Open-ILS/web/templates_kcls/default/opac/myopac/main.tt2
116	0	Open-ILS/web/templates_kcls/default/opac/myopac/prefs_settings.tt2
10	0	Open-ILS/web/templates_kcls/default/opac/parts/footer.tt2
64	0	Open-ILS/web/templates_kcls/default/opac/parts/homesearch.tt2
171	0	Open-ILS/web/templates_kcls/default/opac/parts/login/form.tt2
25	0	Open-ILS/web/templates_kcls/default/opac/parts/printnav.tt2
248	0	Open-ILS/web/templates_kcls/default/opac/parts/record/summary.tt2
13	0	Open-ILS/web/templates_kcls/default/opac/parts/topnav_links.tt2
2	0	Open-ILS/web/templates_kcls/default/opac/parts/topnav_logo.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/topnav_links.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/topnav_logo.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/myopac/main.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/myopac/prefs_settings.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/footer.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/homesearch.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/login/form.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/printnav.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/record/summary.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/topnav_links.tt2
 create mode 100644 Open-ILS/web/templates_kcls/default/opac/parts/topnav_logo.tt2

commit c0005a6846811da742d822a41e7d519658903f93
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun May 1 13:05:06 2011 -0400

    Internationalize more of the TT OPAC (records and results)
    
    There are a number of hardcoded strings remaining in the TT OPAC.
    This is just some of the lowhanging fruit; more work needs to be
    done on the more complex cases involving HTML and placeholders.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: berick <berick@esilibrary.com>

4	4	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2
4	4	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
1	1	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
11	11	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 6f5c16aa5e1b42fd70766f326d00dd644a5d6837
Author: Dan Scott <dan@coffeecode.net>
Date:   Sun May 1 11:55:11 2011 -0400

    Enable unAPI support in TT OPAC
    
    We have enough information available from the context and date
    plugin to construct valid unAPI IDs - so let's do it and take
    one more XXX off the table. (This is good for Zotero support!)
    
    Sadly, Zotero doesn't seem to recognize more than one unAPI
    ID on the search results page; in theory it should give the
    user the ability to add all of the search results at once,
    but in practice it doesn't display anything.
    
    At the same time, we can remove the duplicate unAPI placeholders
    and remove unnecessary <span> elements.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: berick <berick@esilibrary.com>

1	3	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
2	6	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit c3a260cbc682b7e18b7f7f5c272bf696f112332c
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 15:29:39 2011 +0000

    ContentCafe summary of avaible item content
    
    Added "available_json" support for Content Cafe.  Returns and array of
    available content for a given item, where the content type is mapped to
    one of the Evergreen standard added content types, e.g. "summary",
    "anotes", "reviews", ...
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20367 dcc99617-32d9-48b4-a31d-7c20da2025e4

21	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/ContentCafe.pm

commit 3aa47438872f3e7cf43b40d9a20e3497342839ae
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 15:29:39 2011 +0000

    ContentCafe summary of avaible item content
    
    Added "available_json" support for Content Cafe.  Returns and array of
    available content for a given item, where the content type is mapped to
    one of the Evergreen standard added content types, e.g. "summary",
    "anotes", "reviews", ...
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20367 dcc99617-32d9-48b4-a31d-7c20da2025e4

21	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/ContentCafe.pm

commit 04a9a2aaf7d17ce84a78ddf132fdb20486aa4218
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 13:52:48 2011 +0000

    After investigation by Dan Scott, Michael Peters and Mike Rylander (a little), apos removal in advanced search normalization is considered harmful.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20364 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	Open-ILS/web/opac/skin/default/js/adv_global.js

commit beee382e450c90e845d7fc7a03d98404a7f4d5f8
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 13:52:48 2011 +0000

    After investigation by Dan Scott, Michael Peters and Mike Rylander (a little), apos removal in advanced search normalization is considered harmful.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20364 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	Open-ILS/web/opac/skin/default/js/adv_global.js

commit f466fd7c66570af8f80e8ee085ff9c945aee8ffd
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 13:47:10 2011 +0000

    Patch from Michael Peters, Jason Boyer and Jason Etheridge addressing LP#744244: bill_details.xul "Checkout or Renew Library" column is blank
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20361 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/cat/copy_summary.xul
1	1	Open-ILS/xul/staff_client/server/patron/bill_details.js

commit 8cd02588b36c50043cf134f1d656b3be3e79bfa5
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 13:47:10 2011 +0000

    Patch from Michael Peters, Jason Boyer and Jason Etheridge addressing LP#744244: bill_details.xul "Checkout or Renew Library" column is blank
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20361 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/cat/copy_summary.xul
1	1	Open-ILS/xul/staff_client/server/patron/bill_details.js

commit a2552ae059c3de551da8a81a9dea47b680918938
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 12:20:55 2011 +0000

    Remove hard-coded default bootstrap location from authority_control_fields.pl
    
    Let autoconf do its magic and we get away from one more hard-coded
    default.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20359 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	563	Open-ILS/src/support-scripts/authority_control_fields.pl
563	0	Open-ILS/src/support-scripts/authority_control_fields.pl.in
2	0	configure.ac
 delete mode 100755 Open-ILS/src/support-scripts/authority_control_fields.pl
 create mode 100755 Open-ILS/src/support-scripts/authority_control_fields.pl.in

commit 6b9a7ac33738b3f5c1d590ed3b0db8afdf4e48e3
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 12:20:55 2011 +0000

    Remove hard-coded default bootstrap location from authority_control_fields.pl
    
    Let autoconf do its magic and we get away from one more hard-coded
    default.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20359 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	563	Open-ILS/src/support-scripts/authority_control_fields.pl
563	0	Open-ILS/src/support-scripts/authority_control_fields.pl.in
2	0	configure.ac
 delete mode 100755 Open-ILS/src/support-scripts/authority_control_fields.pl
 create mode 100755 Open-ILS/src/support-scripts/authority_control_fields.pl.in

commit 2d0e98413070bb05f0a6fb496d5b1a643f5763c0
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 12:11:27 2011 +0000

    Slight optimization for authority_control_fields.pl
    
    Instead of creating two CStoreEditors per bib record, reuse the global
    CStoreEditor for read operations; this way we only have to create a new
    CStoreEditor if a record has fields to authorize.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20356 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	4	Open-ILS/src/support-scripts/authority_control_fields.pl

commit f1eb75992d902209707829bca24e7cbd93e0669c
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 12:11:27 2011 +0000

    Slight optimization for authority_control_fields.pl
    
    Instead of creating two CStoreEditors per bib record, reuse the global
    CStoreEditor for read operations; this way we only have to create a new
    CStoreEditor if a record has fields to authorize.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20356 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	4	Open-ILS/src/support-scripts/authority_control_fields.pl

commit 0ce38362afd19101a528ad9eae7487eab22b87a4
Author: berick <berick@esilibrary.com>
Date:   Sat Apr 30 20:28:30 2011 -0400

    use medium-sized jacket image on record details page

1	1	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit c44d7b8a7fdfb1cc9689795ac68520baae2c96a3
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 00:28:23 2011 +0000

    Add excerpt AC and avoid rate-limiting for OpenLibrary content
    
    OpenLibrary added rate-limiting (100 cover requests per 5 minutes)
    for cover images requested by ISBN; using the OpenLibrary book
    API to pull the list of direct cover URLs avoids the rate limit.
    
    Also, add excerpt added content calls for OpenLibrary.
    
    Signed-off-by: Dan Scott <gitorious@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20354 dcc99617-32d9-48b4-a31d-7c20da2025e4

64	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit 49b4999822d70d875b392903ad88d01068d2486e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun May 1 00:28:23 2011 +0000

    Add excerpt AC and avoid rate-limiting for OpenLibrary content
    
    OpenLibrary added rate-limiting (100 cover requests per 5 minutes)
    for cover images requested by ISBN; using the OpenLibrary book
    API to pull the list of direct cover URLs avoids the rate limit.
    
    Also, add excerpt added content calls for OpenLibrary.
    
    Signed-off-by: Dan Scott <dbs@coffeecode.net>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20354 dcc99617-32d9-48b4-a31d-7c20da2025e4

64	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit fe2a89379f9d657c8c05f6b54c4c03a687b5e5c1
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 30 23:42:18 2011 +0000

    Update Makefile.install and README for PostgreSQL 9.0
    
    Along with cleaning out references to Debian Etch, Debian Lenny,
    Ubuntu Hardy, add the Debian Squeeze, Ubuntu Lucid, and Fedora 14
    PostgreSQL 9.0 repo locations, and convert the README to Asciidoc
    syntax.
    
    Remove references to Fedora 13 and genericize it for Fedora 14
    (with the thought that Fedora 15 will probably be coming out
    soon). Also add PostgreSQL 9.0 packages as a target for the
    database server in Makefile.install.
    
    Signed-off-by: Dan Scott <dan@coffeecode.net>
    Signed-off-by: Bill Erickson <berick@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20352 dcc99617-32d9-48b4-a31d-7c20da2025e4

30	50	Open-ILS/src/extras/Makefile.install
105	49	README

commit baf1d055df9dbcac40fe69a1bcc5de33d208a5ef
Author: berick <berick@esilibrary.com>
Date:   Sat Apr 30 17:28:02 2011 -0400

    force empty value for the default 'Any' option to avoid using the option text as a valid value

1	1	Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2

commit d23425bd213bfcd4e6b91889b1e0b3b364f49784
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 20:25:10 2011 +0000

    fix the new deps stuff
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20351 dcc99617-32d9-48b4-a31d-7c20da2025e4

33	13	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/build-db.sh
33	13	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql

commit f195bfa0c05aa1c23116868802f948c87137579c
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Apr 27 15:53:52 2011 -0400

    generic filters in advanced search using SVF
    
    incidentally, this reveals that my database has some *weird* languages
    represented in it

6	6	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
0	16	Open-ILS/web/templates/default/opac/parts/audience_selector.tt2
15	0	Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2
0	30	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
0	40	Open-ILS/web/templates/default/opac/parts/language_selector.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/audience_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/coded_value_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/format_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/language_selector.tt2

commit d94eb942551572d60dc3c4d71aa2ad72f2c63deb
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 19:12:27 2011 +0000

    Change barcode to link to item status
    
    For copy details change the barcode to a link to the item status.
    This only applies to the staff client itself due to an isXUL check first.
    
    This allows for a staff member to get more details on the copy with a single click, rather than copy/paste of the barcode.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20349 dcc99617-32d9-48b4-a31d-7c20da2025e4

13	1	Open-ILS/web/opac/skin/default/js/copy_details.js

commit 679506975f0efb6e2f6f17b0c19e3c53c5bfda44
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 18:43:08 2011 +0000

    Patch from Mike Rylander to support load-from-file as an alternative to load-from-network
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20347 dcc99617-32d9-48b4-a31d-7c20da2025e4

79	9	Open-ILS/src/support-scripts/marc_stream_importer.pl

commit 8e32f97cc885c03f92d2335af43f302d136d9721
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 16:18:54 2011 +0000

    Turn ebooks AC from OpenLibrary into usable HTML
    
    Add <a> elements to turn URLs into links, and use the upper case
    ebook format as the content of the link. "Read online" is the one
    i18n-unfriendly exception, but this is a good start.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20346 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit 3fcd544400ad3c09402409af4d51981fdb8a802e
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 16:12:03 2011 +0000

    Bad miker ... correcting exclusion constraint definition
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20345 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	1	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql

commit 0a56871c84a00f77352e9b7c08a16d201dd8b51f
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 15:54:48 2011 +0000

    Teach OpenLibrary.pm how to extract ebook links from OpenLibrary results
    
    If the Internet Archive has an available ebook, then OpenLibrary will
    provide links to it in various formats. For now, we return the results
    as a plain set of <div> elements with class attributes denoting what
    kind of ebook was returned; i18n will have to take care of providing
    an actual label. Oh, and I guess we want to turn these into actual
    <a> links...
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20344 dcc99617-32d9-48b4-a31d-7c20da2025e4

75	11	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm

commit 07bc6361c35d21f533b319bd9b771d3875c1308d
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 15:51:40 2011 +0000

    stock schema version of 0526
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20343 dcc99617-32d9-48b4-a31d-7c20da2025e4

74	2	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 118ea50bbe2ecbeee3472e2f9103caa30993c546
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 15:28:38 2011 +0000

    Utility to create a template for a DB patch file
    
    Besides creating the script, also does some basic sanity checks
    on the patch number and the number(s) of any deprecated or
    supsersed patches.
    
    usage: ./make-db-patch.pl --num <patch_num> --name <patch_name> [--deprecates <num1>] [--supersedes <num2>]
    
    Make template for a DB patch SQL file.
    
        --num          DB patch number
        --name         descriptive part of patch filename
        --deprecates   patch(es) deprecated by this update
        --supersedes   patch(es) superseded by this update
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20342 dcc99617-32d9-48b4-a31d-7c20da2025e4

122	0	Open-ILS/src/sql/Pg/make-db-patch.pl
 create mode 100755 Open-ILS/src/sql/Pg/make-db-patch.pl

commit d8bc0cb41efa98909ed4eebda2fbd0e8d8157028
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 15:24:54 2011 +0000

    support for depracate/supersede tracking of upgrade scripts, and automatic rejection of conflicting scripts
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20341 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
79	0	Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0526.schema.upgrade-dep-tracking.sql

commit 97bae1e4deb4af796929b024bd82208fb98c93e1
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 12:26:25 2011 +0000

    One more strictly integer check for fleshing feeds in SuperCat
    
    Missed this one in r20336. Argh.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20340 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit f2b822f81b59721db1abbc7560a54e64d491954c
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 12:16:15 2011 +0000

    Consolidate on checking for integers for -full / -uris
    
    The check for an integer when $flesh eq 'uris' was throwing errors
    and breaking authority browsing; rather than complicating matters
    further, use an explicit integer for the return value when the format
    ends with "-uris" so that we can simply test for an integer value
    greater than 0.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20335 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit e468c459c705b30964675c15dfa7dd6f7ba4cbdc
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 27 01:44:20 2011 +0000

    Prevent a MARC::File::XML error from killing authority_control_fields.pl batch
    
    Continuing to make this script bullet-proof, MARC::File::XML cares deeply
    about things like whether datafields have indicators and throws exceptions
    that, if not caught, kill a processing script - like this one.
    
    Borrowing the approach from marc_export, wrap the new_from_xml() call in
    a try / otherwise block and roll on.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20332 dcc99617-32d9-48b4-a31d-7c20da2025e4

85	78	Open-ILS/src/support-scripts/authority_control_fields.pl

commit d5ac9f7d661631e5d9efea2975800175bfc3acf1
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 20:44:11 2011 +0000

    Hold, Transit, and Hold/Transit Slips used to suppress the printer dialog, but we lost that when we moved to templated slips.  This adds a sticky Printer Prompt checkbox to Check In for controlling that behavior.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20327 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/xul/staff_client/server/circ/checkin_overlay.xul
6	0	Open-ILS/xul/staff_client/server/circ/util.js

commit abfa5218d87c25a8f071ea58628a67b95732d61d
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 20:44:08 2011 +0000

    Setting print.always_print_silent to false is a bad thing, since it trumps gPrintSettings.printSilent, and will cause a print dialog regardless of Printer Prompt or Auto-Print checkboxes.  Let's clear it instead when toggling it off, and if we find it lingering as false from past code, let's clear it then too.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20326 dcc99617-32d9-48b4-a31d-7c20da2025e4

10	0	Open-ILS/xul/staff_client/chrome/content/util/print.js
4	1	Open-ILS/xul/staff_client/server/admin/printer_settings.js

commit 3cb2a52918e47c5acd3360ff27b5ac6fa24232a9
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 17:18:14 2011 +0000

    Protect against errors returned by open-ils.search
    
    If open-ils.search returns an error rather than a result, prevent
    authority_control_fields.pl from bombing out completely; instead,
    flag the problem in STDERR and move on to the next record.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20323 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	0	Open-ILS/src/support-scripts/authority_control_fields.pl

commit 9a2f1c9d469da617ad9b538e0affce91cc79ff58
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 15:49:11 2011 +0000

    set the cancel cause field when patrons cancel holds.  There's a holdsCancel function that also does this, but it never gets called by anything
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20320 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/js/myopac.js

commit 8e33056e8097ec5edecc1506d3cbb117e2ca595c
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 14:38:23 2011 +0000

    fix disappearing cursor/caret for Check In
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20314 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	0	Open-ILS/xul/staff_client/server/circ/checkin.js

commit b75dd4435c73dfb41561c2f48c8e2edf1c3dc770
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 14:12:46 2011 +0000

    Make authority_control_fields.pl resistant to database timeouts
    
    LP 771237 describes how on an underpowered system, the work that
    authority_control_fields.pl tries to do on a per-record basis may hit the
    CStore default timeout of 6 seconds for a transaction and automatically
    end the transaction, resulting in no work being committed once the script tries
    to update the bibliographic record. Searching each controlled field for a
    matching authority record can be costly in a database with millions of
    authority records.
    
    To enable the script to accomplish its work on underpowered test systems, use a
    regular read-only CStoreEditor session to accomplish the lookups and create a
    separate CStoreEditor session to issue the update in a transaction if required.
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20311 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	3	Open-ILS/src/support-scripts/authority_control_fields.pl

commit 8eecfbf4903f2f95890bce1c4f3282ee94fbaabd
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 26 13:14:06 2011 +0000

    LP#771187: fix syntax error in stored procedure def
    
    Author: Jason Stephenson <jstephenson@mvlc.org>
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20309 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/030.schema.metabib.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0525.schema.phys-char-regression.sql

commit 290a9b17a888302a26e95dce43d260b386b0758e
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Apr 25 16:15:51 2011 -0400

    one more minor thing when showing fines on reservations
    
    if there's not a record associated with the xact (like in the case of
    a reservation against a non-cataloged resource), don't try to show a
    link

6	1	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit 81bd5b6754407ebfa3156c70f877432863cfd309
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Apr 25 15:32:50 2011 -0400

    fines on reservations no longer break myopac/main (my account)

2	0	Open-ILS/examples/fm_IDL.xml
17	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
16	17	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit d5358f369425c3fa14e8ff61ce29835405dafac2
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 25 18:42:26 2011 +0000

    Regression in pulling physical characteristics from a record in an SVF world, spotted by Jason Stephenson
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20307 dcc99617-32d9-48b4-a31d-7c20da2025e4

165	0	Open-ILS/src/sql/Pg/upgrade/0525.schema.phys-char-regression.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0525.schema.phys-char-regression.sql

commit 791fa598afcd59f8f6b1f28fa2d198ba5be8d583
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 25 18:42:11 2011 +0000

    Regression in pulling physical characteristics from a record in an SVF world, spotted by Jason Stephenson
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20306 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	3	Open-ILS/src/sql/Pg/030.schema.metabib.sql

commit f02c2625185ebf19c87ee03fc0718a3b913753cc
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 25 18:19:12 2011 +0000

    Use layout.css to control table of contents from OpenLibrary added content
    
    Rather than forcing people to edit OpenLibrary.pm to modify the inline CSS,
    use a class and rely on CSS from layout.css to make it easier to skin.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20303 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/AddedContent/OpenLibrary.pm
5	0	Open-ILS/web/opac/skin/default/css/layout.css

commit 19bde8a44fbff9dc4b5e8cdec6cbcef335049d4b
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 23 05:34:37 2011 +0000

    Extend i18n support for Register Patron interface
    
    Missed out on the Save / Show Fields dialogue in the previous
    commit; this gets us up to speed on the entire interface.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20299 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	1	Open-ILS/web/js/dojo/openils/actor/nls/register.js
15	9	Open-ILS/web/js/ui/default/actor/user/register.js
2	2	Open-ILS/web/templates/default/actor/user/register.tt2
35	15	build/i18n/po/register.js/register.js.pot

commit bd24a1c7db576a6f361266e26313a526da12aa41
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 23 05:22:05 2011 +0000

    Add i18n support to the User Editor / registration interface
    
    Per LP # 754898, the Register Patron interface currently contains
    many hardcoded strings. Given that the previous patron registration
    interface supported translation, this is a regression in 2.0.
    
    Accordingly, we extend the use of Dojo i18n support to provide the
    strings for buttons and a number of labels on the Register Patron
    interface. The bulk of the remaining text is provided by the fieldmapper
    definitions, which should in theory be translated automatically for us.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20298 dcc99617-32d9-48b4-a31d-7c20da2025e4

17	1	Open-ILS/web/js/dojo/openils/actor/nls/register.js
20	1	Open-ILS/web/js/ui/default/actor/user/register.js
14	16	Open-ILS/web/templates/default/actor/user/register_table.tt2
79	15	build/i18n/po/register.js/register.js.pot

commit cb5d2b7c68f67804027d6fca697ab72f15525804
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 21:34:56 2011 +0000

    address the empty-query case
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20295 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit f59c7c2493493e5ffdb21b5a662c8166a7b40a20
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 21:13:04 2011 +0000

    Disable Save Columns in xul holds interface when Hold Details is being viewed.  https://bugs.launchpad.net/evergreen/+bug/691599   Not the best fix, but the quickest fix
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20292 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/xul/staff_client/server/patron/holds.js

commit fb629deb74cf0f733510dd43cedc048e68a362cf
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 20:44:30 2011 +0000

    Address LP#730743, errant parens cause pain
    
    Specifically, we prune subplans that contain no nodes (empty parens), and avoid dropping out of the top level query context when we encounter a close-paren.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20289 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit f8a3b2a7bc64b9d3106747818d18dd960526c7f8
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 18:09:39 2011 +0000

    org unit setting for making unified Volume/Item interface optional.  fix the volume interface in its standalone incarnation, and tweak the label for editing items in holdings maintenance
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20287 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
10	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0524.data.toggle_unified_volume_copy_editor.sql
1	1	Open-ILS/web/opac/locale/en-US/lang.dtd
9	2	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
8	2	Open-ILS/xul/staff_client/chrome/content/main/menu.js
8	2	Open-ILS/xul/staff_client/server/cat/bib_brief.js
15	2	Open-ILS/xul/staff_client/server/cat/copy_browser.js
0	1	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
18	4	Open-ILS/xul/staff_client/server/circ/copy_status.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0524.data.toggle_unified_volume_copy_editor.sql

commit f520b839cec0685797c33fe150388873022b3198
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 15:56:37 2011 +0000

    Don't disable the Create Volume/Item button when building the data structure from the form.
    
    If you have say, a <textbox> with on onchange event that disables a <button> and re-enables it shortly thereafter, and the onchange event was triggered by you clicking on said button while the textbox has focus/changes, then the disable action will prevent any click on the button from registering.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20285 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	4	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 8d9101979ef3011a07a43411b59c0e4b1a67efbd
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 14:28:29 2011 +0000

    Turn off non-working print button for holds pull
    
    https://bugs.launchpad.net/evergreen/+bug/727983
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20280 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/chrome/content/main/menu.js
2	3	Open-ILS/xul/staff_client/server/index.xhtml

commit b265b48684e0ba775a5ff313d835cebf944e95da
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 14:00:32 2011 +0000

    Add missing serial.distribution field to IDL
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20278 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/examples/fm_IDL.xml

commit f2e90913893e4647f37a15ae95ba17f0f270f72e
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 00:40:21 2011 +0000

    Patch from James Fournie to sort statcats in their comboboxes
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20275 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/js/ui/default/actor/user/register.js

commit 694833ecf4b55234e59c2b372f61bd4bbc354388
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 22 00:20:08 2011 +0000

    Better call number prefix/support in opac.  The copy count status/location summary methods now group by prefix, label, suffix instead of just label.  Still need to update rdetailShowCNBrowse/open-ils.search.callnumber.browse, which is being fed an array, [ prefix label, label, suffix label ]
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20273 dcc99617-32d9-48b4-a31d-7c20da2025e4

24	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
27	15	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/biblio.pm
4	3	Open-ILS/web/opac/skin/default/js/copy_details.js
24	20	Open-ILS/web/opac/skin/default/js/rdetail.js

commit 677b916ba8cdfcaab2ad96d9e94b93d7648cf53b
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 21 10:03:55 2011 -0400

    if no query is sent in the search, return the user to the referring page

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 2a529e2d81b890a8cd11925bd2473bfa1ede6ead
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 21 13:51:19 2011 +0000

    Display prefix and suffix in CN browse of main OPAC
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20271 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	0	Open-ILS/web/opac/skin/default/js/cn_browse.js

commit e45bb247cca27b3ad1efe53486cd8a79189cb4e0
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 21 13:15:17 2011 +0000

    check user 'active' field in SIP charge_ok (and dependent) calls
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20268 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	1	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit f69e07fea68f2ad33e43c92c92991b4653b0e0b7
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 21 00:09:55 2011 +0000

    add marginal support for surfacing CN affixes in supercat and slimpac CN browse
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20266 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm
2	0	Open-ILS/xsl/CNBrowse2HTML.xsl

commit 189661577821bfb8b1a7e264da65f59eefd8fbad
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 20 17:50:29 2011 -0400

    show No Subjects when, well, there are no subjects; cleanup

63	73	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2

commit 25cd82aed0601aa8c7001eb8f3e15302e7dea11f
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 20:14:31 2011 +0000

    Add org unit settings for default status of newly added copies
    
    These two new org unit settings enable sites to control the
    default status of newly added copies. The defaults match
    the behaviour of the "Add Volumes" ("In Process") and
    "Fast Add" ("Available") interfaces as of Evergreen 1.6.1,
    but sites can choose to have the copies go directly to
    "Reshelving", "Available", or any other status defined in
    config.copy_status.
    
    The org unit settings are:
    
      * cat.default_copy_status_fast (for "Fast Add")
      * cat.default_copy_status_normal (for "Add Volumes")
    
    Signed-off-by: Dan Scott <dscott@laurentian.ca>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20263 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
16	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
21	0	Open-ILS/src/sql/Pg/upgrade/0523.data.default-copy-status.sql
4	1	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
5	1	Open-ILS/xul/staff_client/server/cat/util.js
4	1	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0523.data.default-copy-status.sql

commit 517e8767b753586555585f3f39da7bd6be1087bb
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 19:05:07 2011 +0000

    flesh parts in Items Out
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20259 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ.pm

commit be39ff071609b8061c5f7b0959285de34a6c6dd4
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 19:05:05 2011 +0000

    send the volume along in the payload for circ functions.  Render CN prefixes/suffixes correctly in xul lists if they're not fleshed
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20258 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
1	0	Open-ILS/xul/staff_client/server/circ/checkin.js
2	1	Open-ILS/xul/staff_client/server/circ/checkout.js
1	0	Open-ILS/xul/staff_client/server/circ/renew.js
8	3	Open-ILS/xul/staff_client/server/circ/util.js

commit 8511c4703eb3b7dcc11280f52d2b1760ad635d66
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 19:05:00 2011 +0000

    label tweaks to disambiguate prefix and suffix columns in checkin interface
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20257 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties
2	2	Open-ILS/xul/staff_client/server/locale/en-US/common.properties

commit 56537cd1aabf35e472d303b3856224a38b70f923
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 20 14:52:00 2011 -0400

    allow filter negation (e.g. -item_type(a) ) in dynamic filter query string building

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 919bb3c5a0dd04de1d4c07d3e0f0f442ab02b429
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 18:50:44 2011 +0000

    Add support for facet and filter negation via "-" prefix
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20255 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm
31	13	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit f9dd5a5212eaa66a41e0d6cb781c4e6bd563b005
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 16:46:58 2011 +0000

    New targets for staff client Makefile
    
    rigrelease:
    Sets up branding/xulrunner-stub for release builds
    Includes a change to windowssetup.nsi to swap out image set
    
    rigbeta:
    Sets up branding/xulrunner-stub for beta builds
    Includes a change to windowssetup.nsi to swap out image set
    
    rebuild:
    Shortcut for re-using the same version/stamp as the last build
    
    Updated stamp target to add files for rebuild.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20253 dcc99617-32d9-48b4-a31d-7c20da2025e4

22	0	Open-ILS/xul/staff_client/Makefile.am

commit 70baa43f3baa222aff9d0ea5f5ce6d889f73a53c
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 16:07:55 2011 +0000

    Always use BinaryEncodeing => "UTF-8" with MARC::File::XML
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20250 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/extras/import/direct_ingest.pl
1	1	Open-ILS/src/extras/import/direct_loader.pl
1	1	Open-ILS/src/extras/import/marcFilterDump.pl
1	1	Open-ILS/src/extras/import/marc_add_ids
1	1	Open-ILS/src/extras/marc2html
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Order.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Acq/Picklist.pm
5	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Z3950.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/asset.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/Exporter.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/TemplateBatchBibUpdate.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/Vandelay.pm
1	1	Open-ILS/src/support-scripts/marc_export.in
1	1	Open-ILS/src/support-scripts/marc_stream_importer.pl

commit fcc7e90ec32b5c75449d571e521a37c278f075fe
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 15:40:32 2011 +0000

    Patch from Jeff Davis addressing parameter usage issues
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20244 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/src/support-scripts/offline-blocked-list.pl

commit 6de7b782d69b1cb68d558960b88f92aa06eecc22
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 20 11:01:45 2011 -0400

    format selector gets formats from CCVM fields, starting with 'mattype', falling back to item_type

3	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
14	3	Open-ILS/web/templates/default/opac/parts/format_selector.tt2

commit 5e2751074bf814f7508aad406b65e2ed4c26060b
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 20 11:00:22 2011 -0400

    added simple field/value filter to the RO fetch/cache code;  useful for limiting larger sets of config data like ccvm objects

16	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 6c13880e172da310f00d5131ecc84ab2de2f794c
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 14:49:12 2011 +0000

    Reorder some functions to avoid creation failure on an empty db; remove unused (and installation-killing) tsvector aggregate
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20238 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	21	Open-ILS/src/sql/Pg/000.functions.general.sql
0	17	Open-ILS/src/sql/Pg/002.functions.aggregate.sql
13	0	Open-ILS/src/sql/Pg/040.schema.asset.sql

commit a4fa188d77b2317255f264264048cd4d16167b29
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 20 09:57:34 2011 -0400

    use the more explicit get_foo instead of find_foo for pub/cache object lookup

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
5	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
1	1	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
1	1	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
2	2	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 1b1839b07f6b4b524e6f3c9596531ff96035e092
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 13:47:09 2011 +0000

    add marc_export to list of scripts installed in /openils/bin
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20237 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/Makefile.am
0	427	Open-ILS/src/support-scripts/marc_export
427	0	Open-ILS/src/support-scripts/marc_export.in
2	0	configure.ac
 delete mode 100755 Open-ILS/src/support-scripts/marc_export
 create mode 100755 Open-ILS/src/support-scripts/marc_export.in

commit 14afb9c143719241fea0f004bc01fff715bee641
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 08:11:30 2011 +0000

    flesh parts on items for circ functions.  Hrmm, but this only works because unflesh_copy doesn't know about parts.  Do we need unflesh_copy on checkout/checkin/renew result payloads?
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20233 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm

commit 9f8363456789eb86f33cca51d33fef50613d07dd
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 08:10:08 2011 +0000

    remove the infinite loop that batch volume template application was causing
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20232 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	6	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit 59dfdcf99db5ae6f34956e33162d6dd1c4140d56
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 08:10:05 2011 +0000

    fix export templates, copy/paste-o
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20231 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.js

commit 1d42f1ad931324eb1f61558576a5c24e7cf7acd8
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 05:03:33 2011 +0000

    More hotkey fixes - Invalidate keyset cache
    
    Thanks to http://forums.mozillazine.org/viewtopic.php?f=19&t=2048501,
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20228 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit d1a8a05dac598f04504c91e3c4afe7c8da6490ce
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 20 05:03:24 2011 +0000

    Hotkey Fixes
    
    Attempt to be more robust/forceful on clearing hint text
    
    Reset hotkeys less often (such as *not* on operator change)
    
    Re-enable keyset properly
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20227 dcc99617-32d9-48b4-a31d-7c20da2025e4

18	7	Open-ILS/xul/staff_client/chrome/content/main/menu.js
0	1	Open-ILS/xul/staff_client/chrome/content/util/network.js

commit 5f74aab004364585a8294a376a7bef977c0b8841
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 21:03:30 2011 +0000

    Typo: Propeties/Properties
    
    Should have merged this with the source file fix. Ah well.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20224 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	build/i18n/po/opac.js/opac.js.pot

commit 5925aeaf3397b8bcaea8bb10bcd2de76aad50468
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 21:02:34 2011 +0000

    Typo: Propeties/Properties
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20223 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/js/dojo/openils/opac/nls/opac.js

commit 3afcc0dba45400618a3e5566d92c8d032375d369
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 19:56:04 2011 +0000

    Use top level join instead of subquery in hold queue position query
    
    This is more readily optimized by the Postgres planer.
    
    Note also, for very large data sets (lots of holds, on the order of 100k+ active), the following is also advised:
    
     ALTER TABLE action.hold_copy_map alter column target_copy SET statistics 500, alter column hold set statistics 500;
     ANALYZE action.hold_copy_map;
    
    This gives the planner better data about the hold-copy-map n-distinct.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20221 dcc99617-32d9-48b4-a31d-7c20da2025e4

14	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 979096ac7351875a0509143d884f1941009e25cc
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 17:55:47 2011 +0000

    Fix dump-style printing by ensuring 'params' is defined before accessing it
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20216 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/xul/staff_client/chrome/content/util/list.js

commit 28283b6fea32c44658a515816943b577281de3af
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 16:36:14 2011 +0000

    Store the cache hash file in LOCALSTATEDIR/web/ so it can be used from within apache via SSI
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20215 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/extras/cache-generator.sh

commit edf90f147fa0385faaaeaace957de49420dc0617
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 16:15:01 2011 +0000

    Add a wrapper for autogen.sh which generates a date+content hash for use in (browser) cache killing
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20213 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/src/Makefile.am
19	0	Open-ILS/src/extras/cache-generator.sh
 create mode 100644 Open-ILS/src/extras/cache-generator.sh

commit 49270213e5b15ecfeb5acd43a9756f54968cddb6
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 16:01:21 2011 +0000

    mark these as binary
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20211 dcc99617-32d9-48b4-a31d-7c20da2025e4

commit 49355fc8e10faf427060de52f80308a1f9d514ad
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 15:52:54 2011 +0000

    lock in upgrade script version #, tweak org setting labels and descriptions
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20208 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/0522.client_menus.sql
0	14	Open-ILS/src/sql/Pg/upgrade/XXXX.client_menus.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0522.client_menus.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.client_menus.sql

commit 19e9126279e6973354396ac28d0c9ad4f3093eab
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 15:52:49 2011 +0000

    Menu Hotkeys and Toolbars
    
    Dynamic Hotkey sets
    
    New cataloging toolbar
    
    New updates to circ toolbar
    
    New menu items and updates to menus in admin menu area
    
    Toolbar/hotkey settings can be saved to workstation prefs from admin -> workstation administration
    
    Update org unit setting for button_bar to be a string, circ or cat by default to pick those two toolbars
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20207 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
14	0	Open-ILS/src/sql/Pg/upgrade/XXXX.client_menus.sql
33	2	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/xul/staff_client/chrome/content/auth/controller.js
64	0	Open-ILS/xul/staff_client/chrome/content/main/main.js
318	15	Open-ILS/xul/staff_client/chrome/content/main/menu.js
95	61	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
119	20	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_overlay.xul
4	0	Open-ILS/xul/staff_client/chrome/content/util/file.js
1	0	Open-ILS/xul/staff_client/chrome/content/util/network.js
2	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
62	0	Open-ILS/xul/staff_client/chrome/skin/global.css
20	0	Open-ILS/xul/staff_client/chrome/skin/hotkeys/Default.keyset
7	0	Open-ILS/xul/staff_client/chrome/skin/hotkeys/Minimal.keyset
1	0	Open-ILS/xul/staff_client/chrome/skin/hotkeys/None.keyset
33	0	Open-ILS/xul/staff_client/chrome/skin/hotkeys/README
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/Arrow-rightup-small_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_famiglia_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_indici_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_lente_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_libro_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/Search_Items_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/center_toolbar.png
-	-	Open-ILS/xul/staff_client/chrome/skin/media/images/hotkeys_disable_toolbar.png
18	7	Open-ILS/xul/staff_client/chrome/skin/media/images/licenses.txt
8	0	Open-ILS/xul/staff_client/defaults/preferences/prefs.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.client_menus.sql
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/hotkeys/Default.keyset
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/hotkeys/Minimal.keyset
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/hotkeys/None.keyset
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/hotkeys/README
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/Arrow-rightup-small_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_famiglia_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_indici_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_lente_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/HILLBLU_libro_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/Search_Items_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/center_toolbar.png
 create mode 100644 Open-ILS/xul/staff_client/chrome/skin/media/images/hotkeys_disable_toolbar.png

commit e31c592c19368c09c4ccc3d9029ccf1dc9eb74d9
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 15:29:14 2011 +0000

    Print the path to files written by autogen in support of a cache-killing hash
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20205 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	0	Open-ILS/src/extras/autogen.sh

commit 7d8aa6b9dcce22168b09f6330b48939027c57406
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 14:53:50 2011 +0000

    mark these as binary
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20203 dcc99617-32d9-48b4-a31d-7c20da2025e4

commit 3b3ed357190a569327be372a332b833028fa351a
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 14:47:43 2011 +0000

    mark these as binary
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20201 dcc99617-32d9-48b4-a31d-7c20da2025e4

commit 92c0824aba26da1eb1f8b082eeb985982bbfc5ae
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 14:37:24 2011 +0000

    More Installer Fun
    
    Define an Install Tag, defaulting to the product tag.
    This will be used in the install location and registry setting for where we installed to.
    
    Different install tags will mean different installs, so Trunk won't (by default) install over 2.1 (for example)
    
    Plus, include riggings for Mike Peter's new install images.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20199 dcc99617-32d9-48b4-a31d-7c20da2025e4

-	-	Open-ILS/xul/staff_client/custom_images/Beta Header.png
-	-	Open-ILS/xul/staff_client/custom_images/Beta Wizard - Install.png
-	-	Open-ILS/xul/staff_client/custom_images/Beta Wizard - Uninstall.png
27	0	Open-ILS/xul/staff_client/custom_images/DCO
-	-	Open-ILS/xul/staff_client/custom_images/Header.png
15	0	Open-ILS/xul/staff_client/custom_images/README
-	-	Open-ILS/xul/staff_client/custom_images/Wizard - Install.png
-	-	Open-ILS/xul/staff_client/custom_images/Wizard - Uninstall.png
-	-	Open-ILS/xul/staff_client/custom_images/beta/header.bmp
-	-	Open-ILS/xul/staff_client/custom_images/beta/install.bmp
-	-	Open-ILS/xul/staff_client/custom_images/beta/uninstall.bmp
-	-	Open-ILS/xul/staff_client/custom_images/release/header.bmp
-	-	Open-ILS/xul/staff_client/custom_images/release/install.bmp
-	-	Open-ILS/xul/staff_client/custom_images/release/uninstall.bmp
10	2	Open-ILS/xul/staff_client/windowssetup.nsi
 create mode 100644 Open-ILS/xul/staff_client/custom_images/Beta Header.png
 create mode 100644 Open-ILS/xul/staff_client/custom_images/Beta Wizard - Install.png
 create mode 100644 Open-ILS/xul/staff_client/custom_images/Beta Wizard - Uninstall.png
 create mode 100644 Open-ILS/xul/staff_client/custom_images/DCO
 create mode 100644 Open-ILS/xul/staff_client/custom_images/Header.png
 create mode 100644 Open-ILS/xul/staff_client/custom_images/README
 create mode 100644 Open-ILS/xul/staff_client/custom_images/Wizard - Install.png
 create mode 100644 Open-ILS/xul/staff_client/custom_images/Wizard - Uninstall.png
 create mode 100644 Open-ILS/xul/staff_client/custom_images/beta/header.bmp
 create mode 100644 Open-ILS/xul/staff_client/custom_images/beta/install.bmp
 create mode 100644 Open-ILS/xul/staff_client/custom_images/beta/uninstall.bmp
 create mode 100644 Open-ILS/xul/staff_client/custom_images/release/header.bmp
 create mode 100644 Open-ILS/xul/staff_client/custom_images/release/install.bmp
 create mode 100644 Open-ILS/xul/staff_client/custom_images/release/uninstall.bmp

commit d0ce22249887ed9e5624cf2d06b551c686143e02
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 02:57:23 2011 +0000

    Update for corrected cmc.name -> cmc.label marking in seed data
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20195 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	7	build/i18n/po/db.seed/db.seed.pot

commit 7fc19d7c8e43a3ad434642d38d2c8f92602f3f1d
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 02:52:48 2011 +0000

    Mark cmc.label for translation, not cmc.name, in seed data
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20192 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	6	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit cb43e8dd06bec4789c849ee1690cee02a007f870
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 02:19:53 2011 +0000

    Mark cmf and cmc labels as translatable
    
    We went to the effort of extracting the translatable text from
    950.data.seed-values.sql, but had not marked the fields as
    translatable in the IDL. Now at least the out-of-the-box
    fields and classes will easily be able to have translations.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20189 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/examples/fm_IDL.xml

commit 5f2bed6c9bcc06df27c8343be3a9905957f9850d
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 02:14:04 2011 +0000

    Check in the POT files so that translation interface can be satisfied
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20188 dcc99617-32d9-48b4-a31d-7c20da2025e4

28	0	build/i18n/po/AutoFieldWidget.js/AutoFieldWidget.js.pot
172	0	build/i18n/po/Searcher.js/Searcher.js.pot
36	0	build/i18n/po/TranslatorPopup.js/TranslatorPopup.js.pot
16	0	build/i18n/po/User.js/User.js.pot
32	0	build/i18n/po/XULTermLoader.js/XULTermLoader.js.pot
364	0	build/i18n/po/acq.js/acq.js.pot
448	0	build/i18n/po/admin.properties/admin.properties.pot
75	0	build/i18n/po/auth.properties/auth.properties.pot
76	0	build/i18n/po/authority.js/authority.js.pot
132	0	build/i18n/po/capture.js/capture.js.pot
2236	0	build/i18n/po/cat.properties/cat.properties.pot
1912	0	build/i18n/po/circ.properties/circ.properties.pot
833	0	build/i18n/po/common.properties/common.properties.pot
495	0	build/i18n/po/conify.dtd/conify.dtd.pot
360	0	build/i18n/po/conify.js/conify.js.pot
4875	0	build/i18n/po/db.seed/db.seed.pot
6776	0	build/i18n/po/fm_IDL.dtd/fm_IDL.dtd.pot
1112	0	build/i18n/po/ils_events.xml/ils_events.xml.pot
13665	0	build/i18n/po/lang.dtd/lang.dtd.pot
39	0	build/i18n/po/multiclass_search_help.html/multiclass_search_help.html.pot
1282	0	build/i18n/po/offline.properties/offline.properties.pot
2570	0	build/i18n/po/opac.dtd/opac.dtd.pot
27	7	build/i18n/po/opac.js/opac.js.pot
1747	0	build/i18n/po/patron.properties/patron.properties.pot
143	0	build/i18n/po/pickup_and_return.js/pickup_and_return.js.pot
88	0	build/i18n/po/pull_list.js/pull_list.js.pot
56	0	build/i18n/po/register.js/register.js.pot
792	0	build/i18n/po/reports.dtd/reports.dtd.pot
422	0	build/i18n/po/reports.js/reports.js.pot
248	0	build/i18n/po/reservation.js/reservation.js.pot
171	0	build/i18n/po/selfcheck.js/selfcheck.js.pot
61	3	build/i18n/po/serial.properties/serial.properties.pot
465	0	build/i18n/po/vandelay.dtd/vandelay.dtd.pot
 create mode 100644 build/i18n/po/AutoFieldWidget.js/AutoFieldWidget.js.pot
 create mode 100644 build/i18n/po/Searcher.js/Searcher.js.pot
 create mode 100644 build/i18n/po/TranslatorPopup.js/TranslatorPopup.js.pot
 create mode 100644 build/i18n/po/User.js/User.js.pot
 create mode 100644 build/i18n/po/XULTermLoader.js/XULTermLoader.js.pot
 create mode 100644 build/i18n/po/acq.js/acq.js.pot
 create mode 100644 build/i18n/po/admin.properties/admin.properties.pot
 create mode 100644 build/i18n/po/auth.properties/auth.properties.pot
 create mode 100644 build/i18n/po/authority.js/authority.js.pot
 create mode 100644 build/i18n/po/capture.js/capture.js.pot
 create mode 100644 build/i18n/po/cat.properties/cat.properties.pot
 create mode 100644 build/i18n/po/circ.properties/circ.properties.pot
 create mode 100644 build/i18n/po/common.properties/common.properties.pot
 create mode 100644 build/i18n/po/conify.dtd/conify.dtd.pot
 create mode 100644 build/i18n/po/conify.js/conify.js.pot
 create mode 100644 build/i18n/po/db.seed/db.seed.pot
 create mode 100644 build/i18n/po/fm_IDL.dtd/fm_IDL.dtd.pot
 create mode 100644 build/i18n/po/ils_events.xml/ils_events.xml.pot
 create mode 100644 build/i18n/po/lang.dtd/lang.dtd.pot
 create mode 100644 build/i18n/po/multiclass_search_help.html/multiclass_search_help.html.pot
 create mode 100644 build/i18n/po/offline.properties/offline.properties.pot
 create mode 100644 build/i18n/po/opac.dtd/opac.dtd.pot
 create mode 100644 build/i18n/po/patron.properties/patron.properties.pot
 create mode 100644 build/i18n/po/pickup_and_return.js/pickup_and_return.js.pot
 create mode 100644 build/i18n/po/pull_list.js/pull_list.js.pot
 create mode 100644 build/i18n/po/register.js/register.js.pot
 create mode 100644 build/i18n/po/reports.dtd/reports.dtd.pot
 create mode 100644 build/i18n/po/reports.js/reports.js.pot
 create mode 100644 build/i18n/po/reservation.js/reservation.js.pot
 create mode 100644 build/i18n/po/selfcheck.js/selfcheck.js.pot
 create mode 100644 build/i18n/po/vandelay.dtd/vandelay.dtd.pot

commit 624297a428b6477bc1a0b33691f0edf1385158c9
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 01:48:43 2011 +0000

    Add openils.widget.Searcher Dojo NLS to the i18n build
    
    Necessary for the "advanced" searchbar on the Evergreen
    AjaxPAC.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20185 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	0	build/i18n/Makefile

commit 28c8daa029b106d8435f710dd913666d7251b39f
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 19 01:03:58 2011 +0000

    Correct encoding issue with authority_control_fields.pl
    
    Is there ever a time when MARC::File::XML would be invoked with
    anything other than BinaryEncoding => 'utf-8'? Not here, at
    least. Addresses LP# 764582.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20182 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/support-scripts/authority_control_fields.pl

commit 307a43715f7a4657336cc2d8a09e88e2efbf0977
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 19:57:01 2011 +0000

    Improvements to search tuning
    
     * Move to in-core fts function, instead of the compat wrapper provided by the tsearch2 contrib
     * Provide default cover density tuning (config file)
     * Move default preferred language settings from storage to search, where they make more sense
    
    More on the CD tuning:
    
      Evergreen uses a cover density algorithm for calculating relative ranking of matches.  There
      are several tuning parameters and options available.  By default, no document length normalization
      is applied.  From the Postgres documentation on ts_rank_cd() (the function used by Evergreen):
    
          Since a longer document has a greater chance of containing a query term it is reasonable
          to take into account document size, e.g., a hundred-word document with five instances of
          a search word is probably more relevant than a thousand-word document with five instances.
          Both ranking functions take an integer normalization option that specifies whether and how
          a document's length should impact its rank. The integer option controls several behaviors,
          so it is a bit mask: you can specify one or more behaviors using | (for example, 2|4).
    
              0 (the default) ignores the document length
    
              1 divides the rank by 1 + the logarithm of the document length
    
              2 divides the rank by the document length
    
              4 divides the rank by the mean harmonic distance between extents (this is implemented only by ts_rank_cd)
    
              8 divides the rank by the number of unique words in document
    
              16 divides the rank by 1 + the logarithm of the number of unique words in document
    
              32 divides the rank by itself + 1
    
          If more than one flag bit is specified, the transformations are applied in the order listed.
    
          It is important to note that the ranking functions do not use any global information, so it
          is impossible to produce a fair normalization to 1% or 100% as sometimes desired. Normalization
          option 32 (rank/(rank+1)) can be applied to scale all ranks into the range zero to one, but of
          course this is just a cosmetic change; it will not affect the ordering of the search results.
    
      In Evergreen, these options are set via search modifiers.  The modifiers are mapped in the
      following way:
    
          * #CD_logDocumentLength  => 1  :: rank / (1 + LOG(total_word_count))   :: Longer documents slightly less relevant
          * #CD_documentLength     => 2  :: rank / total_word_count              :: Longer documents much less relevant
          * #CD_meanHarmonic       => 4  :: Word Proximity                       :: Greater matched-word distance is less relevant
          * #CD_uniqueWords        => 8  :: rank / unique_word_count             :: Documents with repeated words much less relevant
          * #CD_logUniqueWords     => 16 :: rank / (1 + LOG(unique_word_count))  :: Documents with repeated words slightly less relevant
          * #CD_selfPlusOne        => 32 :: rank / (1 + rank)                    :: Cosmetic normalization of rank value between 0 and 1
    
      Adding one or more of these to the default_CD_modifiers list will cause all searches that use QueryParser to apply them.
    
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20180 dcc99617-32d9-48b4-a31d-7c20da2025e4

59	6	Open-ILS/examples/opensrf.xml.example
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/fts.pm
37	17	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit 5ce74846e53108e4188cfb6c44881048c10e459e
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 19:45:27 2011 +0000

    one more fix, for Show in Catalog on issuance holds
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20178 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit ea81a10e6a3dc068d810b4505dbb5d5d420d6cc8
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 19:35:16 2011 +0000

    display issuance label, not subscription label
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20176 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/xul/staff_client/server/circ/util.js
1	1	Open-ILS/xul/staff_client/server/locale/en-US/common.properties

commit 1b5a72cb5c349d698aec268ef339b9c79cd089ce
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 18:40:30 2011 +0000

    add Part Holds to Actions for this Record -> View Holds.  Also add xul support for displaying issuance holds (needs testing)
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20174 dcc99617-32d9-48b4-a31d-7c20da2025e4

19	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
9	0	Open-ILS/xul/staff_client/server/circ/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
13	0	Open-ILS/xul/staff_client/server/patron/holds.js

commit 95d9d12a5d8eb9f9f3dc57d4cbcc6c0f499743b5
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 18:03:41 2011 +0000

    support Part Holds in xul lists
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20171 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	0	Open-ILS/xul/staff_client/server/circ/util.js
1	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
3	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit d7f3711d773e5cfa021dabee9d6b9b5f11aa575a
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 18:03:38 2011 +0000

    no need to flesh the record here
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20170 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 0443ef696fc4fb08819c7c22d07ca64ede097b99
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 17:30:11 2011 +0000

    typo
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20168 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit b9750bf6b74bc0b9e4a75d099301c7c645bfe749
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 15:41:20 2011 +0000

    improve comments on a couple config tables
    
    Based on suggestions from Mike Rylander and Thomas Berezansky.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20162 dcc99617-32d9-48b4-a31d-7c20da2025e4

10	7	Open-ILS/src/sql/Pg/002.schema.config.sql

commit f3bf25a720835c905dd3f323aac3566fceb6d77a
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 15:41:18 2011 +0000

    script to update DB object comments
    
    New script, update-db-comments.sh, to be run as part of upgrades
    to refresh comments on database schema objects.  Usage is:
    
      update-db-comments.sh db-host db-port db-name db-user db-pass
    
    The helper script grab-db-comment.pl is what actually parses out
    the comment statements.
    
    To avoid repetition, the list of default SQL scripts to use when
    initializing an Evergreen database has been moved to a new file
    called sql_file_manifest.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20161 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	61	Open-ILS/src/sql/Pg/build-db.sh
45	0	Open-ILS/src/sql/Pg/grab-db-comments.pl
60	0	Open-ILS/src/sql/Pg/sql_file_manifest
24	0	Open-ILS/src/sql/Pg/update-db-comments.sh
 create mode 100755 Open-ILS/src/sql/Pg/grab-db-comments.pl
 create mode 100644 Open-ILS/src/sql/Pg/sql_file_manifest
 create mode 100755 Open-ILS/src/sql/Pg/update-db-comments.sh

commit dd9c927fe1d1179db86c84683051e2a622246a9e
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 15:41:16 2011 +0000

    minor improvements to database object comments
    
    * remove copyright, license verbiage, and C-style comment marking
      from the comments; these can live in the SQL scripts
    * updated several copyright headers
    * minor improvements to documentation of a couple tables
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20160 dcc99617-32d9-48b4-a31d-7c20da2025e4

76	294	Open-ILS/src/sql/Pg/002.schema.config.sql
42	200	Open-ILS/src/sql/Pg/005.schema.actors.sql
8	14	Open-ILS/src/sql/Pg/008.schema.query.sql
6	10	Open-ILS/src/sql/Pg/020.schema.functions.sql
5	7	Open-ILS/src/sql/Pg/090.schema.action.sql
43	63	Open-ILS/src/sql/Pg/200.schema.acq.sql
15	29	Open-ILS/src/sql/Pg/999.functions.global.sql

commit f904a93ff85121503cd7d2fc065b3b0b2f2a24bb
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 15:37:12 2011 +0000

    fixes Edit Volumes action by flattening the volume objects before updating them
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20158 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	0	Open-ILS/xul/staff_client/server/cat/util.js

commit 995e8d99dac1ae055dc2b88dfbf19bd4233600e6
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 05:27:15 2011 +0000

    in the MARC Editor, put the callnumber and barcode textboxes for Fast Item Add on a separate row
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20151 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	6	Open-ILS/xul/staff_client/server/cat/marcedit.xul

commit f59ffca1708a308abcb156773b4ae2174eab7b34
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 05:14:41 2011 +0000

    Enable relative paths in i18n testing scripts
    
    We were 98% of the way there; now we no longer need to
    cd into the same directory as the i18n testing scripts
    to run them with meaningful output. Should be useful
    for adding these to the CI server.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20148 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	build/i18n/tests/check_entities.py
1	1	build/i18n/tests/check_properties.py

commit c0a7082c6f78d1fb3f8c3ec03f68aaeaf3726c81
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 04:38:46 2011 +0000

    Don't check .js files for entities
    
    Must have asked this script to check JS files for valid entities
    for a reason at some point in the dark past, but it couldn't have
    been a very good reason; we're getting a false positive that needs
    to be hushed now. Better to just stop looking for XML entities in
    JavaScript.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20145 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	build/i18n/tests/check_entities.py

commit f99123faa815403a39148a6fdb2230b2bf9f8058
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 18 03:32:04 2011 +0000

    Empty strings in oils_i18n_gettext() throw i18n errors
    
    When you run 'make newpot', if you have an empty string in an
    oils_i18n_gettext() function, you'll see errors like:
    
    Error in line 1712 of SQL source file: 'NoneType' object has no attribute 'group'
    
    This satisfies the i18n build process and also serves as a
    more evident placeholder for expanded descriptions if someone
    feels so inclined in the future.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20139 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	11	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 4f4753f3a35dcce2bedfdcddb7a603bc8cc137a6
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Apr 17 19:25:38 2011 +0000

    Add new macros for print templates.
    
    %-TRIM%
    Trims whitespace before the macro
    
    %TRIM-%
    Trims whitespace after the macro
    
    %SUBSTR(#)%...%SUBSTR_END%
    Take substring starting at position # to end of string.
    If # is negative count backwards from end of string.
    
    %SUBSTR(#,#)%...%SUBSTR_END%
    Same as previous, but limit to second provided number characters after start point.
    If second number is negative, count backwards instead of forwards.
    
    TRIM macros inside of SUBSTR will be replaced first, then SUBSTR, then TRIM outside of SUBSTR.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20137 dcc99617-32d9-48b4-a31d-7c20da2025e4

29	0	Open-ILS/xul/staff_client/chrome/content/util/print.js

commit ab70fb8adb3dd86fa06f3796e8f8cb9c8fb6f58d
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 21:35:46 2011 +0000

    fix Add Items off of volumes by changing the label key in copy_shortcut to callnumber composite key
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20136 dcc99617-32d9-48b4-a31d-7c20da2025e4

14	3	Open-ILS/xul/staff_client/server/cat/copy_browser.js
16	4	Open-ILS/xul/staff_client/server/circ/copy_status.js

commit 2ef8555d81a7d679c8524d16ea98f4f55d0f0e1f
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 21:35:44 2011 +0000

    trace statements.  need to change how copy_shortcut is constructed in parent interfaces
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20135 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	4	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 9cfde769b1d87da769f8ed88342174854f5cdde1
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 21:35:42 2011 +0000

    trace statements
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20134 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	8	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit ac36c7e75b214eb6bdd79815be961d60614f7602
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 21:35:40 2011 +0000

    trace statements
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20133 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	1	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit c83fca7b992e72be2fceba797243eaca5f0c0a9d
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 21:35:38 2011 +0000

    comment tweak
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20132 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit b7b4e1ecf328a0f6f44362374957cfde9400b9b7
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 03:26:11 2011 +0000

    Allow NULL "use restriction" fields for located URIs
    
    The asset.uri.use_restriction field, which is really a sort of public notes
    field for 856 fields, was grabbing the $u subfield (URL) as a sort of last-gasp
    effort to give it some data. However, the effect was rather odd and led to
    workarounds like Conifer's skin to avoid displaying the use restriction field
    if its value was identical to the URL, etc.
    
    Instead, stop grabbing $u and handle the case where use_restriction column is
    NULL gracefully, just like the schema intended.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20123 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
6	3	Open-ILS/src/sql/Pg/030.schema.metabib.sql
99	0	Open-ILS/src/sql/Pg/upgrade/0521.schema.u-no-uri-use.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0521.schema.u-no-uri-use.sql

commit 8685c7934f8c5d078ece464ed4b25efec8b716a6
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 03:18:53 2011 +0000

    Do not clear auri links in default skin
    
    The dojo orphan() call which attempted to wipe any non-located 856s
    was actually wiping the located 856s in the record detail display.
    
    Removing the extra call makes this work in Firefox and Chromium,
    at least.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20120 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	9	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_summary.xml

commit a40ffd73513683589e4b844ec8b42164317e32d5
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 16 02:16:05 2011 +0000

    Delete ##URI## call numbers and uri_call_number_map entries on bib reingest
    
    This approach will lead to some acn/auricnm ID inflation, but it works.
    
    Addresses LP# 761130 (immortal ##URI## entries in asset.call_number) reported
    by Ben Shum and LP# 761085 (cannot delete bib with ##URI## volumes) reported
    by Jason Etheridge.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20117 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
11	3	Open-ILS/src/sql/Pg/030.schema.metabib.sql
95	0	Open-ILS/src/sql/Pg/upgrade/0520.schema.clear-old-asset-uris.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0520.schema.clear-old-asset-uris.sql

commit 6606798238c1fd7df794405bf2068911e55e2f4f
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 20:50:59 2011 +0000

    prune unused script; purpose now served by eg_db_config.pl
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20115 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	16	Open-ILS/src/extras/import/build-oils-db.sh
 delete mode 100755 Open-ILS/src/extras/import/build-oils-db.sh

commit 2ac7df0113732fb2b4dac2a0fc77ca3f837240e5
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 20:13:46 2011 +0000

    Protect dumb JavaScript engines from having to deal with actual Unicode
    
    The holdings_xml format did not include an XML declaration, but adding that
    as we do here still does not make the Firefox and Chromium JS engines capable
    of consuming XML that contains Unicode content outside of the base ASCII
    range.
    
    So, we invoke entityize() to convert anything outside of the realm of
    ASCII to XML entities. An alternative would be to invoke entityize() in
    OpenILS::Application::SuperCat::unAPI::acn but it's not clear if that
    would interfere with any other uses.
    
    With this change, library names / copy location names with Unicode content
    can be displayed correctly on the search results page.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20112 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit c43136a300648ee8d75c8c9a427cac7061384e02
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 15 16:12:08 2011 -0400

    move utils.tt2 to printnav.tt2 just to give it a more explicit name; i18n and cleanup

1	1	Open-ILS/web/templates/default/opac/advanced.tt2
1	1	Open-ILS/web/templates/default/opac/home.tt2
1	1	Open-ILS/web/templates/default/opac/login.tt2
1	1	Open-ILS/web/templates/default/opac/mylist.tt2
1	1	Open-ILS/web/templates/default/opac/parts/myopac/base.tt2
25	0	Open-ILS/web/templates/default/opac/parts/printnav.tt2
0	30	Open-ILS/web/templates/default/opac/parts/utils.tt2
1	1	Open-ILS/web/templates/default/opac/place_hold.tt2
1	1	Open-ILS/web/templates/default/opac/record.tt2
1	1	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/printnav.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/utils.tt2

commit 77e581204ed2dfa22e731cd658fbb21f1bbbdd40
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 15 16:11:40 2011 -0400

    use org unit shortname for site param; capture site/depth in search builder to pass on to unapi retrieval, though there's still some template work to do w/ displaying the correct data there (for copy counts)

24	6	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit caed63544e6e167d04bea40d0050b71bd6e991af
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 16:27:46 2011 +0000

    MORE: Properly support extracting MARC21 fixed fields from the leader, not just the 00x controlfields, in the "all fixed fields" version
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20107 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
15	6	Open-ILS/src/sql/Pg/030.schema.metabib.sql
41	0	Open-ILS/src/sql/Pg/upgrade/0519.schema.extract_all_fixed_fields_from_leader.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0519.schema.extract_all_fixed_fields_from_leader.sql

commit 07ff0df9c1fb3b1eb1ebc2679dc688e1f52d2038
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 16:13:32 2011 +0000

    Properly support extracting MARC21 fixed fields from the leader, not just the 00x controlfields
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20104 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
12	4	Open-ILS/src/sql/Pg/030.schema.metabib.sql
34	0	Open-ILS/src/sql/Pg/upgrade/0518.schema.extract_fixed_fields_from_leader.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0518.schema.extract_fixed_fields_from_leader.sql

commit a07592f62e212781445726d07b9e0918e451430e
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 15:38:13 2011 +0000

    thinko in for-in-array loop, uncovered by error testing from Ben Shum
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20101 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	1	Open-ILS/src/sql/Pg/030.schema.metabib.sql
3	1	Open-ILS/src/sql/Pg/upgrade/0517.schema.multiple-9s-in-856.sql

commit 348c0f6061bf536d5cc7c37ed995b6ec8c48f021
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 14:49:34 2011 +0000

    Support mulitiple subfield-9 values in a single 856 tag
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20100 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
44	29	Open-ILS/src/sql/Pg/030.schema.metabib.sql
85	0	Open-ILS/src/sql/Pg/upgrade/0517.schema.multiple-9s-in-856.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0517.schema.multiple-9s-in-856.sql

commit faff8e4c834c645882fc830558edd601fa793238
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 15 13:55:20 2011 +0000

    Protect pcrud-ish retrieve from an empty result set
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20094 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	Open-ILS/src/c-apps/oils_sql.c

commit 73c6e8dc85fa82de666825bbafdd220f15c134d3
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 21:09:32 2011 +0000

    Restore URIs in marcxml-uris unAPI format
    
    At some point (r16750) we started doing a numeric comparison of
    $flesh instead of just checking to see if $flesh was defined; this
    returned false when $flesh == 'uris', preventing URIs from being
    included in the marcxml-uris unAPI format.
    
    This restores URIs to marcxml-uris and so we can revert the extra
    BibTemplate call in rdetail_summary.xml.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20091 dcc99617-32d9-48b4-a31d-7c20da2025e4

34	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm
1	1	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_summary.xml

commit 90e1ee27db0feddb4e94e5a2f57b7e1ea1221c46
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 20:38:04 2011 +0000

    Specify the holdings_xml unAPI format for URI calls
    
    The unAPI marcxml-uris format is not returning URIs at the moment.
    While we're getting that fixed, use the holdings_xml format to
    get the URI job done; requires an extra JS call, but that's
    better than not working at all.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20088 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_summary.xml

commit 1d8df6cd7bc7e7d35258845bd3a2378796b45f49
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 14 15:04:23 2011 -0400

    fetch bookbags inside xact to avoid replication delays, which can occur directly after bookbag-update actions

14	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit e93d6a420bd1304d4f419884950493cb3cc60bed
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 18:18:37 2011 +0000

    Escape rather than filter SIMILAR TO metacharacters in patron crazy search
    
    The filtering I introduced in r19983 was overly aggressive, and included
    characters that weren't actually SIMILAR TO metacharacters. Instead, escape
    each character, carefully going through the list of metacharacters listed at
    http://www.postgresql.org/docs/8.4/interactive/functions-matching.html
    
    Works for email addresses like "foo.bar+baz@example.com".
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20085 dcc99617-32d9-48b4-a31d-7c20da2025e4

12	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm

commit d1dc3222f925019b8767d48d5abc53c703fea253
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 17:57:32 2011 +0000

    Address LP #754880, where printing happens before the progress dialog can be
    cleared in the alternate holds pull list print interface
    
    Additionally, provide the usual "print page" button so that the list can be
    reprinted at will
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20082 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	4	Open-ILS/web/opac/extras/circ/alt_holds_print.js
1	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit 09c2a53ae08712ddaa9fa8e274613e6e36471cc8
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 16:50:20 2011 +0000

    upgrade script for consistency w/ schema change in r20073
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20079 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
9	0	Open-ILS/src/sql/Pg/upgrade/0516.schema.acq-marc-extract.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0516.schema.acq-marc-extract.sql

commit f2b5223a1de468362750f829b56e715cee315ac8
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 15:48:55 2011 +0000

    tweaks to quick_metarecord_map.sql
    
    * used version from wiki, which provides same results as the
      previous version but performs better on large databases
    * now works without editing (a vacuum cannot run inside of a transaction)
    * don't do vacuum full, just a regular vacuum analyze
    
    [1] http://evergreen-ils.org/dokuwiki/doku.php?id=scratchpad:random_magic_spells#how_to_generate_metarecords_for_a_newly_loaded_bib_batch
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20075 dcc99617-32d9-48b4-a31d-7c20da2025e4

26	17	Open-ILS/src/extras/import/quick_metarecord_map.sql

commit b629a4a088fa626e38dccaa58d0fb58a16f28f35
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 14 14:23:30 2011 +0000

    rely on search_path to locate the extract_marc_field() function which is now installed in the 'evergreen' schema by default
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20073 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/200.schema.acq.sql

commit 12ec58a976c75ba0b3894bcac1e88b7218d267be
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 13 14:25:58 2011 -0400

    use unapi for record retrieval on details page; includes svf attrs for matttype, etc.; some i18n cleanup

13	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
3	1	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
1	2	Open-ILS/web/templates/default/opac/parts/record/body.tt2
18	17	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit c06bd3f7236e497f4a897a7834cc3f49bf70bab5
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 13 18:03:54 2011 +0000

    Thinko in the delete query for copy visibility caching
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20070 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/999.functions.global.sql
202	0	Open-ILS/src/sql/Pg/upgrade/0515.schema.copy-vis-cache.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0515.schema.copy-vis-cache.sql

commit cb41edb32f40ebc1dc3413cb265b02403353e334
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 13 13:53:14 2011 -0400

    Pull SVF attrs into displayed bib rec (results page only thus far).  use SVF value to determine format icon and icon label

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
-	-	Open-ILS/web/images/format_icons/item_type/a.png
-	-	Open-ILS/web/images/format_icons/item_type/c.png
-	-	Open-ILS/web/images/format_icons/item_type/d.png
-	-	Open-ILS/web/images/format_icons/item_type/e.png
-	-	Open-ILS/web/images/format_icons/item_type/f.png
-	-	Open-ILS/web/images/format_icons/item_type/g.png
-	-	Open-ILS/web/images/format_icons/item_type/i.png
-	-	Open-ILS/web/images/format_icons/item_type/j.png
-	-	Open-ILS/web/images/format_icons/item_type/k.png
-	-	Open-ILS/web/images/format_icons/item_type/m.png
-	-	Open-ILS/web/images/format_icons/item_type/o.png
-	-	Open-ILS/web/images/format_icons/item_type/p.png
-	-	Open-ILS/web/images/format_icons/item_type/r.png
-	-	Open-ILS/web/images/format_icons/item_type/t.png
-	-	Open-ILS/web/images/format_icons/mattype/2.png
-	-	Open-ILS/web/images/format_icons/mattype/5.png
-	-	Open-ILS/web/images/format_icons/mattype/a.png
-	-	Open-ILS/web/images/format_icons/mattype/b.png
-	-	Open-ILS/web/images/format_icons/mattype/c.png
-	-	Open-ILS/web/images/format_icons/mattype/d.png
-	-	Open-ILS/web/images/format_icons/mattype/e.png
-	-	Open-ILS/web/images/format_icons/mattype/f.png
-	-	Open-ILS/web/images/format_icons/mattype/h.png
-	-	Open-ILS/web/images/format_icons/mattype/i.png
-	-	Open-ILS/web/images/format_icons/mattype/j.png
-	-	Open-ILS/web/images/format_icons/mattype/k.png
-	-	Open-ILS/web/images/format_icons/mattype/l.png
-	-	Open-ILS/web/images/format_icons/mattype/m.png
-	-	Open-ILS/web/images/format_icons/mattype/media_downloadableebook.png
-	-	Open-ILS/web/images/format_icons/mattype/media_electronicgames.png
-	-	Open-ILS/web/images/format_icons/mattype/media_evideo.png
-	-	Open-ILS/web/images/format_icons/mattype/media_onlinejournal.png
-	-	Open-ILS/web/images/format_icons/mattype/media_player.png
-	-	Open-ILS/web/images/format_icons/mattype/media_podcasts.png
-	-	Open-ILS/web/images/format_icons/mattype/media_streamingaudio.png
-	-	Open-ILS/web/images/format_icons/mattype/media_streamingvideo.png
-	-	Open-ILS/web/images/format_icons/mattype/media_vhs.png
-	-	Open-ILS/web/images/format_icons/mattype/n.png
-	-	Open-ILS/web/images/format_icons/mattype/o.png
-	-	Open-ILS/web/images/format_icons/mattype/p.png
-	-	Open-ILS/web/images/format_icons/mattype/q.png
-	-	Open-ILS/web/images/format_icons/mattype/r.png
-	-	Open-ILS/web/images/format_icons/mattype/s.png
-	-	Open-ILS/web/images/format_icons/mattype/t.png
-	-	Open-ILS/web/images/format_icons/mattype/v.png
-	-	Open-ILS/web/images/format_icons/mattype/w.png
-	-	Open-ILS/web/images/format_icons/mattype/x.png
-	-	Open-ILS/web/images/format_icons/mattype/y.png
-	-	Open-ILS/web/images/format_icons/mattype/z.png
-	-	Open-ILS/web/images/media/2.png
-	-	Open-ILS/web/images/media/5.png
-	-	Open-ILS/web/images/media/a.png
-	-	Open-ILS/web/images/media/b.png
-	-	Open-ILS/web/images/media/c.png
-	-	Open-ILS/web/images/media/d.png
-	-	Open-ILS/web/images/media/e.png
-	-	Open-ILS/web/images/media/f.png
-	-	Open-ILS/web/images/media/h.png
-	-	Open-ILS/web/images/media/i.png
-	-	Open-ILS/web/images/media/j.png
-	-	Open-ILS/web/images/media/k.png
-	-	Open-ILS/web/images/media/l.png
-	-	Open-ILS/web/images/media/m.png
-	-	Open-ILS/web/images/media/media_downloadableebook.png
-	-	Open-ILS/web/images/media/media_electronicgames.png
-	-	Open-ILS/web/images/media/media_evideo.png
-	-	Open-ILS/web/images/media/media_onlinejournal.png
-	-	Open-ILS/web/images/media/media_player.png
-	-	Open-ILS/web/images/media/media_podcasts.png
-	-	Open-ILS/web/images/media/media_streamingaudio.png
-	-	Open-ILS/web/images/media/media_streamingvideo.png
-	-	Open-ILS/web/images/media/media_vhs.png
-	-	Open-ILS/web/images/media/n.png
-	-	Open-ILS/web/images/media/o.png
-	-	Open-ILS/web/images/media/p.png
-	-	Open-ILS/web/images/media/q.png
-	-	Open-ILS/web/images/media/r.png
-	-	Open-ILS/web/images/media/s.png
-	-	Open-ILS/web/images/media/t.png
-	-	Open-ILS/web/images/media/v.png
-	-	Open-ILS/web/images/media/w.png
-	-	Open-ILS/web/images/media/x.png
-	-	Open-ILS/web/images/media/y.png
-	-	Open-ILS/web/images/media/z.png
8	4	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
12	23	Open-ILS/web/templates/default/opac/parts/result/table.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
 create mode 100644 Open-ILS/web/images/format_icons/item_type/a.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/c.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/d.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/e.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/f.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/g.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/i.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/j.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/k.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/m.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/o.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/p.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/r.png
 create mode 100644 Open-ILS/web/images/format_icons/item_type/t.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/2.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/5.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/a.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/b.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/c.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/d.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/e.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/f.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/h.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/i.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/j.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/k.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/l.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/m.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_downloadableebook.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_electronicgames.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_evideo.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_onlinejournal.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_player.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_podcasts.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_streamingaudio.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_streamingvideo.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/media_vhs.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/n.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/o.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/p.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/q.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/r.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/s.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/t.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/v.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/w.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/x.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/y.png
 create mode 100644 Open-ILS/web/images/format_icons/mattype/z.png
 delete mode 100644 Open-ILS/web/images/media/2.png
 delete mode 100644 Open-ILS/web/images/media/5.png
 delete mode 100644 Open-ILS/web/images/media/a.png
 delete mode 100644 Open-ILS/web/images/media/b.png
 delete mode 100644 Open-ILS/web/images/media/c.png
 delete mode 100644 Open-ILS/web/images/media/d.png
 delete mode 100644 Open-ILS/web/images/media/e.png
 delete mode 100644 Open-ILS/web/images/media/f.png
 delete mode 100644 Open-ILS/web/images/media/h.png
 delete mode 100644 Open-ILS/web/images/media/i.png
 delete mode 100644 Open-ILS/web/images/media/j.png
 delete mode 100644 Open-ILS/web/images/media/k.png
 delete mode 100644 Open-ILS/web/images/media/l.png
 delete mode 100644 Open-ILS/web/images/media/m.png
 delete mode 100644 Open-ILS/web/images/media/media_downloadableebook.png
 delete mode 100644 Open-ILS/web/images/media/media_electronicgames.png
 delete mode 100644 Open-ILS/web/images/media/media_evideo.png
 delete mode 100644 Open-ILS/web/images/media/media_onlinejournal.png
 delete mode 100644 Open-ILS/web/images/media/media_player.png
 delete mode 100644 Open-ILS/web/images/media/media_podcasts.png
 delete mode 100644 Open-ILS/web/images/media/media_streamingaudio.png
 delete mode 100644 Open-ILS/web/images/media/media_streamingvideo.png
 delete mode 100644 Open-ILS/web/images/media/media_vhs.png
 delete mode 100644 Open-ILS/web/images/media/n.png
 delete mode 100644 Open-ILS/web/images/media/o.png
 delete mode 100644 Open-ILS/web/images/media/p.png
 delete mode 100644 Open-ILS/web/images/media/q.png
 delete mode 100644 Open-ILS/web/images/media/r.png
 delete mode 100644 Open-ILS/web/images/media/s.png
 delete mode 100644 Open-ILS/web/images/media/t.png
 delete mode 100644 Open-ILS/web/images/media/v.png
 delete mode 100644 Open-ILS/web/images/media/w.png
 delete mode 100644 Open-ILS/web/images/media/x.png
 delete mode 100644 Open-ILS/web/images/media/y.png
 delete mode 100644 Open-ILS/web/images/media/z.png

commit 826498c9e5f26c0cbcbebaf1f9a17068f2f18940
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 13 16:15:11 2011 +0000

    Protect search against all-deleted bibs by pinning the estimation ratios in that case
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20069 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit b462579455546641011653a43546c4055389bf5e
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 13 15:34:24 2011 +0000

    strip useless whitespace from XML output for transfer size reduction
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20065 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	0	Open-ILS/src/sql/Pg/990.schema.unapi.sql
99	0	Open-ILS/src/sql/Pg/upgrade/0514.schema.unapi2-strip-whitespace.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0514.schema.unapi2-strip-whitespace.sql

commit 57130f944500b02f3b3da7e5ae0305ae51b68686
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 13 11:24:07 2011 -0400

    particularly for running the catalog embedded in the staff client, which makes no visual indication of page progress, it's good to let the caller know something is happening w/ a search.  after a 1-second search delay, show a small progress spinny icon

4	2	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit 6d7c451e997bf8f83323563ac4997580c64936a7
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 13 15:14:40 2011 +0000

    add SVF data to in-db unAPI
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20063 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
42	0	Open-ILS/src/sql/Pg/990.schema.unapi.sql
127	0	Open-ILS/src/sql/Pg/upgrade/0513.schema.svf-in-unapi2.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0513.schema.svf-in-unapi2.sql

commit 1489e830de16ffb5c9b7a683a5c1762e019af300
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 13 10:46:32 2011 -0400

    inisial staff client integration in record details page w/ new staff js file; move footer and other js loading to their own templates; hide top-nav pane (my account summary) for embedded mode; load slim version of marc html (no external css; no print button)

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
1	1	Open-ILS/web/js/ui/default/opac/simple.js
22	0	Open-ILS/web/js/ui/default/opac/staff.js
5	33	Open-ILS/web/templates/default/opac/parts/base.tt2
10	0	Open-ILS/web/templates/default/opac/parts/footer.tt2
24	0	Open-ILS/web/templates/default/opac/parts/js.tt2
2	0	Open-ILS/web/templates/default/opac/parts/topnav.tt2
 create mode 100644 Open-ILS/web/js/ui/default/opac/staff.js
 create mode 100644 Open-ILS/web/templates/default/opac/parts/footer.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/js.tt2

commit 22b9755ddc682521f95773b94c926a2be177635b
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 12 21:55:43 2011 +0000

    repaired SQL upgrade syntax error
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20060 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/upgrade/0510.schema.search_path.sql

commit e2fee3428ccaeb39080e2fdbb99e6dd18118c6b7
Author: berick <berick@esilibrary.com>
Date:   Tue Apr 12 17:31:26 2011 -0400

    pile of material type icons that are not yet mapped to codes.  renaming to follow

-	-	Open-ILS/web/images/media/media_downloadableebook.png
-	-	Open-ILS/web/images/media/media_electronicgames.png
-	-	Open-ILS/web/images/media/media_evideo.png
-	-	Open-ILS/web/images/media/media_onlinejournal.png
-	-	Open-ILS/web/images/media/media_player.png
-	-	Open-ILS/web/images/media/media_podcasts.png
-	-	Open-ILS/web/images/media/media_streamingaudio.png
-	-	Open-ILS/web/images/media/media_streamingvideo.png
-	-	Open-ILS/web/images/media/media_vhs.png
 create mode 100644 Open-ILS/web/images/media/media_downloadableebook.png
 create mode 100644 Open-ILS/web/images/media/media_electronicgames.png
 create mode 100644 Open-ILS/web/images/media/media_evideo.png
 create mode 100644 Open-ILS/web/images/media/media_onlinejournal.png
 create mode 100644 Open-ILS/web/images/media/media_player.png
 create mode 100644 Open-ILS/web/images/media/media_podcasts.png
 create mode 100644 Open-ILS/web/images/media/media_streamingaudio.png
 create mode 100644 Open-ILS/web/images/media/media_streamingvideo.png
 create mode 100644 Open-ILS/web/images/media/media_vhs.png

commit 60d9e8074969daa0486e198b2c1083cefaff6c9c
Author: berick <berick@esilibrary.com>
Date:   Tue Apr 12 17:30:43 2011 -0400

    moving toward svf for mattype extraction; much media/material-type icon cleanup; icons are now accessed directly via code instead of inconsistent and map-requiring human names

-	-	Open-ILS/web/images/media/2.png
-	-	Open-ILS/web/images/media/5.png
-	-	Open-ILS/web/images/media/a.png
-	-	Open-ILS/web/images/media/b.png
-	-	Open-ILS/web/images/media/c.png
-	-	Open-ILS/web/images/media/d.png
-	-	Open-ILS/web/images/media/e.png
-	-	Open-ILS/web/images/media/f.png
-	-	Open-ILS/web/images/media/h.png
-	-	Open-ILS/web/images/media/i.png
-	-	Open-ILS/web/images/media/j.png
-	-	Open-ILS/web/images/media/k.png
-	-	Open-ILS/web/images/media/l.png
-	-	Open-ILS/web/images/media/m.png
-	-	Open-ILS/web/images/media/n.png
-	-	Open-ILS/web/images/media/o.png
-	-	Open-ILS/web/images/media/p.png
-	-	Open-ILS/web/images/media/q.png
-	-	Open-ILS/web/images/media/r.png
-	-	Open-ILS/web/images/media/s.png
-	-	Open-ILS/web/images/media/t.png
-	-	Open-ILS/web/images/media/v.png
-	-	Open-ILS/web/images/media/w.png
-	-	Open-ILS/web/images/media/x.png
-	-	Open-ILS/web/images/media/y.png
-	-	Open-ILS/web/images/media/z.png
-	-	Open-ILS/web/images/media_3dobject.jpg
-	-	Open-ILS/web/images/media_3dobject.png
-	-	Open-ILS/web/images/media_book.jpg
-	-	Open-ILS/web/images/media_book.png
-	-	Open-ILS/web/images/media_bookoncassette.jpg
-	-	Open-ILS/web/images/media_bookoncassette.png
-	-	Open-ILS/web/images/media_bookoncassettecd.jpg
-	-	Open-ILS/web/images/media_bookoncd.jpg
-	-	Open-ILS/web/images/media_bookoncd.png
-	-	Open-ILS/web/images/media_cassettewithbook.jpg
-	-	Open-ILS/web/images/media_cassettewithbook.png
-	-	Open-ILS/web/images/media_cdrom.jpg
-	-	Open-ILS/web/images/media_cdwithbook.jpg
-	-	Open-ILS/web/images/media_cdwithbook.png
-	-	Open-ILS/web/images/media_downloadableebook.png
-	-	Open-ILS/web/images/media_downloadablemovie.png
-	-	Open-ILS/web/images/media_downloadablemusic.png
-	-	Open-ILS/web/images/media_downloadebook.jpg
-	-	Open-ILS/web/images/media_downloadmusic.jpg
-	-	Open-ILS/web/images/media_downloadvideo.jpg
-	-	Open-ILS/web/images/media_dvd.jpg
-	-	Open-ILS/web/images/media_dvd.png
-	-	Open-ILS/web/images/media_eaudio.jpg
-	-	Open-ILS/web/images/media_ebook.png
-	-	Open-ILS/web/images/media_ebookaudio.png
-	-	Open-ILS/web/images/media_ebooktext.jpg
-	-	Open-ILS/web/images/media_electronicgames.png
-	-	Open-ILS/web/images/media_equipment.jpg
-	-	Open-ILS/web/images/media_equipment.png
-	-	Open-ILS/web/images/media_evideo.png
-	-	Open-ILS/web/images/media_films.jpg
-	-	Open-ILS/web/images/media_films.png
-	-	Open-ILS/web/images/media_games.jpg
-	-	Open-ILS/web/images/media_kit.jpg
-	-	Open-ILS/web/images/media_kit.png
-	-	Open-ILS/web/images/media_language.jpg
-	-	Open-ILS/web/images/media_largeprint.jpg
-	-	Open-ILS/web/images/media_largeprint.png
-	-	Open-ILS/web/images/media_magazine.png
-	-	Open-ILS/web/images/media_magazines.jpg
-	-	Open-ILS/web/images/media_map.jpg
-	-	Open-ILS/web/images/media_map.png
-	-	Open-ILS/web/images/media_microform.jpg
-	-	Open-ILS/web/images/media_microform.png
-	-	Open-ILS/web/images/media_musiccassete.jpg
-	-	Open-ILS/web/images/media_musiccassette.jpg
-	-	Open-ILS/web/images/media_musiccd.jpg
-	-	Open-ILS/web/images/media_musiccd.png
-	-	Open-ILS/web/images/media_musiconcassette.png
-	-	Open-ILS/web/images/media_musicrecord.jpg
-	-	Open-ILS/web/images/media_musicrecord.png
-	-	Open-ILS/web/images/media_newspaper.jpg
-	-	Open-ILS/web/images/media_newspaper.png
-	-	Open-ILS/web/images/media_online.jpg
-	-	Open-ILS/web/images/media_online.png
-	-	Open-ILS/web/images/media_onlinejournal.jpg
-	-	Open-ILS/web/images/media_onlinejournal.png
-	-	Open-ILS/web/images/media_player.png
-	-	Open-ILS/web/images/media_podcasts.jpg
-	-	Open-ILS/web/images/media_podcasts.png
-	-	Open-ILS/web/images/media_printedmusic.jpg
-	-	Open-ILS/web/images/media_projectedmedia.jpg
-	-	Open-ILS/web/images/media_sheetmusic.jpg
-	-	Open-ILS/web/images/media_sheetmusic.png
-	-	Open-ILS/web/images/media_slide.jpg
-	-	Open-ILS/web/images/media_slideset.png
-	-	Open-ILS/web/images/media_software.jpg
-	-	Open-ILS/web/images/media_software.png
-	-	Open-ILS/web/images/media_streamingaudio.jpg
-	-	Open-ILS/web/images/media_streamingaudio.png
-	-	Open-ILS/web/images/media_streamingvideo.jpg
-	-	Open-ILS/web/images/media_streamingvideo.png
-	-	Open-ILS/web/images/media_vhs.jpg
-	-	Open-ILS/web/images/media_vhs.png
32	38	Open-ILS/web/templates/default/opac/parts/header.tt2
6	5	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
6	7	Open-ILS/web/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/web/images/media/2.png
 create mode 100644 Open-ILS/web/images/media/5.png
 create mode 100644 Open-ILS/web/images/media/a.png
 create mode 100644 Open-ILS/web/images/media/b.png
 create mode 100644 Open-ILS/web/images/media/c.png
 create mode 100644 Open-ILS/web/images/media/d.png
 create mode 100644 Open-ILS/web/images/media/e.png
 create mode 100644 Open-ILS/web/images/media/f.png
 create mode 100644 Open-ILS/web/images/media/h.png
 create mode 100644 Open-ILS/web/images/media/i.png
 create mode 100644 Open-ILS/web/images/media/j.png
 create mode 100644 Open-ILS/web/images/media/k.png
 create mode 100644 Open-ILS/web/images/media/l.png
 create mode 100644 Open-ILS/web/images/media/m.png
 create mode 100644 Open-ILS/web/images/media/n.png
 create mode 100644 Open-ILS/web/images/media/o.png
 create mode 100644 Open-ILS/web/images/media/p.png
 create mode 100644 Open-ILS/web/images/media/q.png
 create mode 100644 Open-ILS/web/images/media/r.png
 create mode 100644 Open-ILS/web/images/media/s.png
 create mode 100644 Open-ILS/web/images/media/t.png
 create mode 100644 Open-ILS/web/images/media/v.png
 create mode 100644 Open-ILS/web/images/media/w.png
 create mode 100644 Open-ILS/web/images/media/x.png
 create mode 100644 Open-ILS/web/images/media/y.png
 create mode 100644 Open-ILS/web/images/media/z.png
 delete mode 100644 Open-ILS/web/images/media_3dobject.jpg
 delete mode 100644 Open-ILS/web/images/media_3dobject.png
 delete mode 100644 Open-ILS/web/images/media_book.jpg
 delete mode 100644 Open-ILS/web/images/media_book.png
 delete mode 100644 Open-ILS/web/images/media_bookoncassette.jpg
 delete mode 100644 Open-ILS/web/images/media_bookoncassette.png
 delete mode 100644 Open-ILS/web/images/media_bookoncassettecd.jpg
 delete mode 100644 Open-ILS/web/images/media_bookoncd.jpg
 delete mode 100644 Open-ILS/web/images/media_bookoncd.png
 delete mode 100644 Open-ILS/web/images/media_cassettewithbook.jpg
 delete mode 100644 Open-ILS/web/images/media_cassettewithbook.png
 delete mode 100644 Open-ILS/web/images/media_cdrom.jpg
 delete mode 100644 Open-ILS/web/images/media_cdwithbook.jpg
 delete mode 100644 Open-ILS/web/images/media_cdwithbook.png
 delete mode 100644 Open-ILS/web/images/media_downloadableebook.png
 delete mode 100644 Open-ILS/web/images/media_downloadablemovie.png
 delete mode 100644 Open-ILS/web/images/media_downloadablemusic.png
 delete mode 100644 Open-ILS/web/images/media_downloadebook.jpg
 delete mode 100644 Open-ILS/web/images/media_downloadmusic.jpg
 delete mode 100644 Open-ILS/web/images/media_downloadvideo.jpg
 delete mode 100644 Open-ILS/web/images/media_dvd.jpg
 delete mode 100644 Open-ILS/web/images/media_dvd.png
 delete mode 100644 Open-ILS/web/images/media_eaudio.jpg
 delete mode 100644 Open-ILS/web/images/media_ebook.png
 delete mode 100644 Open-ILS/web/images/media_ebookaudio.png
 delete mode 100644 Open-ILS/web/images/media_ebooktext.jpg
 delete mode 100644 Open-ILS/web/images/media_electronicgames.png
 delete mode 100644 Open-ILS/web/images/media_equipment.jpg
 delete mode 100644 Open-ILS/web/images/media_equipment.png
 delete mode 100644 Open-ILS/web/images/media_evideo.png
 delete mode 100644 Open-ILS/web/images/media_films.jpg
 delete mode 100644 Open-ILS/web/images/media_films.png
 delete mode 100644 Open-ILS/web/images/media_games.jpg
 delete mode 100644 Open-ILS/web/images/media_kit.jpg
 delete mode 100644 Open-ILS/web/images/media_kit.png
 delete mode 100644 Open-ILS/web/images/media_language.jpg
 delete mode 100644 Open-ILS/web/images/media_largeprint.jpg
 delete mode 100644 Open-ILS/web/images/media_largeprint.png
 delete mode 100644 Open-ILS/web/images/media_magazine.png
 delete mode 100644 Open-ILS/web/images/media_magazines.jpg
 delete mode 100644 Open-ILS/web/images/media_map.jpg
 delete mode 100644 Open-ILS/web/images/media_map.png
 delete mode 100644 Open-ILS/web/images/media_microform.jpg
 delete mode 100644 Open-ILS/web/images/media_microform.png
 delete mode 100644 Open-ILS/web/images/media_musiccassete.jpg
 delete mode 100644 Open-ILS/web/images/media_musiccassette.jpg
 delete mode 100644 Open-ILS/web/images/media_musiccd.jpg
 delete mode 100644 Open-ILS/web/images/media_musiccd.png
 delete mode 100644 Open-ILS/web/images/media_musiconcassette.png
 delete mode 100644 Open-ILS/web/images/media_musicrecord.jpg
 delete mode 100644 Open-ILS/web/images/media_musicrecord.png
 delete mode 100644 Open-ILS/web/images/media_newspaper.jpg
 delete mode 100644 Open-ILS/web/images/media_newspaper.png
 delete mode 100644 Open-ILS/web/images/media_online.jpg
 delete mode 100644 Open-ILS/web/images/media_online.png
 delete mode 100644 Open-ILS/web/images/media_onlinejournal.jpg
 delete mode 100644 Open-ILS/web/images/media_onlinejournal.png
 delete mode 100644 Open-ILS/web/images/media_player.png
 delete mode 100644 Open-ILS/web/images/media_podcasts.jpg
 delete mode 100644 Open-ILS/web/images/media_podcasts.png
 delete mode 100644 Open-ILS/web/images/media_printedmusic.jpg
 delete mode 100644 Open-ILS/web/images/media_projectedmedia.jpg
 delete mode 100644 Open-ILS/web/images/media_sheetmusic.jpg
 delete mode 100644 Open-ILS/web/images/media_sheetmusic.png
 delete mode 100644 Open-ILS/web/images/media_slide.jpg
 delete mode 100644 Open-ILS/web/images/media_slideset.png
 delete mode 100644 Open-ILS/web/images/media_software.jpg
 delete mode 100644 Open-ILS/web/images/media_software.png
 delete mode 100644 Open-ILS/web/images/media_streamingaudio.jpg
 delete mode 100644 Open-ILS/web/images/media_streamingaudio.png
 delete mode 100644 Open-ILS/web/images/media_streamingvideo.jpg
 delete mode 100644 Open-ILS/web/images/media_streamingvideo.png
 delete mode 100644 Open-ILS/web/images/media_vhs.jpg
 delete mode 100644 Open-ILS/web/images/media_vhs.png

commit 054f070cad6c29dad473bb84d1b47088afd12b65
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 12 19:51:54 2011 +0000

    Add support for Multi-Homed Items (aka Foreign Bibs, aka Linked Items)
    
    Evergreen needs to support the ability to attach a barcoded item to more than one bibliographic record.  Use cases include:
      1. Barcoded E-Readers with preloaded content
        * Readers would all be items attached to a single "master" bib record in the traditional way, through call numbers that define their ownership
        * Each reader, as a barcoded item, can be attached through Multi-homed Items to records describing the list of preloaded content
        * These attached Multi-homed Items can be added and removed as content is swapped out on each reader
      2. Dual-language items
        * Cataloger decides which of several alternate languages is the primary, and attaches the barcoded item to that record in the traditional way
        * Alternate language records are attached to this item through Multi-homed Items
      3. "Back-to-back" books -- two books printed upside down relative to one another, with two "front" covers
        * Cataloger decides which of the two titles is the primary, and attaches the barcoded item to that record in the traditional way
        * Alternate title record is attached to this item through Multi-homed Items
      4. Bound Volumes -- Sets of individual works collected into a single barcoded package
        * Cataloger decides which of the titles is the primary (or creates a record for the collection as a whole), and attaches the barcoded item to that record in the traditional way
        * Remaining title records for the collected peices are attached to this item through Multi-homed Items
    
    Functionality funded by Natural Resources Canada -- http://www.nrcan-rncan.gc.ca/com/
    
    Please see http://git.esilibrary.com/?p=evergreen-equinox.git;a=shortlog;h=refs/heads/multi_home for the full commit history.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20056 dcc99617-32d9-48b4-a31d-7c20da2025e4

49	0	Open-ILS/examples/fm_IDL.xml
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ.pm
108	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
16	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/biblio.pm
12	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/dbi.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
14	0	Open-ILS/src/sql/Pg/010.schema.biblio.sql
1	0	Open-ILS/src/sql/Pg/030.schema.metabib.sql
4	1	Open-ILS/src/sql/Pg/040.schema.asset.sql
58	16	Open-ILS/src/sql/Pg/300.schema.staged_search.sql
8	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
19	0	Open-ILS/src/sql/Pg/990.schema.unapi.sql
50	10	Open-ILS/src/sql/Pg/999.functions.global.sql
876	0	Open-ILS/src/sql/Pg/upgrade/0512.schema.multi-home-items.sql
3	1	Open-ILS/web/opac/common/js/config.js
21	0	Open-ILS/web/opac/locale/en-US/lang.dtd
2	0	Open-ILS/web/opac/locale/en-US/opac.dtd
12	6	Open-ILS/web/opac/skin/default/js/advanced.js
79	24	Open-ILS/web/opac/skin/default/js/copy_details.js
82	0	Open-ILS/web/opac/skin/default/js/rdetail.js
2	0	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_cn_details.xml
16	0	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_extras.xml
21	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
30	0	Open-ILS/xul/staff_client/chrome/content/OpenILS/global_util.js
123	10	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
6	4	Open-ILS/xul/staff_client/chrome/content/cat/opac.xul
2	0	Open-ILS/xul/staff_client/chrome/content/main/constants.js
19	2	Open-ILS/xul/staff_client/chrome/content/main/menu.js
8	4	Open-ILS/xul/staff_client/chrome/content/util/exec.js
78	0	Open-ILS/xul/staff_client/chrome/content/util/widget_prompt.js
49	0	Open-ILS/xul/staff_client/chrome/content/util/widget_prompt.xul
9	1	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
39	0	Open-ILS/xul/staff_client/server/cat/copy_browser.js
3	0	Open-ILS/xul/staff_client/server/cat/copy_browser.xul
477	0	Open-ILS/xul/staff_client/server/cat/manage_multi_home_items.js
92	0	Open-ILS/xul/staff_client/server/cat/manage_multi_home_items.xul
14	0	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0512.schema.multi-home-items.sql
 create mode 100644 Open-ILS/xul/staff_client/chrome/content/util/widget_prompt.js
 create mode 100644 Open-ILS/xul/staff_client/chrome/content/util/widget_prompt.xul
 create mode 100644 Open-ILS/xul/staff_client/server/cat/manage_multi_home_items.js
 create mode 100644 Open-ILS/xul/staff_client/server/cat/manage_multi_home_items.xul

commit d429c2d3bcd1ab3152de1091a4e7699a4af7114a
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 12 18:16:07 2011 +0000

    Add a trigger function to simulate FKEY constraints on inherited tables
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20053 dcc99617-32d9-48b4-a31d-7c20da2025e4

13	0	Open-ILS/src/sql/Pg/000.functions.general.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	0	Open-ILS/src/sql/Pg/090.schema.action.sql
21	0	Open-ILS/src/sql/Pg/upgrade/0511.schema.fake_fkey_tgr-for-inherited-tables.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0511.schema.fake_fkey_tgr-for-inherited-tables.sql

commit 5c4e56e87868085385407989ed29d8a425a6640f
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 12 17:29:26 2011 +0000

    Final cleanup for the base schema, re search_path ... I hope
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20052 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/000.functions.general.sql
1	1	Open-ILS/src/sql/Pg/010.schema.biblio.sql
1	1	Open-ILS/src/sql/Pg/011.schema.authority.sql
1	1	Open-ILS/src/sql/Pg/210.schema.serials.sql

commit f22daee98c40a906eb7c26ca2439c88222f0aeb1
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 12 17:13:25 2011 +0000

    Fix functions stranded in the evergreen schema without a search path reference (ugly but mechanical)
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20047 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/010.schema.biblio.sql
2	2	Open-ILS/src/sql/Pg/030.schema.metabib.sql
1	1	Open-ILS/src/sql/Pg/040.schema.asset.sql
50	50	Open-ILS/src/sql/Pg/990.schema.unapi.sql
925	0	Open-ILS/src/sql/Pg/upgrade/0510.schema.search_path.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0510.schema.search_path.sql

commit 809d9d65225124d237bd314734e72cdc4998437d
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 12 16:53:04 2011 +0000

    add missing upgrade script
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20044 dcc99617-32d9-48b4-a31d-7c20da2025e4

75	0	Open-ILS/src/sql/Pg/upgrade/0509.schema.better_maintain_901.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0509.schema.better_maintain_901.sql

commit 0762a085ee9eaaeb2c3d2ef873e624f912971e29
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 11 16:55:56 2011 +0000

    Let's not be picky about permissions here; an item needs to go where it needs to go :)
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20040 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/circ/util.js

commit 10ccf7dad1f7af26a6bf5e03c45ec2cbd8d36258
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 11 16:31:38 2011 +0000

    fix my overzealous editing of configure.ac
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20039 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	configure.ac

commit f867ceba8c877ac1805fa4efddc52efaa85dece5
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Apr 10 21:34:50 2011 +0000

    patch from jamesrf for lp#756880 for Grocery Billing Location in Bill Patron wizard
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20036 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/patron/bill_wizard.js
1	1	Open-ILS/xul/staff_client/server/patron/bill_wizard.xul

commit c71751cacff578f82949fb73de44c945f0e12a61
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Apr 10 20:52:49 2011 +0000

    for lp bug#756838, consistent copy status for new items.  jamesrf++
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20033 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
4	4	Open-ILS/xul/staff_client/server/cat/util.js
4	4	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js

commit 7884a2de8073ee50b72121be3a40cd750f468523
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 8 16:57:56 2011 -0400

    added paging to payment history; added paging arrows to circ/holds/payments history links

4	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	2	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
15	0	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2

commit 434b259f44f8fd44e3b44f06493473199df293ef
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 8 16:34:42 2011 -0400

    make public bookbag name's links to the public view of the bookbag; minor tidying

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
127	110	Open-ILS/web/templates/default/opac/myopac/lists.tt2

commit db10f65fd0a95d3deca48b53ef83283003948534
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 8 19:27:51 2011 +0000

    repaired bug in prepayment_required check.  property -> method
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20030 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/js/ui/default/acq/common/li_table.js

commit 34a29984b73417b3ed1ca107c624279af8526437
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 8 18:22:27 2011 +0000

    For transit_slip template, %item_title%, %item_barcode%, etc. need to be in the Header, not the Line Item
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20027 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js

commit 600dadddf0f04490f79a2ff0a90e4e7277d45997
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 8 17:00:43 2011 +0000

    Add Net::IP dependency for Fedora per r20023
    
    Required for the new ability of the Apache redirect module to optionally read
    redirect skin and domain from the library IP's configuration file
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20025 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/extras/Makefile.install

commit 663e9d1974292c80b590ae4d006cfe6826689686
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 8 16:30:04 2011 +0000

    patch from Ben Ostrowsky (w/ input) to add support to the Apache redirect module to also optionally read redirect skin and domain from the library IP's configuration file.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20023 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/extras/Makefile.install
17	15	Open-ILS/src/perlmods/lib/OpenILS/WWW/Redirect.pm

commit ea533eeed1bff9d2a2226564f8d4e6e1549a17e8
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 16:35:44 2011 -0400

    improved holds history paging

5	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
9	4	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2

commit ecb1ab8ec6c0709cc30f0af3b23f9b3e65fa6855
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 16:27:22 2011 -0400

    repaired circ history paging

5	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
7	9	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2

commit 7345d59117d7db7351537606bd02b2cfcd9e0726
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 15:10:24 2011 -0400

    Support for password update

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
47	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
3	64	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
33	0	Open-ILS/web/templates/default/opac/myopac/update_password.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/update_password.tt2

commit 26160d2208a0a7993b23de14b1ca8ffc2538907f
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 7 18:40:35 2011 +0000

    test for pre-cat slightly off in OPAC My Account, spotted by Steve Callender
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20017 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/js/myopac.js

commit d131cb1e0bc4d42612854195a9e77cee607d50f5
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 14:22:48 2011 -0400

    after clearing out a stale ses cookie, return user to originally requested resource instead directing home.  this prevents the case where going to 'my account' in presence of expired ses cookie redirects the user home

6	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 0b93bf6e29e4161f2e28e6f55bd3678fba73b00d
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 12:00:36 2011 -0400

    tie in select-all option in lists interfaces

8	4	Open-ILS/web/templates/default/opac/myopac/lists.tt2
5	1	Open-ILS/web/templates/default/opac/parts/anon_list.tt2

commit 6cdc7cf9b0e29628f1ee845bd645991f8efc1840
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 7 15:50:28 2011 +0000

    further fixes to maintain_901
    
    Now correctly handles &, <, or > appearing in the tcn_value
    or tcn_source.  Also introduces a trivial utility stored
    function, evergreen.xml_escape():
    
    evergreen.xml_escape(TEXT) returns TEXT: converts '&', '<',
    and '>' to XML entities
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20014 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	0	Open-ILS/src/sql/Pg/000.functions.general.sql
2	11	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 9c62bc217dd13fc8b65c8bff04964f7c4fceb8d9
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 11:48:24 2011 -0400

    removed debug log line

0	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 658d9932693c82f7dd6996758ce87368c61044bb
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 11:46:18 2011 -0400

    consistent w/ previous opac, default to barcode login and jump to username only if there is a barcode regex (and regex does not match)

5	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit e48cdc644763b2ffa001d6aa1c79971a400d89c2
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 11:45:24 2011 -0400

    oops, forgot to git-add w/ last commit

30	0	Open-ILS/web/templates/default/opac/myopac/update_username.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/update_username.tt2

commit 2ff0d7d9dd635707b29874a5b215317339774260
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 11:18:23 2011 -0400

    implemented username update

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
30	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
8	17	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
4	34	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/update_email.tt2

commit 7a715144023cf2818e6b0ba153613cbddbd5061c
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 11:14:29 2011 -0400

    speed up and clean up the user holds out/available count summary call

21	29	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 48dd9ca1f74f18b743a28c11e303580424315339
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 10:28:11 2011 -0400

    oops, missed a wrapper decl. fix; repaired

1	2	Open-ILS/web/templates/default/opac/parts/myopac/prefs_base.tt2

commit 212d6aad09b7a2fc35d7e908910de59f3f25e38c
Author: berick <berick@esilibrary.com>
Date:   Thu Apr 7 10:15:42 2011 -0400

    More my-account cleanup/consistency
    
    For consistency, make new sub-pages (payments history, preferences) load
    as a separate page in the same path (prefs -> prefs_notify) instead of
    either an ?expand= option or a sub-path page (prefs -> prefs/notify).
    
    Let the my-account base page load the generic base page as a wrapper so
    that my-account page are not required to load both and (for me, anyway)
    make the inheritance more obvious.

3	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
5	17	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	2	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
1	2	Open-ILS/web/templates/default/opac/myopac/circs.tt2
1	2	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
1	2	Open-ILS/web/templates/default/opac/myopac/holds.tt2
1	2	Open-ILS/web/templates/default/opac/myopac/lists.tt2
172	316	Open-ILS/web/templates/default/opac/myopac/main.tt2
30	0	Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
395	61	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
0	126	Open-ILS/web/templates/default/opac/myopac/prefs/notify.tt2
0	115	Open-ILS/web/templates/default/opac/myopac/prefs/settings.tt2
128	0	Open-ILS/web/templates/default/opac/myopac/prefs_notify.tt2
116	0	Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2
1	2	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
3	0	Open-ILS/web/templates/default/opac/parts/myopac/base.tt2
97	0	Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
0	395	Open-ILS/web/templates/default/opac/parts/myopac/personal.tt2
57	0	Open-ILS/web/templates/default/opac/parts/myopac/prefs_base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/main_payments.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs/notify.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs/settings.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs_notify.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs_settings.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/main_base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/personal.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/prefs_base.tt2

commit 7528f1623cb4931b66be434ff413c5bb992ff048
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Apr 7 04:47:00 2011 +0000

    Enable marc2sre.pl to run reasonably fast with a large set of bibs
    
    Our previous iteration of marc2sre.pl used an ILIKE stanza
    beginning with a wildcard to match system control numbers
    without having to specify the institution's MARC code.
    This worked, but was painfully slow in large bib sets as
    the database needed to use a bitmap index scan to find matches.
    
    By adding a --prefix flag, the user can specify the institutional
    MARC code for the set of records and we can use an exact match
    against metabib.full_rec.value, which is immeasurably faster.
    This is, of course, a problem if there are multiple institutional
    MARC codes in use for a given set of bibliographic records.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20012 dcc99617-32d9-48b4-a31d-7c20da2025e4

34	6	Open-ILS/src/extras/import/marc2sre.pl.in

commit 489cd05e2738d5cfc7bb5524428c8c3314883c5d
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 22:06:42 2011 +0000

    install command-line MARC import tools in @prefix@/bin
    
    (corrected version after dealing with apparent git stash breakage)
    
    No longer need to keep the source tree around to use marc2are.pl,
    marc2sre.pl, marc2bre.pl, and parallel_pg_loader.pl.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20010 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/Makefile.am
0	121	Open-ILS/src/extras/import/marc2are.pl
119	0	Open-ILS/src/extras/import/marc2are.pl.in
0	398	Open-ILS/src/extras/import/marc2bre.pl
396	0	Open-ILS/src/extras/import/marc2bre.pl.in
0	333	Open-ILS/src/extras/import/marc2sre.pl
333	0	Open-ILS/src/extras/import/marc2sre.pl.in
0	138	Open-ILS/src/extras/import/parallel_pg_loader.pl
136	0	Open-ILS/src/extras/import/parallel_pg_loader.pl.in
8	1	configure.ac
 delete mode 100755 Open-ILS/src/extras/import/marc2are.pl
 create mode 100755 Open-ILS/src/extras/import/marc2are.pl.in
 delete mode 100755 Open-ILS/src/extras/import/marc2bre.pl
 create mode 100755 Open-ILS/src/extras/import/marc2bre.pl.in
 delete mode 100755 Open-ILS/src/extras/import/marc2sre.pl
 create mode 100755 Open-ILS/src/extras/import/marc2sre.pl.in
 delete mode 100755 Open-ILS/src/extras/import/parallel_pg_loader.pl
 create mode 100755 Open-ILS/src/extras/import/parallel_pg_loader.pl.in

commit f394751a7cd63b776db2c501e045f2717c47ad31
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 22:06:40 2011 +0000

    Revert "install command-line MARC import tools in @prefix@/bin"
    
    This reverts commit 7125758576667feeff054ceb4b79d7d1510bbc6f.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20009 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/Makefile.am
2	0	Open-ILS/src/extras/import/marc2are.pl
0	119	Open-ILS/src/extras/import/marc2are.pl.in
2	0	Open-ILS/src/extras/import/marc2bre.pl
0	396	Open-ILS/src/extras/import/marc2bre.pl.in
0	323	Open-ILS/src/extras/import/marc2sre.pl.in
2	0	Open-ILS/src/extras/import/parallel_pg_loader.pl
0	136	Open-ILS/src/extras/import/parallel_pg_loader.pl.in
1	8	configure.ac
 delete mode 100755 Open-ILS/src/extras/import/marc2are.pl.in
 delete mode 100755 Open-ILS/src/extras/import/marc2bre.pl.in
 delete mode 100755 Open-ILS/src/extras/import/marc2sre.pl.in
 delete mode 100755 Open-ILS/src/extras/import/parallel_pg_loader.pl.in

commit ab820d400f0a42aa2d72719f2df2add3140bcfa6
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 6 17:52:10 2011 -0400

    circ history sorting newest to oldest, got paging working, but could use some work..

17	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit 7125758576667feeff054ceb4b79d7d1510bbc6f
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 21:49:06 2011 +0000

    install command-line MARC import tools in @prefix@/bin
    
    No longer need to keep the source tree around to use marc2are.pl,
    marc2sre.pl, marc2bre.pl, and parallel_pg_loader.pl.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20008 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/Makefile.am
0	2	Open-ILS/src/extras/import/marc2are.pl
119	0	Open-ILS/src/extras/import/marc2are.pl.in
0	2	Open-ILS/src/extras/import/marc2bre.pl
396	0	Open-ILS/src/extras/import/marc2bre.pl.in
323	0	Open-ILS/src/extras/import/marc2sre.pl.in
0	2	Open-ILS/src/extras/import/parallel_pg_loader.pl
136	0	Open-ILS/src/extras/import/parallel_pg_loader.pl.in
8	1	configure.ac
 create mode 100755 Open-ILS/src/extras/import/marc2are.pl.in
 create mode 100755 Open-ILS/src/extras/import/marc2bre.pl.in
 create mode 100755 Open-ILS/src/extras/import/marc2sre.pl.in
 create mode 100755 Open-ILS/src/extras/import/parallel_pg_loader.pl.in

commit 444ebc935bb8ddc37312a308c2efa797a2cb2b3b
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 21:03:32 2011 +0000

    Improve error handling in marc2sre.pl when bib ID is not found
    
    If we can't find a bibliographic record ID to use in our load, then
    skip that MFHD record and move on to the next one. Using the counter
    gives sites a chance to identify which record caused the problem.
    
    Aside: bitmap index scans for leading '%' LIKE searches make the
    --bibfield / --bibsubfield extremely slow in large datasets. If
    at all possible, avoid this path!
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20006 dcc99617-32d9-48b4-a31d-7c20da2025e4

12	2	Open-ILS/src/extras/import/marc2sre.pl

commit 64e028a2a2102cca49b65755a580ef4be10f0ec0
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 20:51:38 2011 +0000

    fix crash when importing/saving bib with '&' in TCN value
    
    Also fix similar glitch if ampersand is present in the TCN
    source.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20003 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	2	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
77	0	Open-ILS/src/sql/Pg/upgrade/0508.schema.maintain_901_amp_fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0508.schema.maintain_901_amp_fix.sql

commit 025a554c83bb7d7ecbe8f91a08bc01a51f480aff
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 20:15:49 2011 +0000

    bump xulrunner version
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@20001 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/Makefile.am

commit 1d3264b48059800017e015a6aa88891978adf071
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 6 16:03:28 2011 -0400

    minor cleanup

1	4	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit 4bff85c5da3484abd509bb14508397194d18a7bd
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 6 15:54:44 2011 -0400

    added support for updating opt-in settings preferences

1	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
49	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
109	103	Open-ILS/web/templates/default/opac/myopac/prefs/notify.tt2

commit 6eacce025d2e06d81ba60b1023c969c17815eba7
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 18:36:38 2011 +0000

    Patch from Thomas Berezansky to support patron priv expiration information in SIP2
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19998 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	0	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit facb1136a49e424d6cd4034044119680073f88f1
Author: berick <berick@esilibrary.com>
Date:   Wed Apr 6 12:17:01 2011 -0400

    created inital notifications preference page; infrastructure for notify and search/settings preferences pages; prefs pages icons

3	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
44	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
55	671	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
120	0	Open-ILS/web/templates/default/opac/myopac/prefs/notify.tt2
115	0	Open-ILS/web/templates/default/opac/myopac/prefs/settings.tt2
395	0	Open-ILS/web/templates/default/opac/parts/myopac/personal.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs/notify.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs/settings.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/personal.tt2

commit 35ce3ab01eff8b734a499b87e2a317ea7f39b316
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 15:28:12 2011 +0000

    add Item Attribute Editor to patron Items Out
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19996 dcc99617-32d9-48b4-a31d-7c20da2025e4

21	1	Open-ILS/xul/staff_client/server/patron/items.js
10	0	Open-ILS/xul/staff_client/server/patron/items_overlay.xul

commit 39523da50e6478a56b7c13292c647f32797c9563
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 03:58:36 2011 +0000

    Make the bib record lookup in marc2sre.pl more specific
    
    Don't strip the identifier down to a bare integer if we are doing
    a lookup of the value in the bib record. Otherwise, identifiers
    such as ABC1001 and ABC001 will overlap ('%001' will return both
    records).
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19993 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	5	Open-ILS/src/extras/import/marc2sre.pl

commit 6e905baf5061f3651717342cb05d77c9d1e76c1d
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 03:30:31 2011 +0000

    Whitespace
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19991 dcc99617-32d9-48b4-a31d-7c20da2025e4

73	73	Open-ILS/src/extras/import/marc2sre.pl

commit e4328f430d2d69c9bf22b0d62485021439b31d46
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Apr 6 03:28:39 2011 +0000

    Overhaul the marc2sre.pl script for importing MFHD records
    
    Add --bibfield / --bibsubfield options to support retrieving the
    bib record ID by searching the specified field/subfield for the
    identifier, instead of assuming that the identifier =
    biblio.record_entry.id. Avoiding the lookup will be much faster, but
    some sites want to start clean with their bibliographic record IDs,
    so this supports them.
    
    Remove the need for passing in the owning user's password and simply do
    a lookup by username in the actor.usr table. This is a bit more secure
    as the password isn't exposed on the command line and you can easily set
    someone else as the owner of the records without having to know their
    password.
    
    Add significant internal help via Pod::Usage.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19989 dcc99617-32d9-48b4-a31d-7c20da2025e4

186	55	Open-ILS/src/extras/import/marc2sre.pl

commit 5349a858315df2c16c0516dea647ce68735391cb
Author: berick <berick@esilibrary.com>
Date:   Tue Apr 5 17:14:25 2011 -0400

    initial payments history tab; I18n; some general cleanup

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
36	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
10	3	Open-ILS/web/css/skin/default/opac/style.css
278	273	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit f6f578d465ca188b0e3d89bf6ff917eb6ccf069f
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 5 20:11:57 2011 +0000

    Even more PermaCrud error handling cleanup, this time in .apply()
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19988 dcc99617-32d9-48b4-a31d-7c20da2025e4

32	20	Open-ILS/web/js/dojo/openils/PermaCrud.js

commit 26c1b7520de45ed5ea2fec6e2c6555d491592a6b
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 5 19:59:44 2011 +0000

    More PermaCrud error handling cleanup
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19987 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	9	Open-ILS/web/js/dojo/openils/PermaCrud.js

commit bd8c1cc5c80e45a475a8ff5c132ae7c6be241668
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 5 17:06:09 2011 +0000

    improve the ability of PermaCrud callers to deal with errors not of the ils_event shape
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19986 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	7	Open-ILS/web/js/dojo/openils/PermaCrud.js

commit 9d29e1ac5b01fafccdf35a2e13efff39e0526f29
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Apr 5 03:22:16 2011 +0000

    Prevent patron search from returning horrible errors on regexian input
    
    Add a utility method, _clean_regex_chars(), to filter common regex
    characters out of input values.  When these characters are passed to
    database SIMILAR searches, strange things (generally ugly errors) can
    happen - so filter them out.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19983 dcc99617-32d9-48b4-a31d-7c20da2025e4

12	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm

commit cce75ff48f4ca21677816106519f703f89649098
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 19:45:56 2011 +0000

    More robust fix for edit highlighting in Serial Control View
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19980 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	Open-ILS/xul/staff_client/server/serial/editor_base.js
1	0	Open-ILS/xul/staff_client/server/serial/serctrl_main.xul
3	0	Open-ILS/xul/staff_client/server/skin/serial.css

commit 1d675604b913a2d2c8648bcf4f8c3945675a7a25
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 18:05:46 2011 +0000

    Fix edit highlighting in Serial Control View
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19975 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/xul/staff_client/server/serial/editor_base.js

commit 96f983474a19e4d080c4ace0bebdbf2cfa193fa8
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 17:33:47 2011 +0000

    reorder tabindex for horizontal patron search.  non-flex the search button.  thanks to sylvar and others for poking
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19968 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	15	Open-ILS/xul/staff_client/server/patron/search_form_horiz_overlay.xul

commit 9c32ccc78b853beced2f6971d2357c6175100144
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 17:26:31 2011 +0000

    tweak to default suggestion for low-hits search
    
    Rather than show a suggestion for every word in the
    original search phrase, only display suggestions
    for words not found in the dictionary.  For example,
    rather than having a search for "Amesh paradise" return
    a suggestion of "Amish paraders", return "Amish paradise"
    as the suggestion (assuming the default dictionaries are used).
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19964 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/js/result_common.js

commit 2c24c04ed3efc94ffd7bc0e5ab588b7def4a4dea
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 17:05:23 2011 +0000

    order line items in PO display by line item ID
    
    Order was effectively random otherwise.  Use case from at least
    one library indicates this change, but doesn't preclude later work
    to make the sort order more flexible.
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19962 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/js/ui/default/acq/po/view_po.js

commit db5be9a53801556f2333a2854a87620bc319ad3a
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:49:37 2011 +0000

    re-fix senator's fixes that I mangled
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19954 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	15	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit 390ac721c311881921f3857440c5ba47753f5046
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:38:40 2011 +0000

    Client Permission Overhaul
    
    Menu/Toolbar commands can have a perm= attribute added, containing a space-seperated list of permissions.
    Without it they stay enabled at all times (or disabled if they are manually disabled in the file).
    With it they disable unless the user has at least one permission listed.
    
    In addition, made *all* new or active windows get UI updates when changing operators, including updated menu enable/disable.
    
    Will need a check on the permissions from previous commit, and probably a pile more from those who understand what needs what.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19953 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/xul/staff_client/chrome/content/auth/controller.js
33	0	Open-ILS/xul/staff_client/chrome/content/main/main.js
34	6	Open-ILS/xul/staff_client/chrome/content/main/menu.js
30	0	Open-ILS/xul/staff_client/chrome/content/util/network.js

commit 2cfea146fd7f45a48f4073cf315b3bfea9bc2af9
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:38:37 2011 +0000

    Add some permissions for testing
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19952 dcc99617-32d9-48b4-a31d-7c20da2025e4

55	18	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 04f42ceedfdaa746e0d0dfa7b3cf9721f25ff7ed
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:38:35 2011 +0000

    Move labels/accesskeys back onto menuitem nodes
    
    Apparently command labels override everything else, rather than the other way around.
    
    Set at location failitates easier labels by context (different menus, shorter labels on toolbar, etc).
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19951 dcc99617-32d9-48b4-a31d-7c20da2025e4

309	711	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 5c54cf0d2fc2e267d6d4c0b6d40cd0a265db596a
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:38:32 2011 +0000

    Move most label/accesskeys to command nodes
    
    The following entries had multiple menu items with differing labels.
    I picked one for each to be the "default" on the command node.
    The others were left on the menuitems.
    
    cmd_edit_copy_buckets (edit/cat)
    cmd_edit_volume_buckets (edit/cat, commented out)
    cmd_edit_record_buckets (edit/cat)
    cmd_circ_checkout (circ/circ/search)
    cmd_copy_status (circ/cat/search)
    cmd_search_opac (circ/cat/search)
    cmd_search_tcn (cat/search)
    cmd_search_bib_id (cat/search)
    
    Side note:
    cmd_replace_barcode exists on edit, circ, and cat, but used one label for all three.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19950 dcc99617-32d9-48b4-a31d-7c20da2025e4

703	307	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 0e5b99084e332e57f9903d60c4f49d471e261226
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:38:29 2011 +0000

    Remove key attribute from command nodes
    
    They don't appear to do anything, unlike label/accesskey settings.
    
    Menus don't read them for display, keys in the keyset refer in the opposite direction.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19949 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	15	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 9107ff4dae4978a33eae9510462c9d5498a94095
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:38:25 2011 +0000

    Rig command_tab on *everything*
    
    Will make attempts to customize the toolbar a lot easier.
    Also makes things more consistent.
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19948 dcc99617-32d9-48b4-a31d-7c20da2025e4

196	178	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit 9c056636969e3d8342c39c2924bb3c0d6b418505
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 16:28:17 2011 +0000

    Booking: This should a) make booking interfaces behave better when a staff
    login session times out and is replaced by use of a re-auth dialog, and b)
    wrap booking interfaces in a <browser> element with the attendant
    back/forward/reload buttons that most similar interfaces already had.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19942 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/js/ui/default/booking/capture.js
2	2	Open-ILS/web/js/ui/default/booking/pull_list.js
6	6	Open-ILS/web/js/ui/default/booking/reservation.js
10	40	Open-ILS/xul/staff_client/chrome/content/main/menu.js
29	39	Open-ILS/xul/staff_client/server/patron/display.js

commit fc58b4fd8871590d60d51b93a8bc4b80d87c19c5
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 15:50:01 2011 +0000

    pass cvv2 value to CC processor
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19940 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit 018659bbc4609d076c86e3adfa862a17712f11c7
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Apr 4 14:23:03 2011 +0000

    Ben Ostrowsky pointed out that the alt holds (pull list) printing interface
    was trying to include AutoIDL.js from an incorrect path.
    
    I don't believe that file should be included at all, so now I've removed the
    broken line.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19937 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	Open-ILS/web/opac/extras/circ/alt_holds_print.html

commit 26fdc6f166e53589a62535694e8c9547ef6b6ce4
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Apr 3 15:24:24 2011 +0000

    And ... the upgrade script for the previous commit
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19935 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
792	0	Open-ILS/src/sql/Pg/upgrade/0507.schema.unapi-rewrite.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0507.schema.unapi-rewrite.sql

commit c3101fdffe2ad197d872f6f3d6b39797f3ea0cb8
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Apr 3 15:20:39 2011 +0000

    Teach in-db unAPI to avoid redundant xmlns declarations, including those already embedded in MARCXML
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19934 dcc99617-32d9-48b4-a31d-7c20da2025e4

123	119	Open-ILS/src/sql/Pg/990.schema.unapi.sql

commit 762ecaae2c3f244d3002e28b2704b3c01b6c5636
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Apr 2 17:06:41 2011 +0000

    Add realistic row estimates to tree-ish functions (default is 1000) so that callers can make better plans in complex queries
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19930 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	8	Open-ILS/src/sql/Pg/006.schema.permissions.sql
10	10	Open-ILS/src/sql/Pg/020.schema.functions.sql
25	0	Open-ILS/src/sql/Pg/upgrade/0506.schema.tree-ish_function_row_estimates.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0506.schema.tree-ish_function_row_estimates.sql

commit 9ff0f1663bccec2017b4e53c80bfcb54db560085
Author: berick <berick@esilibrary.com>
Date:   Sat Apr 2 09:21:37 2011 -0400

    make next/prev search links not-visible instead of removing entirely to keep page position of links consistent

2	0	Open-ILS/web/css/skin/default/opac/style.css
16	14	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 04e64995d7cef5c175d22bf69c776e1e9236cb50
Author: berick <berick@esilibrary.com>
Date:   Sat Apr 2 09:06:11 2011 -0400

    Use MultiSession for parallel sessions
    
    In unapi.bre record retrieval, leverage OpenSRF::MultiSession for
    fetching batches of records in parallel.

27	24	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit cecfad2e2d66f7de4f9d75a3c88fd03c6ce06b49
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 1 17:45:12 2011 -0400

    move to unapi.bre for bib/copy-count/slim-holdings retrieval on record results page

3	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
30	23	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
17	0	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
8	6	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 5c1cd414a367d25174db7a4c33ab5b8ba8ec5db2
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 1 16:26:12 2011 -0400

    more rdetail extras cleanup; added support for authors display

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
1	0	Open-ILS/web/css/skin/default/opac/style.css
51	0	Open-ILS/web/templates/default/opac/parts/record/authors.tt2
29	62	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/authors.tt2

commit d3f30c637323f2750fd4e0f78420192a268a5f41
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 1 19:29:46 2011 +0000

    Patch from Thomas Berezansky to address unneccessary fine generation and avoid unchecked division by zero; details and DCO at https://bugs.launchpad.net/evergreen/+bug/747533
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19927 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit a130393bf4c33a0e5277f710567ffe0abe2dfc56
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 1 14:37:52 2011 -0400

    consistent w/ seed skin (and to avoid total vertical domination), default to showing 10 copies-per-page on detail page

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit 12f19f14d958ea53f4272368e3ec763e11ad0464
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 1 14:34:49 2011 -0400

    fixed odd bug w/ href attrs rendering the copyright symbol for &copy_limit=

4	2	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 7b9b0a50c4ce7dd03c475a221c8d642673c1ad2e
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 1 11:47:09 2011 -0400

    More work on record details 'extras'
    
    When an extra is chosen, anchor the page on the selected extra for focus
    Lots of cleanup to create a consistent system for selecting and
    displaying extras

2	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
2	0	Open-ILS/web/css/skin/default/opac/style.css
57	189	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
1	16	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2

commit df424b2b4f10116b31b85bdd7c6c02243d4a2926
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Apr 1 15:17:51 2011 +0000

    Better search normalization de-duping when 'params' are used
    
    This patch addresses search normalization deduping at two levels.  We now verify that both the function and the params are the same before excluding a normalization, both when the normalization is first added to the set and when the SQL is being built (since currently multiple sets may be involved).
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19924 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
6	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm

commit 8f8c17ef8cd701dc6251acb2653123ba60be213d
Author: berick <berick@esilibrary.com>
Date:   Fri Apr 1 08:44:02 2011 -0400

    update flesh depth

1	1	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit 4acc27155bcb2f4a4fce70d4ff58ccb01aee3bac
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 31 17:48:47 2011 -0400

    Fleshed out View MARC / Subjects Tabs
    
    Record detail page has support for showing the 'extras' tabs.  Currently
    supported tabs are View MARC (html) and extended subject info.  For
    consistency w/ seed skin, subjects are now only shown in expanded
    subjects area.

2	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
12	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
0	72	Open-ILS/web/templates/default/opac/parts/record/body.tt2
21	95	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
92	0	Open-ILS/web/templates/default/opac/parts/record/subjects.tt2
0	39	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/subjects.tt2

commit aa0c363b49277f5fb8b64138ae11edeb93220992
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 31 14:41:28 2011 -0400

    added fully-parallized (send 10 reqs simultaneously) versions of unapi.bre and direc

104	3	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit 7aa2c5629884c6daf1fb0a913c3f372769d122a1
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 31 18:12:39 2011 +0000

    Use identifer indexes for older ISxN API methods (LP Bug #728671)
    
    There are three logic layers involved in the older ISxN 'quick searches': the OPAC, the search API, and the storage API.  The approach of this patch is to update the search API (which in turn fixes the OPAC), and ignore/deprecate the storage API for these identifiers.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19920 dcc99617-32d9-48b4-a31d-7c20da2025e4

28	15	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
3	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit cc723ab0f686fe561f9637d5ce81b0008e8b0ffd
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 31 13:53:20 2011 -0400

    do some basic parallelizing optimization

98	44	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit 631561e04ee18e8546ba336781e3f3e854bc9537
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 31 11:51:51 2011 -0400

    more test options
    
    Now fleshing copy parts, uris, and copy stat cats in 'direct' version
    Added a full-feed version
    Added an unapi.bre version

72	18	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit a789932ab71a02c3b8e316175c5dc2c1a509cfe8
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 31 15:17:19 2011 +0000

    Logic error trying to merge the date component of one date object with the time component of another.  We were trying to use the time object and update it piecemeal, which resulted in non-sensical dates that were forced to wrap.  For example, if the date object was to set to March 31, 2011, and we tried .setMonth(3) on it to change it to April, that would result in an April 31st, which doesn't exist, and the date thus moves forward a certain number of days into May.
    
    This affects Check Out, dedicated Renew interface, and the various date picking functions in Items Out and Holds interfaces.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19917 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	4	Open-ILS/xul/staff_client/chrome/content/util/timestamp.js
3	4	Open-ILS/xul/staff_client/server/circ/checkout.js
3	4	Open-ILS/xul/staff_client/server/circ/renew.js

commit 919dcc6f99322256139341a1bd5402c1060852a8
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Mar 30 17:41:17 2011 -0400

    essentially functioning hold editor
    
    Still needs a way to report failures to the user

28	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	0	Open-ILS/web/css/skin/default/opac/style.css
43	3	Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2
1	1	Open-ILS/web/templates/default/opac/parts/myopac/base.tt2

commit 929089a2f1e64729729167ab929d358dfafe7db3
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Mar 30 17:26:57 2011 -0400

    link to editor from myopac/holds

1	5	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 953fd15e9f2a0bfb01a26d2501646c410c21aaca
Author: berick <berick@esilibrary.com>
Date:   Wed Mar 30 13:35:25 2011 -0400

    annoying typo

1	1	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit 6a4851db9702efaba71deabaa43fd7f6fe99b6c0
Author: berick <berick@esilibrary.com>
Date:   Wed Mar 30 13:32:19 2011 -0400

    flesh copy loc. for closer match to unapi

2	1	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit ccf193c0666c30ac3b0716e1b68430322d3d1d6f
Author: berick <berick@esilibrary.com>
Date:   Wed Mar 30 13:26:29 2011 -0400

    unapi test code

126	0	Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl
 create mode 100755 Open-ILS/src/support-scripts/test-scripts/unapi_bench.pl

commit 1944b2c4cd3cc492e42d3728a31c007741666746
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 30 17:03:11 2011 +0000

    Patch from Thomas Berezansky; see https://bugs.launchpad.net/bugs/745123
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19915 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/web/templates/default/actor/user/register_table.tt2

commit 4f3cbf4b0d1befec82aad8c4fbd283045b6c3525
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 30 02:21:56 2011 +0000

    add item columns to xul-based holds lists
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19912 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit 8dec3b156020ea812a406a3e1589d97d80a85021
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 30 01:42:37 2011 +0000

    Change label to "Reset Password" and get button out of tab ordering
    
    In a keyboard-intensive patron input workflow, pressing tab should
    not place focus on the "Reset Password" button; the password is
    automatically generated at dialog creation time. Setting tabIndex
    to -1 disables tab focus for the button.
    
    Also, the button has been relabeled to "Reset Password" to be
    consistent with the previous button.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19907 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/templates/default/actor/user/register_table.tt2

commit 211f185f127a355096860f690903720bd799e768
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 30 01:41:08 2011 +0000

    Restore the Reset Password button on patron editor
    
    Per LP 488243, the Reset Password button that existed on the old
    XUL patron editor was lost in the transition to the new Dojo
    patron editor. Jason Stephenson stepped up and offered a patch
    to restore the functionality.
    
    Developer's Certificate of Origin 1.1
    
    By making a contribution to this project, I certify that:
    
    (a) The contribution was created in whole or in part by me and I
        have the right to submit it under the open source license
        indicated in the file; or
    
    (b) The contribution is based upon previous work that, to the best
        of my knowledge, is covered under an appropriate open source
        license and I have the right under that license to submit that
        work with modifications, whether created in whole or in part
        by me, under the same open source license (unless I am
        permitted to submit under a different license), as indicated
        in the file; or
    
    (c) The contribution was provided directly to me by some other
        person who certified (a), (b) or (c) and I have not modified
        it.
    
    (d) I understand and agree that this project and the contribution
        are public and that a record of the contribution (including all
        personal information I submit with it, including my sign-off) is
        maintained indefinitely and may be redistributed consistent with
        this project or the open source license(s) involved.
    
    Signed-off-by: Jason Stephenson <jstephenson@mvlc.org>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19906 dcc99617-32d9-48b4-a31d-7c20da2025e4

14	0	Open-ILS/web/js/ui/default/actor/user/register.js
6	1	Open-ILS/web/templates/default/actor/user/register_table.tt2

commit 1a0442b90d0f9eff4df4a1193f773130d43992a4
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 30 00:40:05 2011 +0000

    fix typo in facet_force_nfc definition
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19903 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/030.schema.metabib.sql
1	1	Open-ILS/src/sql/Pg/upgrade/0505.schema.force_facets_to_NFC.sql

commit b70314d5a296aa0888679b30fce4bbcf8f7a5503
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 17:53:49 2011 +0000

    Force facet values to Unicode NFC to reduce spurious non-matches
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19899 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	0	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
11	0	Open-ILS/src/sql/Pg/030.schema.metabib.sql
24	0	Open-ILS/src/sql/Pg/upgrade/0505.schema.force_facets_to_NFC.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0505.schema.force_facets_to_NFC.sql

commit 740e424a04de52a5d63e771cb11f163c3bc30f21
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 16:51:54 2011 +0000

    Inspired by a 1.6 patch from Brandon Uhlman to collect the set of holds not ready for pickup, 2.0+ style
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19894 dcc99617-32d9-48b4-a31d-7c20da2025e4

17	5	Open-ILS/src/perlmods/lib/OpenILS/SIP/Patron.pm

commit 0c70b53aa87e4285ab97f3e4eb56c9f1360d15cb
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 16:21:10 2011 +0000

    repair coded_value_map staff client menu entry.  was somehow lost in a merge, perhaps
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19890 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit 75141646b2742b44f0e3f619f9f0bad0f9565bd4
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 16:21:09 2011 +0000

    in the case of multiple xact event error responses, capture the first for staff client reporting
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19889 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	2	Open-ILS/src/offline/offline.pl

commit 1e915adfefcc1b6a52753130718c046a600b5f13
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 16:06:26 2011 +0000

    Missed function in upgrade script
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19887 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	0	Open-ILS/src/sql/Pg/upgrade/0504.schema.parts_and_cnaffix.sql

commit 29a7554af30aad6ed3d299bde6ae92fdc182c494
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 15:36:08 2011 +0000

    fix error with profile filter and horizontal patron search interface
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19885 dcc99617-32d9-48b4-a31d-7c20da2025e4

29	27	Open-ILS/xul/staff_client/server/patron/search_form.js

commit bcd6f20b9a5c2cead82d9f28925a57d59be4b379
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 15:24:44 2011 +0000

    Monograph Parts; Unified vol/copy wizard; Call Number affixes; Instant Detail
    
     * Monograph Bibliographic Parts - One MARC record should be able to support
       all volumes associated with the title, subdivide records in multiple ways,
       and the ability to support holds on individual Parts.
    
     * Unified Volume/Copy Wizard - The ability to enter call number, barcode
       number, and all copy information on the same screen.  Also, the ability
       to include some information associated with the call number, such as
       classification scheme, prefix and suffix, in the item template feature
       of the Unified Volume/Copy Wizard.
    
     * Call Number Affixes - Delimiting the call number so that the prefix and
       suffix reside in separate fields.  This prefix and suffix should display
       in the OPAC as part of the call number and should also be available for
       use in spine labels.
    
     * Instant Detail for One Record Hit List - When searching for records in
       the staff client, the ability to immediately land on the bibliographic
       record instead of the search results screen when there is only on matching
       search result in the system.  This enhancement does not change the way
       search results are returned in the public catalog.
    
    These features were sponsored by the Massachusetts Library Network Cooperative.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19883 dcc99617-32d9-48b4-a31d-7c20da2025e4

88	1	Open-ILS/examples/fm_IDL.xml
22	1	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm
19	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat.pm
75	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Cat/AssetCommon.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ.pm
170	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
63	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Serial.pm
9	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI.pm
25	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/asset.pm
8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/biblio.pm
23	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/dbi.pm
9	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
17	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/biblio.pm
37	14	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
1	0	Open-ILS/src/perlmods/lib/OpenILS/Const.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
26	0	Open-ILS/src/sql/Pg/010.schema.biblio.sql
47	2	Open-ILS/src/sql/Pg/040.schema.asset.sql
14	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
85	3	Open-ILS/src/sql/Pg/990.schema.unapi.sql
321	0	Open-ILS/src/sql/Pg/upgrade/0504.schema.parts_and_cnaffix.sql
0	1	Open-ILS/web/js/ui/default/acq/common/li_table.js
72	0	Open-ILS/web/js/ui/default/conify/global/config/acn_prefix.js
72	0	Open-ILS/web/js/ui/default/conify/global/config/acn_suffix.js
18	3	Open-ILS/web/opac/locale/en-US/lang.dtd
3	0	Open-ILS/web/opac/locale/en-US/opac.dtd
13	0	Open-ILS/web/opac/skin/default/js/copy_details.js
108	11	Open-ILS/web/opac/skin/default/js/holds.js
7	2	Open-ILS/web/opac/skin/default/js/myopac.js
11	0	Open-ILS/web/opac/skin/default/js/rresult.js
10	0	Open-ILS/web/opac/skin/default/xml/common/holds.xml
3	2	Open-ILS/web/opac/skin/default/xml/myopac/myopac_holds.xml
2	0	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_cn_details.xml
37	0	Open-ILS/web/templates/default/conify/global/biblio/monograph_part.tt2
37	0	Open-ILS/web/templates/default/conify/global/config/acn_prefix.tt2
37	0	Open-ILS/web/templates/default/conify/global/config/acn_suffix.tt2
68	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
15	5	Open-ILS/xul/staff_client/chrome/content/OpenILS/global_util.js
43	15	Open-ILS/xul/staff_client/chrome/content/cat/opac.js
1	0	Open-ILS/xul/staff_client/chrome/content/cat/opac.xul
10	4	Open-ILS/xul/staff_client/chrome/content/main/constants.js
9	3	Open-ILS/xul/staff_client/chrome/content/main/menu.js
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul
11	1	Open-ILS/xul/staff_client/chrome/content/util/browser.js
11	8	Open-ILS/xul/staff_client/chrome/content/util/list.js
9	2	Open-ILS/xul/staff_client/chrome/content/util/widgets.js
1	0	Open-ILS/xul/staff_client/chrome/locale/en-US/offline.properties
47	4	Open-ILS/xul/staff_client/server/cat/bib_brief.js
8	2	Open-ILS/xul/staff_client/server/cat/bib_brief.xul
17	10	Open-ILS/xul/staff_client/server/cat/copy_browser.js
2	5	Open-ILS/xul/staff_client/server/cat/copy_browser.xul
121	45	Open-ILS/xul/staff_client/server/cat/copy_editor.js
7	6	Open-ILS/xul/staff_client/server/cat/copy_editor.xul
14	7	Open-ILS/xul/staff_client/server/cat/spine_labels.js
4	4	Open-ILS/xul/staff_client/server/cat/util.js
1005	146	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.js
64	26	Open-ILS/xul/staff_client/server/cat/volume_copy_creator.xul
111	0	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.js
54	0	Open-ILS/xul/staff_client/server/cat/volume_copy_editor.xul
54	0	Open-ILS/xul/staff_client/server/cat/volume_copy_editor_horiz.xul
217	0	Open-ILS/xul/staff_client/server/cat/volume_editor.js
18	72	Open-ILS/xul/staff_client/server/cat/volume_editor.xul
6	2	Open-ILS/xul/staff_client/server/circ/copy_status.js
101	11	Open-ILS/xul/staff_client/server/circ/util.js
12	2	Open-ILS/xul/staff_client/server/locale/en-US/cat.properties
3	0	Open-ILS/xul/staff_client/server/locale/en-US/circ.properties
1	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
2	1	Open-ILS/xul/staff_client/server/patron/util.js
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0504.schema.parts_and_cnaffix.sql
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/config/acn_prefix.js
 create mode 100644 Open-ILS/web/js/ui/default/conify/global/config/acn_suffix.js
 create mode 100644 Open-ILS/web/templates/default/conify/global/biblio/monograph_part.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/acn_prefix.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/acn_suffix.tt2
 create mode 100644 Open-ILS/xul/staff_client/server/cat/volume_copy_editor.js
 create mode 100644 Open-ILS/xul/staff_client/server/cat/volume_copy_editor.xul
 create mode 100644 Open-ILS/xul/staff_client/server/cat/volume_copy_editor_horiz.xul
 create mode 100644 Open-ILS/xul/staff_client/server/cat/volume_editor.js

commit 9454a2da7ea7e74217a7e61c26891db4c996a2ba
Author: berick <berick@esilibrary.com>
Date:   Tue Mar 29 10:29:27 2011 -0400

    implemented holds history template w/ links to/from active holds page;  TODO: verify history call is returning the holds we want it to..

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
123	0	Open-ILS/web/templates/default/opac/myopac/hold_history.tt2
7	13	Open-ILS/web/templates/default/opac/myopac/holds.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/hold_history.tt2

commit b35bd6bd9c23782aa9f5c86bf602ce4b197d197c
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 29 02:06:43 2011 +0000

    bug 744687: fix multi-field MARC expert search
    
    Fixes bug where a bib that has multiple subfields
    meeting one condition of a 2+ field MARC expert
    search could end up in the results list even if
    it didn't meet the other conditions (currently multi-field
    MARC expert searches use implicit 'AND').
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19880 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit eda32d7c8fd5286d8c7b26e7b0bb9564d7c7b56e
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 28 22:43:13 2011 +0000

    Fix call-number sorting for non-generic sort keys (LP Bug #737819)
    
    Selecting on 'label' but sorting on 'label_sortkey' did not work properly.  Instead, we will now find the single best call number we can based on the label given, then both select and sort based on that call number's sort key.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19877 dcc99617-32d9-48b4-a31d-7c20da2025e4

31	4	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit cae2a462d6e1591b2ba2cb34f92b863739cca41b
Author: berick <berick@esilibrary.com>
Date:   Mon Mar 28 17:26:36 2011 -0400

    added circulation history backend and template; use |-style regex containers to reduce escapes in path checking

20	18	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
36	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
114	0	Open-ILS/web/templates/default/opac/myopac/circ_history.tt2
7	57	Open-ILS/web/templates/default/opac/myopac/circs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/circ_history.tt2

commit 1ea8298be8c0fb7ac9bef43a5bd920b573674d9e
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 28 18:32:46 2011 +0000

    MARC View print problem workaround (LP Bug #742033)
    
    Certain printers were failing to print from the MARC View in the staff client.  Adding a simple title to the view ended up being a successful workaround, and is unlikely to have negative consequences in any case.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19874 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/xsl/oilsMARC21slim2HTML.xsl

commit 5c8094d8e23856d91fed3535e8bc3be0befc11ba
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 28 17:36:14 2011 +0000

    Address LP 744393: Arabic text in en-CA offline.properties
    
    A translator appears to have mistakenly added Arabic text to
    the en-CA offline.properties file in Launchpad. This commit
    corrects those translations and completes the translation of
    the file for 2.0.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19872 dcc99617-32d9-48b4-a31d-7c20da2025e4

270	60	build/i18n/po/offline.properties/en-CA.po

commit 5596e95aaf1d2630974dcd3efbb81befeaeb6732
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 28 16:31:33 2011 +0000

    fix up receipt options persistence in billing interface; implement # of receipts option (not perfect if using print dialogs; non-blocking and not necessarily queued up)
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19867 dcc99617-32d9-48b4-a31d-7c20da2025e4

13	2	Open-ILS/xul/staff_client/server/patron/bill2.js
3	3	Open-ILS/xul/staff_client/server/patron/bill2.xul

commit a3c01158173d1e907b6abeed7caa823455f59097
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 28 16:31:30 2011 +0000

    clear print.always_print_silent instead of setting it to false in the Printer Settings Editor
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19866 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	2	Open-ILS/xul/staff_client/server/admin/printer_settings.js

commit 417ee0d95d5f09f9926dedf1b0e93f98f4794216
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 28 16:31:26 2011 +0000

    fixes things like the stat cat editor, since that extra param now changes the return signature of the method
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19865 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/admin/adminlib.js

commit b83a77ad253e473b3129059ed29b3ec825a48d1a
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 25 17:30:54 2011 +0000

    data.lookup was broken for cases where data.list[key] didn't exist for a given key
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19860 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	3	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js

commit ee225ee9dc104f726df11b04078485619a7737b7
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 25 06:52:18 2011 +0000

    Avoid Apache warnings resulting from duplicate NameVirtualHost directives
    
    Benjamin Shum reported that the Apache warnings that have been a part
    of Evergreen's default configuration on Apache start for ages could
    be avoided by commenting out the "NameVirtualHost: *80" line in
    eg.conf. Testing confirmed that the directive was not necessary on Ubuntu,
    Debian, or Fedora. As this warning has been the cause for unnecessary concern
    on the part of many new adopters of Evergreen, getting rid of it appears to
    be a nice usability win.
    
    Thanks Ben!
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19857 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	1	Open-ILS/examples/apache/eg.conf

commit f2e40eb1df75dc0215965033f44473898f04dd9c
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Mar 24 18:51:09 2011 -0400

    towards an opac hold editor

4	0	Open-ILS/web/css/skin/default/opac/style.css
1	1	Open-ILS/web/templates/default/opac/mylist.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
2	18	Open-ILS/web/templates/default/opac/myopac/holds.tt2
77	0	Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/lists.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
0	33	Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
51	0	Open-ILS/web/templates/default/opac/parts/misc_util.tt2
1	1	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/body.tt2
1	1	Open-ILS/web/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/holds/edit.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/misc_util.tt2

commit 0ca8eba0ea24cc7189562ddc12e6bb94d8b2ddd2
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Mar 24 17:16:21 2011 -0400

    KCLS doesn't show an abstract high on the record detail page.
    
    This is just a little juggling to reflect that

8	8	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 1a64024cbc81c2cd3092eea86ecc83bddf6578f1
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 24 18:38:14 2011 +0000

    Shortcuts for all users, not just current user.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19855 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/xul/staff_client/windowssetup.nsi

commit 4ea25cce411e9df166bbef255fed6086994b7f69
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Mar 23 16:57:37 2011 -0400

    Ability to move records from temp list to bookbag

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
20	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
8	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
2	0	Open-ILS/web/css/skin/default/opac/semiauto.css
3	3	Open-ILS/web/templates/default/opac/myopac/lists.tt2
8	1	Open-ILS/web/templates/default/opac/parts/anon_list.tt2

commit f9c5ccdc2d5c2c60d9cd0f632eb34de0671bf601
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Mar 22 18:00:11 2011 -0400

    Show format icons in results and record detail pages

1	0	Open-ILS/web/css/skin/default/opac/style.css
13	13	Open-ILS/web/templates/default/opac/parts/header.tt2
2	2	Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
4	11	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
4	3	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit c8fa7099a0c8583b5b99128bfde996380c9ecf78
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 22 15:59:44 2011 +0000

    have checkILSEvent handle events that aren't in ils_events.xml
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19852 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	2	Open-ILS/web/opac/common/js/opac_utils.js

commit eb78a8dab9f84956800f4a272eb0f9213945b78d
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 22 14:39:56 2011 +0000

    Honor the 'active' flag in QueryParser.pm for search.relevance_adjustment entries.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19849 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 66281ba568c863f7738b94d98ae7e0d2ae2476b6
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 22 01:24:43 2011 +0000

    Build libjs from source for now until the Perl threading problem can be reliably tested
    
    The previous commit changed JavaScript::SpiderMonkey to be built without
    thread safety, but on Fedora we had been installing the js-devel package
    (which was threaded). As you can't build a non-threaded
    JavaScript::SpiderMonkey on top of a threaded libjs, for now we'll make
    Fedora build a non-threaded libjs from source just like the other distros.
    
    Note that the problem with threaded JavaScript::SpiderMonkey surfaced
    on Debian Lenny when targeting holds. Lenny has libthreads-perl 1.71, but
    a number of fixes have been committed to subsequent versions
    (http://cpansearch.perl.org/src/JDHEDDEN/threads-1.82/Changes) - so
    threading support might be reliable on more current distros. Once we
    have a reliable test, we might be able to go back to the packaged
    version of libjs.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19846 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	2	Open-ILS/src/extras/Makefile.install

commit 3d071af983c168fdbfba062eedc2bedbb5bbdf1b
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 22 00:40:44 2011 +0000

    Another layer of escaping for the escapes in the DB update script
    
    Apologies for the previous patch that led to breakage; I "tested" in a
    script in which I had already hardcoded the answer I wanted after
    running into problems with the previous version of the script. Not
    good testing practice.
    
    Thanks to Bill Erickson for suggesting the extra escapes. Tested in
    a clean environment this time, and it works.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19843 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	build/tools/update_db.sh

commit 9970928c3a382eb3535dc9a986bcee8c4a930b1c
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 21 22:34:05 2011 +0000

    Remove thready building -- we do not use threads anyway, and it breaks JS::SM
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19840 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/extras/Makefile.install

commit a30535bd85da5fc627377009a69bf910504ef4e7
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 21 20:12:17 2011 +0000

    Enable update_db.sh to handle upgrading databases with release version
    
    When '0475' is mixed with '1.6.0.4', the latter wins as far as a plain MAX()
    operator goes. Ensuring that the version is all digits should help avoid the
    release version numbers in the config.upgrade_log table.
    
    Thanks to Thomas Berezansky for suggesting a SIMILAR TO operator variation
    that led to this approach.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19837 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	build/tools/update_db.sh

commit 8548278e2f9d52175e5fe772efa58fec227dc271
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 21 18:08:30 2011 +0000

    correcting bad timespecs in the example crontab
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19833 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/examples/crontab.example

commit e66e834467bfe6ef016b4bc819207939845417d1
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 21 16:47:26 2011 +0000

    no, this was correct.  doh :)  the list version uses paging, but we're counting the entire set
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19832 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit 8a533bf893456dbc7d27da41b642eb658ff08571
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 21 16:42:01 2011 +0000

    this "count" method gets the same parameters as the list version
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19827 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/server/patron/holds.js

commit 98c499c99fbaef82de1d16dbbe80b39280743626
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 21 14:11:21 2011 +0000

    Use the human-friendly interval syntax for Apache caching
    
    Apache mod_expires has supported a human-readable syntax for defining cache
    expiry directives for a long time. In this commit we simply convert the
    existing defaults from the "Anumber_of_seconds" syntax to the equivalent
    English syntax documented at
    http://httpd.apache.org/docs/2.0/mod/mod_expires.html
    
    Whether CSS _should_ have a cache lifetime of 50 minutes by
    default is left to the subject of future commits :)
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19825 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	5	Open-ILS/examples/apache/eg.conf

commit a34306360faca0f505345ea82c114ddbfc13418f
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 14:33:18 2011 +0000

    In-database Grace intervals
    
    s it stands the grace period for a transaction is only specified on the fine generator script, but fines can be generated on checkin as well without one. As a result any checkin results in grace periods being negated.
    
    The attached patch adds in-db grace periods for all non-booking transactions, removing the grace period from the fine generator cron job script and placing it on the circulation. Grace periods are set on the recurring fine rule with an override available on the circ matchpoint, identical to how renewal count can be overridden from the duration rule already. These grace periods are respected on checkin fine generation as well as on the fine generator cron job script.
    
    The upgrade script will assume, by default, a grace period of 1, but has a \set line to change this. It will also update all circulations without a checkin by default, but another \set will allow disabling of that.
    
    [ NOTE: for the history of the patch, see: https://bugs.launchpad.net/evergreen/+bug/732679 ]
    
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19823 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	0	Open-ILS/examples/fm_IDL.xml
23	5	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/action.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/config.pm
12	20	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm
3	2	Open-ILS/src/sql/Pg/002.schema.config.sql
5	4	Open-ILS/src/sql/Pg/090.schema.action.sql
6	1	Open-ILS/src/sql/Pg/100.circ_matrix.sql
3	3	Open-ILS/src/sql/Pg/950.data.seed-values.sql
470	0	Open-ILS/src/sql/Pg/upgrade/0503.schema.grace_periods.sql
8	6	Open-ILS/src/support-scripts/fine_generator.pl
1	0	Open-ILS/web/js/ui/default/conify/global/config/circ_matrix_matchpoint.js
1	1	Open-ILS/web/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
1	1	Open-ILS/web/templates/default/conify/global/config/rule_recurring_fine.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0503.schema.grace_periods.sql

commit 8489b8ef0ee27998e626fd697030e8dd3db948f0
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 05:48:01 2011 +0000

    A docstring and spaces for Evergreen constants in const.py
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19822 dcc99617-32d9-48b4-a31d-7c20da2025e4

12	9	Open-ILS/src/python/oils/const.py

commit 149f791e1cd3d85c95a5ad6782d153ce4c4633f5
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 05:34:22 2011 +0000

    Sort out a mix of tabs and spaces in system.py
    
    Also restructure the docstrings slightly while we're there.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19821 dcc99617-32d9-48b4-a31d-7c20da2025e4

17	11	Open-ILS/src/python/oils/system.py

commit 7636086c519839be4a515474eb4db09a0bb32570
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 05:33:34 2011 +0000

    Import osrf.log and reference it when we attempt to log
    
    This bare call to log_info was just hanging out, waiting for
    someone to stumble across it.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19820 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/python/oils/utils/utils.py

commit 9f36c1bb74b5ba5fc77a2458c8a1415463046f15
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 05:00:42 2011 +0000

    Provide a top-level docstring for oils/utils/utils.py
    
    Also, standardize on triple-double-quoted docstrings, per PEP257.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19819 dcc99617-32d9-48b4-a31d-7c20da2025e4

16	7	Open-ILS/src/python/oils/utils/utils.py

commit 9e77184592119045c1dbe1354d9bb4c59651eea2
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 04:56:06 2011 +0000

    Remove unused imports, correct some references, and clean up csedit.py
    
    Mostly minor cleanups, some additional docstrings, but a few changes
    of concern here (OSRF_APP_CONNECTED_STATUS didn't have the appropriate
    osrf.const import, for example).
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19818 dcc99617-32d9-48b4-a31d-7c20da2025e4

46	43	Open-ILS/src/python/oils/utils/csedit.py

commit ad07f73951312c779475a70d07fa4823be85cf49
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 03:59:00 2011 +0000

    Don't stomp "type" built-in and don't import that which is not used
    
    Also provide a little more docstring action.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19817 dcc99617-32d9-48b4-a31d-7c20da2025e4

19	11	Open-ILS/src/python/oils/utils/utils.py

commit 45802f9c79eaa552a9e475a6a5c7ce2965274c15
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 19 03:06:58 2011 +0000

    Parse the field_safe parameter in Python's IDL parser
    
    Also set the correct namespace for the tablename attribute.
    
    The rest of the changes are for PEP8 compliance. We retain the
    IDLParser set_IDL() and parse_IDL() methods because things like
    constrictor call them directly, but note in the docstrings that
    they are deprecated names.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19816 dcc99617-32d9-48b4-a31d-7c20da2025e4

134	105	Open-ILS/src/python/oils/utils/idl.py

commit e6335c229c5fb759be22efda58ac07dd632ebf88
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 18 19:49:58 2011 +0000

    Make sure "ol" propagates through BibTemplate subject search links for OPAC range hiding
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19812 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_summary.xml

commit 893e821b784327fd8bb1d0dd2a7422b9dc45e4c6
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 18 14:38:59 2011 -0400

    updated code comments

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm

commit 57dbda297636895f2b9d715ba868c25a05c5fe9e
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 18 14:31:07 2011 -0400

    in bib attr (mra) fetcher, get the display label from the ccvm where appropriate and add to response object

13	1	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm

commit a14e79755db3e4d27174619d2170456444847b18
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 18 18:08:51 2011 +0000

    Switch to AccessControl plugin, more reliable.
    
    Only fetches it when needed.
    
    Also make NSIS Less...verbose. Warnings/errors only.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19810 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	1	Open-ILS/xul/staff_client/Makefile.am
2	7	Open-ILS/xul/staff_client/windowssetup.nsi

commit cfde7102e136652159b9ee0fa602c20e08b7cbd0
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 18 17:50:19 2011 +0000

    Test for an installed libdbi0 package and bail on Ubuntu and Debian
    
    This isn't a problem on Fedora, where we use the packaged version of libdbi,
    but the older version of libdbi0 and possibly the compile options on Ubuntu
    Lucid has been demonstrated to be a barrier to successfully installing
    Evergreen.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19809 dcc99617-32d9-48b4-a31d-7c20da2025e4

16	2	Open-ILS/src/extras/Makefile.install

commit 281310c8786d8a3f5f78ead3a935cb033f607095
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 18 16:51:20 2011 +0000

    added field_safe attr to ccs, aout, and crahp classes;  capture field_safe attr during IDL parsing
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19807 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/examples/fm_IDL.xml
2	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/Fieldmapper.pm

commit 2e26706f639964f7c9471b90c79f05b1f941867b
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 18 12:08:20 2011 -0400

    removed debug log message

0	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm

commit 22691a46b80494eb459003da63b37f7fd2677dee
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 18 12:08:06 2011 -0400

    make all field_safe classes accessible via fetch/cache by default.  reduce page churn by creating then caching the fetch/cache and org-tree generator funcs and simply inserting them into the page context on each page load.  IOW, no need to redefine the funcs on each page load

33	26	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 7613709693666000135290861d04c0c0c8d4ecac
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 18 12:05:34 2011 -0400

    added field_safe attr to ccs, aout, and crahp classes;  capture field_safe attr during IDL parsing

3	3	Open-ILS/examples/fm_IDL.xml
2	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/Fieldmapper.pm

commit 254a9fffe1b50ff8ba8fcf5ba1a39a1a560b295d
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 18 15:53:04 2011 +0000

    Intelligent Metarecord Format Selection for Holds
    
    Previous to this commit, Evergreen would show all possible record formats
    when promoting a T-type hold to an M-type.  This change causes the middle
    layer method to respect the Hard Boundary of the pickup library when
    considering what constituent records within a metarecord will contribute
    formats.
    
    Signed-off-by: Mike Rylander <mrylander@gmail.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19805 dcc99617-32d9-48b4-a31d-7c20da2025e4

32	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
12	5	Open-ILS/web/opac/skin/default/js/holds.js

commit 096f54787a69c1460861a8803a579616d844b401
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 18 11:05:48 2011 -0400

    added utility func for fetching extracted bre svf attributes (mra's)

44	0	Open-ILS/src/perlmods/lib/OpenILS/Application/AppUtils.pm

commit 79eec7c1e7221afac0bfc22c14422899f51b9567
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 18 14:40:40 2011 +0000

    Allow the "result_field" to be used as the default alias in the output column of a row or set returning transform
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19799 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/src/c-apps/oils_sql.c

commit 050ad318805e2ef1db0bca8e7401e9e867e4aaa5
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 17 16:32:06 2011 -0400

    as was recently done w/ existing kcls skin; hide the open transaction summary info in my-account, citing confusion and unnecessary additional information.  note, you can still see total balance owed

4	0	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit f4c865e90b88ad5d2d24212e7d41b60ff1a16a88
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 17 16:22:31 2011 -0400

    avoid adding site() to query if loc param is empty string

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 09fe9cc16ada7a941266bfd2f7cc784dd29e61da
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 17 20:16:56 2011 +0000

    Pre-modified xulrunner-stub files + icons
    
    Icons courtesy of Mike Peters, or so my note alongside them says.
    
    The pre-modified stubs are built on the 1.9.2.15 build of xulrunner. They should continue to work on future 1.9.2 builds.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19795 dcc99617-32d9-48b4-a31d-7c20da2025e4

-	-	Open-ILS/xul/staff_client/evergreen-icon-beta.ico
-	-	Open-ILS/xul/staff_client/evergreen-icon.ico
-	-	Open-ILS/xul/staff_client/xulrunner-stub.beta.exe
-	-	Open-ILS/xul/staff_client/xulrunner-stub.release.exe
 create mode 100644 Open-ILS/xul/staff_client/evergreen-icon-beta.ico
 create mode 100644 Open-ILS/xul/staff_client/evergreen-icon.ico
 create mode 100644 Open-ILS/xul/staff_client/xulrunner-stub.beta.exe
 create mode 100644 Open-ILS/xul/staff_client/xulrunner-stub.release.exe

commit da96964e872153ed9c0e7a52702b2411401c1561
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 17 20:14:41 2011 +0000

    Copy is not valid. How I missed that before I don't know.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19794 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/Makefile.am

commit 0831770864ebcbdb1f7643ed2e1da74e41a5f95d
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 17 20:14:04 2011 +0000

    Default to no license page (for the staff client installer)
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19793 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/windowssetup.nsi

commit d60a6f262a786676ec9bff38dad3cb247b104222
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 17 16:03:48 2011 -0400

    if there, show shelf expire date for available holds; minor var cleanup

14	9	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 0c881d042d6ec48f09a3da13ca1593267367ce2e
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 17 15:55:39 2011 -0400

    pile of updated icons

-	-	Open-ILS/web/images/media_3dobject.png
-	-	Open-ILS/web/images/media_book.png
-	-	Open-ILS/web/images/media_bookoncassette.png
-	-	Open-ILS/web/images/media_bookoncd.png
-	-	Open-ILS/web/images/media_cassettewithbook.png
-	-	Open-ILS/web/images/media_cdwithbook.png
-	-	Open-ILS/web/images/media_downloadableebook.png
-	-	Open-ILS/web/images/media_downloadablemovie.png
-	-	Open-ILS/web/images/media_downloadablemusic.png
-	-	Open-ILS/web/images/media_dvd.png
-	-	Open-ILS/web/images/media_ebook.png
-	-	Open-ILS/web/images/media_ebookaudio.png
-	-	Open-ILS/web/images/media_electronicgames.png
-	-	Open-ILS/web/images/media_equipment.png
-	-	Open-ILS/web/images/media_evideo.png
-	-	Open-ILS/web/images/media_films.png
-	-	Open-ILS/web/images/media_kit.png
-	-	Open-ILS/web/images/media_largeprint.png
-	-	Open-ILS/web/images/media_magazine.png
-	-	Open-ILS/web/images/media_map.png
-	-	Open-ILS/web/images/media_microform.png
-	-	Open-ILS/web/images/media_musiccd.png
-	-	Open-ILS/web/images/media_musiconcassette.png
-	-	Open-ILS/web/images/media_musicrecord.png
-	-	Open-ILS/web/images/media_newspaper.png
-	-	Open-ILS/web/images/media_online.png
-	-	Open-ILS/web/images/media_onlinejournal.png
-	-	Open-ILS/web/images/media_player.png
-	-	Open-ILS/web/images/media_podcasts.png
-	-	Open-ILS/web/images/media_sheetmusic.png
-	-	Open-ILS/web/images/media_slideset.png
-	-	Open-ILS/web/images/media_software.png
-	-	Open-ILS/web/images/media_streamingaudio.png
-	-	Open-ILS/web/images/media_streamingvideo.png
-	-	Open-ILS/web/images/media_vhs.png
 create mode 100644 Open-ILS/web/images/media_3dobject.png
 create mode 100644 Open-ILS/web/images/media_book.png
 create mode 100644 Open-ILS/web/images/media_bookoncassette.png
 create mode 100644 Open-ILS/web/images/media_bookoncd.png
 create mode 100644 Open-ILS/web/images/media_cassettewithbook.png
 create mode 100644 Open-ILS/web/images/media_cdwithbook.png
 create mode 100644 Open-ILS/web/images/media_downloadableebook.png
 create mode 100644 Open-ILS/web/images/media_downloadablemovie.png
 create mode 100644 Open-ILS/web/images/media_downloadablemusic.png
 create mode 100644 Open-ILS/web/images/media_dvd.png
 create mode 100644 Open-ILS/web/images/media_ebook.png
 create mode 100644 Open-ILS/web/images/media_ebookaudio.png
 create mode 100644 Open-ILS/web/images/media_electronicgames.png
 create mode 100644 Open-ILS/web/images/media_equipment.png
 create mode 100644 Open-ILS/web/images/media_evideo.png
 create mode 100644 Open-ILS/web/images/media_films.png
 create mode 100644 Open-ILS/web/images/media_kit.png
 create mode 100644 Open-ILS/web/images/media_largeprint.png
 create mode 100644 Open-ILS/web/images/media_magazine.png
 create mode 100644 Open-ILS/web/images/media_map.png
 create mode 100644 Open-ILS/web/images/media_microform.png
 create mode 100644 Open-ILS/web/images/media_musiccd.png
 create mode 100644 Open-ILS/web/images/media_musiconcassette.png
 create mode 100644 Open-ILS/web/images/media_musicrecord.png
 create mode 100644 Open-ILS/web/images/media_newspaper.png
 create mode 100644 Open-ILS/web/images/media_online.png
 create mode 100644 Open-ILS/web/images/media_onlinejournal.png
 create mode 100644 Open-ILS/web/images/media_player.png
 create mode 100644 Open-ILS/web/images/media_podcasts.png
 create mode 100644 Open-ILS/web/images/media_sheetmusic.png
 create mode 100644 Open-ILS/web/images/media_slideset.png
 create mode 100644 Open-ILS/web/images/media_software.png
 create mode 100644 Open-ILS/web/images/media_streamingaudio.png
 create mode 100644 Open-ILS/web/images/media_streamingvideo.png
 create mode 100644 Open-ILS/web/images/media_vhs.png

commit f5d39122dcdb2692b97763861065429202a9494c
Author: berick <berick@esilibrary.com>
Date:   Thu Mar 17 15:53:28 2011 -0400

    implemented bookbag rss link

-	-	Open-ILS/web/images/small-rss.png
3	4	Open-ILS/web/templates/default/opac/myopac/lists.tt2
 create mode 100644 Open-ILS/web/images/small-rss.png

commit e46f316f3cbdd055a02b0935578a2092617a55ae
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Mar 17 12:23:13 2011 -0400

    make presentation better by hiding as-yet-unready features, etc
    
    also, made links out of the dashboard counts, but oddly the first one
    ("checked out") only works in IE, not Chrome or Firefox.  I suspect that
    the complications of all the "position: absolute"-this and "position:
    relative"-that make for fluky layout.

2	2	Open-ILS/web/css/skin/default/opac/semiauto.css
9	1	Open-ILS/web/css/skin/default/opac/style.css
2	2	Open-ILS/web/templates/default/opac/advanced.tt2
40	40	Open-ILS/web/templates/default/opac/myopac/lists.tt2
2	2	Open-ILS/web/templates/default/opac/parts/anon_list.tt2
2	2	Open-ILS/web/templates/default/opac/parts/result/table.tt2
4	4	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit 0167e9f91f8660f15f423a4fb839246c170cb2d3
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 17 13:22:31 2011 +0000

    Treat call number fields 090 and 092 as local LC and Dewey (respectively) based on de facto standards.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19790 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/040.schema.asset.sql
17	0	Open-ILS/src/sql/Pg/upgrade/0502.data.defacto_OCLC_local_cn_fields.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0502.data.defacto_OCLC_local_cn_fields.sql

commit cf7fabd64e8ccd98012a80a8e9b7a84b5d17e966
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 19:16:43 2011 +0000

    Make a back-compat version of item_lang for QP
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19788 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
9	0	Open-ILS/src/sql/Pg/upgrade/0501.data.QP_language_vs_item_lang.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0501.data.QP_language_vs_item_lang.sql

commit 6abbb515957102518457e0d07784b3219f20c15b
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Mar 16 14:48:52 2011 -0400

    "Add to my list" becomes "remove from my list", and
    
    it now works on the record detail page as well as the results page.
    Also, I fixed a bug by which an HTML form was rendered wrongly, totally
    breaking the display of the results page in IE and preventing the first
    result on any page of search results from adding to the anonymous list.

8	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
4	0	Open-ILS/web/css/skin/default/opac/style.css
14	10	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
5	3	Open-ILS/web/templates/default/opac/parts/result/table.tt2
4	2	Open-ILS/web/templates/default/opac/results.tt2

commit 87d3c28cfaf8a2d3938ac083707369574785ff37
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 18:19:20 2011 +0000

    make payment receipt print/email run inside a transaction.  instead of using authoritative, force the xact for reasons mentioned in the comments
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19782 dcc99617-32d9-48b4-a31d-7c20da2025e4

10	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit 98390ead0f0a906cd242ed173133fd5c8d7b030a
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 17:45:04 2011 +0000

    Addresses LP bug #736167, correctly populate hold format list for Advanced Options
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19778 dcc99617-32d9-48b4-a31d-7c20da2025e4

16	10	Open-ILS/web/opac/skin/default/js/holds.js

commit 53ee5bdf63bb6ccdeff3cd8bf96bfb3f581f34a7
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 16:06:10 2011 +0000

    upgrade script matching r19759-r19761
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19772 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0500.schema.search_path_mangling.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0500.schema.search_path_mangling.sql

commit 0a6b3b7219a8b43402e43b4f6105250b74d0ea0e
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 14:29:24 2011 +0000

    dedicated renewal interface should use receipt printer
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19769 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/xul/staff_client/server/circ/renew.js

commit ad227038c73bb615e5ddbc173f3ab8f756b3e51b
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 14:19:54 2011 +0000

    Patch from Steve Callendar addressing CN sort order on page 0 (and before) of CN browse
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19768 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	4	Open-ILS/src/sql/Pg/040.schema.asset.sql
164	0	Open-ILS/src/sql/Pg/2.0.3-2.0.4-upgrade-db.sql
35	0	Open-ILS/src/sql/Pg/upgrade/0499.schema.generic_CN_normalizer.sql
 create mode 100644 Open-ILS/src/sql/Pg/2.0.3-2.0.4-upgrade-db.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0499.schema.generic_CN_normalizer.sql

commit 337e1c4e931b4907afc8f18e9045b5cb685301a4
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 13:37:49 2011 +0000

    Patch from Steve Callendar addressing holdability tests for copies
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19763 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit ce5e6d8f7b58683b493e8a6326186f914bc45151
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 03:46:43 2011 +0000

    Set default db schema search path to public,pg_catalog
    
    With the addition of the 'evergreen' schema, we discovered that
    all of the unqualified database objects were being created in
    the 'evergreen' schema if the database user name was 'evergreen'
    (as the default search path is "$user",public we started matching
    "$user").
    
    Thomas Berezansky proposed a variation of the function provided
    here for changing database settings. By creating the function in
    the first schema file, the subsequent connections pick up the
    new default search path and all works blissfully as it once did.
    
    Long term, we should probably move towards explicitly qualified
    database objects.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19759 dcc99617-32d9-48b4-a31d-7c20da2025e4

22	0	Open-ILS/src/sql/Pg/000.functions.general.sql
0	14	Open-ILS/src/sql/Pg/002.functions.general.sql
2	1	Open-ILS/src/sql/Pg/build-db.sh
 create mode 100644 Open-ILS/src/sql/Pg/000.functions.general.sql
 delete mode 100644 Open-ILS/src/sql/Pg/002.functions.general.sql

commit 5e43a00948a7650ea7d16b9772f90aa81dc5078a
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 16 03:38:26 2011 +0000

    Make DROP statement match new basetype for agg_tsvector
    
    When the CREATE AGGREGATE function was changed to have a basetype
    of pg_catalog.agg_tsvector, the corresponding DROP statement was
    not changed in a similar fashion; ergo, on creating the schema
    a subsequent time, the CREATE statement would fail because the
    aggregate function already existed and the transaction would be
    rolled back.
    
    Also - do we need to differentiate between PostgreSQL 8.4 and 9.0
    here?
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19758 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.functions.aggregate.sql

commit ec6e65c27441e45e5e1fa8d1a6e0a2ff435cf55d
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Mar 15 17:53:58 2011 -0400

    smarter search term propagation, should avoid ARRAY(0xdeadbeef) type ...
    
    ... stuff in search boxes

3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
2	0	Open-ILS/web/templates/default/opac/parts/header.tt2
5	3	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
1	2	Open-ILS/web/templates/default/opac/results.tt2

commit 78e8e4a749d3c644838e68593846185628d974e2
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 21:05:49 2011 +0000

    With some hints from eeevil, tweaked 002.functions.aggregate.sql to work after some search_path mangling.  Haven't smoketested yet, just got past the eg_db_config --create-schema bit with this.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19756 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/src/sql/Pg/002.functions.aggregate.sql

commit 7c873d78ed31db2a6cb7bd3b7e992407076561a5
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Mar 15 15:16:23 2011 -0400

    bib record subject search terms: painstaking translation of BibTemplate to TT
    
    the reference implementation I used is in
    Open-ILS/web/opac/skin/default/xml/rdetail/rdetail_summary.xml starting
    at line 93 as of this commit.
    
    Only now that I've imitated the default skin's behavior exactly, I note
    that the subject search links produced don't actually work on my test server.
    Seems to be a local configuration issue though; will investigate.

25	13	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit f866ef090fa39ab5b1e5f3a29a78dd284399a59c
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Mar 15 13:47:10 2011 -0400

    Improve search term propagation from page to page
    
    Also, for things like the author link on the record detail page, build a
    link with 'qtype=author&query=JK Rowling' instead of 'query=au:JK Rowling'
    
    The latter works, but causes the search form to look stupid.
    Query type dropdown will be set to keyword by default, and the term will
    be "au:JK Rowling", which will be a head scratcher for 99% of real
    users.

1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main.tt2
11	0	Open-ILS/web/templates/default/opac/parts/header.tt2
3	3	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
6	8	Open-ILS/web/templates/default/opac/parts/result/table.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
0	4	Open-ILS/web/templates/default/opac/results.tt2

commit f548e8e62bf8c1197d8e867b9ff996aa97198e1d
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 17:18:43 2011 +0000

    revert accidental commit of dojo-to-for(;;;) test
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19754 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	4	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit 8a6d22250c7f19b061e2d0a15420d90d380ca219
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 17:15:01 2011 +0000

    teach the 1.6-2.0 reingest generator about "tnf"-tag rows for title sorting
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19752 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	0	Open-ILS/src/sql/Pg/reingest-1.6-2.0.pl
4	2	Open-ILS/xul/staff_client/server/cat/marcedit.js

commit fa94fb50f00728cb2624061758a979b1a7ba9699
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 15:52:12 2011 +0000

    Misc. changes to installer including:
    
    1 - Fix profile manager links
    2 - Add tag at top (currently "Trunk") for easy changing
    3 - Add optional extras.nsi for easy additions of extra install/uninstall lines
    4 - Run uninstaller if installing to a directory with one (old style OR new style)
    5 - Allow license override and only show license page if one defined
        Ex. With NSIS_EXTRAOPTS set to "-DPRODUCT_LICENSE=some/path"
        Or to disable use "-DPRODUCT_LICENSE"
    6 - Similar to devbuild, allow for registration per-machine by default
        This includes needing to not wipe out the folder this is stored in
    7 - Make "Everyone" able to write to the install folder when:
        Autoupdate is an option
        Per-machine registration is an option
    8 - Make silent uninstall function
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19750 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	1	Open-ILS/xul/staff_client/Makefile.am
2	0	Open-ILS/xul/staff_client/external/aa_per_machine.js
3	2	Open-ILS/xul/staff_client/external/make_updates.sh
24	0	Open-ILS/xul/staff_client/extras.example.nsi
90	16	Open-ILS/xul/staff_client/windowssetup.nsi
 create mode 100644 Open-ILS/xul/staff_client/external/aa_per_machine.js
 create mode 100644 Open-ILS/xul/staff_client/extras.example.nsi

commit 11b9453ebd4c7b78512694f388fe055b0029e7f9
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 15:51:21 2011 +0000

    make sure search path is set up properly for FTS in 9.0
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19749 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/src/sql/Pg/000.english.pg90.fts-config.sql

commit 602c578c43926ea2fd81f826b6d43b1248a95d16
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 11:59:04 2011 +0000

    Default workstation name to something sensible.
    
    Like the computer's hostname. But not localhost.
    
    Author: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Thomas Berezansky <tsbere@mvlc.org>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19747 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	1	Open-ILS/xul/staff_client/server/main/ws_info.xul

commit de99084c2ce48207b9a70896d3b74410b1c4078c
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 15 01:37:28 2011 +0000

    Prevent creation of report folders with empty folder names
    
    Addresses LP # 720755. Clicking the "Create Folder" button when
    no folder name has been supplied is now a no-op.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19741 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	0	Open-ILS/web/reports/oils_rpt_folders.js

commit e576b2e34fb9f0dbeeb72b1ee93ea2955bd7cf9e
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Mar 14 17:48:25 2011 -0400

    If the TT stuff loads CGI w/o -utf8, that "instance" (not really instance)...
    
    ... will compete with use CGI in EGCatloader.pm. Really. Normally I enjoy
    perl but the awful, horrendous, unspeakable black magic used in CGI.pm
    has given me a great deal of trouble today.
    
    Specifically, I could not really succeed in subclassing it. I had a kind
    of half success before, but I could only really replace methods in my
    subclass, but not call the methods unchanged from the original base
    class (CGI).  This manifested in a bug where I had been using
    the query_string() method preserve search terms across some pages, but
    that method had stopped working since I introduced the CGI subclass.
    
    In an attempt to fix that, I discovered this document
    http://stein.cshl.org/WWW/CGI/#subclassing
    and tried the advice therein, and several variations thereof, but
    everything I produced caused mod_perl to consume memory until it keeled
    over from OOM.
    
    Finally, I discovered that I never really needed the subclass in the
    first place, so long as 'use CGI' with no module parameters doesn't
    happen in the same process as 'use CGI qw/-utf8/'.

1	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
44	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/CGI_utf8.pm
1	1	Open-ILS/web/templates/default/opac/parts/header.tt2
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/CGI_utf8.pm

commit 284468da04d903467c3be92230d5195f65c03bd5
Author: berick <berick@esilibrary.com>
Date:   Mon Mar 14 17:46:13 2011 -0400

    integrated update-email address action into account prefs

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	0	Open-ILS/web/css/skin/default/opac/style.css
2	7	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
24	0	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/update_email.tt2

commit 4213b223849b7b4144d6658863b87adec77af135
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Mar 14 17:31:05 2011 -0400

    CGIUTF8 was a horrible, subtle, dark failure
    
    and I don't want to talk about it. Also, 'use CGI qw/-utf8/' suddenly
    works.  Maybe it always did.

0	20	Open-ILS/src/perlmods/lib/OpenILS/WWW/CGIUTF8.pm
6	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
0	17	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/CGIUTF8.pm
1	1	Open-ILS/web/templates/default/opac/parts/header.tt2
 delete mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/CGIUTF8.pm
 delete mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/CGIUTF8.pm

commit 6b82af4f8ab8b8c1eaa6e31a699d7e9ab7b896f8
Author: berick <berick@esilibrary.com>
Date:   Mon Mar 14 16:43:57 2011 -0400

    i18n and repaired holds estimated wait calculation.

4	3	Open-ILS/web/templates/default/opac/myopac/holds.tt2
1	0	Open-ILS/web/templates/default/opac/parts/header.tt2

commit 0409488fc4a5c7969e60bb6daa44bba1e14b2274
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 14 16:34:27 2011 +0000

    until futher investigation, roll back the changes of == to ===, since it was causing unexpected changes in behavior.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19736 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/web/js/dojo/fieldmapper/OrgUtils.js

commit bcfb09cad77a17e1abc49e7ebb060c32913a726b
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 14 16:34:26 2011 +0000

    class cxt has no field named 'field_class', removing from IDL
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19735 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	1	Open-ILS/examples/fm_IDL.xml

commit 8ee0abe7b6725a6f858b2e7949e25da8d3ef1af2
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 14 16:34:25 2011 +0000

    More menu work for record attr/coded map config  UIs
    
    menu entry for config.coded_value_maps,
    updated menu label and page title for config.record_attr_definition page;
    in some cases (that probabl need investigating), widget.validate function is not defined.  in those cases, don't attempt to call the function
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19734 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js
2	1	Open-ILS/web/opac/locale/en-US/lang.dtd
1	0	Open-ILS/web/templates/default/conify/global/config/record_attr_definition.tt2
4	0	Open-ILS/xul/staff_client/chrome/content/main/menu.js
3	1	Open-ILS/xul/staff_client/chrome/content/main/menu_frame_menus.xul

commit 7391bf1940803d95c54b40d9695ec6a9739e0e0a
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Mar 14 12:02:39 2011 -0400

    hide edit link in myopac/holds. show basic user info in myopac/prefs

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
1	0	Open-ILS/web/css/skin/default/opac/style.css
3	4	Open-ILS/web/templates/default/opac/myopac/holds.tt2
55	146	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
3	0	Open-ILS/web/templates/default/opac/parts/header.tt2

commit 6ad459f66ec0f263349fafa221e77e226d8580bf
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 14 04:46:28 2011 +0000

    Pure whitespace (tabs to spaces) for dojo.fieldmapper
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19732 dcc99617-32d9-48b4-a31d-7c20da2025e4

163	163	Open-ILS/web/js/dojo/fieldmapper/Fieldmapper.js
2	2	Open-ILS/web/js/dojo/fieldmapper/IDL.js
194	194	Open-ILS/web/js/dojo/fieldmapper/OrgUtils.js

commit 17e659eec3e23caf5d301b33aa5019b672ecd0e8
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 14 04:21:20 2011 +0000

    Apply jshint suggestions for cleanup to dojo.fieldmapper
    
    Mostly consisting of missing semicolons and avoiding the redeclaration
    of variables (generally for iterators) within the same function scope.
    Some tightening of null and '' checks to avoid implicit type-casting.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19730 dcc99617-32d9-48b4-a31d-7c20da2025e4

35	31	Open-ILS/web/js/dojo/fieldmapper/Fieldmapper.js
6	3	Open-ILS/web/js/dojo/fieldmapper/IDL.js
22	21	Open-ILS/web/js/dojo/fieldmapper/OrgUtils.js
14	12	Open-ILS/web/js/dojo/fieldmapper/dojoData.js
7	6	Open-ILS/web/js/dojo/fieldmapper/hash.js

commit 473792fbe657338760826a3b40cafbaf8b3c6dbe
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Mar 13 22:09:06 2011 +0000

    Normalize patron profile search function in "Search for Patrons" UI
    
    Use util.widgets.make_menulist for a more consistent approach to
    generating the menulist and use a row/label/hbox layout to normalize the
    appearance of the patron profile filter in the search menu.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19727 dcc99617-32d9-48b4-a31d-7c20da2025e4

32	12	Open-ILS/xul/staff_client/server/patron/search_form.js
4	10	Open-ILS/xul/staff_client/server/patron/search_form_overlay.xul

commit b8edabe052f48ced90b37fc7cb26e4828e40f62a
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Mar 13 22:02:19 2011 +0000

    Apply patch to add a patron profile filter to the "Search for Patrons" UI
    
    Thanks to Michael Peters <mrpeters@library.in.gov> and
    Thomas Berezansky <tsbere@mvlc.org> for their work on this additional
    functionality to the patron search UI, supplied as a patch in LP# 715837.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19726 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/web/opac/locale/en-US/lang.dtd
16	1	Open-ILS/xul/staff_client/server/patron/search_form.js
10	0	Open-ILS/xul/staff_client/server/patron/search_form_overlay.xul
1	1	Open-ILS/xul/staff_client/server/patron/search_result.js

commit 698717d72bc781d60e895f22d740b18e1723016e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Mar 13 04:37:25 2011 +0000

    Remove unsupported versions of PostgreSQL FTS configs
    
    We don't support anything below PostgreSQL 9.0, so let's get this
    deadwood out of the way lest anyone get confused.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19724 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	159	Open-ILS/src/sql/Pg/000.english.pg81.fts-config.sql
0	159	Open-ILS/src/sql/Pg/000.english.pg82.fts-config.sql
0	43	Open-ILS/src/sql/Pg/000.english.pg83.fts-config.sql
0	43	Open-ILS/src/sql/Pg/000.english.pg84.fts-config.sql
 delete mode 100644 Open-ILS/src/sql/Pg/000.english.pg81.fts-config.sql
 delete mode 100644 Open-ILS/src/sql/Pg/000.english.pg82.fts-config.sql
 delete mode 100644 Open-ILS/src/sql/Pg/000.english.pg83.fts-config.sql
 delete mode 100644 Open-ILS/src/sql/Pg/000.english.pg84.fts-config.sql

commit f48a41b861100e2d5e1d4669b7c4d540530fe284
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 12 23:37:45 2011 +0000

    Clean up build errors when creating/recreating database schema
    
    Dropping the evergreen schema cascaded and wiped out some previously
    defined functions, so move it ahead of the other functions. (And maybe
    we can start moving those public functions into the evergreen schema?)
    
    DROP AGGREGATE IF EXISTS exists on any version of PostgreSQL that we
    care about for Evergreen 2.0, so we can use it to avoid false errors
    during schema creation.
    
    FTS config was complaining about public.english_nostop in the ALTER
    statement, so remove the schema qualification. This seems to have
    been there for a long time?
    
    Use IF EXISTS when dropping the unapi schema to avoid an error.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19723 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/000.english.pg84.fts-config.sql
1	1	Open-ILS/src/sql/Pg/000.english.pg90.fts-config.sql
6	8	Open-ILS/src/sql/Pg/002.functions.aggregate.sql
7	0	Open-ILS/src/sql/Pg/002.functions.general.sql
1	1	Open-ILS/src/sql/Pg/990.schema.unapi.sql
1	1	Open-ILS/src/sql/Pg/build-db.sh

commit 61ac85fe7cc9a5e0b75bb6a0f65c73aef743faa9
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 12 22:18:59 2011 +0000

    Use valid DDL for forgotten index on actor.card
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19718 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/005.schema.actors.sql
4	0	Open-ILS/src/sql/Pg/upgrade/0498.lowercase_via_perl.sql

commit aa0ec9cba396a8b89322fc05a3c0664e16e69f2e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 12 02:57:32 2011 +0000

    Resolve inconsistent results when invoking LOWER() in C vs. UTF8 locale databases
    
    As reported by the Fundamental Science Library of Armenia, patron searches
    were not retrieving patrons who were known to be part of the patron database.
    
    While the initial approach to solve this problem used an encode_utf8() call
    to encode the data before passing it on to the database, this turned out to
    break the patron search function in other environments.
    
    Testing by Dan Wells confirmed that the LOWER() function returned different
    results when invoked against text in a database created with LC_CTYPE=C vs
    a database created with LC_CTYPE=*.UTF-8. As the patron search function
    used a Perl lc() function call to convert the incoming data to lowercase,
    the success of the call depended on the LC_CTYPE value of the database.
    
    To avoid this problem in the future, we define our own evergreen.lowercase()
    function that can reliably produce lowercase text for characters outside
    the Latin1 range, and we convert our indexes and function calls to use that
    function consistently.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19715 dcc99617-32d9-48b4-a31d-7c20da2025e4

14	16	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Vandelay.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/Reporter/SQLBuilder.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/Reporter/transforms.pm
7	0	Open-ILS/src/sql/Pg/002.functions.general.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
15	15	Open-ILS/src/sql/Pg/005.schema.actors.sql
1	1	Open-ILS/src/sql/Pg/012.schema.vandelay.sql
1	0	Open-ILS/src/sql/Pg/build-db.sh
130	0	Open-ILS/src/sql/Pg/upgrade/0498.lowercase_via_perl.sql
 create mode 100644 Open-ILS/src/sql/Pg/002.functions.general.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0498.lowercase_via_perl.sql

commit f8579d2e3b6011f735790298b3f4afca07543785
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Mar 11 18:07:54 2011 -0500

    Support for most of the actions on lists and bookbags
    
    Show authors too. And other little stuff.

10	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
5	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
4	4	Open-ILS/web/css/skin/default/opac/semiauto.css
5	1	Open-ILS/web/templates/default/opac/mylist.tt2
99	123	Open-ILS/web/templates/default/opac/myopac/lists.tt2
24	18	Open-ILS/web/templates/default/opac/parts/anon_list.tt2

commit a0d59aeda8f923d13069bae99feaf171cac10990
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 11 21:57:21 2011 +0000

    only append street2 to CC payment address if no address is provided by the caller
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19714 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/CreditCard.pm

commit 1850029a0f1fe052042577d8f869022182eb501d
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 11 20:44:33 2011 +0000

    Acq: The "Claim-Ready Items" interface did not render correctly for > 1 item
    
    The problem was racy async rendering logic. Now we look at our whole result
    set and build our table accordingly at the end.
    
    This interface should probably learn about paging one day in order to
    handle large result sets.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19709 dcc99617-32d9-48b4-a31d-7c20da2025e4

20	17	Open-ILS/web/js/ui/default/acq/financial/claim_eligible.js

commit 1c249f8a8cc698d613fc686006d27ed841f26d3e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 11 20:39:48 2011 +0000

    Update the README to include explict LC_CTYPE/LC_COLLATE db settings
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19706 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	README

commit 3603598827ab121f477abb93e3f8f60733d3d8ca
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 11 20:37:50 2011 +0000

    LANG=C results in SQL_ASCII encoding by default for PostgreSQL, which isn't cool
    
    We want LC_CTYPE=C and LC_COLLATE=C, and SERVER_ENCODING=UTF8.
    The docs have been adjusted as 8.4 and up now offer database-level
    --lc-ctype / --lc-collate options for createdb command.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19703 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/extras/Makefile.install

commit 0f5cfac989d9ab815bf8eab5fae9d4a46dca06df
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 11 20:20:43 2011 +0000

    use the existing util method for mvr-izing, since it handles some additional important steps (e.g. capturing doc_id)
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19700 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 7c640b64b089cd19d737cee1e45d5af82524d6ae
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 11 16:42:01 2011 +0000

    Ensure incoming query values to patron search are UTF8-encoded
    
    Addresses the problem reported with searching for patrons with
    Armenian names, where Unicode query params were getting corrupted
    on its way to the database.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19697 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/actor.pm

commit f66701e3582e319624867071bcba4fa31472d2b2
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Mar 10 17:24:08 2011 -0500

    Foundational work for temporary/anon lists and per-user lists (bookbags)
    
    There were already some features in EGCatLoader for adding and
    deleting items from lists, but there's more to do, as that code only
    dealt with numeric IDs, and we need records avaiable. Also, to avoid
    search bots creating temporary/anon lists all the time, and just because
    the following is good practice, our "add to my list" links need to be
    forms that POST, not links that GET.
    
    Etc., etc.; more to come.

5	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
20	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
14	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
3	29	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
69	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
1	1	Open-ILS/web/css/skin/default/opac/semiauto.css
9	0	Open-ILS/web/css/skin/default/opac/style.css
16	0	Open-ILS/web/templates/default/opac/mylist.tt2
34	98	Open-ILS/web/templates/default/opac/myopac/lists.tt2
48	0	Open-ILS/web/templates/default/opac/parts/anon_list.tt2
9	9	Open-ILS/web/templates/default/opac/parts/result/table.tt2
3	1	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/mylist.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/anon_list.tt2

commit eaad439ce941021a92d74ef3a7d73a836acaedfa
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 10 21:25:16 2011 +0000

    add patron barcode to CC transaction description for payment record keeping/tracking
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19695 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/CreditCard.pm

commit 617931afb0e012434762aa6691c46f9741d70656
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 10 20:53:08 2011 +0000

    bump xulrunner version
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19694 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/Makefile.am

commit e9257aea787bc34739be72ac19831d5724cde1ad
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 10 19:33:27 2011 +0000

    Complain when trying to register an empty Workstation ID
    
    Client-side only, no server side validation.
    
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19692 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/xul/staff_client/server/locale/en-US/common.properties
4	0	Open-ILS/xul/staff_client/server/main/ws_info.xul

commit 4f3a5c959076122d245baf24181ca3b383a4f8b7
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 10 17:08:39 2011 +0000

    Booking: don't bail out completely on COPY_ALERT_MESSAGE when returning items
    
    Provide overridability.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19682 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
2	1	Open-ILS/web/js/dojo/openils/booking/nls/pickup_and_return.js
40	12	Open-ILS/web/js/ui/default/booking/populator.js

commit 55888df0d9a03b7a25836598274e61ea359c4173
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 10 14:24:18 2011 +0000

    as an alternate/addition to applying per-setting permissions, use the existing VIEW_ORG_SETTINGS permission as a general gateway into the org settings UI
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19677 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/web/opac/locale/en-US/lang.dtd
13	3	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js
3	0	Open-ILS/xul/staff_client/server/admin/org_unit_settings.xhtml

commit bba3c4c5b6319a9441a05fd80029f0e7f693847f
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 9 21:59:40 2011 +0000

    'newpo' in install_all_locales was wiping out all fr-CA translations
    
    Long story short, we would rather have install_all_locales fail loudly
    than silently wipe out fr-CA.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19668 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	build/i18n/Makefile

commit ea9eb2a59dbe037d308fc6ecc4b3d583545fda60
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 9 19:23:55 2011 +0000

    Patch from Thomas Berezansky:
    
    The attached patch adds a collection of settings for patron registration, as well as a new display mode.
    
    The new display mode is "Suggested" compared to "Required" or "All". It shows everything "Required" does, but also shows fields flagged as "Suggested", stat cats, and surveys.
    
    To control this and other things are the settings. They come in a few general categories, named ui.patron.edit.<fmclass>.<fmfield>.? where ? is one of the following:
    
    require - Flag the field as required when it otherwise wouldn't be.
    show - Show the field like required fields, but don't actually require it.
    suggest - Show the field with required/shown fields in "show suggested fields" mode
    example - An example string for a field
    regex - A regular expression for validating a field
    
    Not all fields have all of the above options by default, although the initial list is the main limiter compared to the code side.
    
    Also included are the following settings:
    ui.patron.edit.au.dob.calendar - If true, shows the calendar widget for the date of birth field
    ui.patron.edit.phone.example - Example for all phone fields without their own
    ui.patron.edit.phone.regex - Regex validator for all phone fields without their own
    ui.patron.edit.default_suggested - Default to showing suggested fields instead of all fields
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19663 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
221	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
225	0	Open-ILS/src/sql/Pg/upgrade/0497.patron_registration.sql
6	1	Open-ILS/web/css/skin/default/register.css
2	1	Open-ILS/web/js/dojo/openils/actor/nls/register.js
10	0	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js
120	14	Open-ILS/web/js/ui/default/actor/user/register.js
3	2	Open-ILS/web/templates/default/actor/user/register.tt2
4	4	Open-ILS/web/templates/default/actor/user/register_table.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0497.patron_registration.sql

commit 47a1c1da5b5bb35c7b06935bc4df47df1a4e4f70
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 9 19:12:45 2011 +0000

    Draw pre-cataloged items (author and title) in My Account checkedout screen
    
    Two problems: FETCH_MODS_FROM_COPY returns an object, so we weren't
    getting to the point of fetching the raw copy itself, and there was
    some confusion about pre-cataloged vs. non-cataloged items that is
    hopefully straightened out now.
    
    Addresses LP # 723895
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19659 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	4	Open-ILS/web/opac/skin/default/js/myopac.js

commit 32734af187cbd11b3b8b2520c766ff8de02cb173
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 9 17:10:31 2011 +0000

    Fix LP bug #727432, "overpaying with patron credit can generate a double credit"
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19649 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	1	Open-ILS/xul/staff_client/server/patron/bill2.js

commit 2c7dda31c1fae60a1635ea6c2656c3547e067232
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 8 21:58:00 2011 +0000

    Correct implementing function name for open-ils.resolver.delete_cached_holdings
    
    A non-existent function had been registered, which blew up in AUTOLOAD
    and caused ugly errors to be logged to the unix log.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19646 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/ResolverResolver.pm

commit 3fbbcb39010a063d2e350f296287b3719d07b8f3
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 8 21:42:29 2011 +0000

    Be more defensive when parsing SFX target results
    
    SFX in the wild has been observed returning targets for getFullTxt
    requests that have no target URLs, which makes it rather impossible
    to provide a link to the full text resource. Skip such targets (and
    for good measure, skip them if they don't have a name either).
    
    Also, change from the SID "conifer" to the more generic and accurate
    "evergreen".
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19645 dcc99617-32d9-48b4-a31d-7c20da2025e4

17	9	Open-ILS/src/perlmods/lib/OpenILS/Application/ResolverResolver.pm

commit 5ab5c4fe6cd251b73dcd2c24a8afa0af09b65459
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 8 20:44:52 2011 +0000

    Add missing ampersand to ind1 attribute in identifier index xpaths
    
    This addresses LP # 731564. Thanks to Dan Wells for identifying (hah)
    the identifier xpath problem!
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19642 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
5	5	Open-ILS/src/sql/Pg/950.data.seed-values.sql
25	0	Open-ILS/src/sql/Pg/upgrade/0496.data.search_indexes.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0496.data.search_indexes.sql

commit 608572c6bbe36ebf09b9a9340636f8fe2184627e
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 8 19:15:01 2011 +0000

    Address LP bug #724583, "Paying Bills with Patron Credit does not always decrease patron Credit"
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19639 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit 02c03d1bed978210ea3bc939bf7899ff2831b52b
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 21:19:55 2011 +0000

    More data ordering issues
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19637 dcc99617-32d9-48b4-a31d-7c20da2025e4

727	726	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit bfd8da88d53d8baea98eec942918ea27739b7ce0
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 21:12:30 2011 +0000

    Insert order matters, moving down
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19635 dcc99617-32d9-48b4-a31d-7c20da2025e4

29	29	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 6fb6118044286998fff8452e001d53074d1f24d3
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 21:05:17 2011 +0000

    config.videorecording_format_map moved to SVF
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19633 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	26	Open-ILS/src/sql/Pg/100.circ_matrix.sql

commit ccd1a212f532a6d148e396fa1725327a1d852246
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 21:03:15 2011 +0000

    Accidentally removed during SVF merge, put it back
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19631 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	0	Open-ILS/src/sql/Pg/002.schema.config.sql

commit 026c71179153567583f94459dadd9fdee0b30070
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 20:25:54 2011 +0000

    We now require PG 9.0+, say as much in the README ... everywhere
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19628 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	5	README

commit 80bcb0f99f088c1f808b1a6585762b433cc20ed9
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 20:24:17 2011 +0000

    We now require PG 9.0+, say as much in the README
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19627 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	README

commit 0b8f1799a05911e59db1b48701f9a1911e5f2eed
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 19:30:04 2011 +0000

    Create a 001 field if it doesn't exist in marc_export
    
    Real data has a way of surprising you sometimes, like by not having 001 fields.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19626 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	1	Open-ILS/src/support-scripts/marc_export

commit c1d429c3f8683489661249a2d60d3e83ec2e4324
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Mar 7 13:15:03 2011 -0500

    Subclass CGI (and create TT plugin wrapper for the subclass) to get utf8 params
    
    The CGI module configuration option -utf8 just doesn't seem to do the
    trick.  I could have missed something, but this works and isn't too
    awful.

20	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/CGIUTF8.pm
2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
4	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
17	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/CGIUTF8.pm
1	1	Open-ILS/web/templates/default/opac/parts/header.tt2
1	2	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/CGIUTF8.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/CGIUTF8.pm

commit 334a1a03414f0a1910a4d4bf1b53731f0ca3b22c
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:48 2011 +0000

    moving the upgrade script into place
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19624 dcc99617-32d9-48b4-a31d-7c20da2025e4

519	0	Open-ILS/src/sql/Pg/upgrade/0495.schema.svf-phase-one.sql
0	519	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0495.schema.svf-phase-one.sql
 delete mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit 816eef98bf4981b34f44570d571dad7228272289
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:46 2011 +0000

    giving version numbers to the svf upgrade script
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19623 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit db8051c3853da2a0ee78c8e6f4dd1f93d6a77d6e
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:43 2011 +0000

    update the old school sort axis names to match the SVF versions
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19622 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/web/opac/skin/craftsman/xml/advanced/advanced_global.xml
5	5	Open-ILS/web/opac/skin/craftsman/xml/result/filtersort.xml
2	2	Open-ILS/web/opac/skin/default/xml/advanced/advanced_global.xml
4	4	Open-ILS/web/opac/skin/default/xml/result/filtersort.xml

commit fd1e6cd07787fd35b74ca78d6658fccf81582076
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:40 2011 +0000

    add a description field to config.record_attr_definition
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19621 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/examples/fm_IDL.xml
1	0	Open-ILS/src/sql/Pg/002.schema.config.sql
1	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit 9f492bcb55fc281d909541c693891b8d917f1022
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:38 2011 +0000

    These are now magic filters.  Thanks, SVF!
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19620 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	8	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 15c79c2b5f535ba238efb4b9f6563502d0dc236b
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:35 2011 +0000

    repaired fielder retrieval api syntax
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19619 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js

commit 2ef0c9a1a27d5f8cf06362a4c6eb9835eeafd4e8
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:32 2011 +0000

    use ccvm's in staff client instead of citm
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19618 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/chrome/content/OpenILS/data.js
1	1	Open-ILS/xul/staff_client/chrome/content/main/constants.js
2	2	Open-ILS/xul/staff_client/server/cat/copy_editor.js

commit 3a1c80738d2c11aedc255a8c374f2374b91a76c9
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:30 2011 +0000

    fetch ccvm's directly for item_form/type/lit_form/bib_level/audience via fielder in opac; leave api constants around for other skins that may be using them.  ML code now fetches ccvms, but returns data in original config.*_map objects for backwards compat + deprecation warning log
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19617 dcc99617-32d9-48b4-a31d-7c20da2025e4

22	19	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
9	5	Open-ILS/web/opac/common/js/config.js
24	36	Open-ILS/web/opac/skin/default/js/adv_global.js

commit e63fbc2924146bc87a6e06cfaea163898d93c481
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:26 2011 +0000

    register the "I only need a query string" search method
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19616 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit 82a5b1c320e7f33fc4d995603694b8d9a1c25f75
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:24 2011 +0000

    more SVF value normalizers, and application thereof
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19615 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/src/sql/Pg/002.schema.config.sql
28	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
56	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit 2d12c9bfd7401bed24ae58b0264e636d38f977c5
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:22 2011 +0000

    index normalizers for SVF and faceting
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19614 dcc99617-32d9-48b4-a31d-7c20da2025e4

53	0	Open-ILS/src/sql/Pg/002.schema.config.sql

commit d4090634fd36a6180facd4370a2bb9e3069d6b24
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:19 2011 +0000

    replace "MARC Codes" UI with "Coded Value Maps", aka SVF Values
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19613 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/locale/en-US/conify.dtd
1	1	Open-ILS/web/opac/locale/en-US/lang.dtd
1	1	Open-ILS/xul/staff_client/chrome/content/main/menu.js

commit fbc1d93f11c0cb149d818710bcee25b965dc83a4
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:17 2011 +0000

    added IDL bits for mra => metabib.record_attr
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19612 dcc99617-32d9-48b4-a31d-7c20da2025e4

17	0	Open-ILS/examples/fm_IDL.xml

commit 46daa724340aac3b889a30f6e44edeaa3603efab
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:14 2011 +0000

    default to empty ccvm grid; added crad selector attr and crad/ccvm required attrs to IDL
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19611 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	6	Open-ILS/examples/fm_IDL.xml
5	3	Open-ILS/web/templates/default/conify/global/config/coded_value_map.tt2

commit 1297f21bd01342ef2309c2228022679eefbbdda3
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:12 2011 +0000

    added crad config UI
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19610 dcc99617-32d9-48b4-a31d-7c20da2025e4

30	0	Open-ILS/web/templates/default/conify/global/config/record_attr_definition.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/record_attr_definition.tt2

commit f0f078c74a577449d07f2bcf03a9e232cee514ed
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:09 2011 +0000

    crad uses 'name' as its pkey
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19609 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/examples/fm_IDL.xml

commit 8bf54d4a68bec72df21dbdcd32271bf14c2316fa
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:07 2011 +0000

    code value map admin page, filtered by record attr def
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19608 dcc99617-32d9-48b4-a31d-7c20da2025e4

61	0	Open-ILS/web/templates/default/conify/global/config/coded_value_map.tt2
 create mode 100644 Open-ILS/web/templates/default/conify/global/config/coded_value_map.tt2

commit eb16e5a884bc332eceaa5e686f0755972b2305e2
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:05 2011 +0000

    update any existing I18N values for maps moved to ccvm
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19607 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit deb0f1800d24d417255324042a61b4b786fd79e3
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:02 2011 +0000

    Only generate ORed filters if there are some to use
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19606 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 137f53fa324105a6120e6922b73dd2fd33d10623
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:03:00 2011 +0000

    upgrade script version of the trigger fixes
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19605 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit c8b9dec0878cf122479fb40189d5f9b00d34ba5b
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:58 2011 +0000

    some update trigger issues from SVF generalization
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19604 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	4	Open-ILS/src/sql/Pg/030.schema.metabib.sql

commit 53aa8029a6fae21e61fb5a823fce136432b276b6
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:56 2011 +0000

    more SVF filter cleanup
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19603 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit 42103bd5778a60c2fd61099243d876830e7858e3
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:53 2011 +0000

    General testing-based cleanup of the new SVF QueryParser code.  More to come.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19602 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	7	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm

commit ede144d6608ffeb370c39506f7c22c58693d9b79
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:50 2011 +0000

    name is the pkey, not id
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19601 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit c468a047f3b742effc076903cd737cf47f36a2c0
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:46 2011 +0000

    update 950 seed data for use with the core SVF table ... that was painful
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19600 dcc99617-32d9-48b4-a31d-7c20da2025e4

548	581	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 0444af933713918a201e868b3589173ee8cceebd
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:43 2011 +0000

    commit at the end ... and I'd like to reserve a db version number, but not until it's in trunk
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19599 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit 703a6bee460dbde78a3f369b60913ebd81bc6841
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:41 2011 +0000

    arg, typo
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19598 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit 06eb995c165c16064238a314aad2f62c08e73ecf
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:38 2011 +0000

    Teach storage to initialize the new bits of QueryParser
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19597 dcc99617-32d9-48b4-a31d-7c20da2025e4

25	3	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/metabib.pm

commit 162115a371245783dee6b72778d301cdb80b6f55
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 16:02:36 2011 +0000

    Working towards SVF. This is most of phase 1, which is basic DB and QP support.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19596 dcc99617-32d9-48b4-a31d-7c20da2025e4

74	0	Open-ILS/examples/fm_IDL.xml
133	65	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Driver/Pg/QueryParser.pm
29	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/QueryParser.pm
51	39	Open-ILS/src/sql/Pg/002.schema.config.sql
182	82	Open-ILS/src/sql/Pg/030.schema.metabib.sql
0	27	Open-ILS/src/sql/Pg/040.schema.asset.sql
0	15	Open-ILS/src/sql/Pg/090.schema.action.sql
3	3	Open-ILS/src/sql/Pg/100.circ_matrix.sql
3	3	Open-ILS/src/sql/Pg/110.hold_matrix.sql
0	2	Open-ILS/src/sql/Pg/800.fkeys.sql
30	0	Open-ILS/src/sql/Pg/950.data.seed-values.sql
452	0	Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/XXXX.schema.svf-phase-one.sql

commit 608e437f0bf62c03bdbb805982b665fa747c4f41
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Mar 7 15:07:39 2011 +0000

    Fix cloning of AutoField widgets: LP #728055
    
    Cloning Action/Trigger event definitions was not working properly, as
    all values were being copied from the original object using their display
    strings rather than the underlying values.
    
    Bill Erickson suggested a fix in IRC that works, so full credit to him
    for this change!
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19590 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js

commit da4f18561b2e036dc2394634abf496ef91ced2b3
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sat Mar 5 03:14:47 2011 +0000

    Correct search index definitions for subject|complete and identifier|bibcn
    
    Dan Wells reported in LP# 729385 that the index definitions for
    subject|complete and identifier|bibcn were not working, and traced
    the problem to a change in how indexes are generated in 2.0+. Dropping
    the trailing '//text()' on these two indexes addresses the problem.
    
    Sites upgrading from a previous version of Evergreen 2.0 will want
    to refresh the indexes after applying this schema change to enable
    searches against subject|complete and identifier|bibcn to work.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19587 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
2	2	Open-ILS/src/sql/Pg/950.data.seed-values.sql
13	0	Open-ILS/src/sql/Pg/upgrade/0494.data.search_indexes.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0494.data.search_indexes.sql

commit f3810e26c2bf2caf004ef22d8370c0393c050025
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 4 20:58:27 2011 +0000

    Teach marc_export how to export bibs for specified libraries
    
    Useful shortcut for getting the bibs for libraries based on the
    non-deleted callnumbers they have attached to non-deleted bibs.
    Doesn't guarantee that they also have either a visible copy or
    localized URI attached but whaddya want, magic? :)
    
    Usage: marc_export --library BR1 --library BR2
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19586 dcc99617-32d9-48b4-a31d-7c20da2025e4

44	1	Open-ILS/src/support-scripts/marc_export

commit 6ba2f7bff4bb368373ad615efc70a50aedd5df17
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 4 19:46:13 2011 +0000

    Respect a setting of depth=0.  In particular, this fixes holdings requests for branch-level searches with an 'Everything' scope.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19583 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit 979148da85e844eb10a7015251db6c1aa92d0a01
Author: berick <berick@esilibrary.com>
Date:   Fri Mar 4 14:43:36 2011 -0500

    added bookbag CRUD+ interface which supports create/delete/rename/show/hide/add_rec/del_item actions; some I18N and cleanup of lists.tt2; added generic redirect sub to replace the bare REDIRECTs spread throughout w/ a more consistent mechanism for finding where to redirect

19	28	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
80	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
7	11	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
18	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
53	80	Open-ILS/web/templates/default/opac/myopac/lists.tt2

commit b5cdaa9d7124052a36b617a7d440ac7cdce4d7cf
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 4 18:03:12 2011 +0000

    Teac marc_export how to replace the 001 field value with the record ID
    
    This is option is probably more useful prior to 2.0 where we introduced
    the automated "munge control numbers" option, but new features go
    here, right? A site that wants to export their bibliographic records
    to send to a large library consortium for control number matching
    may find this a useful way to send out records with a local 001 record
    ID and get standard identifier control numbers back that they can
    add as a 035, per MARC standards.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19582 dcc99617-32d9-48b4-a31d-7c20da2025e4

21	2	Open-ILS/src/support-scripts/marc_export

commit e863852cda09ca88cab79e483cca39f414678aca
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Mar 4 02:39:53 2011 +0000

    SRU: Restructure the hash returned from open-ils.supercat.biblio.search_aliases
    
    By returning explicit index and title elements from the method,
    we can backport cleanly to 2.0 and set the stage for pulling the
    title element directly from the database in 2.1 and beyond.
    
    In addition, the enriched object enables us to get rid of the
    hardcoded nested qualifier map for bibs, and also enables us to
    fix the explain document for SRU for authority records.
    
    Finally, we also fix the mappings of SRU qualifiers to Evergreen
    search aliases (in many cases we had been quietly falling back
    to plain kw searches, which was not cool).
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19573 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	2	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
46	127	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit 636a2d3074762012170cbf829820257d7339a89f
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 3 20:47:23 2011 +0000

    Add complete set of Evergreen search aliases and attributes to SRU explain
    
    Original "pull from database" code had limited the search aliases to those
    that were qualified; now we pull all of them, and if they are not qualified,
    we qualify them as "eg".
    
    In addition, for some of the non-index attributes (sort, direction, site,
    available), restore the descriptive title that was previously available.
    Slightly longer term we will add a "description" column to
    config.metabib_search_alias to store this information.
    
    Also, we had always been using the global %qualifier_map in
    return_sru_explain(), even though the intention was to enable the authority
    explain index to pass in an overriding set of values. This commit breaks the
    authority SRU explain, but as it had been incorrectly dumping the bib explain,
    this brings us a step closer to proper explain support for authorities.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19572 dcc99617-32d9-48b4-a31d-7c20da2025e4

9	4	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
37	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit ab854adf4957f810ec30d5d24ca327f49249c94d
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 3 05:44:33 2011 +0000

    Draw SRU search indexes from config.metabib_search_alias
    
    We had hardcoded search indexes for SRU, but thanks to the work
    of Mike Rylander, it is fairly easy to remove that brittle code
    and replace it with code that polls the contents of
    config.metabib_search_alias and dumps it into the explain document.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19564 dcc99617-32d9-48b4-a31d-7c20da2025e4

37	2	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
9	91	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit f4058c42356f3027c6aff310482b4246560b031e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Mar 3 05:43:25 2011 +0000

    Whitespace consistency for O:WWW:SuperCat.pm
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19563 dcc99617-32d9-48b4-a31d-7c20da2025e4

1485	1485	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit ec3fba614d519d1e4f9178dafdc98133eb929148
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 2 20:43:17 2011 +0000

    Call number sorting "before" the context needs to be segregated based on directly on the label, "here-and-after" on the bytea version.  Testing bears this out, but more eyes would be appreciated.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19560 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm

commit 144c63df0725add6b672e4707b75648725b64bc6
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Mar 2 02:53:23 2011 +0000

    Add example intervals to some library setting descriptions
    
    Based on a patch provided by Michael Peters <mrpeters@library.in.gov>
    in Launchpad bug 717308, provide examples of intervals in several
    descriptions that lacked them.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19558 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	4	Open-ILS/src/sql/Pg/950.data.seed-values.sql
21	0	Open-ILS/src/sql/Pg/upgrade/0493.data.interval-descriptions.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0493.data.interval-descriptions.sql

commit 2864707ad6fa66f15792b8f5b9903120a662c82f
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 1 22:27:43 2011 +0000

    Prevent an unitialized variable warning when loading OpenILS::WWW::EgWeb
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19555 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 5b9038d290ea706211e0cf406840758584532ad0
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 1 22:27:03 2011 +0000

    Remove dead code: OpenILS::WWW::Web and OpenILS::WWW::Method modules
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19554 dcc99617-32d9-48b4-a31d-7c20da2025e4

0	2	Open-ILS/src/perlmods/MANIFEST
0	161	Open-ILS/src/perlmods/lib/OpenILS/WWW/Method.pm.in
0	102	Open-ILS/src/perlmods/lib/OpenILS/WWW/Web.pm.in
1	3	Open-ILS/src/perlmods/t/15-OpenILS-WWW.t
0	2	configure.ac
 delete mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/Method.pm.in
 delete mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/Web.pm.in

commit aff83ff76cb8591dfbb147606ff849bc95052844
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 1 21:19:39 2011 +0000

    update cached user after email/password update; repaired recently-introduced typo on user transaction retrieval method
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19552 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 9e67fced3f17c3505b78dae30ea11f826752f0b3
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 1 18:09:57 2011 +0000

    when using the force-reload option to reset timeout, propagate the ws_ou and wsid values from the cached user object into the reloaded user object
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19551 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	0	Open-ILS/src/c-apps/oils_auth.c

commit 1cce1437447393ae2a520248a4361a2d3ffacee5
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 1 16:20:52 2011 +0000

    merging in some useful changes from the opac-tt-poc branch, including capture of authtime in CStoreEditor, some holds retrieval de-fleshing options, and a total_count field added to user opac vital stats api
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19549 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
25	20	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm
18	4	Open-ILS/src/perlmods/lib/OpenILS/Utils/CStoreEditor.pm

commit 76ca4532ee6c8d1ff35d45899aec0ae2ec996b4e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Mar 1 04:16:07 2011 +0000

    Add a TT helper to encode email headers in UTF-8
    
    This can and should be used to encode any headers (To, From, Subject, etc)
    in an email that might include text outside of the ASCII 7-bit range. Names
    of people or libraries, for example, that might otherwise come out garbled.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19546 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor.pm

commit 65ae458330c095ad2d5dc48a78fa88a8d78a691d
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 28 08:36:43 2011 -0500

    Implement mike's suggestions from #esi-dev on 27 Feb 2011
    
    This makes an "exact" search build a query with starting and ending
    anchors, and adds a new contains-value called "phrase" which does what
    "exact" was doing before.

6	17	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
10	3	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2

commit 35a74c98a88fe825b2b1e3477e0f8cae78df2976
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 25 21:32:02 2011 +0000

    Updated org selector code in org setting UI
    
    Removed some ad-hoc org-unit tree widget code and replaced with
    the a standard solution from the openils dojo user lib.
    
    Pass the auth on org value retrieval to pick up perm-protected settings.
    
    Use STAFF_LOGIN for context selector perm, since each setting has its
    own perm that is checked before fetching.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19543 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	68	Open-ILS/xul/staff_client/server/admin/org_unit_settings.js

commit 1308811725e7fd4ba336d607ef534db40de8528d
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 25 19:12:49 2011 +0000

    make sure asset.call_number.label_sortkey is up to date
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19540 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
3	0	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql
6	0	Open-ILS/src/sql/Pg/upgrade/0492.data.update_cn_label_sortkey.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0492.data.update_cn_label_sortkey.sql

commit 8c854fcda17e22a6f20efdf040bcab4b3eb2d5c4
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 25 11:53:58 2011 -0500

    provide three rows of search input by default
    
    this better accommodates users with no JS

1	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2

commit fd5cde927c048ad4496f9dc5ca12b14abd384508
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 25 11:45:17 2011 -0500

    remove debugging cruft

0	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm

commit 97fc9f4806179c4eef42a1d5febc317dcb611a7d
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 25 11:42:30 2011 -0500

    refining advanced search now preserves qtype/contains/query combos.  also,
    
    also, show something better for empty search results

0	1	Open-ILS/web/css/skin/default/opac/semiauto.css
3	0	Open-ILS/web/css/skin/default/opac/style.css
17	12	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
16	0	Open-ILS/web/templates/default/opac/parts/qtype_selector.tt2
6	3	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
0	16	Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/qtype_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2

commit 92a1b454d84ad7ff5958b2311aa1391140d14746
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 24 18:11:04 2011 -0500

    lot of things, including:
    
    - crib subjects support from regular opac poc
    - get rid of adv search form inclusion on results page, but keep the link to
        it. Show a special version of just the "compiled" QP query
    - better and more generic handling of search terms (compiling CGI params
        to QP string)
    - make limit to avail and sort work from basic search results page
    - genericize search cgi params -> qp. filter:foo, s/class/qtype/, etc
    - more!

43	32	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
2	2	Open-ILS/web/css/skin/default/opac/style.css
1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
7	11	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
0	9	Open-ILS/web/templates/default/opac/parts/audience_options.tt2
16	0	Open-ILS/web/templates/default/opac/parts/audience_selector.tt2
3	2	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
0	33	Open-ILS/web/templates/default/opac/parts/item_lang_options.tt2
40	0	Open-ILS/web/templates/default/opac/parts/language_selector.tt2
18	2	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
20	21	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
2	2	Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2
9	3	Open-ILS/web/templates/default/opac/results.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/audience_options.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/audience_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/item_lang_options.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/language_selector.tt2

commit ec331e9ea401908c1d120e22d92c0c2d8c3f0cdc
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 24 21:57:23 2011 +0000

    typo fix
    
    "Pat, I'd like to buy a vowel"
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19537 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/templates/default/acq/picklist/brief_record.tt2

commit b87c54201f323262a6fbc25f91c35b94d2374e12
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 24 20:00:09 2011 +0000

    Fix regex in maintain 901c
    
    The previous regex would delete any 901 fields *and* any fields which followed.  Since the 901 is typically the last field, this problem didn't surface during testing.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19534 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
68	0	Open-ILS/src/sql/Pg/upgrade/0491.function.maintain_901_fix_regex.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0491.function.maintain_901_fix_regex.sql

commit 4cc4d7f1cae3a9dbad9e479d3ab035edb2c3f07d
Author: gmc <gmc@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 24 16:50:55 2011 +0000

    added missing columns to CDBI table definitions
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19531 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/action.pm
2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/CDBI/actor.pm

commit 0e3a6a48eac948562eab6491441d674a87544f9e
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 24 15:35:12 2011 +0000

    Per Robert Soulliere, it can be necessary in some cases to clean out bad
    data from action.reservation_transit_copy before applying the missing
    fkeys to said table.
    
    https://bugs.launchpad.net/evergreen/+bug/721450
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19528 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	0	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql

commit 79d5b5fb2aa629419858ae468448303aa56c8a5c
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 22:20:05 2011 +0000

    clear out the hold_copy_map entries for holds cancelled via the clear-shelf processes
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19525 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 3b8326b08d3ac7cf81e1381bb3f14c747d8fd44d
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 21:32:42 2011 +0000

    include copy/call_number deletedness in staff-version copy counts
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19522 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
8	8	Open-ILS/src/sql/Pg/040.schema.asset.sql
132	0	Open-ILS/src/sql/Pg/upgrade/0490.schema.staff-client-copy-counts.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0490.schema.staff-client-copy-counts.sql

commit cb52780d8bea4eb27bc40c9d8494a0f42aaaff51
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Feb 23 14:11:46 2011 -0500

    advanced search results now show an advanced search form...
    
    for refining your search terms.  The query-type/contains/term rows don't
    yet populate, but the rest of the form does. There probably also needs to
    be more stylistic consideration.  Still need to improve the translation of
    CGI parameters into QP syntax. Still need to do all kinds of things.

15	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
6	0	Open-ILS/web/css/skin/default/opac/style.css
27	91	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
9	0	Open-ILS/web/templates/default/opac/parts/audience_options.tt2
15	0	Open-ILS/web/templates/default/opac/parts/filtersort.tt2
1	1	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
32	27	Open-ILS/web/templates/default/opac/parts/item_lang_options.tt2
0	15	Open-ILS/web/templates/default/opac/parts/result/filtersort.tt2
18	0	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
15	13	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/audience_options.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/filtersort.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/result/filtersort.tt2

commit 9fcf9c960cf91ebd49d9be180d142ace6c857548
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 15:05:36 2011 +0000

    Add 830 as a controllable bibliographic field in authority linking script
    
    Per http://www.loc.gov/marc/bibliographic/bd830.html, bibliographic 830
    should be controlled by authority 130. The "common cataloging practice"
    in 830 of omitting non-filing characters may cause some entries to not be
    linked that otherwise would be.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19518 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	0	Open-ILS/src/support-scripts/authority_control_fields.pl

commit 52c72faa02c6e38e0dd9503eac0335175df0b710
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 04:28:15 2011 +0000

    missing semicolon
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19517 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.functions.config.sql

commit d6c46ad6a9f617f3d2562b7dbd8ef8d71269c119
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 04:17:33 2011 +0000

    typo
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19516 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.functions.config.sql

commit c8a3f1f15f192fc7a1028cb0e7ec2e5028da3775
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 02:56:54 2011 +0000

    Working SRU search for various authority records
    
    We now have search indexes for:
      * ID
      * name
      * subject
      * title
      * topic
    
    O:WWW:SuperCat::sru_search has been refactored somewhat to reduce
    code duplication between the authority SRU and the bibliographic SRU.
    
    This SRU interface lives, by default, at http://hostname/opac/extras/sru_auth
    
    Explain output is still a bit wonky in the configInfo section.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19514 dcc99617-32d9-48b4-a31d-7c20da2025e4

7	0	Open-ILS/examples/apache/eg_vhost.conf
27	1	Open-ILS/src/perlmods/lib/OpenILS/Application/SuperCat.pm
186	60	Open-ILS/src/perlmods/lib/OpenILS/WWW/SuperCat.pm

commit e00d376eaf728d7e57d59d6443642190ec25bb95
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 02:10:05 2011 +0000

    Correct the install location for Dojo i18n bundles
    
    We had been converting xx-YY into xx/yy for a directory structure,
    but current evidence shows that it should be xx-yy. Hard to believe
    we've overlooked this for so long. Also, with the exception of the
    en-ca/en-gb/en-us locales, we should probably trim the locale to
    just xx - but that's a different problem, and let's just focus on
    getting this working to begin with.
    
    Addresses Launchpad # 723489
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19507 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	build/i18n/Makefile

commit e23148d9e21ad5be6bd5c85973de1122ee3a6276
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 23 02:06:06 2011 +0000

    Merging in unAPI v2, the bono edition
    
     * Add unapi schema, functions and initial transform setup
     * General purpose tag URI parser
     * upgrade script and build-db.pl integration
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19506 dcc99617-32d9-48b4-a31d-7c20da2025e4

104	0	Open-ILS/src/perlmods/lib/OpenILS/Utils/TagURI.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
703	0	Open-ILS/src/sql/Pg/990.schema.unapi.sql
2	0	Open-ILS/src/sql/Pg/build-db.sh
704	0	Open-ILS/src/sql/Pg/upgrade/0489.schema.unapi2.sql
 create mode 100755 Open-ILS/src/perlmods/lib/OpenILS/Utils/TagURI.pm
 create mode 100644 Open-ILS/src/sql/Pg/990.schema.unapi.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0489.schema.unapi2.sql

commit e7a2d915760eb5c371655b479cbe7d22decfd63a
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Feb 22 21:18:14 2011 +0000

    dojo.js has to be loaded from the same domain as the page, unless it's a cross-domain build
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19503 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/templates/base.tt2

commit 0b1ce40d1122accbf6d605c87de36eb7defee7b2
Author: berick <berick@esilibrary.com>
Date:   Tue Feb 22 15:35:55 2011 -0500

    apparently, some version of perl require 'our' in this context, presumably because it's the same package across separate files...

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 0c9a046359728ce966229220873a0b182686c77e
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 22 15:15:48 2011 -0500

    oops, forgot to do this reflecting js move

1	1	Open-ILS/web/templates/default/opac/parts/base.tt2

commit e5129fae32cd3c4af54ce180dbbc39139ffe8b40
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 22 15:14:39 2011 -0500

    move js to its proper places in the filesystem

0	29	Open-ILS/web/js/opac/simple.js
29	0	Open-ILS/web/js/ui/default/opac/simple.js
 delete mode 100644 Open-ILS/web/js/opac/simple.js
 create mode 100644 Open-ILS/web/js/ui/default/opac/simple.js

commit f30619e68d8b4bb8a0afc93adfe901779bd36669
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 22 10:20:42 2011 -0500

    move js to end of body; no need to have footer in its own file

26	2	Open-ILS/web/templates/default/opac/parts/base.tt2
0	25	Open-ILS/web/templates/default/opac/parts/footer.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/footer.tt2

commit b9432b7b0413b2fb23d77bdb7da152dc12c9eab9
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 21 16:35:41 2011 -0500

    empty case for myopac/circs

6	0	Open-ILS/web/templates/default/opac/myopac/circs.tt2

commit 4b4c52bfa839d29ea77ee52596a854a637d19c3e
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 21 16:18:33 2011 -0500

    empty case for myopac/holds. use of quant for plural word in i18n.

6	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
2	3	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 43dc7d8f0372de5094602a97888a7cd5f638f70b
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 21 15:59:31 2011 -0500

    show summarized copy availability on results page

3	6	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 9e3341696fb944ea80adb0ebac23727ec5521919
Author: berick <berick@esilibrary.com>
Date:   Mon Feb 21 15:32:07 2011 -0500

    i18n cleanup

5	11	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit b9c176910c14c1448893cf5f1d6953ca4cbc283e
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 21 15:23:02 2011 -0500

    berick spotted it. double escaping.

1	2	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 684a218db75389d169abf50cc882fb7cb4ab9370
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 21 14:42:38 2011 -0500

    big ol' commit making advanced search work, albeit with issues
    
    most obvious issue is that advanced search leads to a result page that
    renders with a basic search form filled out in a silly-looking way
    
    I'm thinking it'd be best when showing results from an advanced search
    to *not* show that basic search form, but instead have a hidden version
    of the advanced search form, prepopulated, revealable by a button
    labeled "refine your search" or something.
    
    That way we'd not have to worry about reversing query parser syntax back
    into broken-out widget values. make sense?

86	13	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
2	2	Open-ILS/web/css/skin/default/opac/semiauto.css
-	-	Open-ILS/web/images/adv_row_close_btn.png
29	0	Open-ILS/web/js/opac/simple.js
6	2	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
22	24	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
1	0	Open-ILS/web/templates/default/opac/parts/base.tt2
2	2	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
4	4	Open-ILS/web/templates/default/opac/parts/header.tt2
3	8	Open-ILS/web/templates/default/opac/parts/result/table.tt2
2	2	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
3	3	Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2
3	1	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/images/adv_row_close_btn.png
 create mode 100644 Open-ILS/web/js/opac/simple.js

commit 676adf1e43a40b0e005cf9d62b61290bb0780d65
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Feb 21 18:34:02 2011 +0000

    Make sure we continue looping in situations where there is only one copy
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19499 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 5af9dc4bbbfb13f2d4754a9cb900128d419d92b2
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Feb 21 15:44:17 2011 +0000

    Add support for 9.0 in initial db creation scripts
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19495 dcc99617-32d9-48b4-a31d-7c20da2025e4

43	0	Open-ILS/src/sql/Pg/000.english.pg90.fts-config.sql
 create mode 100644 Open-ILS/src/sql/Pg/000.english.pg90.fts-config.sql

commit 0fc4ce7d75a2cfe39918b6834c284feda8fd4610
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Feb 21 15:39:29 2011 +0000

    Addressing LP bug: https://bugs.launchpad.net/evergreen/+bug/721450
    
    If a series-class index definition has been removed, the data remains in the field entry table.  This is because there was no fkey previously.  We need to clean that data out so that the fkey can be validated during upgrade.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19494 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/src/sql/Pg/1.6.1-2.0-upgrade-db.sql

commit e7fb8dc64f8bc0878527ba31b5d1a86dd324dd0c
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 17:05:03 2011 -0500

    immediate cache expiration for html is too aggressive, leading to re-fetches on current page w/ chrome;  give the browser a few seconds to breathe

2	2	Open-ILS/examples/apache/eg_vhost.conf

commit 0bbca3f632956a623a3dc3b42280422262e1fce4
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 20:32:13 2011 +0000

    A function for normalizing numeric strings
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19491 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	0	Open-ILS/src/sql/Pg/002.functions.config.sql

commit 2a3337aa9387eaf34cbabbc10d38b88569b618f3
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 14:58:57 2011 -0500

    initial cut of anonymoust cache record lists (aka My List) management; minor cleanup

13	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
115	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm
8	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Container.pm

commit e4d6c6740fdc3c21c07708ff591166e7ca6ea204
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 13:48:28 2011 -0500

    adding the fines/payments tab images

-	-	Open-ILS/web/images/acct_fines_off.jpg
-	-	Open-ILS/web/images/acct_fines_on.jpg
-	-	Open-ILS/web/images/acct_payments_off.jpg
-	-	Open-ILS/web/images/acct_payments_on.jpg
 create mode 100644 Open-ILS/web/images/acct_fines_off.jpg
 create mode 100644 Open-ILS/web/images/acct_fines_on.jpg
 create mode 100644 Open-ILS/web/images/acct_payments_off.jpg
 create mode 100644 Open-ILS/web/images/acct_payments_on.jpg

commit fec3f52740df50154700deadb02b984758b2ff8b
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 18:37:33 2011 +0000

    Whitespace - convert mix of tabs/spaces to pure spaces
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19486 dcc99617-32d9-48b4-a31d-7c20da2025e4

242	242	Open-ILS/web/opac/skin/default/xml/result/result_table.xml

commit ba4e04afe482830e481349c090e99f57e6fe7637
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 18:36:49 2011 +0000

    Switch to BT.textContent() for Opera compatibility
    
    The BT.textContent() method abstracts away some of the browser
    differences for us. Most importantly, it makes Opera happy.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19485 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/web/opac/skin/default/xml/result/result_table.xml

commit dd5a239a440f73478bb75c19007b7f620ff2f5dd
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 13:33:19 2011 -0500

    if no login redirect is set, redirect to account instead of home page

3	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 1e269b5081f1d20bb6960d8f4aba89685b2a83f8
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 13:23:32 2011 -0500

    hide all refs to fines payment until its implemented to reduce confusion; minor cleanup

13	8	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit 78ec405763620db7e9d47361b415019f1ddfbd67
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 13:17:58 2011 -0500

    i18n

8	8	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit 74355312a6df553cc1b83ad3095821cf39b28910
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 13:12:50 2011 -0500

    round of CSS cleanup;  removing unused rules and replacing inline style with css classes

5	10	Open-ILS/web/css/skin/default/opac/semiauto.css
1	1	Open-ILS/web/css/skin/default/opac/style.css
12	20	Open-ILS/web/templates/default/opac/myopac/circs.tt2
3	3	Open-ILS/web/templates/default/opac/myopac/main.tt2
2	3	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
5	5	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
1	2	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
2	2	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/copyinfo.tt2
1	1	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
3	4	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
5	8	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 7fbfc7b5d4207b9d1893b5f0ee2ea96d775ae343
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 12:02:20 2011 -0500

    mild code realignment

2	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 4ca371e43c69526987af37ccd712f9e92a79106a
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 10:40:08 2011 -0500

    ensure all login requests are over SSL; warn of any non-SSL logout requests; add log line prefixes for simpler grepping

32	8	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
10	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit 1cdd6f7661aea6e7e35736308b17dd11f34d517c
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 09:52:41 2011 -0500

    i18n and cleanup

15	19	Open-ILS/web/templates/default/opac/parts/result/filtersort.tt2

commit 935bc041d3f1d9c569b30fd1cda31088155f7afe
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 14:35:06 2011 +0000

    ws_ou may be null in an opac context, fall back to home org
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19480 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit 0d289f359847fc1cffd1bcaa05ee45bb47697a6f
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 14:35:05 2011 +0000

    allow users to see their own payments w/o perm
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19479 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm

commit c7baad8379b580715f004898f3b127432bc4ba44
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 14:35:04 2011 +0000

    retain ability for a user to see his/her own payments and open transactions
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19478 dcc99617-32d9-48b4-a31d-7c20da2025e4

6	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit 781c80e8445bfb49b7daac3e8d5989323697437a
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 14:35:03 2011 +0000

    More user transaction retrieval API cleanup
    
    Use consistent xact fleshing mechanism for circulations both for
    less/cleaner code and to consistently take advantage of CSToreEditor for
    authoritative support.
    
    Added .flesh option to transaction history api calls, consistent with
    non-history version.
    
    Added a have_payments history call so we can limit retrieval to xacts
    that had at least 1 payment
    
    When making sub-req calls to payment API calls, call .authoritative as
    appropriate
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19477 dcc99617-32d9-48b4-a31d-7c20da2025e4

51	50	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm

commit c99f3ca2fd1a4fc09a096df9ab93a92709c8f6bd
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 09:14:18 2011 -0500

    while we're at it, condense the js/css/images deflat and cache control into 1 block

16	24	Open-ILS/examples/apache/eg_vhost.conf

commit f71a1d5b6ee30a92741ef3ec3ee721a47f3e74f7
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 09:08:51 2011 -0500

    under /eg/opac, expire html immediately to pick up dynamic data;  set public cache-control on general images/css/js content

7	6	Open-ILS/examples/apache/eg_vhost.conf

commit 49e886765c83a1b22e016bfb94a2771999ef7f8f
Author: berick <berick@esilibrary.com>
Date:   Fri Feb 18 09:04:32 2011 -0500

    after auth expire time, redirect to logout page (which ultimately redirects home) to force removal of the stale auth cookie

7	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
1	1	Open-ILS/web/templates/default/opac/parts/base.tt2

commit fd0fdda306859927af8e96df7fc1f7adf2032caf
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 18 05:44:11 2011 +0000

    Bolster SendEmail Reactor's handling of UTF-8 content
    
    Use the Encode module and encode_utf8() instead of utf8 and utf8::encode.
    The utf8 module is meant for enabling UTF-8 content in source code.
    
    Also, add the MIME-Version / Content-type / charset headers that
    some mail user agents need to know that they're dealing with Unicode
    mail.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19476 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	0	Open-ILS/src/extras/Makefile.install
12	4	Open-ILS/src/perlmods/lib/OpenILS/Application/Trigger/Reactor/SendEmail.pm

commit 871b8e0c83e5ddb7c6dc4b6444c5d50956c93b09
Author: senator <senator@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 17 20:53:36 2011 +0000

    Booking: fix the targeter in the I'm-reserving-this-exact-resource-with-this-
    exact-barcode case.
    
    It should have always worked like this. This should better mirror the behavior
    in the holds targeter when placing a copy-level hold.  Basically don't fail
    to target a resource for a reservation later just because it's not in an
    available status right at this moment.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19470 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Storage/Publisher/action.pm

commit 71330c861fd025f81e7150b770e28f16114493a7
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 17 15:15:33 2011 -0500

    basic search classes work (except cn)
    
    Not sure what would happen on a KCLS environment. Need to test.
    bibcn nor cn do what I mean in my dev environment.

5	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
3	10	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
15	9	Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2

commit 118a73288bef413ad92fb3641d5d7d4053b45691
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 17 18:55:31 2011 +0000

    Avoid mixed-content warnings due to HTTP link for Google Chrome Frame
    
    We're hardcoding this to HTTPS for now to avoid the mixed-content warnings that
    occur when content location is https:// and the linked script is at http:// but
    a config-aware patch probably wouldn't be a bad idea.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19466 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/web/opac/skin/default/xml/body.xml
1	1	Open-ILS/web/opac/skin/default/xml/home/index_body.xml

commit 5b01ae73993c1a777f0df3dec1d5af1184b10a13
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 17 18:35:06 2011 +0000

    vestigial 2nd param to session.retrieve from opac now actually changes the behavior (see r19447) in an unexpected way, remove
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19464 dcc99617-32d9-48b4-a31d-7c20da2025e4

2	2	Open-ILS/web/opac/common/js/opac_utils.js

commit 5d7f65775f4a0f569264893fcacd4e61b5eaf256
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 17 13:24:35 2011 -0500

    force new layout changes into advanced search page
    
    The advanced search page doesn't yet work, but should soon.

125	159	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
3	1	Open-ILS/web/templates/default/opac/parts/format_selector.tt2

commit 9526d790213c4e2b39c179c4fcc1682259b13975
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 17 09:18:53 2011 -0500

    make the zero-hits case work for search results

1	0	Open-ILS/web/css/skin/default/opac/style.css
0	60	Open-ILS/web/templates/default/opac/parts/result/header.tt2
5	6	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
63	3	Open-ILS/web/templates/default/opac/parts/result/table.tt2
3	5	Open-ILS/web/templates/default/opac/results.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/result/header.tt2

commit 52faee9948438c28b6cc2183432ec05e9ade4d83
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 17 04:18:27 2011 +0000

    CSS hook for check-in failures with selfcheck
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19461 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	0	Open-ILS/web/js/ui/default/circ/selfcheck/selfcheck.js

commit ae1b7b964127a1b3ef682c51d9a89bc2b1c5c08e
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 17 03:27:53 2011 +0000

    Teach maintain_901 trigger to respect the "Use record ID for TCN" global flag
    
    Rather than relying on the Perl layer to set the correct TCN on the way in,
    do it as part of the in-database indexing to ensure that we have consistent
    results no matter how the record gets into the database.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19458 dcc99617-32d9-48b4-a31d-7c20da2025e4

11	0	Open-ILS/src/sql/Pg/002.functions.config.sql
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
68	0	Open-ILS/src/sql/Pg/upgrade/0488.function.maintain_901_tcn.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0488.function.maintain_901_tcn.sql

commit 5631bec8ea3a6e9df5dd1a9a611b3c3cdfd930cd
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Feb 16 17:23:16 2011 -0500

    crummy paging in the record pages' copy listing

6	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
18	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit e61a2e30d80027639e462da39cf439f29561032c
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 16 22:20:53 2011 +0000

    Patch based on work by Dan Wells to improve Opera BibTemplate support
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19455 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	2	Open-ILS/web/js/dojo/openils/BibTemplate.js

commit d9e58961b229a4ddc13254c928094c9544fbbd91
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Feb 16 17:04:02 2011 -0500

    copy details in the right place in the layout; some hide_me's sprinkled
    around for now

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
3	3	Open-ILS/web/css/skin/default/opac/style.css
1	38	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
4	8	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
55	18	Open-ILS/web/templates/default/opac/parts/record/summary.tt2

commit ec5f6b2e2c018815e7b3b8f889540b3eeed21277
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 16 20:47:11 2011 +0000

    Patch from Thomas Berezansky to implement circulation matchpoint value fallthrough, whereby specific rules can inherit values from generic rules.
    
    Background, taken from https://bugs.launchpad.net/evergreen/+bug/635463:
    
    Theory:
    Make the things returned (circulate, duration_rule, recurring_fine_rule, max_fine_rule, hard_due_date, total_copy_hold_ratio, available_copy_hold_ratio and renewals) "fall through" when set to NULL.
    
    The circ matrix edit screen has had some changes too, partially for showing "Inherited" in some places where appropriate, partially for field ordering and editing display and consistency. The fields that show up earlier contribute to tests that will be applied to the circulation attempt, while the "results" that do not change what rows are considered are grouped at the end.
    
    Pros:
    
    You can override a subset of those fields with a specific rule while allowing broader rules to fill in the holes.
    This may result in less duplication of information across rules, making things easier to maintain.
    Thus, this may result in less rules in general, and thus less processing time on sorting them overall.
    
    Cons:
    
    Manually figuring out the specifics of what will happen will take more time/effort.
    Changing a single rule may have a greater unintended effect on other rules.
    Staff would need training for when to have a rule fall through and when to set it specifically.
    More time to return from the DB for any rule that is "falling through" to broader rules.
    
    
    
    Examples for the following org tree:
    
    CONS
    -SYSA
    --LIBC
    --LIBD
    -SYSB
    --LIBE
    --LIBF
    
    Implementing the following "business" rules:
    
    At the CONS level:
    By default, everything circulates, uses DFLT_DUR duration, DFLT_RFINE recurring fine, and DFLT_MFINE max fine.
    Circ Modifier "book" uses the duration BOOK_DUR
    Reference flagged materials don't circulate
    
    At the SYSA level there are no special rules.
    
    At the SYSB level the max fine should be SYSB_MFINE.
    
    At the LIBC level the recurring fine is LIBC_RFINE
    
    At the LIBD level circ modifier "book" uses the DFLT_DUR duration instead of "BOOK_DUR"
    
    At the LIBE level reference flagged materials circulate.
    
    At the LIBF level there are no special rules.
    
    The current method would require the following circ rules to implement those business rules:
    
    CIRC_LIB CIRC_MOD REFERENCE CIRC? DURATION_RULE RECURRING_FINE MAX_FINE
    CONS NULL NULL TRUE DFLT_DUR DFLT_RFINE DFLT_MFINE
    CONS NULL TRUE FALSE DFLT_DUR DFLT_RFINE DFLT_MFINE
    CONS book NULL TRUE BOOK_DUR DFLT_RFINE DFLT_MFINE
    CONS book TRUE FALSE BOOK_DUR DFLT_RFINE DFLT_MFINE
    SYSB NULL NULL TRUE DFLT_DUR DFLT_RFINE SYSB_MFINE
    SYSB NULL TRUE FALSE DFLT_DUR DFLT_RFINE SYSB_MFINE
    SYSB book NULL TRUE BOOK_DUR DFLT_RFINE SYSB_MFINE
    SYSB book TRUE FALSE BOOK_DUR DFLT_RFINE SYSB_MFINE
    LIBC NULL NULL TRUE DFLT_DUR LIBC_RFINE DFLT_MFINE
    LIBC NULL TRUE FALSE DFLT_DUR LIBC_RFINE DFLT_MFINE
    LIBC book NULL TRUE BOOK_DUR LIBC_RFINE DFLT_MFINE
    LIBC book TRUE FALSE BOOK_DUR LIBC_RFINE DFLT_MFINE
    LIBD book NULL TRUE DFLT_DUR DFLT_RFINE DFLT_MFINE
    LIBD book TRUE FALSE DFLT_DUR DFLT_RFINE DFLT_MFINE
    LIBE NULL NULL TRUE DFLT_DUR DFLT_RFINE SYSB_MFINE
    LIBE book NULL TRUE BOOK_DUR DFLT_RFINE SYSB_MFINE
    
    16 circ rules total.
    
    The new method would require the following circ rules to implement those business rules:
    
    CIRC_LIB CIRC_MOD REFERENCE CIRC? DURATION_RULE RECURRING_FINE MAX_FINE
    CONS NULL NULL TRUE DFLT_DUR DFLT_RFINE DFLT_MFINE
    CONS book NULL NULL BOOK_DUR NULL NULL
    CONS NULL TRUE FALSE NULL NULL NULL
    SYSB NULL NULL NULL NULL NULL SYSB_MFINE
    LIBC NULL NULL NULL NULL LIBC_RFINE NULL
    LIBD book NULL NULL DFLT_DUR NULL NULL
    LIBE NULL TRUE TRUE NULL NULL NULL
    
    7 circ rules total.
    
    Starting with the above, lets assume that SYSA wants to change their recurring fine to SYSA_RFINE.
    LIBC's recurring fine is to be unchanged.
    
    The current method requires the following changes:
    
    ADD the following entries:
    CIRC_LIB CIRC_MOD REFERENCE CIRC? DURATION_RULE RECURRING_FINE MAX_FINE
    SYSA NULL NULL TRUE DFLT_DUR SYSA_RFINE DFLT_MFINE
    SYSA NULL TRUE FALSE DFLT_DUR SYSA_RFINE DFLT_MFINE
    SYSA book NULL TRUE BOOK_DUR SYSA_RFINE DFLT_MFINE
    SYSA book TRUE FALSE BOOK_DUR SYSA_RFINE DFLT_MFINE
    
    UPDATE the LIBD entries:
    CIRC_LIB CIRC_MOD REFERENCE CIRC? DURATION_RULE RECURRING_FINE MAX_FINE
    LIBD book NULL TRUE DFLT_DUR SYSA_RFINE DFLT_MFINE
    LIBD book TRUE FALSE DFLT_DUR SYSA_RFINE DFLT_MFINE
    
    4 rules added, 2 changed, total is now 20 rules.
    
    The new method would require the following changes:
    
    ADD the following entry:
    CIRC_LIB CIRC_MOD REFERENCE CIRC? DURATION_RULE RECURRING_FINE MAX_FINE
    SYSA NULL NULL NULL NULL SYSA_RFINE NULL
    
    1 rule added, 0 changed, total is now 8 rules.
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19453 dcc99617-32d9-48b4-a31d-7c20da2025e4

5	3	Open-ILS/examples/fm_IDL.xml
9	10	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Circulate.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
203	117	Open-ILS/src/sql/Pg/100.circ_matrix.sql
1	0	Open-ILS/src/sql/Pg/110.hold_matrix.sql
1	1	Open-ILS/src/sql/Pg/950.data.seed-values.sql
404	0	Open-ILS/src/sql/Pg/upgrade/0487.circ_matrix_fallthrough.sql
10	2	Open-ILS/web/js/dojo/openils/widget/AutoFieldWidget.js
4	2	Open-ILS/web/js/dojo/openils/widget/AutoGrid.js
14	3	Open-ILS/web/js/dojo/openils/widget/EditPane.js
2	1	Open-ILS/web/js/dojo/openils/widget/nls/AutoFieldWidget.js
11	0	Open-ILS/web/js/ui/default/conify/global/config/circ_matrix_matchpoint.js
14	5	Open-ILS/web/templates/default/conify/global/config/circ_matrix_matchpoint.tt2
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0487.circ_matrix_fallthrough.sql

commit 84ae450f5df5040a1536389795ea76155e93bcee
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 16 20:21:17 2011 +0000

    Patch from Thomas Berezansky to make many older OU setting types i18n friendly
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19451 dcc99617-32d9-48b4-a31d-7c20da2025e4

230	237	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit c4984b12a401077b3168c84f0ab59b6b7a5bd81f
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 16 19:52:20 2011 +0000

    realign trunk permission numbering with 2.0
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19449 dcc99617-32d9-48b4-a31d-7c20da2025e4

968	413	Open-ILS/src/sql/Pg/950.data.seed-values.sql

commit 8dce58d88c1ed21efd4c973cab80d899942f39d7
Author: berick <berick@esilibrary.com>
Date:   Wed Feb 16 12:13:59 2011 -0500

    more i18n, minor cleanup

1	0	Open-ILS/web/templates/default/opac/login.tt2
1	2	Open-ILS/web/templates/default/opac/parts/base.tt2
6	10	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit a268006a3201654e77b4fa51ec5205cb17459c48
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 16 15:07:04 2011 +0000

    added option to open-ils.auth.session.retrieve to return the full cached object, which includes the auth time (cache timeout) of the cached user object
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19447 dcc99617-32d9-48b4-a31d-7c20da2025e4

13	1	Open-ILS/src/c-apps/oils_auth.c

commit 78d6452aa6cb7c37fdcb27c531798098ac2e1ced
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Feb 15 20:49:37 2011 +0000

    Add a note for future work for full hold count coverage
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19446 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit fe21f4e4349cb4ce32cd2bbf7856a4c9b4796839
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Feb 15 19:00:47 2011 +0000

    who needs this much noise in the javascript console? javascript.options.strict = false
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19445 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/external/developers.js

commit 30ccd483e85fc69290ec1e52f85a16ba9c85c2b4
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Feb 14 21:06:51 2011 +0000

    capture credit card order_number
    
    Uunique payment transaction ID for online payments
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19443 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	0	Open-ILS/examples/fm_IDL.xml
3	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Money.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
1	0	Open-ILS/src/sql/Pg/080.schema.money.sql
7	0	Open-ILS/src/sql/Pg/upgrade/0486.schema.mccp-order-number.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0486.schema.mccp-order-number.sql

commit 8878585f40c0195865e181004beba1ecbbd6bae2
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 13:56:35 2011 -0500

    more i18n goodness

1	1	Open-ILS/web/templates/default/opac/advanced.tt2
1	1	Open-ILS/web/templates/default/opac/home.tt2
1	1	Open-ILS/web/templates/default/opac/login.tt2
1	1	Open-ILS/web/templates/default/opac/place_hold.tt2
1	1	Open-ILS/web/templates/default/opac/record.tt2
1	1	Open-ILS/web/templates/default/opac/results.tt2

commit 35c5b0c72062d68c83908bc2a4ec36b2d9de504a
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 13:32:22 2011 -0500

    avoid undef warnings

1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm

commit c3a81e2b700da69cd551752b70369cd3b5083a20
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 13:31:50 2011 -0500

    when authenticated, force the page to redirect the home page after the auth time has expired to protect patron data and  prevent potentially confusing post-search-submit redirects

2	5	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
3	0	Open-ILS/web/templates/default/opac/parts/base.tt2

commit 51b9bd01c435babf0eda0e6ee351da80df7d73b7
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 13:03:24 2011 -0500

    updated cstoreditor to fetch full cached object to get the authtime; capturing authtime in the web context

18	4	Open-ILS/src/perlmods/lib/OpenILS/Utils/CStoreEditor.pm
4	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit b74e977a41ad388463ba1baf44002dcf2f63f133
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 12:36:25 2011 -0500

    added option to open-ils.auth.session.retrieve to return the full cached object, which includes the auth time (cache timeout) of the cached user object

13	1	Open-ILS/src/c-apps/oils_auth.c

commit ae46044797776bc60df4108b78e221cf7cc18e0a
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 11:47:57 2011 -0500

    added sub to collect the HTML version of a record for display

7	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm

commit eb20ff7ec05a543cf5821de11c1ef39e77da3657
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 15 17:45:46 2011 -0500

    hold actions work

16	14	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 86a1a02f776b523794c6965caac454ffd3e61bc1
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 15 16:10:25 2011 -0500

    Renewals working, with feedback displayed

2	0	Open-ILS/web/css/skin/default/opac/style.css
39	15	Open-ILS/web/templates/default/opac/myopac/circs.tt2

commit 3851705d26fac76049683f918cf2fd7a175d63b3
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 06:45:55 2011 -0500

    make date format localize-able

1	1	Open-ILS/web/templates/default/opac/parts/header.tt2

commit 65f8cf4d290fc8ced8761ebb9999886d2c413ef7
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 06:45:40 2011 -0500

    pulling in more copy fields for display; added sample code

9	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
30	4	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
0	11	Open-ILS/web/templates/default/opac/record.tt2

commit 8d12ceb700e21f31a38264519544a113fcbaaa13
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 15 13:37:47 2011 -0500

    "Items Ready For Pickup" works
    
    This uses the holds page of myopac with a special param.
    Also, tiny bit of JS just to focus the username field on the login page.
    Couldn't resist.

7	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
2	1	Open-ILS/web/css/skin/default/opac/semiauto.css
11	0	Open-ILS/web/templates/default/opac/login.tt2
1	2	Open-ILS/web/templates/default/opac/myopac/circs.tt2
16	3	Open-ILS/web/templates/default/opac/myopac/holds.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/main.tt2
1	1	Open-ILS/web/templates/default/opac/parts/login/form.tt2

commit b36ac359587491cb166cd02ca0c22afaa404598a
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 15 12:19:11 2011 -0500

    "format" aka item_type (?) search working, I think

5	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
6	32	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
38	0	Open-ILS/web/templates/default/opac/parts/header.tt2
0	33	Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit 337c1d7b3f8a847245160df7e742e6a32769200d
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 15 10:39:16 2011 -0500

    Judgment call. I think this just looks better.

8	11	Open-ILS/web/templates/default/opac/myopac/main.tt2

commit 1c4cd8ed23a02d787467a902f3ad8dd4e3e50f0c
Author: berick <berick@esilibrary.com>
Date:   Tue Feb 15 10:32:04 2011 -0500

    make money string localizable

1	1	Open-ILS/web/templates/default/opac/parts/header.tt2

commit df495eff86056f135bf9babff809f3e2180e35f7
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 15 10:31:44 2011 -0500

    show grocery fines; define date format in a single location

1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
2	2	Open-ILS/web/templates/default/opac/myopac/holds.tt2
33	22	Open-ILS/web/templates/default/opac/myopac/main.tt2
3	1	Open-ILS/web/templates/default/opac/parts/header.tt2

commit 367463e4ea4eee8d5a8dd9edd6fcba8d8f6fc553
Author: berick <berick@esilibrary.com>
Date:   Tue Feb 15 10:19:40 2011 -0500

    heh, rolling bcak unintended addition of test code

1	1	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit 4fa8c92e0db026b98104933bdecff8331d23b5cd
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 06:28:50 2011 -0500

    added support for copy paging/sorting

88	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
11	0	Open-ILS/web/templates/default/opac/record.tt2

commit 5f7b04b9a2860f3832651c7fb2dcf344cc043a2d
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 05:24:57 2011 -0500

    when a secure page is requested insecurely, direct to login page, then redirect to the originally requested page after successful login.  This removes the need for explicit redirect_to and https:// in secure links

15	10	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
1	2	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit e1e3421f212da4307afdc777214191a53014008b
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Mon Feb 14 04:23:46 2011 -0500

    fixed holds sorting; my-account link redirects to my-account; i18n cleanup

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
9	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
1	1	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
10	14	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit 93f2ebdb011d7b2c69df367ad29a6ba4ca6acda3
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 14 17:40:27 2011 -0500

    work on myopac fines, displayed in account summary (myopac/main)

3	1	Open-ILS/src/perlmods/lib/OpenILS/Application/Actor.pm
1	1	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
54	21	Open-ILS/web/templates/default/opac/myopac/main.tt2
1	1	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit b74e0c6c8598cc3ccfb12db90bb4ddd987c3b32b
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 14 13:33:40 2011 -0500

    myopac: more complete display of circs, holds, and fines
    
    not completely complete. still developing.

9	3	Open-ILS/web/templates/default/opac/myopac/circs.tt2
39	14	Open-ILS/web/templates/default/opac/myopac/holds.tt2
8	8	Open-ILS/web/templates/default/opac/myopac/main.tt2
1	2	Open-ILS/web/templates/default/opac/parts/myopac/base.tt2

commit a545b236c1d4d764268a8290bbd4f6d88c2913ca
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 14 11:36:50 2011 -0500

    Move USE * from topnav.tt2 to new header.tt2; also some myopac work
    
    Minor progress in myopac/main and myopac/circs

2	1	Open-ILS/web/templates/default/opac/advanced.tt2
2	1	Open-ILS/web/templates/default/opac/home.tt2
2	2	Open-ILS/web/templates/default/opac/login.tt2
16	5	Open-ILS/web/templates/default/opac/myopac/circs.tt2
2	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
2	1	Open-ILS/web/templates/default/opac/myopac/lists.tt2
5	4	Open-ILS/web/templates/default/opac/myopac/main.tt2
2	1	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
4	0	Open-ILS/web/templates/default/opac/parts/header.tt2
4	4	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
0	3	Open-ILS/web/templates/default/opac/parts/topnav.tt2
2	1	Open-ILS/web/templates/default/opac/place_hold.tt2
2	1	Open-ILS/web/templates/default/opac/record.tt2
1	1	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/header.tt2

commit f017d1261c369b9b5cc3c9cfc4f50d3cdf12a445
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Mon Feb 14 07:22:11 2011 +0000

    Enable MFHD tests to find their testdata
    
    When the MFHD tests wrapped in mfhd.t are invoked from outside of the directory,
    they tests failed to find the mfhddata.txt file. Judicious use of the __FILE__
    special literal and File::Basename::dirname() avoids that problem. Now we just
    need to munge @INC to ensure that testlib.pm can be resolved (and hope that
    no conflicts ever turn up).
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19442 dcc99617-32d9-48b4-a31d-7c20da2025e4

3	1	Open-ILS/src/perlmods/lib/OpenILS/Utils/MFHD/test/mfhd.t

commit 0d9685eb39d25cb1816841db9b0c73041fa59fd0
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Feb 13 19:06:21 2011 -0500

    localization fixed for plac hold UI

42	25	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit 978935141ae5d4a9c791c4d03adf7b7d4f1b7803
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Feb 13 18:34:02 2011 -0500

    template cleanup;  localizing strings and mild style tweaks; more to come

3	6	Open-ILS/web/templates/default/opac/advanced.tt2
26	57	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
1	1	Open-ILS/web/templates/default/opac/parts/base.tt2
3	3	Open-ILS/web/templates/default/opac/results.tt2

commit 141fb8994fde8af1a1904bfc5219f7291d81c079
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 14 10:39:54 2011 -0500

    hold placement works better

4	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
3	3	Open-ILS/web/templates/default/opac-poc/place_hold.tt2
16	0	Open-ILS/web/templates/default/opac/parts/place_hold.tt2

commit 1754a52a505eaf6d486fc1b0f4c781cb280949f1
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Feb 13 17:44:04 2011 -0500

    moved some code out of the main catloader module into function-specific sub-modules.  Note, sub-modules still retain the OpenILS::WWW::EGCatLoader package name to ease subclassing of the top-level loader object

29	737	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
498	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
35	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
99	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
118	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Account.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Record.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Search.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader/Util.pm

commit 7e83b0b0f03c6667d0a34a720f2a92b4b1f44e25
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Sun Feb 13 03:14:21 2011 +0000

    Teach authority_control_fields.pl about record ranges
    
    Passing --record 10,000 times at the command line sucks, and
    --all is not particularly realistic for large databases. Adding
    --start_id and --end_id makes this script more usable.
    
    Also provide reasonably full POD documentation, and rely on
    Pod::Usage to provide help based on it when help is requested
    or passed in options don't make sense.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19439 dcc99617-32d9-48b4-a31d-7c20da2025e4

135	46	Open-ILS/src/support-scripts/authority_control_fields.pl
 mode change 100644 => 100755 Open-ILS/src/support-scripts/authority_control_fields.pl

commit e7bfcc44320c79a06e33f14348342ef715cea856
Author: dbs <dbs@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 11 21:39:48 2011 +0000

    Normalize ISBNs by stripping hyphens in search methods and in reporter.materialized_simple_record
    
    We weren't normalizing ISBNs in search or in reporter.materialized_simple_record
    which required users to exactly match the form of the ISBN as entered in the
    MARC record to get a successful search result - pretty hit or miss.
    
    The longer term fix in 2.0 and above is to make the ISBN search search against
    the identifier|isbn index, which also gets ISBN10/ISBN13 equivalence goodness.
    But this patch will be relatively easy to backport through to 1.6.1 and plugs
    some of the holes in our exposed APIs and search points in the short term.
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19432 dcc99617-32d9-48b4-a31d-7c20da2025e4

4	0	Open-ILS/src/perlmods/lib/OpenILS/Application/Search/Biblio.pm
1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
4	4	Open-ILS/src/sql/Pg/reporter-schema.sql
74	0	Open-ILS/src/sql/Pg/upgrade/0485.schema.reporter_strip_isbns.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0485.schema.reporter_strip_isbns.sql

commit aa420ea5d2ca5294c4401157510ace2dd63dfc5a
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 11 15:12:52 2011 -0500

    A start with record detail page

1	0	Open-ILS/web/css/skin/default/opac/style.css
34	30	Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
9	1	Open-ILS/web/templates/default/opac/parts/record/body.tt2
33	22	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
1	1	Open-ILS/web/templates/default/opac/parts/result/table.tt2

commit 35f51953ef3699c3f00cc68e5a6a2a93d0bb1bc0
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 11 02:38:45 2011 +0000

    bump xulrunner version
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19430 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/xul/staff_client/Makefile.am

commit c6c03f936451a110a8ae227d10f4452d14f77a62
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Fri Feb 11 00:49:40 2011 +0000

    Postgres 9.0 is more strict about variable names in functions. We will probably hit more of these, but these in particular break the OPAC.
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19427 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
34	34	Open-ILS/src/sql/Pg/040.schema.asset.sql
308	0	Open-ILS/src/sql/Pg/upgrade/0484.sql.pg-90-compat.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0484.sql.pg-90-compat.sql

commit b04e091da415a1bb1d00ffd10a913a13c4175d1b
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 10 17:24:05 2011 -0500

    advanced page doesn't need login first

5	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 28af7cb3b7445131c014a0cfef7e33f08d29c822
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 10 16:51:19 2011 -0500

    start using a centrally hard-coded ctx.opac_root

2	2	Open-ILS/web/templates/default/opac/myopac/main.tt2
4	4	Open-ILS/web/templates/default/opac/parts/base.tt2
4	4	Open-ILS/web/templates/default/opac/parts/result/table.tt2
3	3	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
6	6	Open-ILS/web/templates/default/opac/parts/topnav.tt2
1	1	Open-ILS/web/templates/default/opac/parts/utils.tt2
2	2	Open-ILS/web/templates/default/opac/results.tt2

commit 8cf25f2f91244cfe99c6067d7af8bac8109c0b87
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 10 16:11:37 2011 -0500

    the user account "dashboard"/mini-myopac works on every page now

49	6	Open-ILS/web/css/skin/default/opac/style.css
2	4	Open-ILS/web/templates/default/opac/parts/base.tt2
91	0	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit 84896be5ecb23d87ce2c3732d288d010bca0d337
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 10 14:04:56 2011 -0500

    whitespace and minor stuff

5	3	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
18	16	Open-ILS/web/templates/default/opac/parts/topnav.tt2

commit 9f49869b4c1823394a66317bb802972ce618cc2f
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 10 13:15:19 2011 -0500

    some progress on the place_hold page; ou selector improvements, etc

2	6	Open-ILS/web/css/skin/default/opac/style.css
1	1	Open-ILS/web/templates/default/opac/home.tt2
8	1	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
0	33	Open-ILS/web/templates/default/opac/parts/libselect.tt2
23	0	Open-ILS/web/templates/default/opac/parts/org_selector.tt2
75	56	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
9	2	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/parts/libselect.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/org_selector.tt2

commit 7c046a3f8cfb6e312890c1dcaf5ac082fca09a72
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Thu Feb 10 12:25:29 2011 -0500

    login form cleanup and implementation of login-failure handling; more to come

46	40	Open-ILS/web/templates/default/opac/parts/login/form.tt2

commit 2b9beb11b25603682e134af840af23fe24233005
Author: berick <berick@esilibrary.com>
Date:   Thu Feb 10 11:56:59 2011 -0500

    added i18n filter support for translating text blocks via filters; more login form cleanup; moved some global USE's into topnav

6	3	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
4	2	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
19	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/I18NFilter.pm
1	0	Open-ILS/web/templates/default/opac/login.tt2
25	14	Open-ILS/web/templates/default/opac/parts/login/form.tt2
4	0	Open-ILS/web/templates/default/opac/parts/topnav.tt2
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb/I18NFilter.pm

commit 3e8f8e7b9e6e024864870e008bfc1b4fea5c73a0
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Thu Feb 10 11:14:41 2011 -0500

    added support for login via barcode and persistent logins; capturing login failures; use cache infrastructure for fetching/caching cmf objects

28	24	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 866d1fe3f0d7fa68ecfb0dbc09a5c536624fca9a
Author: miker <miker@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Thu Feb 10 14:56:01 2011 +0000

    Patch from Thomas Berezansky addressing his recent dynamic circ/hold field weighting patch.
    
    Due to an oversight of auto-casting on my part dynamic weighting may incorrectly order similar rows that differ only in org unit or permission group.
    
    Bad me for not testing for that case before now.
    
    The attached patch should fix this. All it does is replace two functions, and in them replaces one INT variable with a NUMERIC(6,2) and a pile of integer constants with numeric constants (by virtue of adding .0 to them).
    
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19422 dcc99617-32d9-48b4-a31d-7c20da2025e4

1	1	Open-ILS/src/sql/Pg/002.schema.config.sql
29	29	Open-ILS/src/sql/Pg/100.circ_matrix.sql
27	27	Open-ILS/src/sql/Pg/110.hold_matrix.sql
262	0	Open-ILS/src/sql/Pg/upgrade/0483.dynamic_weights_fix.sql
 create mode 100644 Open-ILS/src/sql/Pg/upgrade/0483.dynamic_weights_fix.sql

commit 49718967bc10697f6fe9bf076e9fba5ad6bf44e3
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Feb 9 16:11:28 2011 -0500

    misc work on the results page, including:
    
    hold placement link,
    result prev/next page links on top and bottom,
    edition and physical description,
    add in previously missing filtersort template

6	10	Open-ILS/web/css/skin/default/opac/style.css
10	0	Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
19	0	Open-ILS/web/templates/default/opac/parts/result/filtersort.tt2
11	8	Open-ILS/web/templates/default/opac/parts/result/header.tt2
6	58	Open-ILS/web/templates/default/opac/parts/result/table.tt2
4	6	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/result/filtersort.tt2

commit 91ed77750301c2a952464feec36d161e31348d60
Author: dbwells <dbwells@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 9 18:57:50 2011 +0000

    Reduce hard-coded strings in Serial Control interfaces
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19419 dcc99617-32d9-48b4-a31d-7c20da2025e4

15	15	Open-ILS/examples/fm_IDL.xml
18	0	Open-ILS/web/opac/locale/en-US/lang.dtd
7	2	Open-ILS/xul/staff_client/server/serial/editor_base.js
18	18	Open-ILS/xul/staff_client/server/serial/manage_items.xul
3	6	Open-ILS/xul/staff_client/server/serial/sbsum_editor.js
6	10	Open-ILS/xul/staff_client/server/serial/scap_editor.js
16	25	Open-ILS/xul/staff_client/server/serial/sdist_editor.js
15	17	Open-ILS/xul/staff_client/server/serial/siss_editor.js
1	2	Open-ILS/xul/staff_client/server/serial/siss_editor.xul
3	6	Open-ILS/xul/staff_client/server/serial/sisum_editor.js
7	10	Open-ILS/xul/staff_client/server/serial/sitem_editor.js
3	6	Open-ILS/xul/staff_client/server/serial/sssum_editor.js
4	4	Open-ILS/xul/staff_client/server/serial/sstr_editor.js
6	8	Open-ILS/xul/staff_client/server/serial/ssub_editor.js

commit 7cbdee693ecb6aa9838bab5f08805b8680751e20
Author: erickson <erickson@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Wed Feb 9 18:22:14 2011 +0000

    allow item status update if either status-specific perm is allowed or UPDATE_COPY is allowed.  fire off related A/T events after the initial transaction has been committed
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19414 dcc99617-32d9-48b4-a31d-7c20da2025e4

8	6	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ.pm

commit 1df9d37914ff46e404197ea38f4f8949754ad6db
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Feb 9 13:14:51 2011 -0500

    remove duplicate variable def

0	2	Open-ILS/src/perlmods/lib/OpenILS/Application/Circ/Holds.pm

commit 2883a774560b8ec6929708cdcf80408306e413cd
Author: berick <berick@esilibrary.com>
Date:   Wed Feb 9 12:29:26 2011 -0500

    if no locale config is present in oils_web, assume en_US exists and is valid

2	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm

commit aca56e2f6e44b4158fe5184a82f00054fac25e51
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 8 18:12:05 2011 -0500

    hey, maybe I should commit sometime today
    
    results page partly working. woof.

2	2	Open-ILS/web/css/skin/default/opac/style.css
1	1	Open-ILS/web/templates/default/opac/parts/libselect.tt2
52	0	Open-ILS/web/templates/default/opac/parts/marc_misc.tt2
32	13	Open-ILS/web/templates/default/opac/parts/result/header.tt2
44	39	Open-ILS/web/templates/default/opac/parts/result/table.tt2
12	3	Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/marc_misc.tt2

commit ffee5be1c59a04f1f82076046e88e0f178cca4a1
Author: phasefx <phasefx@dcc99617-32d9-48b4-a31d-7c20da2025e4>
Date:   Tue Feb 8 22:52:31 2011 +0000

    tweak selector used for font_helper() CSS classes
    
    Makes the flat-text MARC editor respect the global font settings,
    resolving bug https://bugs.launchpad.net/evergreen/+bug/678078
    
    Signed-off-by: Galen Charlton <gmc@esilibrary.com>
    Signed-off-by: Jason Etheridge <jason@esilibrary.com>
    
    
    git-svn-id: svn://svn.open-ils.org/ILS/trunk@19411 dcc99617-32d9-48b4-a31d-7c20da2025e4

23	23	Open-ILS/xul/staff_client/server/skin/global.css

commit 1289e7ff7822adf27c08728f0e86fd8badb3a075
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 17:44:46 2011 -0500

    home page looks like kcls prod version now rather than dev

2	0	Open-ILS/web/css/skin/default/opac/semiauto.css
10	3	Open-ILS/web/css/skin/default/opac/style.css
-	-	Open-ILS/web/images/hp-links-left.jpg
-	-	Open-ILS/web/images/hp-links-right.jpg
58	81	Open-ILS/web/templates/default/opac/parts/homesearch.tt2

commit 1b9f22f9f62ad68cd2ca89935d85cfd1759d6165
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 17:10:38 2011 -0500

    basic search "works" inasmuch as it leads to a GET request against the
    results page as it should. not that the results page itself works yet.

25	1	Open-ILS/web/templates/default/opac/parts/libselect.tt2
13	17	Open-ILS/web/templates/default/opac/parts/searchbar.tt2

commit 7aefacf2bfac861fc33359dd0b53b27635637466
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 16:53:28 2011 -0500

    login page working (just for login, not the extras like "remember me")

6	3	Open-ILS/web/templates/default/opac/parts/login/form.tt2

commit 2519f02ee60cebd34bd9c2df52aaff906bb8d6d5
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 16:46:39 2011 -0500

    ctx.media_prefix for all images and css

6	6	Open-ILS/web/templates/default/opac/myopac/circs.tt2
6	6	Open-ILS/web/templates/default/opac/myopac/holds.tt2
8	8	Open-ILS/web/templates/default/opac/myopac/lists.tt2
10	10	Open-ILS/web/templates/default/opac/myopac/main.tt2
10	10	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
3	3	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
3	3	Open-ILS/web/templates/default/opac/parts/base.tt2
6	6	Open-ILS/web/templates/default/opac/parts/homesearch.tt2
3	3	Open-ILS/web/templates/default/opac/parts/login/form.tt2
2	2	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
13	13	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
9	9	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
3	3	Open-ILS/web/templates/default/opac/parts/result/table.tt2
3	3	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
4	4	Open-ILS/web/templates/default/opac/parts/topnav.tt2
7	7	Open-ILS/web/templates/default/opac/parts/utils.tt2
9	9	Open-ILS/web/templates/default/opac/results.tt2

commit 2fcf69269eed8d0e9d3f5e4a05a22223bf91d7cb
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 16:41:20 2011 -0500

    Render entities as calls to l(). Goodbye DTD

8	8	Open-ILS/web/templates/default/opac/myopac/circs.tt2
14	14	Open-ILS/web/templates/default/opac/myopac/holds.tt2
35	35	Open-ILS/web/templates/default/opac/myopac/lists.tt2
27	27	Open-ILS/web/templates/default/opac/myopac/main.tt2
90	88	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
8	8	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
49	49	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
5	5	Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
7	7	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
1	1	Open-ILS/web/templates/default/opac/parts/libselect.tt2
19	15	Open-ILS/web/templates/default/opac/parts/login/form.tt2
58	58	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
14	14	Open-ILS/web/templates/default/opac/parts/record/body.tt2
25	25	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
12	12	Open-ILS/web/templates/default/opac/parts/record/copyinfo.tt2
15	15	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
13	13	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
5	5	Open-ILS/web/templates/default/opac/parts/result/header.tt2
13	13	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
9	9	Open-ILS/web/templates/default/opac/parts/result/table.tt2
5	5	Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2
3	3	Open-ILS/web/templates/default/opac/parts/tips.tt2

commit d20c608f2e74d20a95cc5da5b6106638a303e47b
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 15:35:14 2011 -0500

    preparing a could of docs for entitization (fix wrong ent references)

1	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
1	1	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
1	1	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
1	1	Open-ILS/web/templates/default/opac/parts/login/form.tt2

commit b6112dcf5cc22e7b4025f238dd7a9a7c1a65c016
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 14:01:39 2011 -0500

    Shove the POC out of the way, move the KCLS-derived stuff in

0	25	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
0	15	Open-ILS/web/templates/default/kcls-wire/home.tt2
0	14	Open-ILS/web/templates/default/kcls-wire/login.tt2
0	179	Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2
0	204	Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
0	280	Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
0	421	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
0	777	Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
0	24	Open-ILS/web/templates/default/kcls-wire/parts/advanced/global_row.tt2
0	332	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
0	21	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
0	44	Open-ILS/web/templates/default/kcls-wire/parts/cn_browse.tt2
0	25	Open-ILS/web/templates/default/kcls-wire/parts/footer.tt2
0	42	Open-ILS/web/templates/default/kcls-wire/parts/format_selector.tt2
0	87	Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
0	28	Open-ILS/web/templates/default/kcls-wire/parts/item_lang_options.tt2
0	9	Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
0	147	Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
0	35	Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2
0	287	Open-ILS/web/templates/default/kcls-wire/parts/place_hold.tt2
0	113	Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
0	102	Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
0	68	Open-ILS/web/templates/default/kcls-wire/parts/record/copyinfo.tt2
0	321	Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
0	194	Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2
0	38	Open-ILS/web/templates/default/kcls-wire/parts/result/header.tt2
0	93	Open-ILS/web/templates/default/kcls-wire/parts/result/lowhits.tt2
0	258	Open-ILS/web/templates/default/kcls-wire/parts/result/table.tt2
0	57	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
0	10	Open-ILS/web/templates/default/kcls-wire/parts/stypes_selector.tt2
0	11	Open-ILS/web/templates/default/kcls-wire/parts/tips.tt2
0	31	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
0	30	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2
0	15	Open-ILS/web/templates/default/kcls-wire/place_hold.tt2
0	14	Open-ILS/web/templates/default/kcls-wire/record.tt2
0	60	Open-ILS/web/templates/default/kcls-wire/results.tt2
12	0	Open-ILS/web/templates/default/opac-poc/base.tt2
58	0	Open-ILS/web/templates/default/opac-poc/common.tt2
24	0	Open-ILS/web/templates/default/opac-poc/home.tt2
32	0	Open-ILS/web/templates/default/opac-poc/login.tt2
18	0	Open-ILS/web/templates/default/opac-poc/marc_attrs.tt2
20	0	Open-ILS/web/templates/default/opac-poc/myopac/_links.tt2
52	0	Open-ILS/web/templates/default/opac-poc/myopac/bookbags.tt2
77	0	Open-ILS/web/templates/default/opac-poc/myopac/circs.tt2
107	0	Open-ILS/web/templates/default/opac-poc/myopac/fines.tt2
94	0	Open-ILS/web/templates/default/opac-poc/myopac/holds.tt2
39	0	Open-ILS/web/templates/default/opac-poc/myopac/main.tt2
15	0	Open-ILS/web/templates/default/opac-poc/myopac/prefs.tt2
20	0	Open-ILS/web/templates/default/opac-poc/myopac/update_email.tt2
33	0	Open-ILS/web/templates/default/opac-poc/place_hold.tt2
82	0	Open-ILS/web/templates/default/opac-poc/record.tt2
117	0	Open-ILS/web/templates/default/opac-poc/results.tt2
25	0	Open-ILS/web/templates/default/opac/advanced.tt2
0	12	Open-ILS/web/templates/default/opac/base.tt2
0	58	Open-ILS/web/templates/default/opac/common.tt2
14	23	Open-ILS/web/templates/default/opac/home.tt2
13	31	Open-ILS/web/templates/default/opac/login.tt2
0	18	Open-ILS/web/templates/default/opac/marc_attrs.tt2
0	20	Open-ILS/web/templates/default/opac/myopac/_links.tt2
0	52	Open-ILS/web/templates/default/opac/myopac/bookbags.tt2
172	70	Open-ILS/web/templates/default/opac/myopac/circs.tt2
0	107	Open-ILS/web/templates/default/opac/myopac/fines.tt2
195	85	Open-ILS/web/templates/default/opac/myopac/holds.tt2
280	0	Open-ILS/web/templates/default/opac/myopac/lists.tt2
419	37	Open-ILS/web/templates/default/opac/myopac/main.tt2
774	12	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
0	20	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
24	0	Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
332	0	Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
21	0	Open-ILS/web/templates/default/opac/parts/base.tt2
44	0	Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
25	0	Open-ILS/web/templates/default/opac/parts/footer.tt2
42	0	Open-ILS/web/templates/default/opac/parts/format_selector.tt2
87	0	Open-ILS/web/templates/default/opac/parts/homesearch.tt2
28	0	Open-ILS/web/templates/default/opac/parts/item_lang_options.tt2
9	0	Open-ILS/web/templates/default/opac/parts/libselect.tt2
147	0	Open-ILS/web/templates/default/opac/parts/login/form.tt2
35	0	Open-ILS/web/templates/default/opac/parts/myopac/base.tt2
287	0	Open-ILS/web/templates/default/opac/parts/place_hold.tt2
113	0	Open-ILS/web/templates/default/opac/parts/record/body.tt2
102	0	Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
68	0	Open-ILS/web/templates/default/opac/parts/record/copyinfo.tt2
321	0	Open-ILS/web/templates/default/opac/parts/record/extras.tt2
194	0	Open-ILS/web/templates/default/opac/parts/record/summary.tt2
38	0	Open-ILS/web/templates/default/opac/parts/result/header.tt2
93	0	Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
258	0	Open-ILS/web/templates/default/opac/parts/result/table.tt2
57	0	Open-ILS/web/templates/default/opac/parts/searchbar.tt2
10	0	Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2
11	0	Open-ILS/web/templates/default/opac/parts/tips.tt2
31	0	Open-ILS/web/templates/default/opac/parts/topnav.tt2
30	0	Open-ILS/web/templates/default/opac/parts/utils.tt2
14	32	Open-ILS/web/templates/default/opac/place_hold.tt2
13	81	Open-ILS/web/templates/default/opac/record.tt2
57	114	Open-ILS/web/templates/default/opac/results.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/advanced.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/home.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/login.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/advanced/global_row.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/cn_browse.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/footer.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/format_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/item_lang_options.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/place_hold.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/copyinfo.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result/header.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result/lowhits.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result/table.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/stypes_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/tips.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/place_hold.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/record.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/common.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/home.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/login.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/marc_attrs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/_links.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/bookbags.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/circs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/fines.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/holds.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/main.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/prefs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/myopac/update_email.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/record.tt2
 create mode 100644 Open-ILS/web/templates/default/opac-poc/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/advanced.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/common.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/marc_attrs.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/_links.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/bookbags.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/fines.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/lists.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/update_email.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/global_row.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/advanced/search.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/cn_browse.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/footer.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/format_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/homesearch.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/item_lang_options.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/libselect.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/login/form.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/myopac/base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/body.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/cn_details.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/copyinfo.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/extras.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/record/summary.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/result/header.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/result/lowhits.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/result/table.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/searchbar.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/stypes_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/tips.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/topnav.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/parts/utils.tt2

commit 7e4e304b2cd1a828638a42094e508ce52970447f
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 12:36:35 2011 -0500

    Big move of css, images, js

39	0	Open-ILS/web/css/skin/default/opac/contentslider.css
184	0	Open-ILS/web/css/skin/default/opac/semiauto.css
887	0	Open-ILS/web/css/skin/default/opac/style.css
-	-	Open-ILS/web/images/KCLS_logo_horiz.gif
-	-	Open-ILS/web/images/acct-btn-hover.png
-	-	Open-ILS/web/images/acct-btn.png
-	-	Open-ILS/web/images/acct_checked_out_off.gif
-	-	Open-ILS/web/images/acct_checked_out_on.gif
-	-	Open-ILS/web/images/acct_favs_off.gif
-	-	Open-ILS/web/images/acct_favs_on.gif
-	-	Open-ILS/web/images/acct_holds_off.gif
-	-	Open-ILS/web/images/acct_holds_on.gif
-	-	Open-ILS/web/images/acct_lists_off.gif
-	-	Open-ILS/web/images/acct_lists_on.gif
-	-	Open-ILS/web/images/acct_prefs_off.gif
-	-	Open-ILS/web/images/acct_prefs_on.gif
-	-	Open-ILS/web/images/acct_sum_fines_bl.png
-	-	Open-ILS/web/images/acct_sum_fines_br.png
-	-	Open-ILS/web/images/acct_sum_fines_tl.png
-	-	Open-ILS/web/images/acct_sum_fines_tr.png
-	-	Open-ILS/web/images/acct_summary_off.gif
-	-	Open-ILS/web/images/acct_summary_on.gif
-	-	Open-ILS/web/images/add_mylist.gif
-	-	Open-ILS/web/images/add_mylist_sel.gif
-	-	Open-ILS/web/images/add_mylist_sel.kcls.gif
-	-	Open-ILS/web/images/add_search_row_btn.gif
-	-	Open-ILS/web/images/adv_search.png
-	-	Open-ILS/web/images/adv_search_hover.png
-	-	Open-ILS/web/images/adv_search_off.gif
-	-	Open-ILS/web/images/adv_search_on.gif
-	-	Open-ILS/web/images/another_search.png
-	-	Open-ILS/web/images/another_search_hover.png
-	-	Open-ILS/web/images/arrow-down.gif
-	-	Open-ILS/web/images/arrow-right.gif
-	-	Open-ILS/web/images/arrow-right.png
-	-	Open-ILS/web/images/asknow_available.gif
-	-	Open-ILS/web/images/banner-bg.png
-	-	Open-ILS/web/images/banner1.jpg
-	-	Open-ILS/web/images/btnCancel.png
-	-	Open-ILS/web/images/btnSubmit.png
-	-	Open-ILS/web/images/button-bg.png
-	-	Open-ILS/web/images/cancel_btn.gif
-	-	Open-ILS/web/images/cd-small.png
-	-	Open-ILS/web/images/clipboard.png
-	-	Open-ILS/web/images/dash-corner-left1.png
-	-	Open-ILS/web/images/dash-corner-left2.png
-	-	Open-ILS/web/images/dash-corner-mid1.png
-	-	Open-ILS/web/images/dash-corner-mid2.png
-	-	Open-ILS/web/images/dash-corner-right1.png
-	-	Open-ILS/web/images/dash-corner-right2.png
-	-	Open-ILS/web/images/dash-divider.jpg
-	-	Open-ILS/web/images/dropdown-hover.gif
-	-	Open-ILS/web/images/dropdown.gif
-	-	Open-ILS/web/images/expert_search_off.gif
-	-	Open-ILS/web/images/expert_search_on.gif
-	-	Open-ILS/web/images/faqs-btn.png
-	-	Open-ILS/web/images/go-btn-hover.png
-	-	Open-ILS/web/images/go-btn.png
-	-	Open-ILS/web/images/go_but_long.gif
-	-	Open-ILS/web/images/golive.jpg
-	-	Open-ILS/web/images/gray-arrow.png
-	-	Open-ILS/web/images/green_check.png
-	-	Open-ILS/web/images/header_left.gif
-	-	Open-ILS/web/images/header_right.gif
-	-	Open-ILS/web/images/hp-links-left.jpg
-	-	Open-ILS/web/images/hp-links-mid.jpg
-	-	Open-ILS/web/images/hp-links-right.jpg
-	-	Open-ILS/web/images/locations.jpg
-	-	Open-ILS/web/images/login-bg.jpg
-	-	Open-ILS/web/images/login-bg2.jpg
-	-	Open-ILS/web/images/login-box-bg.jpg
-	-	Open-ILS/web/images/login-btn-hover.png
-	-	Open-ILS/web/images/login-btn.gif
-	-	Open-ILS/web/images/login-btn.png
-	-	Open-ILS/web/images/login-btn2.png
-	-	Open-ILS/web/images/logout-btn-hover.png
-	-	Open-ILS/web/images/logout-btn.png
-	-	Open-ILS/web/images/media_3dobject.jpg
-	-	Open-ILS/web/images/media_book.jpg
-	-	Open-ILS/web/images/media_bookoncassette.jpg
-	-	Open-ILS/web/images/media_bookoncassettecd.jpg
-	-	Open-ILS/web/images/media_bookoncd.jpg
-	-	Open-ILS/web/images/media_cassettewithbook.jpg
-	-	Open-ILS/web/images/media_cdrom.jpg
-	-	Open-ILS/web/images/media_cdwithbook.jpg
-	-	Open-ILS/web/images/media_downloadebook.jpg
-	-	Open-ILS/web/images/media_downloadmusic.jpg
-	-	Open-ILS/web/images/media_downloadvideo.jpg
-	-	Open-ILS/web/images/media_dvd.jpg
-	-	Open-ILS/web/images/media_eaudio.jpg
-	-	Open-ILS/web/images/media_ebooktext.jpg
-	-	Open-ILS/web/images/media_equipment.jpg
-	-	Open-ILS/web/images/media_films.jpg
-	-	Open-ILS/web/images/media_games.jpg
-	-	Open-ILS/web/images/media_kit.jpg
-	-	Open-ILS/web/images/media_language.jpg
-	-	Open-ILS/web/images/media_largeprint.jpg
-	-	Open-ILS/web/images/media_magazines.jpg
-	-	Open-ILS/web/images/media_map.jpg
-	-	Open-ILS/web/images/media_microform.jpg
-	-	Open-ILS/web/images/media_musiccassete.jpg
-	-	Open-ILS/web/images/media_musiccassette.jpg
-	-	Open-ILS/web/images/media_musiccd.jpg
-	-	Open-ILS/web/images/media_musicrecord.jpg
-	-	Open-ILS/web/images/media_newspaper.jpg
-	-	Open-ILS/web/images/media_online.jpg
-	-	Open-ILS/web/images/media_onlinejournal.jpg
-	-	Open-ILS/web/images/media_podcasts.jpg
-	-	Open-ILS/web/images/media_printedmusic.jpg
-	-	Open-ILS/web/images/media_projectedmedia.jpg
-	-	Open-ILS/web/images/media_sheetmusic.jpg
-	-	Open-ILS/web/images/media_slide.jpg
-	-	Open-ILS/web/images/media_software.jpg
-	-	Open-ILS/web/images/media_streamingaudio.jpg
-	-	Open-ILS/web/images/media_streamingvideo.jpg
-	-	Open-ILS/web/images/media_vhs.jpg
-	-	Open-ILS/web/images/num_search_off.gif
-	-	Open-ILS/web/images/num_search_on.gif
-	-	Open-ILS/web/images/one_land.gif
-	-	Open-ILS/web/images/pay-fines-btn-hover.png
-	-	Open-ILS/web/images/pay-fines-btn.png
-	-	Open-ILS/web/images/pay_fines_btn.gif
-	-	Open-ILS/web/images/place_hold.gif
-	-	Open-ILS/web/images/plus_sign.png
-	-	Open-ILS/web/images/projectedmedia.jpg
-	-	Open-ILS/web/images/question-mark.png
-	-	Open-ILS/web/images/questions.png
-	-	Open-ILS/web/images/rdetail_arrow.png
-	-	Open-ILS/web/images/reset_form_btn.gif
-	-	Open-ILS/web/images/reviews.gif
-	-	Open-ILS/web/images/save-btn.png
-	-	Open-ILS/web/images/save_btn.gif
-	-	Open-ILS/web/images/search_btn.gif
-	-	Open-ILS/web/images/starz.png
-	-	Open-ILS/web/images/sub_checked_hist_off.jpg
-	-	Open-ILS/web/images/sub_checked_hist_on.jpg
-	-	Open-ILS/web/images/sub_checked_out_off.jpg
-	-	Open-ILS/web/images/sub_checked_out_on.jpg
-	-	Open-ILS/web/images/sub_holds_hist_off.jpg
-	-	Open-ILS/web/images/sub_holds_hist_on.jpg
-	-	Open-ILS/web/images/sub_holds_off.jpg
-	-	Open-ILS/web/images/sub_holds_on.jpg
-	-	Open-ILS/web/images/sub_prefs_info_off.jpg
-	-	Open-ILS/web/images/sub_prefs_info_on.jpg
-	-	Open-ILS/web/images/sub_prefs_notify_off.jpg
-	-	Open-ILS/web/images/sub_prefs_notify_on.jpg
-	-	Open-ILS/web/images/sub_prefs_search_off.jpg
-	-	Open-ILS/web/images/sub_prefs_search_on.jpg
-	-	Open-ILS/web/images/submit_btn.gif
-	-	Open-ILS/web/images/tool_back.gif
-	-	Open-ILS/web/images/tool_back.png
-	-	Open-ILS/web/images/tool_font.gif
-	-	Open-ILS/web/images/tool_forward.gif
-	-	Open-ILS/web/images/tool_forward.png
-	-	Open-ILS/web/images/tool_help.gif
-	-	Open-ILS/web/images/tool_help.png
-	-	Open-ILS/web/images/tool_home.gif
-	-	Open-ILS/web/images/tool_home.png
-	-	Open-ILS/web/images/tool_mail.gif
-	-	Open-ILS/web/images/tool_print.gif
-	-	Open-ILS/web/images/tool_print.png
-	-	Open-ILS/web/images/utils-corner-left.png
-	-	Open-ILS/web/images/utils-corner-mid.png
-	-	Open-ILS/web/images/utils-corner-right.jpg
-	-	Open-ILS/web/images/utils-corner-right.png
-	-	Open-ILS/web/images/utils-corner.jpg
-	-	Open-ILS/web/images/view_my_list.png
-	-	Open-ILS/web/images/view_my_list_hover.png
0	39	Open-ILS/web/opac/skin/kcls-wire/css/contentslider.css
0	184	Open-ILS/web/opac/skin/kcls-wire/css/semiauto.css
0	887	Open-ILS/web/opac/skin/kcls-wire/css/style.css
0	177	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
6	6	Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2
6	6	Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
6	6	Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
10	10	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
10	10	Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
6	6	Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/parts/place_hold.tt2
13	13	Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
9	9	Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/result/table.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
4	4	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
7	7	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2
9	9	Open-ILS/web/templates/default/kcls-wire/results.tt2
 create mode 100644 Open-ILS/web/css/skin/default/opac/contentslider.css
 create mode 100644 Open-ILS/web/css/skin/default/opac/semiauto.css
 create mode 100644 Open-ILS/web/css/skin/default/opac/style.css
 create mode 100644 Open-ILS/web/images/KCLS_logo_horiz.gif
 create mode 100644 Open-ILS/web/images/acct-btn-hover.png
 create mode 100644 Open-ILS/web/images/acct-btn.png
 create mode 100644 Open-ILS/web/images/acct_checked_out_off.gif
 create mode 100644 Open-ILS/web/images/acct_checked_out_on.gif
 create mode 100644 Open-ILS/web/images/acct_favs_off.gif
 create mode 100644 Open-ILS/web/images/acct_favs_on.gif
 create mode 100644 Open-ILS/web/images/acct_holds_off.gif
 create mode 100644 Open-ILS/web/images/acct_holds_on.gif
 create mode 100644 Open-ILS/web/images/acct_lists_off.gif
 create mode 100644 Open-ILS/web/images/acct_lists_on.gif
 create mode 100644 Open-ILS/web/images/acct_prefs_off.gif
 create mode 100644 Open-ILS/web/images/acct_prefs_on.gif
 create mode 100644 Open-ILS/web/images/acct_sum_fines_bl.png
 create mode 100644 Open-ILS/web/images/acct_sum_fines_br.png
 create mode 100644 Open-ILS/web/images/acct_sum_fines_tl.png
 create mode 100644 Open-ILS/web/images/acct_sum_fines_tr.png
 create mode 100644 Open-ILS/web/images/acct_summary_off.gif
 create mode 100644 Open-ILS/web/images/acct_summary_on.gif
 create mode 100644 Open-ILS/web/images/add_mylist.gif
 create mode 100644 Open-ILS/web/images/add_mylist_sel.gif
 create mode 100644 Open-ILS/web/images/add_mylist_sel.kcls.gif
 create mode 100644 Open-ILS/web/images/add_search_row_btn.gif
 create mode 100644 Open-ILS/web/images/adv_search.png
 create mode 100644 Open-ILS/web/images/adv_search_hover.png
 create mode 100644 Open-ILS/web/images/adv_search_off.gif
 create mode 100644 Open-ILS/web/images/adv_search_on.gif
 create mode 100644 Open-ILS/web/images/another_search.png
 create mode 100644 Open-ILS/web/images/another_search_hover.png
 create mode 100644 Open-ILS/web/images/arrow-down.gif
 create mode 100644 Open-ILS/web/images/arrow-right.gif
 create mode 100644 Open-ILS/web/images/arrow-right.png
 create mode 100644 Open-ILS/web/images/asknow_available.gif
 create mode 100644 Open-ILS/web/images/banner-bg.png
 create mode 100644 Open-ILS/web/images/banner1.jpg
 create mode 100644 Open-ILS/web/images/btnCancel.png
 create mode 100644 Open-ILS/web/images/btnSubmit.png
 create mode 100644 Open-ILS/web/images/button-bg.png
 create mode 100644 Open-ILS/web/images/cancel_btn.gif
 create mode 100644 Open-ILS/web/images/cd-small.png
 create mode 100644 Open-ILS/web/images/clipboard.png
 create mode 100644 Open-ILS/web/images/dash-corner-left1.png
 create mode 100644 Open-ILS/web/images/dash-corner-left2.png
 create mode 100644 Open-ILS/web/images/dash-corner-mid1.png
 create mode 100644 Open-ILS/web/images/dash-corner-mid2.png
 create mode 100644 Open-ILS/web/images/dash-corner-right1.png
 create mode 100644 Open-ILS/web/images/dash-corner-right2.png
 create mode 100644 Open-ILS/web/images/dash-divider.jpg
 create mode 100644 Open-ILS/web/images/dropdown-hover.gif
 create mode 100644 Open-ILS/web/images/dropdown.gif
 create mode 100644 Open-ILS/web/images/expert_search_off.gif
 create mode 100644 Open-ILS/web/images/expert_search_on.gif
 create mode 100644 Open-ILS/web/images/faqs-btn.png
 create mode 100644 Open-ILS/web/images/go-btn-hover.png
 create mode 100644 Open-ILS/web/images/go-btn.png
 create mode 100644 Open-ILS/web/images/go_but_long.gif
 create mode 100644 Open-ILS/web/images/golive.jpg
 create mode 100644 Open-ILS/web/images/gray-arrow.png
 create mode 100644 Open-ILS/web/images/green_check.png
 create mode 100644 Open-ILS/web/images/header_left.gif
 create mode 100644 Open-ILS/web/images/header_right.gif
 create mode 100644 Open-ILS/web/images/hp-links-left.jpg
 create mode 100644 Open-ILS/web/images/hp-links-mid.jpg
 create mode 100644 Open-ILS/web/images/hp-links-right.jpg
 create mode 100644 Open-ILS/web/images/locations.jpg
 create mode 100644 Open-ILS/web/images/login-bg.jpg
 create mode 100644 Open-ILS/web/images/login-bg2.jpg
 create mode 100644 Open-ILS/web/images/login-box-bg.jpg
 create mode 100644 Open-ILS/web/images/login-btn-hover.png
 create mode 100644 Open-ILS/web/images/login-btn.gif
 create mode 100644 Open-ILS/web/images/login-btn.png
 create mode 100644 Open-ILS/web/images/login-btn2.png
 create mode 100644 Open-ILS/web/images/logout-btn-hover.png
 create mode 100644 Open-ILS/web/images/logout-btn.png
 create mode 100644 Open-ILS/web/images/media_3dobject.jpg
 create mode 100644 Open-ILS/web/images/media_book.jpg
 create mode 100644 Open-ILS/web/images/media_bookoncassette.jpg
 create mode 100644 Open-ILS/web/images/media_bookoncassettecd.jpg
 create mode 100644 Open-ILS/web/images/media_bookoncd.jpg
 create mode 100644 Open-ILS/web/images/media_cassettewithbook.jpg
 create mode 100644 Open-ILS/web/images/media_cdrom.jpg
 create mode 100644 Open-ILS/web/images/media_cdwithbook.jpg
 create mode 100644 Open-ILS/web/images/media_downloadebook.jpg
 create mode 100644 Open-ILS/web/images/media_downloadmusic.jpg
 create mode 100644 Open-ILS/web/images/media_downloadvideo.jpg
 create mode 100644 Open-ILS/web/images/media_dvd.jpg
 create mode 100644 Open-ILS/web/images/media_eaudio.jpg
 create mode 100644 Open-ILS/web/images/media_ebooktext.jpg
 create mode 100644 Open-ILS/web/images/media_equipment.jpg
 create mode 100644 Open-ILS/web/images/media_films.jpg
 create mode 100644 Open-ILS/web/images/media_games.jpg
 create mode 100644 Open-ILS/web/images/media_kit.jpg
 create mode 100644 Open-ILS/web/images/media_language.jpg
 create mode 100644 Open-ILS/web/images/media_largeprint.jpg
 create mode 100644 Open-ILS/web/images/media_magazines.jpg
 create mode 100644 Open-ILS/web/images/media_map.jpg
 create mode 100644 Open-ILS/web/images/media_microform.jpg
 create mode 100644 Open-ILS/web/images/media_musiccassete.jpg
 create mode 100644 Open-ILS/web/images/media_musiccassette.jpg
 create mode 100644 Open-ILS/web/images/media_musiccd.jpg
 create mode 100644 Open-ILS/web/images/media_musicrecord.jpg
 create mode 100644 Open-ILS/web/images/media_newspaper.jpg
 create mode 100644 Open-ILS/web/images/media_online.jpg
 create mode 100644 Open-ILS/web/images/media_onlinejournal.jpg
 create mode 100644 Open-ILS/web/images/media_podcasts.jpg
 create mode 100644 Open-ILS/web/images/media_printedmusic.jpg
 create mode 100644 Open-ILS/web/images/media_projectedmedia.jpg
 create mode 100644 Open-ILS/web/images/media_sheetmusic.jpg
 create mode 100644 Open-ILS/web/images/media_slide.jpg
 create mode 100644 Open-ILS/web/images/media_software.jpg
 create mode 100644 Open-ILS/web/images/media_streamingaudio.jpg
 create mode 100644 Open-ILS/web/images/media_streamingvideo.jpg
 create mode 100644 Open-ILS/web/images/media_vhs.jpg
 create mode 100644 Open-ILS/web/images/num_search_off.gif
 create mode 100644 Open-ILS/web/images/num_search_on.gif
 create mode 100644 Open-ILS/web/images/one_land.gif
 create mode 100644 Open-ILS/web/images/pay-fines-btn-hover.png
 create mode 100644 Open-ILS/web/images/pay-fines-btn.png
 create mode 100644 Open-ILS/web/images/pay_fines_btn.gif
 create mode 100644 Open-ILS/web/images/place_hold.gif
 create mode 100644 Open-ILS/web/images/plus_sign.png
 create mode 100644 Open-ILS/web/images/projectedmedia.jpg
 create mode 100644 Open-ILS/web/images/question-mark.png
 create mode 100644 Open-ILS/web/images/questions.png
 create mode 100644 Open-ILS/web/images/rdetail_arrow.png
 create mode 100644 Open-ILS/web/images/reset_form_btn.gif
 create mode 100644 Open-ILS/web/images/reviews.gif
 create mode 100644 Open-ILS/web/images/save-btn.png
 create mode 100644 Open-ILS/web/images/save_btn.gif
 create mode 100644 Open-ILS/web/images/search_btn.gif
 create mode 100644 Open-ILS/web/images/starz.png
 create mode 100644 Open-ILS/web/images/sub_checked_hist_off.jpg
 create mode 100644 Open-ILS/web/images/sub_checked_hist_on.jpg
 create mode 100644 Open-ILS/web/images/sub_checked_out_off.jpg
 create mode 100644 Open-ILS/web/images/sub_checked_out_on.jpg
 create mode 100644 Open-ILS/web/images/sub_holds_hist_off.jpg
 create mode 100644 Open-ILS/web/images/sub_holds_hist_on.jpg
 create mode 100644 Open-ILS/web/images/sub_holds_off.jpg
 create mode 100644 Open-ILS/web/images/sub_holds_on.jpg
 create mode 100644 Open-ILS/web/images/sub_prefs_info_off.jpg
 create mode 100644 Open-ILS/web/images/sub_prefs_info_on.jpg
 create mode 100644 Open-ILS/web/images/sub_prefs_notify_off.jpg
 create mode 100644 Open-ILS/web/images/sub_prefs_notify_on.jpg
 create mode 100644 Open-ILS/web/images/sub_prefs_search_off.jpg
 create mode 100644 Open-ILS/web/images/sub_prefs_search_on.jpg
 create mode 100644 Open-ILS/web/images/submit_btn.gif
 create mode 100644 Open-ILS/web/images/tool_back.gif
 create mode 100644 Open-ILS/web/images/tool_back.png
 create mode 100644 Open-ILS/web/images/tool_font.gif
 create mode 100644 Open-ILS/web/images/tool_forward.gif
 create mode 100644 Open-ILS/web/images/tool_forward.png
 create mode 100644 Open-ILS/web/images/tool_help.gif
 create mode 100644 Open-ILS/web/images/tool_help.png
 create mode 100644 Open-ILS/web/images/tool_home.gif
 create mode 100644 Open-ILS/web/images/tool_home.png
 create mode 100644 Open-ILS/web/images/tool_mail.gif
 create mode 100644 Open-ILS/web/images/tool_print.gif
 create mode 100644 Open-ILS/web/images/tool_print.png
 create mode 100644 Open-ILS/web/images/utils-corner-left.png
 create mode 100644 Open-ILS/web/images/utils-corner-mid.png
 create mode 100644 Open-ILS/web/images/utils-corner-right.jpg
 create mode 100644 Open-ILS/web/images/utils-corner-right.png
 create mode 100644 Open-ILS/web/images/utils-corner.jpg
 create mode 100644 Open-ILS/web/images/view_my_list.png
 create mode 100644 Open-ILS/web/images/view_my_list_hover.png
 delete mode 100644 Open-ILS/web/opac/skin/kcls-wire/css/contentslider.css
 delete mode 100644 Open-ILS/web/opac/skin/kcls-wire/css/semiauto.css
 delete mode 100644 Open-ILS/web/opac/skin/kcls-wire/css/style.css
 delete mode 100644 Open-ILS/web/opac/skin/kcls-wire/js/misc.js

commit dda8303133691d6be46b9306599c98f7fe243bca
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Feb 7 12:06:06 2011 -0500

    Remove a ton of javascript. A little more to come

3	6	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
0	3	Open-ILS/web/templates/default/kcls-wire/home.tt2
0	3	Open-ILS/web/templates/default/kcls-wire/login.tt2
15	36	Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2
14	24	Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
18	28	Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
7	12	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
34	70	Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
1	7	Open-ILS/web/templates/default/kcls-wire/parts/advanced/global_row.tt2
6	39	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
0	4	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
0	14	Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
5	7	Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
15	18	Open-ILS/web/templates/default/kcls-wire/parts/place_hold.tt2
7	8	Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
12	34	Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2
3	4	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
1	11	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2
3	6	Open-ILS/web/templates/default/kcls-wire/results.tt2

commit e4bc4ea0003672b093fd6f6033cd16706daa8816
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 4 17:14:15 2011 -0500

    Never got the place_hold page in until just now
    
    parts/place_hold.tt2 needs css/js attention already seen by other
    templates in parts/

1	0	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
290	0	Open-ILS/web/templates/default/kcls-wire/parts/place_hold.tt2
15	0	Open-ILS/web/templates/default/kcls-wire/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/place_hold.tt2

commit 520bbb6cda9f0a2e4392ed7458139006ca277f33
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 4 11:33:21 2011 -0500

    kill a lot of inline styling, add some more js stubs, fix a bug in advanced.tt2

12	11	Open-ILS/web/opac/skin/kcls-wire/css/semiauto.css
3	0	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
0	1	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
7	6	Open-ILS/web/templates/default/kcls-wire/parts/cn_browse.tt2
17	31	Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
8	9	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/tips.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2

commit 01be9897792e12161bd110c32bc24548f6706904
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 4 10:41:37 2011 -0500

    correct some style= that should be class=

2	2	Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2

commit 7c519328f3908758ba20bef6b797ce87e863b2dc
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Feb 4 10:41:23 2011 -0500

    utils changes

10	10	Open-ILS/web/opac/skin/kcls-wire/css/semiauto.css
6	2	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
28	20	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2

commit bd3893bb25f370f20b432a8c7c2518652c2c3a9c
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 20:24:28 2011 -0500

    started moving some inline styles into css classes
    
    Here's the deal so far: all the inline styles are covered by one class
    in semiauto.css, but those were created programatically and reflect no
    understanding of the relationship between the purpose of any given
    element that's styled and what its style is.  These auto-generated
    styles also are kind of redundant, since with many of them, instead of
    using the style with a long definition, you could use a combination of
    smaller styles.
    
    The existing markup uses many slightly different style attributes, so
    there's plenty of stuff like "width: 12", "width: 13", "width: 14", etc,
    so there's no way to map a lot of this to semantically meaningful names.
    some of these classes are just going to end up with names like
    "wide-fourteen" that are no better than inline styles.
    
    But others, as we find them manually, can be grouped and renamed into
    something meaningful, and sometimes style can be put into prexisting id
    and class definitions. Should be a couple more hours work.
    
    semiauto.css reflects progress with the generated classes.
    
    changes to style.css reflect early places where style could be moved
    into pre-existing classes.

183	0	Open-ILS/web/opac/skin/kcls-wire/css/semiauto.css
16	0	Open-ILS/web/opac/skin/kcls-wire/css/style.css
1	8	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/home.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/login.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
4	4	Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
11	10	Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
1	7	Open-ILS/web/templates/default/kcls-wire/record.tt2
7	8	Open-ILS/web/templates/default/kcls-wire/results.tt2
 create mode 100644 Open-ILS/web/opac/skin/kcls-wire/css/semiauto.css

commit 5be99cee1c099b5c6ee613d1b68426fd0db17e43
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 19:35:13 2011 -0500

    move temporary kcls format-icon table from mod_perl to template land

0	40	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
33	2	Open-ILS/web/templates/default/opac/common.tt2
6	5	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 977c8d2978e962ea1a010818d251ca37cb818d8d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Feb 3 16:47:59 2011 -0500

    Integrate Locale::Maketext for string translations
    
    Added support for configuring supported locales and specifying message
    catalogs as gettext .po or .mo files.  All locales default to native
    template strings when no translation is provided.
    
    Updated oils_web config and added some inline template examples

10	0	Open-ILS/examples/oils_web.xml.example
59	4	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGWeb.pm
1	1	Open-ILS/web/templates/default/opac/home.tt2
1	1	Open-ILS/web/templates/default/opac/results.tt2

commit b3d54338e9dfe25ded139d60d2943b188f14d060
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 15:40:34 2011 -0500

    a thought about the add/remove css funcs

4	0	Open-ILS/web/opac/skin/kcls-wire/js/misc.js

commit 57681c53f503616a9f24343fb26de681daa86d25
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 15:34:19 2011 -0500

    JS stubbed out, mostly. See longer commit msg.
    
    Here's the deal with JS so far.
    
    A few instances of onfocus, onblur, onmouseout, and onmouseover have been
    left alone, as they're doing simple cosmetic things.
    
    A lot of instances of onclick remain, and a couple onchange, but these
    now either a) just do cosmetic things (hide/unhide) or b) call stubbed
    out functions prepared in misc.js
    
    That doesn't mean we won't still totally rip out lots of this JS, but
    it leaves us a hint as to what is supposed to happen where.  I can
    easily see us losing track of that later.  So anyway, many of the
    stubbed functions will probably be replaced with purely server side
    functionality later, but until then, they can serve as a kind of
    documentation.

38	22	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
0	1	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
4	0	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/record.tt2

commit ff20d1b1ac53fc7fecc743750adb04d7c9140567
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 15:03:54 2011 -0500

    while the enter-key capturing is around, do it right at least

1	1	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
23	28	Open-ILS/web/templates/default/kcls-wire/parts/advanced/global_row.tt2

commit 5e5410e9ad0d1bc513c94351c3c804be9e21cb4b
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 14:54:14 2011 -0500

    deal with some onclick handlers, also with broken relative links from
    myopac/* templates

56	0	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
0	1	Open-ILS/web/templates/default/kcls-wire/home.tt2
13	10	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
8	6	Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2
4	2	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2

commit e89b1af56ad83ecd3a032cbf6ec249cdb89abdf5
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 13:37:22 2011 -0500

    addressed existing onchange handlers

19	0	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
7	2	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/results.tt2

commit c2f7bbe2286292f9c021022febcf5572021dae62
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 13:15:39 2011 -0500

    get rid of some onkeydown events handlers, as well as onload and onerror events
    that aren't for real DOM events, but for dojo-related stuff

69	71	Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
1	2	Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2

commit b12d2456b2346678d2aa8fd38c6511e90ba9eade
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 12:56:10 2011 -0500

    Keep the swapTabs() function around only for the advanced search page
    
    Other use cases will be replaced with links to actual pages, or
    otherwise dealt with.

3	9	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2

commit 0e2bd3ee4d17b3d448d00aab65b292296185483e
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 12:53:22 2011 -0500

    remove __setsortsel() - I think this can be handled in templates later

1	15	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2

commit f32a110922f639e4304d9cdb63bf26e50eb0af97
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 12:37:11 2011 -0500

    well, almost all references to dojo were already gone
    
    For now i'm leaving alone a lot of instances of jsId attributes; they
    might serve to remind us later of what some elements are for.

1	1	Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2

commit 0497eb87cd428cda3b763e110f28196824f581ec
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Feb 3 11:54:23 2011 -0500

    all five main parts of their myopac page
    
    now it's on to the serious js scrubbing (dojo parts are already gone). this is
    going to take more than simply removing js in many cases, though, since
    so much layout is accomplished by means of JS in the kcls skin,
    especially in regards to subinterfaces and nested tabbiness

214	0	Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
290	0	Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
814	0	Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/holds.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/lists.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/prefs.tt2

commit 2a86b6166a88bb7ad9cfda535b400d8543d5348d
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Feb 2 18:04:57 2011 -0500

    myopac circs page

200	0	Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/circs.tt2

commit 1ccded9dd7cd2c9d871e843441572700dc33128a
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Feb 2 17:17:32 2011 -0500

    a start to myopac

29	18	Open-ILS/web/opac/skin/kcls-wire/css/style.css
432	0	Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
33	0	Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/myopac/main.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/myopac/base.tt2

commit a2669c96eb28230bf2ff6b3238a8c920e167efb0
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 1 15:46:46 2011 -0500

    more whitespace fixing; may seem trivial, but will save a lot of time
    later in trying to understand what's what

26	8	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2

commit fc9a040ce994f41d4383667018d923e8bc8b27db
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 1 15:38:14 2011 -0500

    more whitespace fixing, reorg, etc. note to self: JS in advanced page

1	1	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
0	35	Open-ILS/web/templates/default/kcls-wire/parts/adv_global_row.tt2
35	0	Open-ILS/web/templates/default/kcls-wire/parts/advanced/global_row.tt2
371	0	Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
0	348	Open-ILS/web/templates/default/kcls-wire/parts/advanced_search.tt2
6	5	Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
6	2	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/adv_global_row.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/advanced/global_row.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/advanced/search.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/advanced_search.tt2

commit cc5e1ae70eceb8210f3c9de9be09f8be8570205a
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 1 15:29:34 2011 -0500

    whitespace, syntax, and title fixes

74	74	Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
98	98	Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/record.tt2

commit 7b20d3052155ce1769c131ff26b5ef099f1eacfb
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 1 15:25:55 2011 -0500

    forgot this for record

4	1	Open-ILS/web/templates/default/kcls-wire/record.tt2

commit 3abda51204acf8109ef3aac8c39704b9c78b926f
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 1 15:25:29 2011 -0500

    record more complete

43	0	Open-ILS/web/templates/default/kcls-wire/parts/cn_browse.tt2
102	0	Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
68	0	Open-ILS/web/templates/default/kcls-wire/parts/record/copyinfo.tt2
4	3	Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/cn_browse.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/cn_details.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/copyinfo.tt2

commit 1204fe7210646df75dbce5ce64672bc053bbce3c
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Feb 1 14:34:28 2011 -0500

    Add record page; cleanup and reorg

2	2	Open-ILS/web/templates/default/kcls-wire/login.tt2
149	0	Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
0	149	Open-ILS/web/templates/default/kcls-wire/parts/login_form.tt2
114	0	Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
320	0	Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
217	0	Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2
38	0	Open-ILS/web/templates/default/kcls-wire/parts/result/header.tt2
93	0	Open-ILS/web/templates/default/kcls-wire/parts/result/lowhits.tt2
258	0	Open-ILS/web/templates/default/kcls-wire/parts/result/table.tt2
0	38	Open-ILS/web/templates/default/kcls-wire/parts/result_header.tt2
0	93	Open-ILS/web/templates/default/kcls-wire/parts/result_lowhits.tt2
0	258	Open-ILS/web/templates/default/kcls-wire/parts/result_table.tt2
17	0	Open-ILS/web/templates/default/kcls-wire/record.tt2
3	3	Open-ILS/web/templates/default/kcls-wire/results.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/login/form.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/login_form.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/body.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/extras.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/record/summary.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result/header.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result/lowhits.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result/table.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result_header.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result_lowhits.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result_table.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/record.tt2

commit 803486a30904a1d5b665cfdf1924a7a88c52fd29
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 17:44:41 2011 -0500

    results page kinda there

93	0	Open-ILS/web/templates/default/kcls-wire/parts/result_lowhits.tt2
0	0	Open-ILS/web/templates/default/kcls-wire/parts/results_body.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/results.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result_lowhits.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/results_body.tt2

commit 3bf44391d56efec11fe159b882317109a956698f
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 17:38:52 2011 -0500

    progress on the results page

1	1	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/login.tt2
38	0	Open-ILS/web/templates/default/kcls-wire/parts/result_header.tt2
258	0	Open-ILS/web/templates/default/kcls-wire/parts/result_table.tt2
0	0	Open-ILS/web/templates/default/kcls-wire/parts/results_body.tt2
64	0	Open-ILS/web/templates/default/kcls-wire/results.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result_header.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/result_table.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/results_body.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/results.tt2

commit 90371655ca2c29bab7a8880e8a2e1b1287e3cb69
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 16:20:08 2011 -0500

    a little consolidation, a little linking of new pages to each other

0	13	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
0	13	Open-ILS/web/templates/default/kcls-wire/home.tt2
0	13	Open-ILS/web/templates/default/kcls-wire/login.tt2
2	2	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
1	1	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
14	1	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2

commit fa51c7805f50f4bb37b36545bd45daaf67c28e07
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 15:52:35 2011 -0500

    myopac login form

30	0	Open-ILS/web/templates/default/kcls-wire/login.tt2
149	0	Open-ILS/web/templates/default/kcls-wire/parts/login_form.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/login.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/login_form.tt2

commit d531c7e0b123386b158e54994bb08d6c5615b68b
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 15:22:02 2011 -0500

    minor missing parts from adv search

2	3	Open-ILS/web/templates/default/kcls-wire/parts/advanced_search.tt2
28	0	Open-ILS/web/templates/default/kcls-wire/parts/item_lang_options.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/item_lang_options.tt2

commit 252f1967042f1523bbbeb8e1a07e608c9603151e
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 14:08:39 2011 -0500

    advanced page getting there

39	0	Open-ILS/web/opac/skin/kcls-wire/css/contentslider.css
860	0	Open-ILS/web/opac/skin/kcls-wire/css/style.css
2	2	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
50	0	Open-ILS/web/templates/default/kcls-wire/advanced.tt2
35	0	Open-ILS/web/templates/default/kcls-wire/parts/adv_global_row.tt2
349	0	Open-ILS/web/templates/default/kcls-wire/parts/advanced_search.tt2
4	5	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
 create mode 100644 Open-ILS/web/opac/skin/kcls-wire/css/contentslider.css
 create mode 100644 Open-ILS/web/opac/skin/kcls-wire/css/style.css
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/advanced.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/adv_global_row.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/advanced_search.tt2

commit a86bbd44497b985fea2b156a1b5972d23fbc13be
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 13:10:20 2011 -0500

    enough super-lite js to make the advanced page with its tabbiness work

78	0	Open-ILS/web/opac/skin/kcls-wire/js/misc.js
 create mode 100644 Open-ILS/web/opac/skin/kcls-wire/js/misc.js

commit cd2b89bfa7a381a94d8a451f207b7d0867b34414
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 12:56:42 2011 -0500

    cleanup and reorg parts so far

0	18	Open-ILS/web/templates/default/kcls-wire/base.tt2
0	25	Open-ILS/web/templates/default/kcls-wire/footer.tt2
0	42	Open-ILS/web/templates/default/kcls-wire/format_selector.tt2
24	23	Open-ILS/web/templates/default/kcls-wire/home.tt2
0	115	Open-ILS/web/templates/default/kcls-wire/homesearch.tt2
0	8	Open-ILS/web/templates/default/kcls-wire/libselect.tt2
18	0	Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
25	0	Open-ILS/web/templates/default/kcls-wire/parts/footer.tt2
42	0	Open-ILS/web/templates/default/kcls-wire/parts/format_selector.tt2
115	0	Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
8	0	Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
35	0	Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
10	0	Open-ILS/web/templates/default/kcls-wire/parts/stypes_selector.tt2
11	0	Open-ILS/web/templates/default/kcls-wire/parts/tips.tt2
31	0	Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
19	0	Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2
0	35	Open-ILS/web/templates/default/kcls-wire/searchbar.tt2
0	10	Open-ILS/web/templates/default/kcls-wire/stypes_selector.tt2
0	11	Open-ILS/web/templates/default/kcls-wire/tips.tt2
0	31	Open-ILS/web/templates/default/kcls-wire/topnav.tt2
0	19	Open-ILS/web/templates/default/kcls-wire/utils.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/footer.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/format_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/homesearch.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/libselect.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/base.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/footer.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/format_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/homesearch.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/libselect.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/searchbar.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/stypes_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/tips.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/topnav.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/parts/utils.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/stypes_selector.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/tips.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/topnav.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-wire/utils.tt2

commit 47d3efe6fae7fba3fbd13f24bb28167b4ffd40ce
Author: senator <lebbeous@esilibrary.com>
Date:   Mon Jan 31 12:21:25 2011 -0500

    kind of have the home page working, minus entity renderin

0	17	Open-ILS/web/templates/default/kcls-new/base.tt2
0	25	Open-ILS/web/templates/default/kcls-new/footer.tt2
0	119	Open-ILS/web/templates/default/kcls-new/home.tt2
0	1	Open-ILS/web/templates/default/kcls-new/searchbar.tt2
0	1	Open-ILS/web/templates/default/kcls-new/topnav.tt2
0	1	Open-ILS/web/templates/default/kcls-new/utils.tt2
18	0	Open-ILS/web/templates/default/kcls-wire/base.tt2
25	0	Open-ILS/web/templates/default/kcls-wire/footer.tt2
42	0	Open-ILS/web/templates/default/kcls-wire/format_selector.tt2
31	0	Open-ILS/web/templates/default/kcls-wire/home.tt2
115	0	Open-ILS/web/templates/default/kcls-wire/homesearch.tt2
8	0	Open-ILS/web/templates/default/kcls-wire/libselect.tt2
35	0	Open-ILS/web/templates/default/kcls-wire/searchbar.tt2
10	0	Open-ILS/web/templates/default/kcls-wire/stypes_selector.tt2
11	0	Open-ILS/web/templates/default/kcls-wire/tips.tt2
31	0	Open-ILS/web/templates/default/kcls-wire/topnav.tt2
19	0	Open-ILS/web/templates/default/kcls-wire/utils.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-new/base.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-new/footer.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-new/home.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-new/searchbar.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-new/topnav.tt2
 delete mode 100644 Open-ILS/web/templates/default/kcls-new/utils.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/base.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/footer.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/format_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/home.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/homesearch.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/libselect.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/searchbar.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/stypes_selector.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/tips.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/topnav.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-wire/utils.tt2

commit 4ae10ddb44191e726917447f54e7fbf5c5e4b6fd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Mon Jan 31 09:59:52 2011 -0500

    moved EGCatLoader to be consistent w/ new perlmod layout

0	985	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
985	0	Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm
 delete mode 100644 Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
 create mode 100644 Open-ILS/src/perlmods/lib/OpenILS/WWW/EGCatLoader.pm

commit 54fad5d3dce2a39ab2eb6708ccb3dd63688195e5
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 20:16:54 2011 -0500

    initial bookbags stub page

18	0	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
39	1	Open-ILS/web/templates/default/opac/myopac/bookbags.tt2

commit 040b9d0028ed34ccbbc42af262b6342045d478d6
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 19:51:22 2011 -0500

    minor terminology change

1	1	Open-ILS/web/templates/default/opac/results.tt2

commit 9b52ee88894701dac9144a0b84ec854b2735c513
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 19:51:05 2011 -0500

    report when 0 items to list in circs/holds page

4	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2
5	0	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 09ad4943aab4234913370986cb7642b4546bee8d
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 19:50:32 2011 -0500

    added sample update-email operation; cleaned out some debug code

28	4	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
3	3	Open-ILS/web/templates/default/opac/myopac/main.tt2
20	0	Open-ILS/web/templates/default/opac/myopac/update_email.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/update_email.tt2

commit 47deb2525c631f5f4c558ce1482c3cff176650f4
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 19:00:25 2011 -0500

    added org selector to search form; added 'loc' param to search next/prev links

1	1	Open-ILS/web/templates/default/opac/common.tt2
3	1	Open-ILS/web/templates/default/opac/home.tt2
0	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2
10	2	Open-ILS/web/templates/default/opac/results.tt2

commit 8caecf36024cbfb21cbceae11d3329c24b50ce3c
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 18:57:47 2011 -0500

    fixed some cache bugs; added org location/depth search params; added org settings handler

33	16	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit aca8ee212ea10bbea48fc67a15ccb4e5558c192d
Author: Bill Erickson <erickson@esilibrary.com>
Date:   Sun Jan 30 18:56:11 2011 -0500

    protect against undef string warnings

2	2	Open-ILS/src/perlmods/OpenILS/WWW/EGWeb.pm

commit 7af224f0d8f88f7277cf3dccbd96a86038b2c036
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sat Jan 29 10:30:52 2011 -0500

    make title/author links on holds page

2	2	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 0418e38ef5a703a54709081fa7c964f9225d62d7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Sat Jan 29 10:25:45 2011 -0500

    minor circs page tweaks: disable renew option when no renewals left;  make title/author links

7	3	Open-ILS/web/templates/default/opac/myopac/circs.tt2

commit e6d067f4f04c36006ba729cd278235e3ebeb7805
Author: senator <lebbeous@esilibrary.com>
Date:   Fri Jan 28 14:30:17 2011 -0500

    beginning of boiling down the home page of the kcls skin

17	0	Open-ILS/web/templates/default/kcls-new/base.tt2
25	0	Open-ILS/web/templates/default/kcls-new/footer.tt2
119	0	Open-ILS/web/templates/default/kcls-new/home.tt2
1	0	Open-ILS/web/templates/default/kcls-new/searchbar.tt2
1	0	Open-ILS/web/templates/default/kcls-new/topnav.tt2
1	0	Open-ILS/web/templates/default/kcls-new/utils.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-new/base.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-new/footer.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-new/home.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-new/searchbar.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-new/topnav.tt2
 create mode 100644 Open-ILS/web/templates/default/kcls-new/utils.tt2

commit c85e7cf6884639c9278bc084236fe4d04bc06928
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 27 17:40:47 2011 -0500

    holds retrieval is a hefty process, created a parallelizer for testing; shows good speed improvemetn on larger batches of holds

58	9	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit e851be21c630ddf3a25283b6ed8e7f2258fa82b1
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 16:28:59 2011 -0500

    Show hold statuses

14	2	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 3f19fda33a92fc608b2a516ea02dd35ec856cec6
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 27 16:00:19 2011 -0500

    more holds placement work; use http referer as default redirect_to option for login page and post-holds-placement page; when a secure resource is requested, redirect to login page

16	4	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
1	1	Open-ILS/web/templates/default/opac/login.tt2
1	1	Open-ILS/web/templates/default/opac/place_hold.tt2
1	2	Open-ILS/web/templates/default/opac/results.tt2

commit aba35b4f9830fb6cb891283ef3bf520a1504a474
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 15:49:27 2011 -0500

    show kcls-style mat-type images for holds

40	0	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
7	2	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit a259cba9d14f6492c3485752360b3726d70598d6
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 15:04:07 2011 -0500

    format/mat-type start

1	0	Open-ILS/web/templates/default/opac/marc_attrs.tt2
5	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit c200206169d0dcdf53463953b38c523f55d03204
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 27 14:55:44 2011 -0500

    more holds work; added item form/type/lang maps to list of public access classes; removed some unused test tempates

13	8	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
1	0	Open-ILS/web/templates/default/opac/place_hold.tt2
0	31	Open-ILS/web/templates/default/opac/records.tt2
9	4	Open-ILS/web/templates/default/opac/results.tt2
0	27	Open-ILS/web/templates/default/opac/welcome.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/records.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/welcome.tt2

commit 1d1c91127fc612b075b7f41f01209e33b584a983
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 14:21:47 2011 -0500

    Holds editing is totally giraffes for the moment

0	2	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 1d0a2eabeb628e5b9fda75c28316ee269193175a
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 12:36:52 2011 -0500

    fines summary

9	1	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
2	2	Open-ILS/web/templates/default/opac/common.tt2
0	2	Open-ILS/web/templates/default/opac/myopac/circs.tt2
3	3	Open-ILS/web/templates/default/opac/myopac/fines.tt2
0	1	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 9f1534789a5ffa4941afbbb268196b611649690d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 27 12:10:49 2011 -0500

    added perl bits for hold cancel/suspend/activate all/selected w/ sample tempate components

86	19	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
56	34	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit 07d571a6a6623a7be1a11821dd47cae4b88ba601
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 12:04:11 2011 -0500

    This isn't the time/place for finesse, but these tweaks make development easier

10	7	Open-ILS/web/templates/default/opac/myopac/_links.tt2

commit 66ee020758c991ee741c16b275db25ec003b9b55
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 11:47:45 2011 -0500

    ctx.responses was for debugging; don't need it

0	2	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit d93d488fcccbf329c241a950adca62c5f24e4e35
Author: senator <lebbeous@esilibrary.com>
Date:   Thu Jan 27 11:45:55 2011 -0500

    some fines display. tweak eg_vhost (IfModule ...)

5	3	Open-ILS/examples/apache/eg_vhost.conf
7	2	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
85	0	Open-ILS/web/templates/default/opac/myopac/fines.tt2

commit 02d28e8491ac3546afd008e180f305a46bbec6ba
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 27 09:56:26 2011 -0500

    added support for reporting renewal responses in the template

32	14	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
31	6	Open-ILS/web/templates/default/opac/myopac/circs.tt2

commit ed0c64332e953ec40c024a0e6889ee47bee9058b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 17:14:40 2011 -0500

    initial support for renew all and renew selected, w/ stub template implementation;  still some to-do's

98	31	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
30	22	Open-ILS/web/templates/default/opac/myopac/circs.tt2

commit 1fd8fa5f2e4d6b2d370eb2766c7d3735cef53b01
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 15:17:31 2011 -0500

    fix perl sort comparator

1	1	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit e7527d597af4881c62e3cc309dd6a2ef83646915
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 14:54:53 2011 -0500

    initial fines list handler

61	0	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit 5bfdad25a814271b848dfe0fe85007868d7bd304
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 13:53:18 2011 -0500

    don't attempt to load account pages without valid ses and SSL

11	5	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit b13145be873c9280a204004afe86b5c43e8950d5
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Jan 26 12:23:38 2011 -0500

    show some holds

3	2	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
20	0	Open-ILS/web/templates/default/opac/myopac/holds.tt2

commit f75bddeb036090feb9f592500f96f15976de3b50
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Jan 26 11:20:05 2011 -0500

    show some circs in myopac -> items out

16	1	Open-ILS/web/templates/default/opac/myopac/circs.tt2

commit a673560fb58d9727a3d962ccd40511c2210c0ef8
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Jan 26 10:28:50 2011 -0500

    Make myopac subpages' names match what bill had in mind

2	2	Open-ILS/web/templates/default/opac/myopac/_links.tt2
24	0	Open-ILS/web/templates/default/opac/myopac/circs.tt2
29	0	Open-ILS/web/templates/default/opac/myopac/holds.tt2
0	29	Open-ILS/web/templates/default/opac/myopac/items_held.tt2
0	24	Open-ILS/web/templates/default/opac/myopac/items_out.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/circs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/holds.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/items_held.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac/items_out.tt2

commit 92b79385fb5eb1c6be1270345f731f250880f138
Author: senator <lebbeous@esilibrary.com>
Date:   Wed Jan 26 10:23:00 2011 -0500

    myopac primitive framework

2	0	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
14	0	Open-ILS/web/templates/default/opac/myopac/bookbags.tt2
22	0	Open-ILS/web/templates/default/opac/myopac/fines.tt2
29	0	Open-ILS/web/templates/default/opac/myopac/items_held.tt2
24	0	Open-ILS/web/templates/default/opac/myopac/items_out.tt2
15	0	Open-ILS/web/templates/default/opac/myopac/prefs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/bookbags.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/fines.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/items_held.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/items_out.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/prefs.tt2

commit 303ac85c01907b11dbd441b0982a79109b78f5f8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 09:59:51 2011 -0500

    initial user circulations list call

79	2	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit 776a03e0bd48eaa72b308793e44f87b9273eaf4b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 08:39:22 2011 -0500

    for listing holds, taking advantage of batch retrieve args to reduce data size; added limit/offset to holds list for paging

17	4	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit a6f2181892b72685dbaf4beb0d35a7dad5e1acbe
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 26 08:37:50 2011 -0500

    added call args to open-ils.circ.hold.details.*.retrieve to allow the caller to scale back the returned data set

25	18	Open-ILS/src/perlmods/OpenILS/Application/Circ/Holds.pm

commit fa76342c2b1269b27b1da8e9e04eb992f4aaba5b
Author: senator <lebbeous@esilibrary.com>
Date:   Tue Jan 25 18:48:41 2011 -0500

    starts

0	44	Open-ILS/web/templates/default/opac/myopac.tt2
17	0	Open-ILS/web/templates/default/opac/myopac/_links.tt2
39	0	Open-ILS/web/templates/default/opac/myopac/main.tt2
1	1	Open-ILS/web/templates/default/opac/results.tt2
1	1	Open-ILS/web/templates/default/opac/welcome.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/myopac.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/_links.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac/main.tt2

commit f57f775e402df6d1a205ce387971703641642ad5
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 25 17:40:37 2011 -0500

    added generic public object fetch-and-cache routine; added stub holds retrieval, but more to come on that

107	27	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
1	1	Open-ILS/web/templates/default/opac/common.tt2
2	2	Open-ILS/web/templates/default/opac/record.tt2

commit 06c277edbeb641c89ac431fe927992499df3bf7d
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 21 17:27:26 2011 -0500

    path based record display, primitive facet links

7	6	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
2	2	Open-ILS/src/perlmods/OpenILS/WWW/EGWeb.pm
3	3	Open-ILS/web/templates/default/opac/record.tt2
6	4	Open-ILS/web/templates/default/opac/results.tt2

commit 02c27ea404e5efc7235b62cb7c858fb6b025ccc7
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 21 17:27:16 2011 -0500

    path based record display, primitive facet links

0	82	Open-ILS/web/templates/default/opac/rdetail.tt2
82	0	Open-ILS/web/templates/default/opac/record.tt2
 delete mode 100644 Open-ILS/web/templates/default/opac/rdetail.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/record.tt2

commit d859f2e863b047fcd85f40dd7d9fc6ec2023e5b8
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 21 16:18:07 2011 -0500

    repaired subject rending on detail page

1	1	Open-ILS/web/templates/default/opac/rdetail.tt2

commit 6c76986dc79f368b971a0bb49263c3ee62c8c7e4
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 21 16:09:07 2011 -0500

    use path-based bib IDs instead of GET params

5	2	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
1	1	Open-ILS/web/templates/default/opac/results.tt2

commit 998da3e93682fa8346e08e0bdfde12c330c81b72
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 21 16:08:50 2011 -0500

    move template finder in front of context loader, so that context loader has access to path-based page arguments

5	3	Open-ILS/src/perlmods/OpenILS/WWW/EGWeb.pm

commit ee400b45d9ae07a962172a24e61c417a8e0abf18
Author: Bill Erickson <berick@esilibrary.com>
Date:   Fri Jan 21 10:20:36 2011 -0500

    don't muck w/ media_prefix if it's unset

1	1	Open-ILS/src/perlmods/OpenILS/WWW/EGWeb.pm

commit a922f30b30e6b53ab7733b288f206743ce9f1d13
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 20 17:05:28 2011 -0500

    better call parallization

10	15	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit 8122820700da795ea26b120c0aa082d9d369a59e
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 20 13:59:20 2011 -0500

    use a single cache var instead of polluting with a series of global cache variables; protect against search calls that return an exception

34	22	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit 2cc654a0e798b985a56f2cebc39187fc3cad12bc
Author: Bill Erickson <berick@esilibrary.com>
Date:   Thu Jan 20 13:10:51 2011 -0500

    protect against empty search results

4	1	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm

commit baae15cec012420847b7120c16141280773760c9
Author: Bill Erickson <berick@esilibrary.com>
Date:   Wed Jan 19 13:17:48 2011 -0500

    use explicit odd/even classes since some browsers don't support css3 odd/even selector

2	1	Open-ILS/web/templates/default/opac/results.tt2

commit 7af1d3762dd42cb75e891d6dfc96ec0f12f4d1ba
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 18 11:48:11 2011 -0500

    make better use of media_prefix; only apply ses cookie in secure context; updated docs

18	2	Open-ILS/examples/oils_web.xml.example
1	0	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
8	0	Open-ILS/src/perlmods/OpenILS/WWW/EGWeb.pm
3	1	Open-ILS/web/templates/default/opac/rdetail.tt2
1	1	Open-ILS/web/templates/default/opac/results.tt2

commit e86d0dcfa3552f469fdbb3b7d5af742e2a092b1b
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 18 10:37:07 2011 -0500

    added sample cache-killer for tt opac for development purposes

4	0	Open-ILS/examples/apache/eg_vhost.conf

commit cd7d9592cc7aab99968defbfe3b5fc8b9106e1ac
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 18 10:34:12 2011 -0500

    added the default config options for running the tt opac.  only the eg_vhost change is needed

14	0	Open-ILS/examples/apache/eg_vhost.conf
3	0	Open-ILS/examples/oils_web.xml.example

commit 93cc378ec835e778dbc90fa04f150368e38e5afd
Author: Bill Erickson <berick@esilibrary.com>
Date:   Tue Jan 18 09:59:16 2011 -0500

    Proof of concept Template-Toolkit OPAC

405	0	Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
36	4	Open-ILS/src/perlmods/OpenILS/WWW/EGWeb.pm
12	0	Open-ILS/web/templates/default/opac/base.tt2
27	0	Open-ILS/web/templates/default/opac/common.tt2
22	0	Open-ILS/web/templates/default/opac/home.tt2
32	0	Open-ILS/web/templates/default/opac/login.tt2
17	0	Open-ILS/web/templates/default/opac/marc_attrs.tt2
44	0	Open-ILS/web/templates/default/opac/myopac.tt2
32	0	Open-ILS/web/templates/default/opac/place_hold.tt2
80	0	Open-ILS/web/templates/default/opac/rdetail.tt2
31	0	Open-ILS/web/templates/default/opac/records.tt2
102	0	Open-ILS/web/templates/default/opac/results.tt2
27	0	Open-ILS/web/templates/default/opac/welcome.tt2
 create mode 100644 Open-ILS/src/perlmods/OpenILS/WWW/EGCatLoader.pm
 create mode 100644 Open-ILS/web/templates/default/opac/base.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/common.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/home.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/login.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/marc_attrs.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/myopac.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/place_hold.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/rdetail.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/records.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/results.tt2
 create mode 100644 Open-ILS/web/templates/default/opac/welcome.tt2
