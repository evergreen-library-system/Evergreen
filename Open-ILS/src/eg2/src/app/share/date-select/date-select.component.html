<ng-container *ngIf="readOnly">
  {{initialDate | formatValue:'timestamp'}}
</ng-container>
<ng-container *ngIf="!readOnly">
  <div class="input-group eg-date-select form-validated p-0" 
    [ngClass]="{'date-select-width': !noMaxWidth}">
    <input 
      class="form-control"
      type="text"
      ngbDatepicker
      #datePicker="ngbDatepicker"
      [attr.id]="domId.length ? domId : null"
      aria-label="Enter date"
      i18n-aria-label
      placeholder="yyyy-mm-dd"
      class="form-control"
      container="body"
      name="{{fieldName}}"
      [disabled]="disabled"
      [required]="required"
      (blur)="propagateTouch(); onDateEnter()"
      [(ngModel)]="current"
      (ngModelChange)="inputChanged($event)"
      (keyup.enter)="onDateEnter()"
      (dateSelect)="onDateSelect($event)"/>
      
      <button class="input-group-text" [disabled]="disabled"
        title="Select Date" i18n-title aria-label="Select Date" i18n-aria-label
        (click)="datePicker.toggle()" type="button">
        <span class="material-icons mat-icon-in-button" aria-hidden="true">event</span>
      </button>
  </div>
</ng-container>
